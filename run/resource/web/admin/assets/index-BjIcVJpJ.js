var c=(_,d,n)=>new Promise((b,m)=>{var f=e=>{try{a(n.next(e))}catch(s){m(s)}},l=e=>{try{a(n.throw(e))}catch(s){m(s)}},a=e=>e.done?b(e.value):Promise.resolve(e.value).then(f,l);a((n=n.apply(_,d)).next())});import{P as I}from"./index-C4nZBquz.js";import{u as v,_ as M}from"./useTable-CNbfTOCZ.js";import{_ as R}from"./index-DCvxWw7W.js";import{w as h,a as D,_ as E,t as N}from"./SendMsgModal.vue_vue_type_script_setup_true_lang-Cy5OFKSB.js";import{ab as T,I as x,h as $}from"./entry/index-BbJQUQ84-1718268303552.js";import{u as B}from"./index-BIkrAlj7.js";import{d as K,f as P,o as S,a7 as V,Z as g,a8 as w,a9 as r,k as u,u as o,G as y,ab as A}from"./vue-Cw15aJ-2.js";import"./useContentViewHeight-BDi3O9lC.js";import"./useWindowSizeFn-BKs0NEK5.js";import"./antd-DMGzOvrA.js";import"./onMountedOrActivated-CSHfHTyc.js";import"./useForm-BsovIqMX.js";import"./FormItem.vue_vue_type_script_lang-C67_1cA1.js";import"./componentMap-qA-f8iV4.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-SetVOuUZ.js";import"./copyTextToClipboard-uEEWQikS.js";import"./style-CLEvKZSv.js";import"./helper-CXVLNTBN.js";import"./BasicForm.vue_vue_type_style_index_0_lang-B6-8R5aw.js";import"./sortable.esm-DFFrMEeC.js";import"./useSortable-BTdBE9Oa.js";import"./download-DOz9ltI1.js";import"./useLoading-D1in2ACg.js";const le=K({__name:"index",setup(_){function d(){return c(this,null,function*(){yield N("xxxxxxx")})}const[n,{reload:b}]=v({showIndexColumn:!0,api:h,title:"websocket测试",rowKey:"id",columns:[{title:"用户ID",dataIndex:"userId"},{title:"用户账号",dataIndex:"username"},{title:"用户昵称",dataIndex:"nickname"},{title:"用户部门",dataIndex:"deptName"}],actionColumn:{width:220,title:"操作",key:"action",fixed:"right"}}),[m,{openModal:f}]=B();function l(i,t){return c(this,null,function*(){const p={type:i,nickname:t==null?void 0:t.nickname,sessionKey:t==null?void 0:t.userId};f(!0,p)})}const a=P(!0),{websocketEnable:e}=T(),{createMessage:s}=$();return S(()=>c(this,null,function*(){const i=yield D();a.value=e&&i,a.value||s.warn({content:"未开启websocket功能"})})),(i,t)=>{const p=V("a-button");return g(),w(o(I),{title:"websocket测试",content:"这这里可以进行websocket测试 非官方功能"},{default:r(()=>[u(o(M),{onRegister:o(n)},{toolbar:r(()=>[u(p,{"pre-icon":o(x).ADD,type:"primary",onClick:t[0]||(t[0]=k=>l(0)),disabled:!a.value},{default:r(()=>[y(" 发送全体消息 ")]),_:1},8,["pre-icon","disabled"]),u(p,{onClick:d},{default:r(()=>[y("请求加密/响应解密测试 NETWORK查看")]),_:1})]),bodyCell:r(({column:k,record:C})=>[k.key==="action"?(g(),w(o(R),{key:0,stopButtonPropagation:"",actions:[{label:"发送消息",icon:o(x).ADD,type:"primary",ghost:!0,disabled:!a.value,onClick:l.bind(null,1,C)}]},null,8,["actions"])):A("",!0)]),_:1},8,["onRegister"]),u(E,{onRegister:o(m),onReload:o(b)},null,8,["onRegister","onReload"])]),_:1})}}});export{le as default};
