var p=(s,d,a)=>new Promise((i,c)=>{var m=e=>{try{l(a.next(e))}catch(r){c(r)}},o=e=>{try{l(a.throw(e))}catch(r){c(r)}},l=e=>e.done?i(e.value):Promise.resolve(e.value).then(m,o);l((a=a.apply(s,d)).next())});import{a as y,B as x}from"./index-BIkrAlj7.js";import{u as R,_ as k}from"./useForm-BsovIqMX.js";import"./BasicForm.vue_vue_type_style_index_0_lang-B6-8R5aw.js";import"./componentMap-qA-f8iV4.js";import{c as C,a as N,b as S}from"./index-BaTIRAV6.js";import{u as B}from"./useRender-D1Q3fAQ3.js";import{g as _}from"./dict-vVDMuEaq.js";import{D as u}from"./dictEnum-DeC8h6ZR.js";import{d as M,f as T,c as V,Z as D,a8 as E,a9 as O,k as P,u as n,ac as Y}from"./vue-Cw15aJ-2.js";const{renderDict:v}=B(),z=[{title:"参数名称",dataIndex:"configName"},{title:"参数KEY",dataIndex:"configKey"},{title:"参数Value",dataIndex:"configValue"},{title:"系统内置",dataIndex:"configType",width:120,customRender({value:s}){return v(s,u.YES_NO)}},{title:"备注",dataIndex:"remark",ellipsis:!0},{title:"创建时间",dataIndex:"createTime"}],H=[{label:"参数名称",field:"configName",component:"Input"},{label:"参数键名",field:"configKey",component:"Input"},{label:"系统内置",field:"configType",component:"Select",componentProps:{options:_(u.YES_NO)}},{label:"创建时间",field:"createTime",component:"RangePicker"}],F=[{field:"configId",label:"主键ID",component:"Input",show:!1},{field:"configName",label:"参数名称",required:!0,component:"Input"},{field:"configKey",label:"参数键名",component:"Input",required:!0},{field:"configValue",label:"参数键值",component:"Input",required:!0},{field:"configType",label:"系统内置",component:"RadioButtonGroup",defaultValue:"Y",componentProps:{options:_(u.YES_NO)}},{field:"remark",label:"备注",component:"InputTextArea"}],J=M({name:"ConfigModal",__name:"ConfigModal",emits:["register","reload"],setup(s,{emit:d}){const a=d,i=T(!1),c=V(()=>i.value?"编辑参数":"新增参数"),[m,{modalLoading:o,closeModal:l}]=y(t=>p(this,null,function*(){o(!0);const{record:f,update:I}=t;if(i.value=I,I&&f){const w=yield C(f.configId);yield r(w)}o(!1)})),[e,{setFieldsValue:r,resetForm:g,validate:b}]=R({baseColProps:{span:24},labelWidth:80,name:"config_modal",showActionButtonGroup:!1,schemas:F});function h(){return p(this,null,function*(){try{o(!0);const t=yield b();n(i)?yield N(t):yield S(t),a("reload"),l(),yield g()}catch(t){}finally{o(!1)}})}return(t,f)=>(D(),E(n(x),Y(t.$attrs,{title:c.value,onRegister:n(m),onOk:h,onCancel:n(g)}),{default:O(()=>[P(n(k),{onRegister:n(e)},null,8,["onRegister"])]),_:1},16,["title","onRegister","onCancel"]))}});export{J as _,z as c,H as f};
