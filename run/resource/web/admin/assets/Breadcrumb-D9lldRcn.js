var z=Object.defineProperty,W=Object.defineProperties;var Z=Object.getOwnPropertyDescriptors;var w=Object.getOwnPropertySymbols;var j=Object.prototype.hasOwnProperty,H=Object.prototype.propertyIsEnumerable;var N=(u,s,a)=>s in u?z(u,s,{enumerable:!0,configurable:!0,writable:!0,value:a}):u[s]=a,$=(u,s)=>{for(var a in s||(s={}))j.call(s,a)&&N(u,a,s[a]);if(w)for(var a of w(s))H.call(s,a)&&N(u,a,s[a]);return u},x=(u,s)=>W(u,Z(s));var D=(u,s,a)=>new Promise((y,g)=>{var C=f=>{try{p(a.next(f))}catch(v){g(v)}},h=f=>{try{p(a.throw(f))}catch(v){g(v)}},p=f=>f.done?y(f.value):Promise.resolve(f.value).then(C,h);p((a=a.apply(u,s)).next())});import{d as J,f as K,W as Q,h as U,a7 as X,Z as i,_ as b,k as L,a9 as d,u as o,a1 as Y,F as T,aa as V,a8 as k,ad as I,ab as F,a0 as M,G}from"./vue-Cw15aJ-2.js";import{x as ee,q as ae,v as ne,c as te,m as se,R as re,$ as le,B as ce,bn as ue,_ as O}from"./entry/index-BbJQUQ84-1718268303552.js";import{bk as oe,v as ie,a9 as fe,bl as me,l as de}from"./antd-DMGzOvrA.js";const he={key:1},pe={key:1},be=J({name:"LayoutBreadcrumb",__name:"Breadcrumb",props:{theme:ee.oneOf(["dark","light"])},setup(u){const s=K([]),{currentRoute:a}=Q(),{prefixCls:y}=ae("layout-breadcrumb"),{getShowBreadCrumbIcon:g}=ne(),C=te(),{t:h}=se();U(()=>D(this,null,function*(){var E,P,A,S;if(a.value.name===re)return;const c=yield le(),t=a.value.matched,n=t==null?void 0:t[t.length-1];let e=a.value.path;n&&((E=n==null?void 0:n.meta)!=null&&E.currentActiveMenu)&&(e=n.meta.currentActiveMenu);const r=ce(c,e),l=c.filter(q=>q.path===r[0]),m=p(l,r);if(!m||m.length===0){s.value=[];return}const _=f(m);(P=a.value.meta)!=null&&P.currentActiveMenu&&!((A=a.value.meta)!=null&&A.hideBreadcrumb)&&_.push(x($({},a.value),{name:((S=a.value.meta)==null?void 0:S.title)||a.value.name})),s.value=_}));function p(c,t){const n=[];return c.forEach(e=>{var r,l;t.includes(e.path)&&n.push(x($({},e),{name:((r=e.meta)==null?void 0:r.title)||e.name})),(l=e.children)!=null&&l.length&&n.push(...p(e.children,t))}),n}function f(c){return ue(c,t=>{const{meta:n,name:e}=t;if(!n)return!!e;const{title:r,hideBreadcrumb:l,hideMenu:m}=n;return!(!r||l||m)}).filter(t=>{var n;return!((n=t.meta)!=null&&n.hideBreadcrumb)})}function v(c){const{children:t,redirect:n,meta:e}=c;if(!(t!=null&&t.length&&!n)&&!(e!=null&&e.carryParam))if(n&&de(n))C(n);else{let r="";c.path?r=c.path:r="",r=/^\//.test(r)?r:`/${r}`,C(r)}}function R(c,t){return c.indexOf(t)!==c.length-1}function B(c){var t;return c.icon||((t=c.meta)==null?void 0:t.icon)}return(c,t)=>{const n=X("router-link");return i(),b("div",{class:Y([o(y),`${o(y)}--${u.theme}`])},[L(o(oe),null,{default:d(()=>[(i(!0),b(T,null,V(s.value,e=>{var r;return i(),k(o(me),{key:e.name},I({default:d(()=>[o(g)&&B(e)?(i(),k(O,{key:0,icon:B(e)},null,8,["icon"])):F("",!0),R(s.value,e)?(i(),k(n,{key:2,to:"",onClick:l=>v(e)},{default:d(()=>[G(M(o(h)(e.meta.title||e.name)),1)]),_:2},1032,["onClick"])):(i(),b("span",he,M(o(h)(e.meta.title||e.name)),1))]),_:2},[e.children&&!((r=e.meta)!=null&&r.hideChildrenInMenu)?{name:"overlay",fn:d(()=>[L(o(ie),null,{default:d(()=>[(i(!0),b(T,null,V(e.children,l=>(i(),k(o(fe),{key:l.name},{default:d(()=>{var m;return[o(g)&&B(l)?(i(),k(O,{key:0,icon:B(l)},null,8,["icon"])):F("",!0),R(s.value,l)?(i(),k(n,{key:2,to:"",onClick:_=>v(l)},{default:d(()=>{var _;return[G(M(o(h)(((_=l.meta)==null?void 0:_.title)||l.name)),1)]}),_:2},1032,["onClick"])):(i(),b("span",pe,M(o(h)(((m=l.meta)==null?void 0:m.title)||l.name)),1))]}),_:2},1024))),128))]),_:2},1024)]),key:"0"}:void 0]),1024)}),128))]),_:1})],2)}}});export{be as default};
