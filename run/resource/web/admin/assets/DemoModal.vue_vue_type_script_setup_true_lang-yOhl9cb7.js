var f=(e,m,a)=>new Promise((l,u)=>{var c=t=>{try{s(a.next(t))}catch(i){u(i)}},n=t=>{try{s(a.throw(t))}catch(i){u(i)}},s=t=>t.done?l(t.value):Promise.resolve(t.value).then(c,n);s((a=a.apply(e,m)).next())});import{a as y,B as x}from"./index-BIkrAlj7.js";import{u as w,_ as M}from"./useForm-BsovIqMX.js";import"./BasicForm.vue_vue_type_style_index_0_lang-B6-8R5aw.js";import"./componentMap-qA-f8iV4.js";import{aA as d}from"./entry/index-BbJQUQ84-1718268303552.js";import{d as v,f as k,c as q,Z as R,a8 as B,a9 as C,k as F,u as r,ac as N}from"./vue-Cw15aJ-2.js";function E(e){return d.get({url:"/demo/demo/list",params:e})}function G(e){return d.post({url:"/demo/demo/export",params:e,responseType:"blob"},{isTransformResponse:!1})}function W(e){return d.get({url:"/demo/demo/"+e})}function A(e){return d.postWithMsg({url:"/demo/demo",data:e})}function K(e){return d.putWithMsg({url:"/demo/demo",data:e})}function H(e){return d.deleteWithMsg({url:"/demo/demo/"+e})}const O=[{label:"部门id",field:"deptId",component:"Input"},{label:"用户id",field:"userId",component:"Input"},{label:"排序号",field:"orderNum",component:"Input"},{label:"key键",field:"testKey",component:"Input"},{label:"值",field:"value",component:"Input"}],Z=[{title:"主键",dataIndex:"id"},{title:"部门id",dataIndex:"deptId"},{title:"用户id",dataIndex:"userId"},{title:"排序号",dataIndex:"orderNum"},{title:"key键",dataIndex:"testKey"},{title:"值",dataIndex:"value"}],S=[{label:"主键",field:"id",required:!0,component:"Input",show:!1},{label:"部门id",field:"deptId",required:!0,component:"Input"},{label:"用户id",field:"userId",required:!0,component:"Input"},{label:"排序号",field:"orderNum",required:!0,component:"Input"},{label:"key键",field:"testKey",required:!0,component:"Input"},{label:"值",field:"value",required:!0,component:"Input"}],j=v({name:"DemoModal",__name:"DemoModal",emits:["register","reload"],setup(e,{emit:m}){const a=m,l=k(!1),u=q(()=>l.value?"编辑测试单":"新增测试单"),[c,{modalLoading:n,closeModal:s}]=y(o=>f(this,null,function*(){n(!0);const{record:p,update:b}=o;if(l.value=b,b&&p){const _=yield W(p.id);yield i(_)}n(!1)})),[t,{setFieldsValue:i,resetForm:I,validate:g}]=w({labelWidth:100,showActionButtonGroup:!1,baseColProps:{span:24},schemas:S});function h(){return f(this,null,function*(){try{n(!0);const o=yield g();r(l)?yield K(o):yield A(o),a("reload"),s(),yield I()}catch(o){}finally{n(!1)}})}return(o,p)=>(R(),B(r(x),N(o.$attrs,{title:u.value,onRegister:r(c),onOk:h,onCancel:r(I)}),{default:C(()=>[F(r(M),{onRegister:r(t)},null,8,["onRegister"])]),_:1},16,["title","onRegister","onCancel"]))}});export{j as _,G as a,H as b,Z as c,E as d,O as f};
