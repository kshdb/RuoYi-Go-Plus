var v=(k,u,t)=>new Promise((c,s)=>{var f=o=>{try{r(t.next(o))}catch(i){s(i)}},d=o=>{try{r(t.throw(o))}catch(i){s(i)}},r=o=>o.done?c(o.value):Promise.resolve(o.value).then(f,d);r((t=t.apply(k,u)).next())});import{P as R}from"./index-DrfqwNLV.js";import{u as D,_ as T}from"./useTable-BlleqRm-.js";import{_ as $}from"./index-Rv_3g2e8.js";import{d as I,f as P,c as B,a as M,b as x,_ as N}from"./DemoModal.vue_vue_type_script_setup_true_lang-Dq-mJXWh.js";import{b as S}from"./download-CYeVxFqw.js";import{u as V}from"./index-CMSTH4sS.js";import{I as w}from"./entry/index-CMepwc5X-1716790511191.js";import{d as L,aa as A,n as F,_ as n,a8 as m,a9 as a,k as E,u as e,m as C,G as g,ac as G}from"./vue-Bw3NQgLF.js";import"./useContentViewHeight-xBSq9xFC.js";import"./useWindowSizeFn-Ba6K9eqp.js";import"./antd-BRjMhd0C.js";import"./onMountedOrActivated-B2y-oH2N.js";import"./useForm-uR1ZVBCA.js";import"./FormItem.vue_vue_type_script_lang-DAyz6oLf.js";import"./componentMap-DPcekmXH.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-DgvCFV63.js";import"./copyTextToClipboard-BLtSw0o7.js";import"./helper-CfJJkrf5.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BxZ9HtKh.js";import"./sortable.esm-DFFrMEeC.js";import"./useSortable-CwI952Jx.js";import"./useLoading-iCq4GOHr.js";const le=L({name:"Demo",__name:"index",setup(k){const[u,{reload:t,multipleRemove:c,selected:s}]=D({rowSelection:{type:"checkbox"},title:"测试单列表",api:I,showIndexColumn:!1,rowKey:"id",useSearchForm:!0,formConfig:{schemas:P,baseColProps:{span:8}},columns:B,actionColumn:{width:200,title:"操作",key:"action",fixed:"right"}}),[f,{openModal:d}]=V();function r(l){d(!0,{record:l,update:!0})}function o(){d(!0,{update:!1})}function i(l){return v(this,null,function*(){yield x([l.id]),yield t()})}return(l,p)=>{const _=A("a-button"),b=F("auth");return n(),m(e(R),{dense:""},{default:a(()=>[E(e(T),{onRegister:e(u)},{toolbar:a(()=>[C((n(),m(_,{onClick:p[0]||(p[0]=h=>e(S)(e(M),"测试单数据"))},{default:a(()=>[g("数据")]),_:1})),[[b,"demo:demo:export"]]),C((n(),m(_,{type:"error",onClick:p[1]||(p[1]=h=>e(c)(e(x))),disabled:!e(s)},{default:a(()=>[g("删除")]),_:1},8,["disabled"])),[[b,"demo:demo:remove"]]),C((n(),m(_,{type:"primary",onClick:o},{default:a(()=>[g("新增")]),_:1})),[[b,"demo:demo:add"]])]),bodyCell:a(({column:h,record:y})=>[h.key==="action"?(n(),m(e($),{key:0,stopButtonPropagation:"",actions:[{label:"修改",icon:e(w).EDIT,type:"primary",ghost:!0,auth:"demo:demo:edit",onClick:r.bind(null,y)},{label:"删除",icon:e(w).DELETE,type:"primary",danger:!0,ghost:!0,auth:"demo:demo:remove",popConfirm:{placement:"left",title:"是否删除测试单["+y.id+"]?",confirm:i.bind(null,y)}}]},null,8,["actions"])):G("",!0)]),_:1},8,["onRegister"]),E(N,{onRegister:e(f),onReload:e(t)},null,8,["onRegister","onReload"])]),_:1})}}});export{le as default};
