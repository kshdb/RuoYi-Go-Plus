var y=(b,s,l)=>new Promise((i,g)=>{var v=o=>{try{u(l.next(o))}catch(c){g(c)}},x=o=>{try{u(l.throw(o))}catch(c){g(c)}},u=o=>o.done?i(o.value):Promise.resolve(o.value).then(v,x);u((l=l.apply(b,s)).next())});import{P as h}from"./index-C4nZBquz.js";import{aA as E,C as I,_ as C}from"./entry/index-BbJQUQ84-1718268303552.js";import"./index-BVlzXcPd.js";import{u as D,_ as N}from"./useTable-CNbfTOCZ.js";import"./index-DCvxWw7W.js";import p from"./InfoContainer-BMIKEg1Q.js";import{u as f}from"./useDescription-DLkhA-M6.js";import{d as k,f as _,o as M,Z as P,a8 as T,a9 as n,k as r,u as t,$ as j,G as w}from"./vue-Cw15aJ-2.js";import{ar as J,as as m}from"./antd-DMGzOvrA.js";import"./useContentViewHeight-BDi3O9lC.js";import"./useWindowSizeFn-BKs0NEK5.js";import"./onMountedOrActivated-CSHfHTyc.js";import"./useForm-BsovIqMX.js";import"./FormItem.vue_vue_type_script_lang-C67_1cA1.js";import"./componentMap-qA-f8iV4.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-SetVOuUZ.js";import"./copyTextToClipboard-uEEWQikS.js";import"./index-BIkrAlj7.js";import"./style-CLEvKZSv.js";import"./helper-CXVLNTBN.js";import"./BasicForm.vue_vue_type_style_index_0_lang-B6-8R5aw.js";import"./sortable.esm-DFFrMEeC.js";import"./useSortable-BTdBE9Oa.js";import"./download-DOz9ltI1.js";import"./useLoading-D1in2ACg.js";function R(){return E.get({url:"/monitor/server"})}const S={class:"title"},de=k({name:"Server",__name:"index",setup(b){const s=_(!1),l=_(),i=_(!0);M(()=>y(this,null,function*(){const a=yield R();a.jvm.userDir=a.sys.userDir,l.value=a,i.value=!1}));const[g]=f({column:1,schema:[{field:"cpuNum",label:"CPU核心数"},{field:"used",label:"用户使用率",render(a){return`${a}%`}},{field:"sys",label:"系统使用率",render(a){return`${a}%`}},{field:"free",label:"当前空闲率",render(a){return`${a}%`}}]});function v(a){return[{field:"total",label:"总内存",render(d){return`${d}${a}`}},{field:"used",label:"已使用",render(d){return`${d}${a}`}},{field:"free",label:"剩余",render(d){return`${d}${a}`}},{field:"usage",label:"使用率",render(d){return`${d}%`}}]}const[x]=f({column:1,schema:v("G")}),[u]=f({column:1,schema:v("M")}),[o]=f({column:2,schema:[{field:"name",label:"类型"},{field:"version",label:"版本"},{field:"startTime",label:"启动时间"},{field:"runTime",label:"运行时长"},{field:"home",label:"路径"},{field:"userDir",label:"项目路径"},{field:"inputArgs",label:"运行参数"}]}),[c]=f({column:1,schema:[{field:"computerIp",label:"服务器IP"},{field:"computerName",label:"服务器名称"},{field:"osArch",label:"系统架构"},{field:"osName",label:"操作系统"}]}),[$]=D({pagination:!1,columns:[{dataIndex:"dirName",title:"盘符路径"},{dataIndex:"sysTypeName",title:"文件系统"},{dataIndex:"typeName",title:"盘符类型"},{dataIndex:"used",title:"已用空间"},{dataIndex:"usage",title:"已用空间占比",customRender({value:a}){return`${a}%`}},{dataIndex:"free",title:"可用大小"},{dataIndex:"total",title:"总大小"}]});return(a,d)=>(P(),T(t(h),{title:"服务器信息查看",contentFullHeight:""},{default:n(()=>[r(t(J),{type:"flex",gutter:[16,16]},{default:n(()=>[r(t(m),{xs:24,sm:24,md:12,lg:12},{default:n(()=>{var e;return[r(p,{title:"CPU",icon:"bi:cpu",loading:i.value,register:t(g),data:(e=l.value)==null?void 0:e.cpu,canExpan:s.value},null,8,["loading","register","data","canExpan"])]}),_:1}),r(t(m),{xs:24,sm:24,md:12,lg:12},{default:n(()=>{var e;return[r(p,{title:"内存信息",icon:"la:memory",loading:i.value,register:t(x),data:(e=l.value)==null?void 0:e.mem,canExpan:s.value},null,8,["loading","register","data","canExpan"])]}),_:1}),r(t(m),{xs:24,sm:24,md:12,lg:12},{default:n(()=>{var e;return[r(p,{title:"JVM内存",icon:"la:memory",loading:i.value,register:t(u),data:(e=l.value)==null?void 0:e.jvm,canExpan:s.value},null,8,["loading","register","data","canExpan"])]}),_:1}),r(t(m),{xs:24,sm:24,md:12,lg:12},{default:n(()=>{var e;return[r(p,{title:"服务器信息",icon:"mdi-light:memory",loading:i.value,register:t(c),data:(e=l.value)==null?void 0:e.sys,canExpan:s.value},null,8,["loading","register","data","canExpan"])]}),_:1}),r(t(m),{span:24},{default:n(()=>{var e;return[r(p,{title:"Java信息",icon:"devicon:java-wordmark",loading:i.value,register:t(o),data:(e=l.value)==null?void 0:e.jvm,canExpan:s.value},null,8,["loading","register","data","canExpan"])]}),_:1}),r(t(m),{span:24},{default:n(()=>[r(t(I),null,{title:n(()=>[j("span",S,[r(C,{icon:"icon-park-outline:solid-state-disk"}),w(" 磁盘信息")])]),default:n(()=>{var e;return[r(t(N),{onRegister:t($),loading:i.value,"data-source":(e=l.value)==null?void 0:e.sysFiles,canExpan:s.value},null,8,["onRegister","loading","data-source","canExpan"])]}),_:1})]),_:1})]),_:1})]),_:1}))}});export{de as default};
