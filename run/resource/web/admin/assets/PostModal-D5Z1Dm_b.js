var d=(u,p,o)=>new Promise((r,n)=>{var l=t=>{try{i(o.next(t))}catch(m){n(m)}},e=t=>{try{i(o.throw(t))}catch(m){n(m)}},i=t=>t.done?r(t.value):Promise.resolve(t.value).then(l,e);i((o=o.apply(u,p)).next())});import{a as M,B}from"./index-CMSTH4sS.js";import{u as C,_ as b}from"./useForm-uR1ZVBCA.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BxZ9HtKh.js";import"./componentMap-DPcekmXH.js";import{p as k,a as v,b as y}from"./index-tTbWyNHk.js";import{m as F}from"./post.data-Dy1v034U.js";import{d as I,f as P,c as R,_ as x,a8 as A,a9 as S,k as U,u as s,ad as V}from"./vue-Bw3NQgLF.js";import"./entry/index-CMepwc5X-1716790511191.js";import"./antd-BRjMhd0C.js";import"./useWindowSizeFn-Ba6K9eqp.js";import"./FormItem.vue_vue_type_script_lang-DAyz6oLf.js";import"./helper-CfJJkrf5.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-DgvCFV63.js";import"./index-Rv_3g2e8.js";import"./useSortable-CwI952Jx.js";import"./download-CYeVxFqw.js";import"./useLoading-iCq4GOHr.js";import"./copyTextToClipboard-BLtSw0o7.js";import"./onMountedOrActivated-B2y-oH2N.js";import"./dictEnum-DeC8h6ZR.js";import"./dict-C9gNHjAh.js";import"./useRender-C6p2srTi.js";import"./index-BhefpKLc.js";const rt=I({name:"PostModal",__name:"PostModal",emits:["register","reload"],setup(u,{emit:p}){const o=p,r=P(!1),n=R(()=>r.value?"编辑岗位":"新增岗位"),[l,{modalLoading:e,closeModal:i}]=M(a=>d(this,null,function*(){e(!0);const{record:c,update:_}=a;if(r.value=_,_&&c){const w=yield k(c.postId);yield m(w)}e(!1)})),[t,{setFieldsValue:m,resetForm:f,validate:g}]=C({labelWidth:80,name:"post_modal",showActionButtonGroup:!1,baseColProps:{span:24},schemas:F});function h(){return d(this,null,function*(){try{e(!0);const a=yield g();s(r)?yield v(a):yield y(a),o("reload"),i(),yield f()}catch(a){}finally{e(!1)}})}return(a,c)=>(x(),A(s(B),V(a.$attrs,{title:n.value,onRegister:s(l),onOk:h,onCancel:s(f)}),{default:S(()=>[U(s(b),{onRegister:s(t)},null,8,["onRegister"])]),_:1},16,["title","onRegister","onCancel"]))}});export{rt as default};
