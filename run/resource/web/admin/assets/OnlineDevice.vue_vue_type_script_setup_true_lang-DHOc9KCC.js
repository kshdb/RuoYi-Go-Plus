var m=(l,r,o)=>new Promise((i,n)=>{var s=t=>{try{e(o.next(t))}catch(a){n(a)}},c=t=>{try{e(o.throw(t))}catch(a){n(a)}},e=t=>t.done?i(t.value):Promise.resolve(t.value).then(s,c);e((o=o.apply(l,r)).next())});import{u as f,_}from"./useTable-CNbfTOCZ.js";import{_ as g}from"./index-DCvxWw7W.js";import{f as I,o as x}from"./index-Dfq6BVW_.js";import{u as h}from"./useRender-D1Q3fAQ3.js";import{j as b,h as k}from"./entry/index-BbJQUQ84-1718268303552.js";import{d as w,Z as u,_ as y,k as C,a9 as R,a8 as B,u as d,ab as D}from"./vue-Cw15aJ-2.js";const O=w({__name:"OnlineDevice",setup(l){const{renderBrowserIcon:r,renderOsIcon:o}=h(),[i,{reload:n}]=f({title:"在线设备",rowKey:"tokenId",api:x,pagination:!1,columns:[{title:"设备类型",dataIndex:"deviceType"},{title:"IP地址",dataIndex:"ipaddr"},{title:"IP信息",dataIndex:"loginLocation"},{title:"系统",dataIndex:"os",customRender({value:e}){if(e){const t=e.split(" or ");t.length===2&&(e=t[0])}return o(e,!0)}},{title:"浏览器",dataIndex:"browser",customRender({value:e}){return r(e,!0)}},{title:"登录时间",dataIndex:"loginTime",customRender({value:e}){return b(e).format("YYYY-MM-DD HH:mm:ss")}}],actionColumn:{width:120,title:"操作",dataIndex:"action",fixed:"right"}}),{createMessage:s}=k();function c(e){return m(this,null,function*(){yield I(e.tokenId),yield n(),s.success(`退出用户账号[${e.userName}]成功`)})}return(e,t)=>(u(),y("div",null,[C(d(_),{onRegister:d(i)},{bodyCell:R(({column:a,record:p})=>[a.dataIndex==="action"?(u(),B(d(g),{key:0,actions:[{label:"强制退出",danger:!0,type:"primary",ghost:!0,icon:"ic:outline-logout",popConfirm:{title:"确认强制退出吗？",placement:"left",confirm:c.bind(null,p)}}]},null,8,["actions"])):D("",!0)]),_:1},8,["onRegister"])]))}});export{O as _};
