var f=(n,m,t)=>new Promise((l,i)=>{var d=e=>{try{a(t.next(e))}catch(r){i(r)}},u=e=>{try{a(t.throw(e))}catch(r){i(r)}},a=e=>e.done?l(e.value):Promise.resolve(e.value).then(d,u);a((t=t.apply(n,m)).next())});import{u as b,_ as x}from"./useTable-CNbfTOCZ.js";import"./index-DCvxWw7W.js";import{d as R,e as S}from"./index-DRTL1nQC.js";import{u as k}from"./useRender-D1Q3fAQ3.js";import{D as C}from"./dictEnum-DeC8h6ZR.js";import{a as D,B as y}from"./index-BLDmWVyR.js";import{d as B,ao as N,f as T,a7 as A,Z as F,a8 as O,a9 as s,k as p,G as _,u as o,ac as v}from"./vue-Cw15aJ-2.js";import{u as L}from"./useSize-CUNtmCvH.js";const{renderDict:M}=k(),P=[{title:"用户账号",dataIndex:"userName"},{title:"用户昵称",dataIndex:"nickName"},{title:"邮箱",dataIndex:"email"},{title:"手机号",dataIndex:"phonenumber"},{title:"状态",dataIndex:"status",width:100,customRender({value:n}){return M(n,C.NORMAL_DISABLE)}}],W=[{label:"用户账号",field:"userName",component:"Input"},{label:"手机号码",field:"phonenumber",component:"Input"}],H=B({__name:"AssignRolesDrawer",emits:["register","reload"],setup(n,{emit:m}){const t=N(),l=T(t.params.roleId||"0"),i=L(800),d=m,[u,{closeDrawer:a}]=D(()=>f(this,null,function*(){yield r().resetFields()})),[e,{getForm:r,getSelectRowKeys:g,setSelectedRows:I}]=b({rowSelection:{type:"checkbox"},showIndexColumn:!1,clickToRowSelect:!0,clearSelectOnPageChange:!1,showSelectionBar:!0,api:R,rowKey:"userId",useSearchForm:!0,formConfig:{schemas:W,labelWidth:80,baseColProps:{xs:24,sm:24,md:24,lg:8}},searchInfo:{roleId:l.value},immediate:!1,columns:P,showTableSetting:!1,inset:!0});function h(){return f(this,null,function*(){const c=g();c.length!==0&&(yield S(l.value,c)),I([]),d("reload"),a()})}return(c,E)=>{const w=A("a-button");return F(),O(o(y),v(c.$attrs,{title:"选择用户",width:o(i),showFooter:"",onRegister:o(u),onOk:h}),{footer:s(()=>[p(w,{onClick:o(a)},{default:s(()=>[_("取消")]),_:1},8,["onClick"]),p(w,{type:"primary",onClick:h},{default:s(()=>[_("导入")]),_:1})]),default:s(()=>[p(o(x),{onRegister:o(e)},{toolbar:s(()=>[]),_:1},8,["onRegister"])]),_:1},16,["width","onRegister"])}}});export{H as _,P as c,W as f};
