var T=(w,k,t)=>new Promise((_,p)=>{var y=a=>{try{r(t.next(a))}catch(m){p(m)}},l=a=>{try{r(t.throw(a))}catch(m){p(m)}},r=a=>a.done?_(a.value):Promise.resolve(a.value).then(y,l);r((t=t.apply(w,k)).next())});import{P as R}from"./index-DrfqwNLV.js";import{d as E,e as Y,f as x,g as $}from"./index-De2oYrBu.js";import{u as I,_ as V}from"./useTable-BlleqRm-.js";import{_ as M}from"./index-Rv_3g2e8.js";import{T as N}from"./TableSwitch-CXPFPejB.js";import{f as S,c as B}from"./tenantPackage.data-3RzivsLS.js";import{I as v}from"./entry/index-CMepwc5X-1716790511191.js";import{b as L}from"./download-CYeVxFqw.js";import{_ as U}from"./TenantPackageDrawer.vue_vue_type_script_setup_true_lang-CyRF-mrW.js";import{u as A}from"./index-ov0mgIjt.js";import{d as F,aa as G,n as K,_ as n,a8 as s,a9 as i,k as D,u as e,m as g,G as C,ac as P}from"./vue-Bw3NQgLF.js";import"./useContentViewHeight-xBSq9xFC.js";import"./useWindowSizeFn-Ba6K9eqp.js";import"./antd-BRjMhd0C.js";import"./onMountedOrActivated-B2y-oH2N.js";import"./useForm-uR1ZVBCA.js";import"./FormItem.vue_vue_type_script_lang-DAyz6oLf.js";import"./componentMap-DPcekmXH.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-DgvCFV63.js";import"./copyTextToClipboard-BLtSw0o7.js";import"./index-CMSTH4sS.js";import"./helper-CfJJkrf5.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BxZ9HtKh.js";import"./sortable.esm-DFFrMEeC.js";import"./useSortable-CwI952Jx.js";import"./useLoading-iCq4GOHr.js";import"./index-CwwL6bPg.js";import"./index-Bz-s2yf4.js";import"./useSize-tRF5RUOv.js";const be=F({name:"TenantPackage",__name:"index",setup(w){const[k,{reload:t,selected:_,multipleRemove:p}]=I({rowSelection:{type:"checkbox"},title:"租户套餐列表",rowKey:"packageId",showIndexColumn:!1,useSearchForm:!0,formConfig:{schemas:S,name:"tenant_package",baseColProps:{xs:24,sm:24,md:24,lg:6},fieldMapToTime:[["createTime",["params[beginTime]","params[endTime]"],["YYYY-MM-DD 00:00:00","YYYY-MM-DD 23:59:59"]]]},columns:B,api:E,actionColumn:{width:200,title:"操作",key:"action"}}),[y,{openDrawer:l}]=A();function r(){l(!0,{update:!1})}function a(c){l(!0,{record:c,update:!0})}function m(c){return T(this,null,function*(){yield x([c.packageId]),yield t()})}return(c,d)=>{const h=G("a-button"),u=K("auth");return n(),s(e(R),{dense:""},{default:i(()=>[D(e(V),{onRegister:e(k)},{toolbar:i(()=>[g((n(),s(h,{class:"<sm:hidden",onClick:d[0]||(d[0]=f=>e(L)(e(Y),"租户套餐信息"))},{default:i(()=>[C("导出")]),_:1})),[[u,"system:tenantPackage:export"]]),g((n(),s(h,{class:"<sm:hidden",type:"primary",danger:"",onClick:d[1]||(d[1]=f=>e(p)(e(x))),disabled:!e(_)},{default:i(()=>[C("删除")]),_:1},8,["disabled"])),[[u,"system:tenantPackage:remove"]]),g((n(),s(h,{type:"primary",onClick:r},{default:i(()=>[C("新增")]),_:1})),[[u,"system:tenantPackage:add"]])]),bodyCell:i(({column:f,record:o})=>[f.dataIndex==="status"?g((n(),s(e(N),{key:0,modelValue:o.status,"onUpdate:modelValue":b=>o.status=b,api:()=>e($)(o),"custom-content":b=>`确认${b}租户套餐[${o.packageName}]吗?`,reload:e(t)},null,8,["modelValue","onUpdate:modelValue","api","custom-content","reload"])),[[u,"system:tenantPackage:edit"]]):P("",!0),f.key==="action"?(n(),s(e(M),{key:1,actions:[{label:"修改",icon:e(v).EDIT,type:"primary",ghost:!0,auth:"system:tenantPackage:edit ",onClick:a.bind(null,o)},{label:"删除",icon:e(v).DELETE,type:"primary",danger:!0,ghost:!0,auth:"system:tenantPackage:delete",popConfirm:{placement:"left",title:`是否删除租户套餐[${o.packageName}]?`,confirm:m.bind(null,o)}}]},null,8,["actions"])):P("",!0)]),_:1},8,["onRegister"]),D(U,{onRegister:e(y),onReload:e(t)},null,8,["onRegister","onReload"])]),_:1})}}});export{be as default};
