var u=(d,o,a)=>new Promise((m,l)=>{var c=e=>{try{r(a.next(e))}catch(n){l(n)}},t=e=>{try{r(a.throw(e))}catch(n){l(n)}},r=e=>e.done?m(e.value):Promise.resolve(e.value).then(c,t);r((a=a.apply(d,o)).next())});import{d as v,f as k,_ as f,a8 as h,a9 as _,m as D,k as M,u as i,A as S,ac as x,ad as y}from"./vue-Bw3NQgLF.js";import{a as B,B as R}from"./index-CMSTH4sS.js";import{a as C}from"./index-Cm0AtxlD.js";import{D as P}from"./index-ByLT-Lkv.js";import{descSchema as U}from"./user.info-LALXltIy.js";import{u as V}from"./useDescription-Cm6mcuk5.js";import{y as b}from"./antd-BRjMhd0C.js";const G=v({name:"UserInfoModal",__name:"UserInfoModal",setup(d){const o=k(!0),[a,{closeModal:m}]=B(t=>u(this,null,function*(){if(o.value=!0,!t)return m();const r=yield C(t),{postIds:e=[],roleIds:n=[],user:p,roles:g,posts:w}=r,I=w.filter(s=>e.includes(s.postId)).map(s=>s.postName),N=g.filter(s=>n.includes(s.roleId)).map(s=>s.roleName);p.postNames=I,p.roleNames=N,c({data:p}),o.value=!1})),[l,{setDescProps:c}]=V({column:1,labelStyle:{width:"150px",minWidth:"150px"},schema:U});return(t,r)=>(f(),h(i(R),y(t.$attrs,{width:600,title:"用户信息",onRegister:i(a)}),{footer:_(()=>[]),default:_(()=>[D(M(i(P),{onRegister:i(l)},null,8,["onRegister"]),[[S,!o.value]]),o.value?(f(),h(i(b),{key:0,active:"",paragraph:{rows:8}})):x("",!0)]),_:1},16,["onRegister"]))}});export{G as _};
