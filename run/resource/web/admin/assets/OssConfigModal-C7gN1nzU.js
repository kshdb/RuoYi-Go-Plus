var d=(f,l,a)=>new Promise((r,m)=>{var p=o=>{try{i(a.next(o))}catch(n){m(n)}},e=o=>{try{i(a.throw(o))}catch(n){m(n)}},i=o=>o.done?r(o.value):Promise.resolve(o.value).then(p,e);i((a=a.apply(f,l)).next())});import{a as w,B as M}from"./index-BIkrAlj7.js";import{u as S,_ as B}from"./useForm-BsovIqMX.js";import"./BasicForm.vue_vue_type_style_index_0_lang-B6-8R5aw.js";import"./componentMap-qA-f8iV4.js";import{c as O,d as k,e as v}from"./config-CMI3a6Xp.js";import{m as y}from"./oss.config.data-DZ71AQKq.js";import{d as F,f as I,c as R,Z as b,a8 as x,a9 as A,k as P,u as s,ac as U}from"./vue-Cw15aJ-2.js";import"./entry/index-BbJQUQ84-1718268303552.js";import"./antd-DMGzOvrA.js";import"./useWindowSizeFn-BKs0NEK5.js";import"./FormItem.vue_vue_type_script_lang-C67_1cA1.js";import"./helper-CXVLNTBN.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-SetVOuUZ.js";import"./index-DCvxWw7W.js";import"./useSortable-BTdBE9Oa.js";import"./download-DOz9ltI1.js";import"./useLoading-D1in2ACg.js";import"./copyTextToClipboard-uEEWQikS.js";import"./onMountedOrActivated-CSHfHTyc.js";import"./style-CLEvKZSv.js";import"./useRender-D1Q3fAQ3.js";import"./index-Dx0uas1b.js";import"./dict-vVDMuEaq.js";import"./dictEnum-DeC8h6ZR.js";const io=F({name:"OssConfigModal",__name:"OssConfigModal",emits:["register","reload"],setup(f,{emit:l}){const a=l,r=I(!1),m=R(()=>r.value?"编辑OSS配置":"新增OSS配置"),[p,{modalLoading:e,closeModal:i}]=w(t=>d(this,null,function*(){e(!0);const{record:c,update:g}=t;if(r.value=g,g&&c){const h=yield O(c.ossConfigId);yield n(h)}e(!1)})),[o,{setFieldsValue:n,resetForm:u,validate:_}]=S({labelWidth:100,name:"oss_config_modal",showActionButtonGroup:!1,baseColProps:{span:24},schemas:y});function C(){return d(this,null,function*(){try{e(!0);const t=yield _();s(r)?yield k(t):yield v(t),yield u(),a("reload",i)}catch(t){}finally{e(!1)}})}return(t,c)=>(b(),x(s(M),U(t.$attrs,{title:m.value,width:600,onRegister:s(p),onOk:C,onCancel:s(u)}),{default:A(()=>[P(s(B),{onRegister:s(o)},null,8,["onRegister"])]),_:1},16,["title","onRegister","onCancel"]))}});export{io as default};
