var T=(w,f,o)=>new Promise((m,l)=>{var g=a=>{try{n(o.next(a))}catch(p){l(p)}},k=a=>{try{n(o.throw(a))}catch(p){l(p)}},n=a=>a.done?m(a.value):Promise.resolve(a.value).then(g,k);n((o=o.apply(w,f)).next())});import{P as E}from"./index-C4nZBquz.js";import{d as Y,e as $,f as x,g as I}from"./index-BwotnLdp.js";import{u as V,_ as M}from"./useTable-CNbfTOCZ.js";import{_ as N}from"./index-DCvxWw7W.js";import{T as S}from"./TableSwitch-Dq-a_0E1.js";import{f as B,c as L}from"./tenantPackage.data-3RzivsLS.js";import{i as U,I as P}from"./entry/index-BbJQUQ84-1718268303552.js";import{b as A}from"./download-DOz9ltI1.js";import{_ as F}from"./TenantPackageDrawer.vue_vue_type_script_setup_true_lang-Dxuzet1N.js";import{u as G}from"./index-BLDmWVyR.js";import{d as K,a7 as W,n as Z,Z as s,a8 as i,a9 as r,k as v,u as e,m as h,G as C,ab as D}from"./vue-Cw15aJ-2.js";import"./useContentViewHeight-BDi3O9lC.js";import"./useWindowSizeFn-BKs0NEK5.js";import"./antd-DMGzOvrA.js";import"./onMountedOrActivated-CSHfHTyc.js";import"./useForm-BsovIqMX.js";import"./FormItem.vue_vue_type_script_lang-C67_1cA1.js";import"./componentMap-qA-f8iV4.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-SetVOuUZ.js";import"./copyTextToClipboard-uEEWQikS.js";import"./index-BIkrAlj7.js";import"./style-CLEvKZSv.js";import"./helper-CXVLNTBN.js";import"./BasicForm.vue_vue_type_style_index_0_lang-B6-8R5aw.js";import"./sortable.esm-DFFrMEeC.js";import"./useSortable-BTdBE9Oa.js";import"./useLoading-D1in2ACg.js";import"./index-BcLdq1Bd.js";import"./index-CCBbV1HU.js";import"./useSize-CUNtmCvH.js";import"./TreeItem-BtBK2Bxd.js";const xe=K({name:"TenantPackage",__name:"index",setup(w){const{hasPermission:f}=U(),[o,{reload:m,selected:l,multipleRemove:g}]=V({rowSelection:{type:"checkbox"},title:"租户套餐列表",rowKey:"packageId",showIndexColumn:!1,useSearchForm:!0,formConfig:{schemas:B,name:"tenant_package",baseColProps:{xs:24,sm:24,md:24,lg:6},fieldMapToTime:[["createTime",["params[beginTime]","params[endTime]"],["YYYY-MM-DD 00:00:00","YYYY-MM-DD 23:59:59"]]]},columns:L,api:Y,actionColumn:{width:200,title:"操作",key:"action"}}),[k,{openDrawer:n}]=G();function a(){n(!0,{update:!1})}function p(d){n(!0,{record:d,update:!0})}function R(d){return T(this,null,function*(){yield x([d.packageId]),yield m()})}return(d,c)=>{const _=W("a-button"),y=Z("auth");return s(),i(e(E),{dense:""},{default:r(()=>[v(e(M),{onRegister:e(o)},{toolbar:r(()=>[h((s(),i(_,{class:"<sm:hidden",onClick:c[0]||(c[0]=u=>e(A)(e($),"租户套餐信息"))},{default:r(()=>[C("导出")]),_:1})),[[y,"system:tenantPackage:export"]]),h((s(),i(_,{class:"<sm:hidden",type:"primary",danger:"",onClick:c[1]||(c[1]=u=>e(g)(e(x))),disabled:!e(l)},{default:r(()=>[C("删除")]),_:1},8,["disabled"])),[[y,"system:tenantPackage:remove"]]),h((s(),i(_,{type:"primary",onClick:a},{default:r(()=>[C("新增")]),_:1})),[[y,"system:tenantPackage:add"]])]),bodyCell:r(({column:u,record:t})=>[u.dataIndex==="status"?(s(),i(e(S),{key:0,modelValue:t.status,"onUpdate:modelValue":b=>t.status=b,disabled:!e(f)("system:tenantPackage:edit"),api:()=>e(I)(t),"custom-content":b=>`确认${b}租户套餐[${t.packageName}]吗?`,reload:e(m)},null,8,["modelValue","onUpdate:modelValue","disabled","api","custom-content","reload"])):D("",!0),u.key==="action"?(s(),i(e(N),{key:1,actions:[{label:"修改",icon:e(P).EDIT,type:"primary",ghost:!0,auth:"system:tenantPackage:edit ",onClick:p.bind(null,t)},{label:"删除",icon:e(P).DELETE,type:"primary",danger:!0,ghost:!0,auth:"system:tenantPackage:delete",popConfirm:{placement:"left",title:`是否删除租户套餐[${t.packageName}]?`,confirm:R.bind(null,t)}}]},null,8,["actions"])):D("",!0)]),_:1},8,["onRegister"]),v(F,{onRegister:e(k),onReload:e(m)},null,8,["onRegister","onReload"])]),_:1})}}});export{xe as default};
