var f=(_,m,o)=>new Promise((r,c)=>{var i=a=>{try{t(o.next(a))}catch(s){c(s)}},u=a=>{try{t(o.throw(a))}catch(s){c(s)}},t=a=>a.done?r(a.value):Promise.resolve(a.value).then(i,u);t((o=o.apply(_,m)).next())});import{a as w,B as I}from"./index-CMSTH4sS.js";import{u as y,_ as R}from"./useForm-uR1ZVBCA.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BxZ9HtKh.js";import"./componentMap-DPcekmXH.js";import{d as k}from"./index-CU-vYa55.js";import{d as x,f as b,aa as B,_ as M,a8 as P,a9 as l,k as d,G as C,u as n,ad as F}from"./vue-Bw3NQgLF.js";import{P as A}from"./antd-BRjMhd0C.js";const S=x({name:"CancelModal",__name:"CancelModal",emits:["register","reload"],setup(_,{emit:m}){const o=m,r=b(""),[c,{modalLoading:i,closeModal:u}]=w(e=>{r.value=e}),t=b(!0),[a,{validate:s,resetForm:v}]=y({name:"cancel-form",layout:"vertical",labelWidth:120,schemas:[{label:"作废原因",field:"deleteReason",component:"InputTextArea",componentProps(){return{placeholder:"请输入作废原因",rows:5,onChange(e){t.value=!e.target.value}}},rules:[{required:!0,message:"请输入作废原因",trigger:["change","blur"]}]}],showActionButtonGroup:!1,baseColProps:{span:24}});function g(){return f(this,null,function*(){try{i(!0);const e=yield s();e.processInstanceId=n(r),yield k(e),o("reload"),u(),yield p()}catch(e){console.log(e)}finally{i(!1)}})}function p(){return f(this,null,function*(){yield v(),r.value="",t.value=!0,u()})}return(e,G)=>{const h=B("a-button");return M(),P(n(I),F(e.$attrs,{title:"作废",width:600,onRegister:n(c),onOk:g,onCancel:p}),{footer:l(()=>[d(h,{onClick:p},{default:l(()=>[C("取消")]),_:1}),d(n(A),{title:"是否确认作废?","ok-text":"确认","cancel-text":"再想想",onConfirm:g},{default:l(()=>[d(h,{disabled:t.value,type:"primary"},{default:l(()=>[C("确认")]),_:1},8,["disabled"])]),_:1})]),default:l(()=>[d(n(R),{onRegister:n(a)},null,8,["onRegister"])]),_:1},16,["onRegister"])}}});export{S as _};
