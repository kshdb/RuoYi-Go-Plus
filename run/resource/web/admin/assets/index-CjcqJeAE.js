var x=(w,u,t)=>new Promise((f,s)=>{var c=o=>{try{r(t.next(o))}catch(i){s(i)}},l=o=>{try{r(t.throw(o))}catch(i){s(i)}},r=o=>o.done?f(o.value):Promise.resolve(o.value).then(c,l);r((t=t.apply(w,u)).next())});import{P as E}from"./index-DrfqwNLV.js";import{u as R,_ as D}from"./useTable-BlleqRm-.js";import{_ as F}from"./index-Rv_3g2e8.js";import{d as T,e as $,f as M}from"./index-BIzCyvWB.js";import{b as I}from"./download-CYeVxFqw.js";import{u as P}from"./index-CMSTH4sS.js";import{f as B,c as N,_ as S}from"./FormManageModal.vue_vue_type_script_setup_true_lang-bxGpeIb3.js";import{I as k}from"./entry/index-CMepwc5X-1716790511191.js";import{d as V,aa as L,n as A,_ as n,a8 as m,a9 as a,k as v,u as e,m as h,G as C,ac as G}from"./vue-Bw3NQgLF.js";import"./useContentViewHeight-xBSq9xFC.js";import"./useWindowSizeFn-Ba6K9eqp.js";import"./antd-BRjMhd0C.js";import"./onMountedOrActivated-B2y-oH2N.js";import"./useForm-uR1ZVBCA.js";import"./FormItem.vue_vue_type_script_lang-DAyz6oLf.js";import"./componentMap-DPcekmXH.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-DgvCFV63.js";import"./copyTextToClipboard-BLtSw0o7.js";import"./helper-CfJJkrf5.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BxZ9HtKh.js";import"./sortable.esm-DFFrMEeC.js";import"./useSortable-CwI952Jx.js";import"./useLoading-iCq4GOHr.js";import"./useRender-C6p2srTi.js";import"./index-BhefpKLc.js";import"./dict-C9gNHjAh.js";import"./dictEnum-DeC8h6ZR.js";const ge=V({name:"FormManage",__name:"index",setup(w){const[u,{reload:t,multipleRemove:f,selected:s}]=R({rowSelection:{type:"checkbox"},title:"单管理列表",api:T,showIndexColumn:!1,rowKey:"id",useSearchForm:!0,formConfig:{schemas:B,baseColProps:{xs:24,sm:24,md:24,lg:6}},columns:N,actionColumn:{width:200,title:"操作",key:"action",fixed:"right"}}),[c,{openModal:l}]=P();function r(p){l(!0,{record:p,update:!0})}function o(){l(!0,{update:!1})}function i(p){return x(this,null,function*(){yield M([p.id]),yield t()})}return(p,d)=>{const g=L("a-button"),_=A("auth");return n(),m(e(E),{dense:""},{default:a(()=>[v(e(D),{onRegister:e(u)},{toolbar:a(()=>[h((n(),m(g,{onClick:d[0]||(d[0]=y=>e(I)(e($),"表单管理数据"))},{default:a(()=>[C("导出")]),_:1})),[[_,"system:formManage:export"]]),h((n(),m(g,{type:"primary",danger:"",onClick:d[1]||(d[1]=y=>e(f)(e(M))),disabled:!e(s)},{default:a(()=>[C("删除")]),_:1},8,["disabled"])),[[_,"system:formManage:remove"]]),h((n(),m(g,{type:"primary",onClick:o},{default:a(()=>[C("新增")]),_:1})),[[_,"system:formManage:add"]])]),bodyCell:a(({column:y,record:b})=>[y.key==="action"?(n(),m(e(F),{key:0,stopButtonPropagation:"",actions:[{label:"修改",icon:e(k).EDIT,type:"primary",ghost:!0,auth:"system:formManage:edit",onClick:r.bind(null,b)},{label:"删除",icon:e(k).DELETE,type:"primary",danger:!0,ghost:!0,auth:"system:formManage:remove",popConfirm:{placement:"left",title:"是否删除单管理["+b.id+"]?",confirm:i.bind(null,b)}}]},null,8,["actions"])):G("",!0)]),_:1},8,["onRegister"]),v(S,{onRegister:e(c),onReload:e(t)},null,8,["onRegister","onReload"])]),_:1})}}});export{ge as default};
