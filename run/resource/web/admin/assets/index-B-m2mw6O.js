var y=(b,s,l)=>new Promise((i,g)=>{var v=o=>{try{u(l.next(o))}catch(c){g(c)}},x=o=>{try{u(l.throw(o))}catch(c){g(c)}},u=o=>o.done?i(o.value):Promise.resolve(o.value).then(v,x);u((l=l.apply(b,s)).next())});import{P as E}from"./index-DrfqwNLV.js";import{aw as $,C as I,_ as C}from"./entry/index-CMepwc5X-1716790511191.js";import"./index-ByLT-Lkv.js";import{u as D,_ as N}from"./useTable-BlleqRm-.js";import"./index-Rv_3g2e8.js";import p from"./InfoContainer-DcfJoovH.js";import{u as f}from"./useDescription-Cm6mcuk5.js";import{d as k,f as _,o as M,_ as P,a8 as T,a9 as n,k as r,u as t,a0 as w,G as j}from"./vue-Bw3NQgLF.js";import{at as J,au as m}from"./antd-BRjMhd0C.js";import"./useContentViewHeight-xBSq9xFC.js";import"./useWindowSizeFn-Ba6K9eqp.js";import"./onMountedOrActivated-B2y-oH2N.js";import"./useForm-uR1ZVBCA.js";import"./FormItem.vue_vue_type_script_lang-DAyz6oLf.js";import"./componentMap-DPcekmXH.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-DgvCFV63.js";import"./copyTextToClipboard-BLtSw0o7.js";import"./index-CMSTH4sS.js";import"./helper-CfJJkrf5.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BxZ9HtKh.js";import"./sortable.esm-DFFrMEeC.js";import"./useSortable-CwI952Jx.js";import"./download-CYeVxFqw.js";import"./useLoading-iCq4GOHr.js";function R(){return $.get({url:"/monitor/server"})}const S={class:"title"},se=k({name:"Server",__name:"index",setup(b){const s=_(!1),l=_(),i=_(!0);M(()=>y(this,null,function*(){const a=yield R();a.jvm.userDir=a.sys.userDir,l.value=a,i.value=!1}));const[g]=f({column:1,schema:[{field:"cpuNum",label:"CPU核心数"},{field:"used",label:"用户使用率",render(a){return`${a}%`}},{field:"sys",label:"系统使用率",render(a){return`${a}%`}},{field:"free",label:"当前空闲率",render(a){return`${a}%`}}]});function v(a){return[{field:"total",label:"总内存",render(d){return`${d}${a}`}},{field:"used",label:"已使用",render(d){return`${d}${a}`}},{field:"free",label:"剩余",render(d){return`${d}${a}`}},{field:"usage",label:"使用率",render(d){return`${d}%`}}]}const[x]=f({column:1,schema:v("G")}),[u]=f({column:1,schema:v("M")}),[o]=f({column:2,schema:[{field:"name",label:"类型"},{field:"version",label:"版本"},{field:"startTime",label:"启动时间"},{field:"runTime",label:"运行时长"},{field:"home",label:"路径"},{field:"userDir",label:"项目路径"},{field:"inputArgs",label:"运行参数"}]}),[c]=f({column:1,schema:[{field:"computerIp",label:"服务器IP"},{field:"computerName",label:"服务器名称"},{field:"osArch",label:"系统架构"},{field:"osName",label:"操作系统"}]}),[h]=D({pagination:!1,columns:[{dataIndex:"dirName",title:"盘符路径"},{dataIndex:"sysTypeName",title:"文件系统"},{dataIndex:"typeName",title:"盘符类型"},{dataIndex:"used",title:"已用空间"},{dataIndex:"usage",title:"已用空间占比",customRender({value:a}){return`${a}%`}},{dataIndex:"free",title:"可用大小"},{dataIndex:"total",title:"总大小"}]});return(a,d)=>(P(),T(t(E),{title:"服务器信息查看",contentFullHeight:""},{default:n(()=>[r(t(J),{type:"flex",gutter:[16,16]},{default:n(()=>[r(t(m),{xs:24,sm:24,md:12,lg:12},{default:n(()=>{var e;return[r(p,{title:"CPU",icon:"bi:cpu",loading:i.value,register:t(g),data:(e=l.value)==null?void 0:e.cpu,canExpan:s.value},null,8,["loading","register","data","canExpan"])]}),_:1}),r(t(m),{xs:24,sm:24,md:12,lg:12},{default:n(()=>{var e;return[r(p,{title:"内存信息",icon:"la:memory",loading:i.value,register:t(x),data:(e=l.value)==null?void 0:e.mem,canExpan:s.value},null,8,["loading","register","data","canExpan"])]}),_:1}),r(t(m),{xs:24,sm:24,md:12,lg:12},{default:n(()=>{var e;return[r(p,{title:"JVM内存",icon:"la:memory",loading:i.value,register:t(u),data:(e=l.value)==null?void 0:e.jvm,canExpan:s.value},null,8,["loading","register","data","canExpan"])]}),_:1}),r(t(m),{xs:24,sm:24,md:12,lg:12},{default:n(()=>{var e;return[r(p,{title:"服务器信息",icon:"mdi-light:memory",loading:i.value,register:t(c),data:(e=l.value)==null?void 0:e.sys,canExpan:s.value},null,8,["loading","register","data","canExpan"])]}),_:1}),r(t(m),{span:24},{default:n(()=>{var e;return[r(p,{title:"Java信息",icon:"devicon:java-wordmark",loading:i.value,register:t(o),data:(e=l.value)==null?void 0:e.jvm,canExpan:s.value},null,8,["loading","register","data","canExpan"])]}),_:1}),r(t(m),{span:24},{default:n(()=>[r(t(I),null,{title:n(()=>[w("span",S,[r(C,{icon:"icon-park-outline:solid-state-disk"}),j(" 磁盘信息")])]),default:n(()=>{var e;return[r(t(N),{onRegister:t(h),loading:i.value,"data-source":(e=l.value)==null?void 0:e.sysFiles,canExpan:s.value},null,8,["onRegister","loading","data-source","canExpan"])]}),_:1})]),_:1})]),_:1})]),_:1}))}});export{se as default};
