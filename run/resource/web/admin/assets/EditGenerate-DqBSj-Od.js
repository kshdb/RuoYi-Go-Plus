var b=(x,v,l)=>new Promise((_,r)=>{var e=t=>{try{a(l.next(t))}catch(o){r(o)}},g=t=>{try{a(l.throw(t))}catch(o){r(o)}},a=t=>t.done?_(t.value):Promise.resolve(t.value).then(e,g);a((l=l.apply(x,v)).next())});import{P as J}from"./index-C4nZBquz.js";import{_ as M}from"./BaseSetting.vue_vue_type_script_setup_true_lang-W258DUHC.js";import h from"./GenConfig-97tZFRAo.js";import{_ as P}from"./GenResult.vue_vue_type_script_setup_true_lang-BzBRc7ib.js";import{d as R,W as S,f as I,o as V,r as $,Z as p,a8 as f,a9 as w,$ as E,k as d,u as m,ab as k}from"./vue-Cw15aJ-2.js";import{g as j,e as D}from"./index-CJ9RCuM1.js";import{k as T,l as U}from"./entry/index-BbJQUQ84-1718268303552.js";import{X as C,Y as W}from"./antd-DMGzOvrA.js";import"./useContentViewHeight-BDi3O9lC.js";import"./useWindowSizeFn-BKs0NEK5.js";import"./onMountedOrActivated-CSHfHTyc.js";import"./useForm-BsovIqMX.js";import"./FormItem.vue_vue_type_script_lang-C67_1cA1.js";import"./componentMap-qA-f8iV4.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-SetVOuUZ.js";import"./index-DCvxWw7W.js";import"./index-BIkrAlj7.js";import"./useSortable-BTdBE9Oa.js";import"./download-DOz9ltI1.js";import"./useLoading-D1in2ACg.js";import"./copyTextToClipboard-uEEWQikS.js";import"./style-CLEvKZSv.js";import"./helper-CXVLNTBN.js";import"./BasicForm.vue_vue_type_style_index_0_lang-B6-8R5aw.js";import"./index-CCBbV1HU.js";import"./genConfig.data-DlnrPUFx.js";import"./dictType-DlPairOY.js";import"./index-DnheMbIF.js";const L={class:"flex flex-row items-center justify-center"},O={class:"mt-5"},Q=R({name:"EditGenerate",__name:"EditGenerate",setup(x){const{currentRoute:v}=S(),_=v.value.params.tableId,r=I(0),e=I(),{setTitle:g}=T();V(()=>b(this,null,function*(){const o=yield j(_);e.value=o.info,g("修改生成配置: "+o.info.tableName)}));const a=$({success:!0,errMsg:""});function t(o,n){return b(this,null,function*(){var c;if(r.value=o,n&&e.value&&Object.assign(e.value,n),m(r)===2)try{const i=m(e);if(i&&i.tplCategory==="tree"){const{treeCode:u,treeName:s,treeParentCode:y}=i;i.params={treeCode:u,treeName:s,treeParentCode:y}}if(i){const u=s=>s?"1":"0";i.columns.forEach(s=>{const{insert:y,edit:N,list:q,query:B,required:G}=s;s.isInsert=u(y),s.isEdit=u(N),s.isList=u(q),s.isQuery=u(B),s.isRequired=u(G)})}yield D(i),a.success=!0}catch(i){a.success=!1,a.errMsg=(c=i.message)!=null?c:"未知错误"}})}return(o,n)=>(p(),f(m(J),{contentBackground:"",dense:"","content-class":"p-5"},{default:w(()=>[E("div",L,[d(m(W),{class:"w-fit",current:r.value},{default:w(()=>[d(m(C),{title:"生成信息"}),d(m(C),{title:"字段信息",disabled:""}),d(m(C),{title:"完成",disabled:""})]),_:1},8,["current"])]),E("div",O,[e.value&&r.value===0?(p(),f(M,{key:0,value:e.value,"onUpdate:value":n[0]||(n[0]=c=>e.value=c),onJumpto:t},null,8,["value"])):k("",!0),e.value&&r.value===1?(p(),f(h,{key:1,value:e.value,"onUpdate:value":n[1]||(n[1]=c=>e.value=c),onJumpto:t},null,8,["value"])):k("",!0),e.value&&r.value===2?(p(),f(P,{key:2,success:a.success,"err-msg":a.errMsg,onJumpto:t},null,8,["success","err-msg"])):k("",!0)])]),_:1}))}}),Ce=U(Q,[["__scopeId","data-v-ebeeca71"]]);export{Ce as default};
