var v=(k,u,t)=>new Promise((c,s)=>{var f=o=>{try{r(t.next(o))}catch(i){s(i)}},d=o=>{try{r(t.throw(o))}catch(i){s(i)}},r=o=>o.done?c(o.value):Promise.resolve(o.value).then(f,d);r((t=t.apply(k,u)).next())});import{P as R}from"./index-C4nZBquz.js";import{u as D,_ as T}from"./useTable-CNbfTOCZ.js";import{_ as $}from"./index-DCvxWw7W.js";import{d as I,f as P,c as B,a as M,b as x,_ as N}from"./DemoModal.vue_vue_type_script_setup_true_lang-yOhl9cb7.js";import{b as S}from"./download-DOz9ltI1.js";import{u as V}from"./index-BIkrAlj7.js";import{I as w}from"./entry/index-BbJQUQ84-1718268303552.js";import{d as L,a7 as A,n as F,Z as n,a8 as m,a9 as a,k as E,u as e,m as C,G as g,ab as G}from"./vue-Cw15aJ-2.js";import"./useContentViewHeight-BDi3O9lC.js";import"./useWindowSizeFn-BKs0NEK5.js";import"./antd-DMGzOvrA.js";import"./onMountedOrActivated-CSHfHTyc.js";import"./useForm-BsovIqMX.js";import"./FormItem.vue_vue_type_script_lang-C67_1cA1.js";import"./componentMap-qA-f8iV4.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-SetVOuUZ.js";import"./copyTextToClipboard-uEEWQikS.js";import"./style-CLEvKZSv.js";import"./helper-CXVLNTBN.js";import"./BasicForm.vue_vue_type_style_index_0_lang-B6-8R5aw.js";import"./sortable.esm-DFFrMEeC.js";import"./useSortable-BTdBE9Oa.js";import"./useLoading-D1in2ACg.js";const pe=L({name:"Demo",__name:"index",setup(k){const[u,{reload:t,multipleRemove:c,selected:s}]=D({rowSelection:{type:"checkbox"},title:"测试单列表",api:I,showIndexColumn:!1,rowKey:"id",useSearchForm:!0,formConfig:{schemas:P,baseColProps:{span:8}},columns:B,actionColumn:{width:200,title:"操作",key:"action",fixed:"right"}}),[f,{openModal:d}]=V();function r(l){d(!0,{record:l,update:!0})}function o(){d(!0,{update:!1})}function i(l){return v(this,null,function*(){yield x([l.id]),yield t()})}return(l,p)=>{const _=A("a-button"),b=F("auth");return n(),m(e(R),{dense:""},{default:a(()=>[E(e(T),{onRegister:e(u)},{toolbar:a(()=>[C((n(),m(_,{onClick:p[0]||(p[0]=h=>e(S)(e(M),"测试单数据"))},{default:a(()=>[g("数据")]),_:1})),[[b,"demo:demo:export"]]),C((n(),m(_,{type:"error",onClick:p[1]||(p[1]=h=>e(c)(e(x))),disabled:!e(s)},{default:a(()=>[g("删除")]),_:1},8,["disabled"])),[[b,"demo:demo:remove"]]),C((n(),m(_,{type:"primary",onClick:o},{default:a(()=>[g("新增")]),_:1})),[[b,"demo:demo:add"]])]),bodyCell:a(({column:h,record:y})=>[h.key==="action"?(n(),m(e($),{key:0,stopButtonPropagation:"",actions:[{label:"修改",icon:e(w).EDIT,type:"primary",ghost:!0,auth:"demo:demo:edit",onClick:r.bind(null,y)},{label:"删除",icon:e(w).DELETE,type:"primary",danger:!0,ghost:!0,auth:"demo:demo:remove",popConfirm:{placement:"left",title:"是否删除测试单["+y.id+"]?",confirm:i.bind(null,y)}}]},null,8,["actions"])):G("",!0)]),_:1},8,["onRegister"]),E(N,{onRegister:e(f),onReload:e(t)},null,8,["onRegister","onReload"])]),_:1})}}});export{pe as default};
