var y=Object.defineProperty,P=Object.defineProperties;var U=Object.getOwnPropertyDescriptors;var _=Object.getOwnPropertySymbols;var B=Object.prototype.hasOwnProperty,D=Object.prototype.propertyIsEnumerable;var k=(e,n,t)=>n in e?y(e,n,{enumerable:!0,configurable:!0,writable:!0,value:t}):e[n]=t,C=(e,n)=>{for(var t in n||(n={}))B.call(n,t)&&k(e,t,n[t]);if(_)for(var t of _(n))D.call(n,t)&&k(e,t,n[t]);return e},O=(e,n)=>P(e,U(n));import{a as w}from"./useFormDesignState-B-wP0Kck.js";import{c as $}from"./index-BJ-Z-Vuw.js";import{h as A,_ as N,j as V}from"./entry/index-CMepwc5X-1716790511191.js";import{A as j}from"./antd-BRjMhd0C.js";import{d as M,r as S,I as T,aa as b,_ as l,$ as i,F as h,ab as F,a0 as c,k as u,G}from"./vue-Bw3NQgLF.js";const{createMessage:p}=A(),E=Object.assign({success:e=>{p.success(e)},error:e=>{p.error(e)},warning:e=>{p.warning(e)},info:e=>{p.info(e)}}),L=E,R=M({name:"FormOptions",components:{Input:j,Icon:N},setup(){var r;const e=S({}),{formConfig:n}=w(),t=((r=n.value.currentItem)==null?void 0:r.component)==="TreeSelect"?"treeData":"options",m=()=>{var s,a,g,I;(a=(s=n.value.currentItem)==null?void 0:s.componentProps)!=null&&a[t]||(n.value.currentItem.componentProps[t]=[]);const o=((I=(g=n.value.currentItem)==null?void 0:g.componentProps)==null?void 0:I[t].length)+1;n.value.currentItem.componentProps[t].push({label:`选项${o}`,value:""+o})},v=o=>{var s,a;$((a=(s=n.value.currentItem)==null?void 0:s.componentProps)==null?void 0:a[t],o)},f=()=>{var o,s;(s=(o=n.value.currentItem)==null?void 0:o.columns)==null||s.push({span:12,children:[]})},d=o=>{if(o===0)return L.warning("请至少保留一个栅格");$(n.value.currentItem.columns,o)};return O(C({},T(e)),{formConfig:n,addOptions:m,deleteOptions:v,key:t,deleteGridOptions:d,addGridOptions:f})}}),q={key:0},z={class:"options-box"},H=["onClick"],J={key:1},K={class:"options-box"},Q=["onClick"];function W(e,n,t,m,v,f){const d=b("Input"),r=b("Icon");return l(),i("div",null,[["Grid"].includes(e.formConfig.currentItem.component)?(l(),i("div",q,[(l(!0),i(h,null,F(e.formConfig.currentItem.columns,(o,s)=>(l(),i("div",{key:s},[c("div",z,[u(d,{value:o.span,"onUpdate:value":a=>o.span=a,class:"options-value"},null,8,["value","onUpdate:value"]),c("a",{class:"options-delete",onClick:a=>e.deleteGridOptions(s)},[u(r,{icon:"ant-design:delete-outlined"})],8,H)])]))),128)),c("a",{onClick:n[0]||(n[0]=(...o)=>e.addGridOptions&&e.addGridOptions(...o))},[u(r,{icon:"ant-design:file-add-outlined"}),G(" 添加栅格 ")])])):(l(),i("div",J,[(l(!0),i(h,null,F(e.formConfig.currentItem.componentProps[e.key],(o,s)=>(l(),i("div",{key:s},[c("div",K,[u(d,{value:o.label,"onUpdate:value":a=>o.label=a},null,8,["value","onUpdate:value"]),u(d,{value:o.value,"onUpdate:value":a=>o.value=a,class:"options-value"},null,8,["value","onUpdate:value"]),c("a",{class:"options-delete",onClick:a=>e.deleteOptions(s)},[u(r,{icon:"ant-design:delete-outlined"})],8,Q)])]))),128)),c("a",{onClick:n[1]||(n[1]=(...o)=>e.addOptions&&e.addOptions(...o))},[u(r,{icon:"ant-design:file-add-outlined"}),G(" 添加选项 ")])]))])}const oe=V(R,[["render",W],["__scopeId","data-v-3d1b19b9"]]);export{oe as default};
