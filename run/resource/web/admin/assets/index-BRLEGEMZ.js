var x=(w,u,t)=>new Promise((f,s)=>{var c=o=>{try{r(t.next(o))}catch(i){s(i)}},l=o=>{try{r(t.throw(o))}catch(i){s(i)}},r=o=>o.done?f(o.value):Promise.resolve(o.value).then(c,l);r((t=t.apply(w,u)).next())});import{P as E}from"./index-C4nZBquz.js";import{u as R,_ as D}from"./useTable-CNbfTOCZ.js";import{_ as F}from"./index-DCvxWw7W.js";import{d as T,e as $,f as M}from"./index-CJTZaHOu.js";import{b as I}from"./download-DOz9ltI1.js";import{u as P}from"./index-BIkrAlj7.js";import{f as B,c as N,_ as S}from"./FormManageModal.vue_vue_type_script_setup_true_lang-lrZ6fyA2.js";import{I as k}from"./entry/index-BbJQUQ84-1718268303552.js";import{d as V,a7 as L,n as A,Z as n,a8 as m,a9 as a,k as v,u as e,m as h,G as C,ab as G}from"./vue-Cw15aJ-2.js";import"./useContentViewHeight-BDi3O9lC.js";import"./useWindowSizeFn-BKs0NEK5.js";import"./antd-DMGzOvrA.js";import"./onMountedOrActivated-CSHfHTyc.js";import"./useForm-BsovIqMX.js";import"./FormItem.vue_vue_type_script_lang-C67_1cA1.js";import"./componentMap-qA-f8iV4.js";import"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-SetVOuUZ.js";import"./copyTextToClipboard-uEEWQikS.js";import"./style-CLEvKZSv.js";import"./helper-CXVLNTBN.js";import"./BasicForm.vue_vue_type_style_index_0_lang-B6-8R5aw.js";import"./sortable.esm-DFFrMEeC.js";import"./useSortable-BTdBE9Oa.js";import"./useLoading-D1in2ACg.js";import"./useRender-D1Q3fAQ3.js";import"./index-Dx0uas1b.js";import"./dict-vVDMuEaq.js";import"./dictEnum-DeC8h6ZR.js";const _e=V({name:"FormManage",__name:"index",setup(w){const[u,{reload:t,multipleRemove:f,selected:s}]=R({rowSelection:{type:"checkbox"},title:"单管理列表",api:T,showIndexColumn:!1,rowKey:"id",useSearchForm:!0,formConfig:{schemas:B,baseColProps:{xs:24,sm:24,md:24,lg:6}},columns:N,actionColumn:{width:200,title:"操作",key:"action",fixed:"right"}}),[c,{openModal:l}]=P();function r(p){l(!0,{record:p,update:!0})}function o(){l(!0,{update:!1})}function i(p){return x(this,null,function*(){yield M([p.id]),yield t()})}return(p,d)=>{const g=L("a-button"),_=A("auth");return n(),m(e(E),{dense:""},{default:a(()=>[v(e(D),{onRegister:e(u)},{toolbar:a(()=>[h((n(),m(g,{onClick:d[0]||(d[0]=y=>e(I)(e($),"表单管理数据"))},{default:a(()=>[C("导出")]),_:1})),[[_,"system:formManage:export"]]),h((n(),m(g,{type:"primary",danger:"",onClick:d[1]||(d[1]=y=>e(f)(e(M))),disabled:!e(s)},{default:a(()=>[C("删除")]),_:1},8,["disabled"])),[[_,"system:formManage:remove"]]),h((n(),m(g,{type:"primary",onClick:o},{default:a(()=>[C("新增")]),_:1})),[[_,"system:formManage:add"]])]),bodyCell:a(({column:y,record:b})=>[y.key==="action"?(n(),m(e(F),{key:0,stopButtonPropagation:"",actions:[{label:"修改",icon:e(k).EDIT,type:"primary",ghost:!0,auth:"system:formManage:edit",onClick:r.bind(null,b)},{label:"删除",icon:e(k).DELETE,type:"primary",danger:!0,ghost:!0,auth:"system:formManage:remove",popConfirm:{placement:"left",title:"是否删除单管理["+b.id+"]?",confirm:i.bind(null,b)}}]},null,8,["actions"])):G("",!0)]),_:1},8,["onRegister"]),v(S,{onRegister:e(c),onReload:e(t)},null,8,["onRegister","onReload"])]),_:1})}}});export{_e as default};
