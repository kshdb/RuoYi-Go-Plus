var OK=Object.defineProperty,DK=Object.defineProperties;var _K=Object.getOwnPropertyDescriptors;var DH=Object.getOwnPropertySymbols;var MK=Object.prototype.hasOwnProperty,BK=Object.prototype.propertyIsEnumerable;var hy=Math.pow,_H=(D,y,C)=>y in D?OK(D,y,{enumerable:!0,configurable:!0,writable:!0,value:C}):D[y]=C,Ci=(D,y)=>{for(var C in y||(y={}))MK.call(y,C)&&_H(D,C,y[C]);if(DH)for(var C of DH(y))BK.call(y,C)&&_H(D,C,y[C]);return D},Ic=(D,y)=>DK(D,_K(y));var zc=(D,y,C)=>new Promise((S,_)=>{var M=Y=>{try{K(C.next(Y))}catch(ye){_(ye)}},z=Y=>{try{K(C.throw(Y))}catch(ye){_(ye)}},K=Y=>Y.done?S(Y.value):Promise.resolve(Y.value).then(M,z);K((C=C.apply(D,y)).next())});import{u as ky,_ as PK}from"./RadioButtonGroup.vue_vue_type_script_setup_true_lang-SetVOuUZ.js";import{q as Fg,m as Rp,S as RK,aF as MH,_ as Y$,O as a9,x as Co,aG as o9,aH as NK,l as sM,w as Np,aI as FK,h as i9,ab as IK,e as zK,s as $K,a3 as LK,aJ as HK}from"./entry/index-BbJQUQ84-1718268303552.js";import{E as Bd,aw as VK,ax as UK,ae as WK,o as lM,a as u9,e as Pi,ay as _d,az as oM,z as s9,aA as sk,aB as jK,aC as l9,aD as c9,a0 as f9,B as qK,T as _g,aE as v9,aa as GK,U as nM,b as KK,c as xy,Q as XK,A as YK,a1 as ZK,aF as JK,a6 as QK,av as d9,aG as eX,aH as tX,aI as cM,aJ as m9,ap as nX}from"./antd-DMGzOvrA.js";import{f as Ea,c as ki,u as mn,d as Ls,h as vk,w as Nu,Z as Ha,a8 as ou,a9 as qa,ag as Bg,a1 as Xu,k as Fa,$ as $s,_ as ms,F as Z$,aa as Fp,ab as Md,ac as pf,H as fM,G as Ng,a0 as Bp,ad as Ey,ae as Ty,ak as dk,al as mk,K as cL,o as fL,a7 as Mp,b as rX,m as g9,A as h9,j as aX,Q as oX,y as iX}from"./vue-Cw15aJ-2.js";import{b as BH,I as uX,B as sX}from"./index-DCvxWw7W.js";import{c as lX}from"./copyTextToClipboard-uEEWQikS.js";import{a as cX,B as fX,u as vX}from"./index-BIkrAlj7.js";import{o as dX}from"./onMountedOrActivated-CSHfHTyc.js";import{r as mX}from"./style-CLEvKZSv.js";const PH={prefix:"ant-design",icons:["account-book-filled","account-book-outlined","account-book-twotone","aim-outlined","alert-filled","alert-outlined","alert-twotone","alibaba-outlined","align-center-outlined","align-left-outlined","align-right-outlined","alipay-circle-filled","alipay-circle-outlined","alipay-outlined","alipay-square-filled","aliwangwang-filled","aliwangwang-outlined","aliyun-outlined","amazon-circle-filled","amazon-outlined","amazon-square-filled","android-filled","android-outlined","ant-cloud-outlined","ant-design-outlined","apartment-outlined","api-filled","api-outlined","api-twotone","apple-filled","apple-outlined","appstore-add-outlined","appstore-filled","appstore-outlined","appstore-twotone","area-chart-outlined","arrow-down-outlined","arrow-left-outlined","arrow-right-outlined","arrow-up-outlined","arrows-alt-outlined","audio-filled","audio-muted-outlined","audio-outlined","audio-twotone","audit-outlined","backward-filled","backward-outlined","bank-filled","bank-outlined","bank-twotone","bar-chart-outlined","barcode-outlined","bars-outlined","behance-circle-filled","behance-outlined","behance-square-filled","behance-square-outlined","bell-filled","bell-outlined","bell-twotone","bg-colors-outlined","block-outlined","bold-outlined","book-filled","book-outlined","book-twotone","border-bottom-outlined","border-horizontal-outlined","border-inner-outlined","border-left-outlined","border-outer-outlined","border-outlined","border-right-outlined","border-top-outlined","border-verticle-outlined","borderless-table-outlined","box-plot-filled","box-plot-outlined","box-plot-twotone","branches-outlined","bug-filled","bug-outlined","bug-twotone","build-filled","build-outlined","build-twotone","bulb-filled","bulb-outlined","bulb-twotone","calculator-filled","calculator-outlined","calculator-twotone","calendar-filled","calendar-outlined","calendar-twotone","camera-filled","camera-outlined","camera-twotone","car-filled","car-outlined","car-twotone","caret-down-filled","caret-down-outlined","caret-left-filled","caret-left-outlined","caret-right-filled","caret-right-outlined","caret-up-filled","caret-up-outlined","carry-out-filled","carry-out-outlined","carry-out-twotone","check-circle-filled","check-circle-outlined","check-circle-twotone","check-outlined","check-square-filled","check-square-outlined","check-square-twotone","chrome-filled","chrome-outlined","ci-circle-filled","ci-circle-outlined","ci-circle-twotone","ci-outlined","ci-twotone","clear-outlined","clock-circle-filled","clock-circle-outlined","clock-circle-twotone","close-circle-filled","close-circle-outlined","close-circle-twotone","close-outlined","close-square-filled","close-square-outlined","close-square-twotone","cloud-download-outlined","cloud-filled","cloud-outlined","cloud-server-outlined","cloud-sync-outlined","cloud-twotone","cloud-upload-outlined","cluster-outlined","code-filled","code-outlined","code-sandbox-circle-filled","code-sandbox-outlined","code-sandbox-square-filled","code-twotone","codepen-circle-filled","codepen-circle-outlined","codepen-outlined","codepen-square-filled","coffee-outlined","column-height-outlined","column-width-outlined","comment-outlined","compass-filled","compass-outlined","compass-twotone","compress-outlined","console-sql-outlined","contacts-filled","contacts-outlined","contacts-twotone","container-filled","container-outlined","container-twotone","control-filled","control-outlined","control-twotone","copy-filled","copy-outlined","copy-twotone","copyright-circle-filled","copyright-circle-outlined","copyright-circle-twotone","copyright-outlined","copyright-twotone","credit-card-filled","credit-card-outlined","credit-card-twotone","crown-filled","crown-outlined","crown-twotone","customer-service-filled","customer-service-outlined","customer-service-twotone","dash-outlined","dashboard-filled","dashboard-outlined","dashboard-twotone","database-filled","database-outlined","database-twotone","delete-column-outlined","delete-filled","delete-outlined","delete-row-outlined","delete-twotone","delivered-procedure-outlined","deployment-unit-outlined","desktop-outlined","diff-filled","diff-outlined","diff-twotone","dingding-outlined","dingtalk-circle-filled","dingtalk-outlined","dingtalk-square-filled","disconnect-outlined","dislike-filled","dislike-outlined","dislike-twotone","dollar-circle-filled","dollar-circle-outlined","dollar-circle-twotone","dollar-outlined","dollar-twotone","dot-chart-outlined","double-left-outlined","double-right-outlined","down-circle-filled","down-circle-outlined","down-circle-twotone","down-outlined","down-square-filled","down-square-outlined","down-square-twotone","download-outlined","drag-outlined","dribbble-circle-filled","dribbble-outlined","dribbble-square-filled","dribbble-square-outlined","dropbox-circle-filled","dropbox-outlined","dropbox-square-filled","edit-filled","edit-outlined","edit-twotone","ellipsis-outlined","enter-outlined","environment-filled","environment-outlined","environment-twotone","euro-circle-filled","euro-circle-outlined","euro-circle-twotone","euro-outlined","euro-twotone","exception-outlined","exclamation-circle-filled","exclamation-circle-outlined","exclamation-circle-twotone","exclamation-outlined","expand-alt-outlined","expand-outlined","experiment-filled","experiment-outlined","experiment-twotone","export-outlined","eye-filled","eye-invisible-filled","eye-invisible-outlined","eye-invisible-twotone","eye-outlined","eye-twotone","facebook-filled","facebook-outlined","fall-outlined","fast-backward-filled","fast-backward-outlined","fast-forward-filled","fast-forward-outlined","field-binary-outlined","field-number-outlined","field-string-outlined","field-time-outlined","file-add-filled","file-add-outlined","file-add-twotone","file-done-outlined","file-excel-filled","file-excel-outlined","file-excel-twotone","file-exclamation-filled","file-exclamation-outlined","file-exclamation-twotone","file-filled","file-gif-outlined","file-image-filled","file-image-outlined","file-image-twotone","file-jpg-outlined","file-markdown-filled","file-markdown-outlined","file-markdown-twotone","file-outlined","file-pdf-filled","file-pdf-outlined","file-pdf-twotone","file-ppt-filled","file-ppt-outlined","file-ppt-twotone","file-protect-outlined","file-search-outlined","file-sync-outlined","file-text-filled","file-text-outlined","file-text-twotone","file-twotone","file-unknown-filled","file-unknown-outlined","file-unknown-twotone","file-word-filled","file-word-outlined","file-word-twotone","file-zip-filled","file-zip-outlined","file-zip-twotone","filter-filled","filter-outlined","filter-twotone","fire-filled","fire-outlined","fire-twotone","flag-filled","flag-outlined","flag-twotone","folder-add-filled","folder-add-outlined","folder-add-twotone","folder-filled","folder-open-filled","folder-open-outlined","folder-open-twotone","folder-outlined","folder-twotone","folder-view-outlined","font-colors-outlined","font-size-outlined","fork-outlined","form-outlined","format-painter-filled","format-painter-outlined","forward-filled","forward-outlined","frown-filled","frown-outlined","frown-twotone","fullscreen-exit-outlined","fullscreen-outlined","function-outlined","fund-filled","fund-outlined","fund-projection-screen-outlined","fund-twotone","fund-view-outlined","funnel-plot-filled","funnel-plot-outlined","funnel-plot-twotone","gateway-outlined","gif-outlined","gift-filled","gift-outlined","gift-twotone","github-filled","github-outlined","gitlab-filled","gitlab-outlined","global-outlined","gold-filled","gold-outlined","gold-twotone","golden-filled","google-circle-filled","google-outlined","google-plus-circle-filled","google-plus-outlined","google-plus-square-filled","google-square-filled","group-outlined","hdd-filled","hdd-outlined","hdd-twotone","heart-filled","heart-outlined","heart-twotone","heat-map-outlined","highlight-filled","highlight-outlined","highlight-twotone","history-outlined","home-filled","home-outlined","home-twotone","hourglass-filled","hourglass-outlined","hourglass-twotone","html5-filled","html5-outlined","html5-twotone","idcard-filled","idcard-outlined","idcard-twotone","ie-circle-filled","ie-outlined","ie-square-filled","import-outlined","inbox-outlined","info-circle-filled","info-circle-outlined","info-circle-twotone","info-outlined","insert-row-above-outlined","insert-row-below-outlined","insert-row-left-outlined","insert-row-right-outlined","instagram-filled","instagram-outlined","insurance-filled","insurance-outlined","insurance-twotone","interaction-filled","interaction-outlined","interaction-twotone","issues-close-outlined","italic-outlined","key-outlined","laptop-outlined","layout-filled","layout-outlined","layout-twotone","left-circle-filled","left-circle-outlined","left-circle-twotone","left-outlined","left-square-filled","left-square-outlined","left-square-twotone","like-filled","like-outlined","like-twotone","line-chart-outlined","line-height-outlined","line-outlined","link-outlined","linkedin-filled","linkedin-outlined","loading-3-quarters-outlined","loading-outlined","lock-filled","lock-outlined","lock-twotone","login-outlined","logout-outlined","mac-command-filled","mac-command-outlined","mail-filled","mail-outlined","mail-twotone","man-outlined","medicine-box-filled","medicine-box-outlined","medicine-box-twotone","medium-circle-filled","medium-outlined","medium-square-filled","medium-workmark-outlined","meh-filled","meh-outlined","meh-twotone","menu-fold-outlined","menu-outlined","menu-unfold-outlined","merge-cells-outlined","message-filled","message-outlined","message-twotone","minus-circle-filled","minus-circle-outlined","minus-circle-twotone","minus-outlined","minus-square-filled","minus-square-outlined","minus-square-twotone","mobile-filled","mobile-outlined","mobile-twotone","money-collect-filled","money-collect-outlined","money-collect-twotone","monitor-outlined","more-outlined","node-collapse-outlined","node-expand-outlined","node-index-outlined","notification-filled","notification-outlined","notification-twotone","number-outlined","one-to-one-outlined","ordered-list-outlined","paper-clip-outlined","partition-outlined","pause-circle-filled","pause-circle-outlined","pause-circle-twotone","pause-outlined","pay-circle-filled","pay-circle-outlined","percentage-outlined","phone-filled","phone-outlined","phone-twotone","pic-center-outlined","pic-left-outlined","pic-right-outlined","picture-filled","picture-outlined","picture-twotone","pie-chart-filled","pie-chart-outlined","pie-chart-twotone","play-circle-filled","play-circle-outlined","play-circle-twotone","play-square-filled","play-square-outlined","play-square-twotone","plus-circle-filled","plus-circle-outlined","plus-circle-twotone","plus-outlined","plus-square-filled","plus-square-outlined","plus-square-twotone","pound-circle-filled","pound-circle-outlined","pound-circle-twotone","pound-outlined","poweroff-outlined","printer-filled","printer-outlined","printer-twotone","profile-filled","profile-outlined","profile-twotone","project-filled","project-outlined","project-twotone","property-safety-filled","property-safety-outlined","property-safety-twotone","pull-request-outlined","pushpin-filled","pushpin-outlined","pushpin-twotone","qq-circle-filled","qq-outlined","qq-square-filled","qrcode-outlined","question-circle-filled","question-circle-outlined","question-circle-twotone","question-outlined","radar-chart-outlined","radius-bottomleft-outlined","radius-bottomright-outlined","radius-setting-outlined","radius-upleft-outlined","radius-upright-outlined","read-filled","read-outlined","reconciliation-filled","reconciliation-outlined","reconciliation-twotone","red-envelope-filled","red-envelope-outlined","red-envelope-twotone","reddit-circle-filled","reddit-outlined","reddit-square-filled","redo-outlined","reload-outlined","rest-filled","rest-outlined","rest-twotone","retweet-outlined","right-circle-filled","right-circle-outlined","right-circle-twotone","right-outlined","right-square-filled","right-square-outlined","right-square-twotone","rise-outlined","robot-filled","robot-outlined","rocket-filled","rocket-outlined","rocket-twotone","rollback-outlined","rotate-left-outlined","rotate-right-outlined","safety-certificate-filled","safety-certificate-outlined","safety-certificate-twotone","safety-outlined","save-filled","save-outlined","save-twotone","scan-outlined","schedule-filled","schedule-outlined","schedule-twotone","scissor-outlined","search-outlined","security-scan-filled","security-scan-outlined","security-scan-twotone","select-outlined","send-outlined","setting-filled","setting-outlined","setting-twotone","shake-outlined","share-alt-outlined","shop-filled","shop-outlined","shop-twotone","shopping-cart-outlined","shopping-filled","shopping-outlined","shopping-twotone","shrink-outlined","signal-filled","sisternode-outlined","sketch-circle-filled","sketch-outlined","sketch-square-filled","skin-filled","skin-outlined","skin-twotone","skype-filled","skype-outlined","slack-circle-filled","slack-outlined","slack-square-filled","slack-square-outlined","sliders-filled","sliders-outlined","sliders-twotone","small-dash-outlined","smile-filled","smile-outlined","smile-twotone","snippets-filled","snippets-outlined","snippets-twotone","solution-outlined","sort-ascending-outlined","sort-descending-outlined","sound-filled","sound-outlined","sound-twotone","split-cells-outlined","star-filled","star-outlined","star-twotone","step-backward-filled","step-backward-outlined","step-forward-filled","step-forward-outlined","stock-outlined","stop-filled","stop-outlined","stop-twotone","strikethrough-outlined","subnode-outlined","swap-left-outlined","swap-outlined","swap-right-outlined","switcher-filled","switcher-outlined","switcher-twotone","sync-outlined","table-outlined","tablet-filled","tablet-outlined","tablet-twotone","tag-filled","tag-outlined","tag-twotone","tags-filled","tags-outlined","tags-twotone","taobao-circle-filled","taobao-circle-outlined","taobao-outlined","taobao-square-filled","team-outlined","thunderbolt-filled","thunderbolt-outlined","thunderbolt-twotone","to-top-outlined","tool-filled","tool-outlined","tool-twotone","trademark-circle-filled","trademark-circle-outlined","trademark-circle-twotone","trademark-outlined","transaction-outlined","translation-outlined","trophy-filled","trophy-outlined","trophy-twotone","twitter-circle-filled","twitter-outlined","twitter-square-filled","underline-outlined","undo-outlined","ungroup-outlined","unlock-filled","unlock-outlined","unlock-twotone","unordered-list-outlined","up-circle-filled","up-circle-outlined","up-circle-twotone","up-outlined","up-square-filled","up-square-outlined","up-square-twotone","upload-outlined","usb-filled","usb-outlined","usb-twotone","user-add-outlined","user-delete-outlined","user-outlined","user-switch-outlined","usergroup-add-outlined","usergroup-delete-outlined","verified-outlined","vertical-align-bottom-outlined","vertical-align-middle-outlined","vertical-align-top-outlined","vertical-left-outlined","vertical-right-outlined","video-camera-add-outlined","video-camera-filled","video-camera-outlined","video-camera-twotone","wallet-filled","wallet-outlined","wallet-twotone","warning-filled","warning-outlined","warning-twotone","wechat-filled","wechat-outlined","weibo-circle-filled","weibo-circle-outlined","weibo-outlined","weibo-square-filled","weibo-square-outlined","whats-app-outlined","wifi-outlined","windows-filled","windows-outlined","woman-outlined","yahoo-filled","yahoo-outlined","youtube-filled","youtube-outlined","yuque-filled","yuque-outlined","zhihu-circle-filled","zhihu-outlined","zhihu-square-filled","zoom-in-outlined","zoom-out-outlined"]};function gX(D,y,C){const S=(y-1)*Number(C);return S+Number(C)>=D.length?D.slice(S,D.length):D.slice(S,S+Number(C))}function hX(D,y){const C=Ea(1),S=Ea(y),_=ki(()=>gX(mn(D),mn(C),mn(S))),M=ki(()=>mn(D).length);function z(Y){C.value=Y}function K(Y){S.value=Y}return{setCurrentPage:z,getTotal:M,setPageSize:K,getPaginationList:_}}const pX=["icon-download-count","icon-dynamic-avatar-1","icon-dynamic-avatar-2","icon-dynamic-avatar-3","icon-dynamic-avatar-4","icon-dynamic-avatar-5","icon-dynamic-avatar-6","icon-moon","icon-sun","icon-test","icon-total-sales","icon-transaction","icon-visit-count"],bX={class:"flex justify-between"},yX={key:0},wX={class:"flex flex-wrap px-2"},CX=["onClick","title"],xX={key:0,class:"flex py-2 items-center justify-center"},SX={key:1,class:"p-5"},kX={key:0,class:"cursor-pointer px-2 py-1 flex items-center"},EX=Ls({inheritAttrs:!1,__name:"IconPicker",props:{value:{default:""},width:{default:"100%"},pageSize:{default:140},copy:{type:Boolean,default:!1},mode:{default:"iconify"},allowClear:{type:Boolean,default:!0},readonly:{type:Boolean,default:!1}},emits:["change","update:value"],setup(D,{emit:y}){function C(){const Be=PH.prefix;return PH.icons.map(gt=>`${Be}:${gt}`)}function S(){return pX.map(Be=>Be.replace("icon-",""))}const _=D,M=y,z=_.mode==="svg",K=z?S():C(),Y=Ea(""),ye=Ea(!1),Q=Ea(K),W=Ea(),ve=()=>{W.value&&W.value.click()},{t:he}=Rp(),{prefixCls:be}=Fg("icon-picker"),ae=a9(Te,100),{getPaginationList:Ae,getTotal:Ye,setCurrentPage:Ve}=hX(Q,_.pageSize);vk(()=>{Y.value=_.value}),Nu(()=>Y.value,Be=>{M("update:value",Be),M("change",Be)});function L(Be){Ve(Be)}function _e(Be){Y.value=Be,_.copy&&lX(Be,he("component.icon.copy"))}function Te(Be){const gt=Be.target.value;if(!gt){Ve(1),Q.value=K;return}Q.value=K.filter(Se=>Se.includes(gt))}return(Be,gt)=>(Ha(),ou(mn(Bd),{style:Bg({width:Be.width}),placeholder:mn(he)("component.icon.placeholder"),class:Xu(mn(be)),value:Y.value,"onUpdate:value":gt[1]||(gt[1]=Se=>Y.value=Se),onClick:ve,allowClear:_.allowClear,readonly:_.readonly},{addonAfter:qa(()=>[Fa(mn(WK),{placement:"bottomLeft",trigger:"click",modelValue:ye.value,"onUpdate:modelValue":gt[0]||(gt[0]=Se=>ye.value=Se),overlayClassName:`${mn(be)}-popover`},{title:qa(()=>[$s("div",bX,[Fa(mn(Bd),{placeholder:mn(he)("component.icon.search"),onChange:mn(ae),allowClear:""},null,8,["placeholder","onChange"])])]),content:qa(()=>[mn(Ae).length?(Ha(),ms("div",yX,[Fa(mn(RK),{class:"border border-solid border-t-0"},{default:qa(()=>[$s("ul",wX,[(Ha(!0),ms(Z$,null,Fp(mn(Ae),Se=>(Ha(),ms("li",{key:Se,class:Xu([Y.value===Se?"border border-primary":"","p-2 w-1/8 cursor-pointer mr-1 mt-1 flex justify-center items-center border border-solid hover:border-primary"]),onClick:je=>_e(Se),title:Se},[z?(Ha(),ou(MH,{key:0,name:Se},null,8,["name"])):(Ha(),ou(Y$,{key:1,icon:Se},null,8,["icon"]))],10,CX))),128))])]),_:1}),mn(Ye)>=Be.pageSize?(Ha(),ms("div",xX,[Fa(mn(VK),{showLessItems:"",size:"small",pageSize:Be.pageSize,total:mn(Ye),onChange:L},null,8,["pageSize","total"])])):Md("",!0)])):(Ha(),ms("div",SX,[Fa(mn(UK))]))]),default:qa(()=>[$s("div",{ref_key:"trigger",ref:W},[z&&Y.value?(Ha(),ms("span",kX,[Fa(MH,{name:Y.value},null,8,["name"])])):(Ha(),ou(Y$,{key:1,icon:Y.value||"ion:apps-outline",class:"cursor-pointer px-2 py-1"},null,8,["icon"]))],512)]),_:1},8,["modelValue","overlayClassName"])]),_:1},8,["style","placeholder","class","value","allowClear","readonly"]))}}),TX=Ls({name:"ApiRadioGroup",__name:"ApiRadioGroup",props:{api:{type:Function,default:null},params:{type:[Object,String],default:()=>({})},value:{type:[String,Number,Boolean]},isBtn:{type:[Boolean],default:!1},numberToString:Co.bool,resultField:Co.string.def(""),labelField:Co.string.def("label"),valueField:Co.string.def("value"),immediate:Co.bool.def(!0),beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null}},emits:["options-change","change","update:value"],setup(D,{emit:y}){const C=D,S=y,_=Ea([]),M=Ea(!1),z=Ea([]),K=o9(),[Y]=ky(C,"value","change",z),ye=ki(()=>{const{labelField:he,valueField:be,numberToString:ae}=C;return mn(_).reduce((Ae,Ye)=>{if(Ye){const Ve=Ye[be];Ae.push(Ci({label:Ye[he],value:ae?`${Ve}`:Ve},lM(Ye,[he,be])))}return Ae},[])});Nu(()=>C.params,(he,be)=>{u9(he,be)||Q()},{deep:!0,immediate:C.immediate});function Q(){return zc(this,null,function*(){let{api:he,beforeFetch:be,afterFetch:ae,params:Ae,resultField:Ye}=C;if(!(!he||!Pi(he))){_.value=[];try{M.value=!0,be&&Pi(be)&&(Ae=(yield be(Ae))||Ae);let Ve=yield he(Ae);if(ae&&Pi(ae)&&(Ve=(yield ae(Ve))||Ve),Array.isArray(Ve)){_.value=Ve,W();return}Ye&&(_.value=_d(Ve,Ye)||[]),W()}catch(Ve){}finally{M.value=!1}}})}function W(){S("options-change",mn(ye))}function ve(...he){z.value=he}return(he,be)=>(Ha(),ou(mn(oM).Group,pf(mn(K),{value:mn(Y),"onUpdate:value":be[0]||(be[0]=ae=>fM(Y)?Y.value=ae:null),"button-style":"solid"}),{default:qa(()=>[(Ha(!0),ms(Z$,null,Fp(ye.value,ae=>(Ha(),ms(Z$,{key:`${ae.value}`},[C.isBtn?(Ha(),ou(mn(oM).Button,{key:0,value:ae.value,disabled:ae.disabled,onClick:Ae=>ve(ae)},{default:qa(()=>[Ng(Bp(ae.label),1)]),_:2},1032,["value","disabled","onClick"])):(Ha(),ou(mn(oM),{key:1,value:ae.value,disabled:ae.disabled,onClick:Ae=>ve(ae)},{default:qa(()=>[Ng(Bp(ae.label),1)]),_:2},1032,["value","disabled","onClick"]))],64))),128))]),_:1},16,["value"]))}}),AX=Ls({name:"ApiSelect",inheritAttrs:!1,__name:"ApiSelect",props:{value:{type:[Array,Object,String,Number]},numberToString:Co.bool,api:{type:Function,default:null},params:Co.any.def({}),resultField:Co.string.def(""),labelField:Co.string.def("label"),valueField:Co.string.def("value"),immediate:Co.bool.def(!0),alwaysLoad:Co.bool.def(!1),options:{type:Array,default:[]},beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null}},emits:["options-change","change","update:value"],setup(D,{emit:y}){const C=D,S=y,_=Ea([]),M=Ea(!1),z=Ea(!1),K=Ea([]),{t:Y}=Rp(),[ye]=ky(C,"value","change",K),Q=ki(()=>{const{labelField:ae,valueField:Ae,numberToString:Ye}=C;let Ve=mn(_).reduce((L,_e)=>{if(_e){const Te=_d(_e,Ae);L.push(Ic(Ci({},lM(_e,[ae,Ae])),{label:_d(_e,ae),value:Ye?`${Te}`:Te}))}return L},[]);return Ve.length>0?Ve:C.options});Nu(()=>ye.value,ae=>{S("update:value",ae)}),Nu(()=>C.params,(ae,Ae)=>{u9(ae,Ae)||W()},{deep:!0,immediate:C.immediate});function W(){return zc(this,null,function*(){let{api:ae,beforeFetch:Ae,afterFetch:Ye,params:Ve,resultField:L}=C;if(!(!ae||!Pi(ae)||M.value)){_.value=[];try{M.value=!0,Ae&&Pi(Ae)&&(Ve=(yield Ae(Ve))||Ve);let _e=yield ae(Ve);if(Ye&&Pi(Ye)&&(_e=(yield Ye(_e))||_e),z.value=!0,Array.isArray(_e)){_.value=_e,he();return}L&&(_.value=_d(_e,L)||[]),he()}catch(_e){z.value=!1}finally{M.value=!1}}})}function ve(ae){return zc(this,null,function*(){ae&&(C.alwaysLoad?yield W():!C.immediate&&!mn(z)&&(yield W()))})}function he(){S("options-change",mn(Q))}function be(ae,...Ae){K.value=Ae}return(ae,Ae)=>(Ha(),ou(mn(s9),pf({onDropdownVisibleChange:ve},ae.$attrs,{onChange:be,options:Q.value,value:mn(ye),"onUpdate:value":Ae[0]||(Ae[0]=Ye=>fM(ye)?ye.value=Ye:null)}),Ey({_:2},[Fp(Object.keys(ae.$slots),Ye=>({name:Ye,fn:qa(Ve=>[Ty(ae.$slots,Ye,dk(mk(Ve||{})))])})),M.value?{name:"suffixIcon",fn:qa(()=>[Fa(mn(sk),{spin:""})]),key:"0"}:void 0,M.value?{name:"notFoundContent",fn:qa(()=>[$s("span",null,[Fa(mn(sk),{spin:"",class:"mr-1"}),Ng(" "+Bp(mn(Y)("component.form.apiSelectNotFound")),1)])]),key:"1"}:void 0]),1040,["options","value"]))}}),OX=Ls({name:"ApiTree",__name:"ApiTree",props:{api:{type:Function},params:{type:Object},immediate:{type:Boolean,default:!0},resultField:{type:String,default:""},beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null},value:{type:Array}},emits:["options-change","change","update:value"],setup(D,{emit:y}){const C=D,S=y,_=cL(),M=Ea([]),z=Ea(!1),K=Ea(!1),Y=Ea([]),[ye]=ky(C,"value","change",Y),Q=ki(()=>Ci(Ci({},C.api?{treeData:mn(M)}:{}),_));Nu(()=>ye.value,ve=>{S("update:value",ve)}),Nu(()=>C.params,()=>{!mn(z)&&W()},{deep:!0}),Nu(()=>C.immediate,ve=>{ve&&!z.value&&W()}),fL(()=>{C.immediate&&W()});function W(){return zc(this,null,function*(){let{api:ve,beforeFetch:he,afterFetch:be,params:ae,resultField:Ae}=C;if(!ve||!Pi(ve))return;K.value=!0,M.value=[];let Ye;try{he&&Pi(he)&&(ae=(yield he(ae))||ae),Ye=yield ve(ae),be&&Pi(be)&&(Ye=(yield be(Ye))||Ye)}catch(Ve){}K.value=!1,Ye&&(Ae&&(Ye=_d(Ye,Ae)||[]),M.value=Ye||[],z.value=!0,S("options-change",M.value))})}return(ve,he)=>(Ha(),ou(mn(jK),pf(Q.value,{selectedKeys:mn(ye),"onUpdate:selectedKeys":he[0]||(he[0]=be=>fM(ye)?ye.value=be:null)}),Ey({_:2},[Fp(Object.keys(ve.$slots),be=>({name:be,fn:qa(ae=>[Ty(ve.$slots,be,dk(mk(ae||{})))])}))]),1040,["selectedKeys"]))}}),DX=Ls({name:"ApiTreeSelect",__name:"ApiTreeSelect",props:{api:{type:Function},params:{type:Object},immediate:{type:Boolean,default:!0},async:{type:Boolean,default:!1},resultField:Co.string.def(""),labelField:Co.string.def("title"),valueField:Co.string.def("value"),childrenField:Co.string.def("children"),beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null}},emits:["options-change","change","load-data"],setup(D,{emit:y}){const C=D,S=y,_=cL(),M=Ea([]),z=Ea(!1),K=Ea(!1),Y=ki(()=>Ci(Ci({},C.api?{treeData:mn(M)}:{}),_)),ye={children:C.childrenField,value:C.valueField,label:C.labelField};function Q(...he){S("change",...he)}Nu(()=>C.params,()=>{!mn(z)&&ve()},{deep:!0}),Nu(()=>C.immediate,he=>{he&&!z.value&&ve()}),fL(()=>{C.immediate&&ve()});function W(he){return new Promise(be=>{if(NK(he.children)&&he.children.length>0){be();return}S("load-data",{treeData:M,treeNode:he,resolve:be})})}function ve(){return zc(this,null,function*(){let{api:he,beforeFetch:be,afterFetch:ae,params:Ae,resultField:Ye}=C;if(!he||!Pi(he)||K.value)return;K.value=!0,M.value=[];let Ve;try{be&&Pi(be)&&(Ae=(yield be(Ae))||Ae),Ve=yield he(Ae),ae&&Pi(ae)&&(Ve=(yield ae(Ve))||Ve)}catch(L){}K.value=!1,Ve&&(Ye&&(Ve=_d(Ve,Ye)||[]),M.value=Ve||[],z.value=!0,S("options-change",M.value))})}return(he,be)=>(Ha(),ou(mn(l9),pf(Y.value,{onChange:Q,"field-names":ye,"load-data":D.async?W:void 0}),Ey({_:2},[Fp(Object.keys(he.$slots),ae=>({name:ae,fn:qa(Ae=>[Ty(he.$slots,ae,dk(mk(Ae||{})))])})),K.value?{name:"suffixIcon",fn:qa(()=>[Fa(mn(sk),{spin:""})]),key:"0"}:void 0]),1040,["load-data"]))}}),_X=Ls({name:"ApiCascader",__name:"ApiCascader",props:{value:{type:Array},api:{type:Function,default:null},numberToString:Co.bool,resultField:Co.string.def(""),labelField:Co.string.def("label"),valueField:Co.string.def("value"),childrenField:Co.string.def("children"),apiParamKey:Co.string.def("parentCode"),immediate:Co.bool.def(!0),initFetchParams:{type:Object,default:()=>({})},isLeaf:{type:Function,default:null},displayRenderArray:{type:Array},beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null}},emits:["change","defaultChange"],setup(D,{emit:y}){const C=D,S=y,_=Ea([]),M=Ea([]),z=Ea(!1),K=Ea([]),Y=Ea(!0),{t:ye}=Rp(),[Q]=ky(C,"value","change",K);Nu(_,Ae=>{const Ye=W(Ae);M.value=Ye},{deep:!0});function W(Ae){const{labelField:Ye,valueField:Ve,numberToString:L,childrenField:_e,isLeaf:Te}=C;return Ae.reduce((Be,gt)=>{if(gt){const Se=gt[Ve],je=Ic(Ci({},lM(gt,[Ye,Ve])),{label:gt[Ye],value:L?`${Se}`:Se,isLeaf:Te&&typeof Te=="function"?Te(gt):!1}),Ze=Reflect.get(gt,_e);Ze&&Reflect.set(je,_e,W(Ze)),Be.push(je)}return Be},[])}function ve(){return zc(this,null,function*(){let{api:Ae,beforeFetch:Ye,initFetchParams:Ve,afterFetch:L,resultField:_e}=C;if(!(!Ae||!Pi(Ae))){_.value=[],z.value=!0;try{Ye&&Pi(Ye)&&(Ve=(yield Ye(Ve))||Ve);let Te=yield Ae(Ve);if(L&&Pi(L)&&(Te=(yield L(Te))||Te),Array.isArray(Te)){_.value=Te;return}_e&&(_.value=_d(Te,_e)||[])}catch(Te){}finally{z.value=!1}}})}const he=Ae=>zc(this,null,function*(){const Ye=Ae[Ae.length-1];Ye.loading=!0;let{api:Ve,beforeFetch:L,afterFetch:_e,resultField:Te,apiParamKey:Be}=C;if(!(!Ve||!Pi(Ve)))try{let gt={[Be]:Reflect.get(Ye,"value")};L&&Pi(L)&&(gt=(yield L(gt))||gt);let Se=yield Ve(gt);if(_e&&Pi(_e)&&(Se=(yield _e(Se))||Se),Array.isArray(Se)){const je=W(Se);Ye.children=je;return}if(Te){const je=W(_d(Se,Te)||[]);Ye.children=je}}catch(gt){}finally{Ye.loading=!1}});Nu(()=>C.immediate,()=>{C.immediate&&ve()},{immediate:!0}),Nu(()=>C.initFetchParams,()=>{!mn(Y)&&ve()},{deep:!0});function be(Ae,Ye){K.value=Ye,S("defaultChange",Ae,Ye)}const ae=({labels:Ae,selectedOptions:Ye})=>mn(K).length===(Ye==null?void 0:Ye.length)?Ae.join(" / "):C.displayRenderArray?C.displayRenderArray.join(" / "):"";return(Ae,Ye)=>(Ha(),ou(mn(c9),{value:mn(Q),"onUpdate:value":Ye[0]||(Ye[0]=Ve=>fM(Q)?Q.value=Ve:null),options:M.value,"load-data":he,"change-on-select":"",onChange:be,displayRender:ae},Ey({_:2},[z.value?{name:"suffixIcon",fn:qa(()=>[Fa(mn(sk),{spin:""})]),key:"0"}:void 0,z.value?{name:"notFoundContent",fn:qa(()=>[$s("span",null,[Fa(mn(sk),{spin:"",class:"mr-1"}),Ng(" "+Bp(mn(ye)("component.form.apiSelectNotFound")),1)])]),key:"1"}:void 0]),1032,["value","options"]))}}),MX=Ls({name:"ApiTransfer",__name:"ApiTransfer",props:{value:{type:Array},api:{type:Function,default:null},params:{type:Object},dataSource:{type:Array},immediate:Co.bool.def(!0),alwaysLoad:Co.bool.def(!1),beforeFetch:{type:Function,default:null},afterFetch:{type:Function,default:null},resultField:Co.string.def(""),labelField:Co.string.def("title"),valueField:Co.string.def("key"),showSearch:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},filterOption:{type:Function},selectedKeys:{type:Array},showSelectAll:{type:Boolean,default:!1},targetKeys:{type:Array}},emits:["options-change","change"],setup(D,{emit:y}){const C=D,S=y,_=Ea([]),M=Ea([]),z=ki(()=>{const{labelField:W,valueField:ve}=C;return mn(_).reduce((he,be)=>(be&&he.push(Ic(Ci({},lM(be,[W,ve])),{title:be[W],key:be[ve]})),he),[])}),K=ki(()=>Array.isArray(C.value)?C.value:Array.isArray(C.targetKeys)?C.targetKeys:[]);function Y(W,ve,he){M.value=W,S("change",W)}vk(()=>{C.immediate&&!C.alwaysLoad&&ye()}),Nu(()=>C.params,()=>{ye()},{deep:!0});function ye(){return zc(this,null,function*(){let{api:W,beforeFetch:ve,afterFetch:he,params:be,resultField:ae,dataSource:Ae}=C;if(!W||!Pi(W)){Array.isArray(Ae)&&(_.value=Ae);return}_.value=[];try{ve&&Pi(ve)&&(be=(yield ve(be))||be);let Ye=yield W(be);if(he&&Pi(he)&&(Ye=(yield he(Ye))||Ye),Array.isArray(Ye)){_.value=Ye,Q();return}ae&&(_.value=_d(Ye,ae)||[]),Q()}catch(Ye){}})}function Q(){S("options-change",mn(z))}return(W,ve)=>(Ha(),ou(mn(f9),{"data-source":z.value,"filter-option":D.filterOption,render:he=>he.title,showSelectAll:D.showSelectAll,selectedKeys:D.selectedKeys,targetKeys:K.value,showSearch:D.showSearch,disabled:D.disabled,onChange:Y},null,8,["data-source","filter-option","render","showSelectAll","selectedKeys","targetKeys","showSearch","disabled"]))}});function BX(D){const y=D.split(","),S=y[0].match(/:(.*?);/)[1],_=window.atob(y[1]);let M=_.length;const z=new Uint8Array(M);for(;M--;)z[M]=_.charCodeAt(M);return new Blob([z],{type:S})}const J$=(D,y)=>D.push.apply(D,y),Sy=D=>D.sort((y,C)=>y.i-C.i||y.j-C.j),RH=D=>{const y={};let C=1;return D.forEach(S=>{y[S]=C,C+=1}),y};var PX={4:[[1,2],[2,3]],5:[[1,3],[2,3],[2,4]],6:[[1,2],[2,4],[4,5]],7:[[1,3],[2,3],[4,5],[4,6]],8:[[2,4],[4,6]]};const NH=2050,FH=1e3,RX=PX,NX=10,FX=1e4,p9=10,b9=50,y9=20,w9=/^[A-Z\xbf-\xdf][^A-Z\xbf-\xdf]+$/,IX=/^[^A-Z\xbf-\xdf]+[A-Z\xbf-\xdf]$/,zX=/^[A-Z\xbf-\xdf]+$/,C9=/^[^a-z\xdf-\xff]+$/,$X=/^[a-z\xdf-\xff]+$/,LX=/^[^A-Z\xbf-\xdf]+$/,HX=/[a-z\xdf-\xff]/,VX=/[A-Z\xbf-\xdf]/,UX=/[^A-Za-z\xbf-\xdf]/gi,WX=/^\d+$/,vL=new Date().getFullYear(),jX={recentYear:/19\d\d|200\d|201\d|202\d/g},x9=[" ",",",";",":","|","/","\\","_",".","-"],qX=x9.length;class GX{match({password:y}){const C=[...this.getMatchesWithoutSeparator(y),...this.getMatchesWithSeparator(y)],S=this.filterNoise(C);return Sy(S)}getMatchesWithSeparator(y){const C=[],S=/^(\d{1,4})([\s/\\_.-])(\d{1,2})\2(\d{1,4})$/;for(let _=0;_<=Math.abs(y.length-6);_+=1)for(let M=_+5;M<=_+9&&!(M>=y.length);M+=1){const z=y.slice(_,+M+1||9e9),K=S.exec(z);if(K!=null){const Y=this.mapIntegersToDayMonthYear([parseInt(K[1],10),parseInt(K[3],10),parseInt(K[4],10)]);Y!=null&&C.push({pattern:"date",token:z,i:_,j:M,separator:K[2],year:Y.year,month:Y.month,day:Y.day})}}return C}getMatchesWithoutSeparator(y){const C=[],S=/^\d{4,8}$/,_=M=>Math.abs(M.year-vL);for(let M=0;M<=Math.abs(y.length-4);M+=1)for(let z=M+3;z<=M+7&&!(z>=y.length);z+=1){const K=y.slice(M,+z+1||9e9);if(S.exec(K)){const Y=[],ye=K.length;if(RX[ye].forEach(([W,ve])=>{const he=this.mapIntegersToDayMonthYear([parseInt(K.slice(0,W),10),parseInt(K.slice(W,ve),10),parseInt(K.slice(ve),10)]);he!=null&&Y.push(he)}),Y.length>0){let W=Y[0],ve=_(Y[0]);Y.slice(1).forEach(he=>{const be=_(he);be<ve&&(W=he,ve=be)}),C.push({pattern:"date",token:K,i:M,j:z,separator:"",year:W.year,month:W.month,day:W.day})}}}return C}filterNoise(y){return y.filter(C=>{let S=!1;const _=y.length;for(let M=0;M<_;M+=1){const z=y[M];if(C!==z&&z.i<=C.i&&z.j>=C.j){S=!0;break}}return!S})}mapIntegersToDayMonthYear(y){if(y[1]>31||y[1]<=0)return null;let C=0,S=0,_=0;for(let M=0,z=y.length;M<z;M+=1){const K=y[M];if(K>99&&K<FH||K>NH)return null;K>31&&(S+=1),K>12&&(C+=1),K<=0&&(_+=1)}return S>=2||C===3||_>=2?null:this.getDayMonth(y)}getDayMonth(y){const C=[[y[2],y.slice(0,2)],[y[0],y.slice(1,3)]],S=C.length;for(let _=0;_<S;_+=1){const[M,z]=C[_];if(FH<=M&&M<=NH){const K=this.mapIntegersToDayMonth(z);return K!=null?{year:M,month:K.month,day:K.day}:null}}for(let _=0;_<S;_+=1){const[M,z]=C[_],K=this.mapIntegersToDayMonth(z);if(K!=null)return{year:this.twoToFourDigitYear(M),month:K.month,day:K.day}}return null}mapIntegersToDayMonth(y){const C=[y,y.slice().reverse()];for(let S=0;S<C.length;S+=1){const _=C[S],M=_[0],z=_[1];if(M>=1&&M<=31&&z>=1&&z<=12)return{day:M,month:z}}return null}twoToFourDigitYear(y){return y>99?y:y>50?y+1900:y+2e3}}const Dd=new Uint32Array(65536),KX=(D,y)=>{const C=D.length,S=y.length,_=1<<C-1;let M=-1,z=0,K=C,Y=C;for(;Y--;)Dd[D.charCodeAt(Y)]|=1<<Y;for(Y=0;Y<S;Y++){let ye=Dd[y.charCodeAt(Y)];const Q=ye|z;ye|=(ye&M)+M^M,z|=~(ye|M),M&=ye,z&_&&K++,M&_&&K--,z=z<<1|1,M=M<<1|~(Q|z),z&=Q}for(Y=C;Y--;)Dd[D.charCodeAt(Y)]=0;return K},XX=(D,y)=>{const C=y.length,S=D.length,_=[],M=[],z=Math.ceil(C/32),K=Math.ceil(S/32);for(let be=0;be<z;be++)M[be]=-1,_[be]=0;let Y=0;for(;Y<K-1;Y++){let be=0,ae=-1;const Ae=Y*32,Ye=Math.min(32,S)+Ae;for(let Ve=Ae;Ve<Ye;Ve++)Dd[D.charCodeAt(Ve)]|=1<<Ve;for(let Ve=0;Ve<C;Ve++){const L=Dd[y.charCodeAt(Ve)],_e=M[Ve/32|0]>>>Ve&1,Te=_[Ve/32|0]>>>Ve&1,Be=L|be,gt=((L|Te)&ae)+ae^ae|L|Te;let Se=be|~(gt|ae),je=ae&gt;Se>>>31^_e&&(M[Ve/32|0]^=1<<Ve),je>>>31^Te&&(_[Ve/32|0]^=1<<Ve),Se=Se<<1|_e,je=je<<1|Te,ae=je|~(Be|Se),be=Se&Be}for(let Ve=Ae;Ve<Ye;Ve++)Dd[D.charCodeAt(Ve)]=0}let ye=0,Q=-1;const W=Y*32,ve=Math.min(32,S-W)+W;for(let be=W;be<ve;be++)Dd[D.charCodeAt(be)]|=1<<be;let he=S;for(let be=0;be<C;be++){const ae=Dd[y.charCodeAt(be)],Ae=M[be/32|0]>>>be&1,Ye=_[be/32|0]>>>be&1,Ve=ae|ye,L=((ae|Ye)&Q)+Q^Q|ae|Ye;let _e=ye|~(L|Q),Te=Q&L;he+=_e>>>S-1&1,he-=Te>>>S-1&1,_e>>>31^Ae&&(M[be/32|0]^=1<<be),Te>>>31^Ye&&(_[be/32|0]^=1<<be),_e=_e<<1|Ae,Te=Te<<1|Ye,Q=Te|~(Ve|_e),ye=_e&Ve}for(let be=W;be<ve;be++)Dd[D.charCodeAt(be)]=0;return he},YX=(D,y)=>{if(D.length<y.length){const C=y;y=D,D=C}return y.length===0?D.length:D.length<=32?KX(D,y):XX(D,y)},ZX=(D,y,C)=>{const S=D.length<=y.length,_=D.length<=C;return S||_?Math.ceil(D.length/4):C},JX=(D,y,C)=>{let S=0;const _=Object.keys(y).find(M=>{const z=ZX(D,M,C);if(Math.abs(D.length-M.length)>z)return!1;const K=YX(D,M),Y=K<=z;return Y&&(S=K),Y});return _?{levenshteinDistance:S,levenshteinDistanceEntry:_}:{}};var IH={a:["4","@"],b:["8"],c:["(","{","[","<"],d:["6","|)"],e:["3"],f:["#"],g:["6","9","&"],h:["#","|-|"],i:["1","!","|"],k:["<","|<"],l:["!","1","|","7"],m:["^^","nn","2n","/\\\\/\\\\"],n:["//"],o:["0","()"],q:["9"],u:["|_|"],s:["$","5"],t:["+","7"],v:["<",">","/"],w:["^/","uu","vv","2u","2v","\\\\/\\\\/"],x:["%","><"],z:["2"]},q$={warnings:{straightRow:"straightRow",keyPattern:"keyPattern",simpleRepeat:"simpleRepeat",extendedRepeat:"extendedRepeat",sequences:"sequences",recentYears:"recentYears",dates:"dates",topTen:"topTen",topHundred:"topHundred",common:"common",similarToCommon:"similarToCommon",wordByItself:"wordByItself",namesByThemselves:"namesByThemselves",commonNames:"commonNames",userInputs:"userInputs",pwned:"pwned"},suggestions:{l33t:"l33t",reverseWords:"reverseWords",allUppercase:"allUppercase",capitalization:"capitalization",dates:"dates",recentYears:"recentYears",associatedYears:"associatedYears",sequences:"sequences",repeated:"repeated",longerKeyboardPattern:"longerKeyboardPattern",anotherWord:"anotherWord",useWords:"useWords",noNeed:"noNeed",pwned:"pwned"},timeEstimation:{ltSecond:"ltSecond",second:"second",seconds:"seconds",minute:"minute",minutes:"minutes",hour:"hour",hours:"hours",day:"day",days:"days",month:"month",months:"months",year:"year",years:"years",centuries:"centuries"}};class lk{constructor(y=[]){this.parents=y,this.children=new Map}addSub(y,...C){const S=y.charAt(0);this.children.has(S)||this.children.set(S,new lk([...this.parents,S]));let _=this.children.get(S);for(let M=1;M<y.length;M+=1){const z=y.charAt(M);_.hasChild(z)||_.addChild(z),_=_.getChild(z)}return _.subs=(_.subs||[]).concat(C),this}getChild(y){return this.children.get(y)}isTerminal(){return!!this.subs}addChild(y){this.hasChild(y)||this.children.set(y,new lk([...this.parents,y]))}hasChild(y){return this.children.has(y)}}var zH=(D,y)=>(Object.entries(D).forEach(([C,S])=>{S.forEach(_=>{y.addSub(_,C)})}),y);class QX{constructor(){this.matchers={},this.l33tTable=IH,this.trieNodeRoot=zH(IH,new lk),this.dictionary={userInputs:[]},this.rankedDictionaries={},this.rankedDictionariesMaxWordSize={},this.translations=q$,this.graphs={},this.useLevenshteinDistance=!1,this.levenshteinThreshold=2,this.l33tMaxSubstitutions=100,this.maxLength=256,this.setRankedDictionaries()}setOptions(y={}){y.l33tTable&&(this.l33tTable=y.l33tTable,this.trieNodeRoot=zH(y.l33tTable,new lk)),y.dictionary&&(this.dictionary=y.dictionary,this.setRankedDictionaries()),y.translations&&this.setTranslations(y.translations),y.graphs&&(this.graphs=y.graphs),y.useLevenshteinDistance!==void 0&&(this.useLevenshteinDistance=y.useLevenshteinDistance),y.levenshteinThreshold!==void 0&&(this.levenshteinThreshold=y.levenshteinThreshold),y.l33tMaxSubstitutions!==void 0&&(this.l33tMaxSubstitutions=y.l33tMaxSubstitutions),y.maxLength!==void 0&&(this.maxLength=y.maxLength)}setTranslations(y){if(this.checkCustomTranslations(y))this.translations=y;else throw new Error("Invalid translations object fallback to keys")}checkCustomTranslations(y){let C=!0;return Object.keys(q$).forEach(S=>{if(S in y){const _=S;Object.keys(q$[_]).forEach(M=>{M in y[_]||(C=!1)})}else C=!1}),C}setRankedDictionaries(){const y={},C={};Object.keys(this.dictionary).forEach(S=>{y[S]=RH(this.dictionary[S]),C[S]=this.getRankedDictionariesMaxWordSize(this.dictionary[S])}),this.rankedDictionaries=y,this.rankedDictionariesMaxWordSize=C}getRankedDictionariesMaxWordSize(y){const C=y.map(S=>typeof S!="string"?S.toString().length:S.length);return C.length===0?0:C.reduce((S,_)=>Math.max(S,_),-1/0)}buildSanitizedRankedDictionary(y){const C=[];return y.forEach(S=>{const _=typeof S;(_==="string"||_==="number"||_==="boolean")&&C.push(S.toString().toLowerCase())}),RH(C)}extendUserInputsDictionary(y){this.dictionary.userInputs||(this.dictionary.userInputs=[]);const C=[...this.dictionary.userInputs,...y];this.rankedDictionaries.userInputs=this.buildSanitizedRankedDictionary(C),this.rankedDictionariesMaxWordSize.userInputs=this.getRankedDictionariesMaxWordSize(C)}addMatcher(y,C){this.matchers[y]||(this.matchers[y]=C)}}const sa=new QX;class eY{constructor(y){this.defaultMatch=y}match({password:y}){const C=y.split("").reverse().join("");return this.defaultMatch({password:C}).map(S=>Ic(Ci({},S),{token:S.token.split("").reverse().join(""),reversed:!0,i:y.length-1-S.j,j:y.length-1-S.i}))}}class tY{constructor({substr:y,limit:C,trieRoot:S}){this.buffer=[],this.finalPasswords=[],this.substr=y,this.limit=C,this.trieRoot=S}getAllPossibleSubsAtIndex(y){const C=[];let S=this.trieRoot;for(let _=y;_<this.substr.length;_+=1){const M=this.substr.charAt(_);if(S=S.getChild(M),!S)break;C.push(S)}return C}helper({onlyFullSub:y,isFullSub:C,index:S,subIndex:_,changes:M,lastSubLetter:z,consecutiveSubCount:K}){if(this.finalPasswords.length>=this.limit)return;if(S===this.substr.length){y===C&&this.finalPasswords.push({password:this.buffer.join(""),changes:M});return}const Y=[...this.getAllPossibleSubsAtIndex(S)];let ye=!1;for(let Q=S+Y.length-1;Q>=S;Q-=1){const W=Y[Q-S];if(W.isTerminal()){if(z===W.parents.join("")&&K>=3)continue;ye=!0;const ve=W.subs;for(const he of ve){this.buffer.push(he);const be=M.concat({i:_,letter:he,substitution:W.parents.join("")});if(this.helper({onlyFullSub:y,isFullSub:C,index:Q+1,subIndex:_+he.length,changes:be,lastSubLetter:W.parents.join(""),consecutiveSubCount:z===W.parents.join("")?K+1:1}),this.buffer.pop(),this.finalPasswords.length>=this.limit)return}}}if(!y||!ye){const Q=this.substr.charAt(S);this.buffer.push(Q),this.helper({onlyFullSub:y,isFullSub:C&&!ye,index:S+1,subIndex:_+1,changes:M,lastSubLetter:z,consecutiveSubCount:K}),this.buffer.pop()}}getAll(){return this.helper({onlyFullSub:!0,isFullSub:!0,index:0,subIndex:0,changes:[],lastSubLetter:void 0,consecutiveSubCount:0}),this.helper({onlyFullSub:!1,isFullSub:!0,index:0,subIndex:0,changes:[],lastSubLetter:void 0,consecutiveSubCount:0}),this.finalPasswords}}const nY=(D,y,C)=>new tY({substr:D,limit:y,trieRoot:C}).getAll(),rY=(D,y,C)=>{const _=D.changes.filter(ye=>ye.i<y).reduce((ye,Q)=>ye-Q.letter.length+Q.substitution.length,y),M=D.changes.filter(ye=>ye.i>=y&&ye.i<=C),z=M.reduce((ye,Q)=>ye-Q.letter.length+Q.substitution.length,C-y+_),K=[],Y=[];return M.forEach(ye=>{K.findIndex(W=>W.letter===ye.letter&&W.substitution===ye.substitution)<0&&(K.push({letter:ye.letter,substitution:ye.substitution}),Y.push(`${ye.substitution} -> ${ye.letter}`))}),{i:_,j:z,subs:K,subDisplay:Y.join(", ")}};class aY{constructor(y){this.defaultMatch=y}isAlreadyIncluded(y,C){return y.some(S=>Object.entries(S).every(([_,M])=>_==="subs"||M===C[_]))}match({password:y}){const C=[],S=nY(y,sa.l33tMaxSubstitutions,sa.trieNodeRoot);let _=!1,M=!0;return S.forEach(z=>{if(_)return;const K=this.defaultMatch({password:z.password,useLevenshtein:M});M=!1,K.forEach(Y=>{_||(_=Y.i===0&&Y.j===y.length-1);const ye=rY(z,Y.i,Y.j),Q=y.slice(ye.i,+ye.j+1||9e9),W=Ci(Ic(Ci({},Y),{l33t:!0,token:Q}),ye),ve=this.isAlreadyIncluded(C,W);Q.toLowerCase()!==Y.matchedWord&&!ve&&C.push(W)})}),C.filter(z=>z.token.length>1)}}class oY{constructor(){this.l33t=new aY(this.defaultMatch),this.reverse=new eY(this.defaultMatch)}match({password:y}){const C=[...this.defaultMatch({password:y}),...this.reverse.match({password:y}),...this.l33t.match({password:y})];return Sy(C)}defaultMatch({password:y,useLevenshtein:C=!0}){const S=[],_=y.length,M=y.toLowerCase();return Object.keys(sa.rankedDictionaries).forEach(z=>{const K=sa.rankedDictionaries[z],Y=sa.rankedDictionariesMaxWordSize[z],ye=Math.min(Y,_);for(let Q=0;Q<_;Q+=1){const W=Math.min(Q+ye,_);for(let ve=Q;ve<W;ve+=1){const he=M.slice(Q,+ve+1||9e9),be=he in K;let ae={};const Ae=Q===0&&ve===_-1;sa.useLevenshteinDistance&&Ae&&!be&&C&&(ae=JX(he,K,sa.levenshteinThreshold));const Ye=Object.keys(ae).length!==0;if(be||Ye){const Ve=Ye?ae.levenshteinDistanceEntry:he,L=K[Ve];S.push(Ci({pattern:"dictionary",i:Q,j:ve,token:y.slice(Q,+ve+1||9e9),matchedWord:he,rank:L,dictionaryName:z,reversed:!1,l33t:!1},ae))}}}}),S}}class iY{match({password:y,regexes:C=jX}){const S=[];return Object.keys(C).forEach(_=>{const M=C[_];M.lastIndex=0;let z;for(;z=M.exec(y);)if(z){const K=z[0];S.push({pattern:"regex",token:K,i:z.index,j:z.index+z[0].length-1,regexName:_,regexMatch:z})}}),Sy(S)}}var Ip={nCk(D,y){let C=D;if(y>C)return 0;if(y===0)return 1;let S=1;for(let _=1;_<=y;_+=1)S*=C,S/=_,C-=1;return S},log10(D){return D===0?0:Math.log(D)/Math.log(10)},log2(D){return Math.log(D)/Math.log(2)},factorial(D){let y=1;for(let C=2;C<=D;C+=1)y*=C;return y}},uY=({token:D})=>{let y=hy(NX,D.length);y===Number.POSITIVE_INFINITY&&(y=Number.MAX_VALUE);let C;return D.length===1?C=p9+1:C=b9+1,Math.max(y,C)},sY=({year:D,separator:y})=>{let S=Math.max(Math.abs(D-vL),y9)*365;return y&&(S*=4),S};const lY=D=>{const y=D.split(""),C=y.filter(z=>z.match(VX)).length,S=y.filter(z=>z.match(HX)).length;let _=0;const M=Math.min(C,S);for(let z=1;z<=M;z+=1)_+=Ip.nCk(C+S,z);return _};var cY=D=>{const y=D.replace(UX,"");if(y.match(LX)||y.toLowerCase()===y)return 1;const C=[w9,IX,C9],S=C.length;for(let _=0;_<S;_+=1){const M=C[_];if(y.match(M))return 2}return lY(y)};const $H=(D,y)=>{let C=0,S=D.indexOf(y);for(;S>=0;)C+=1,S=D.indexOf(y,S+y.length);return C},fY=({sub:D,token:y})=>{const C=y.toLowerCase(),S=$H(C,D.substitution),_=$H(C,D.letter);return{subbedCount:S,unsubbedCount:_}};var vY=({l33t:D,subs:y,token:C})=>{if(!D)return 1;let S=1;return y.forEach(_=>{const{subbedCount:M,unsubbedCount:z}=fY({sub:_,token:C});if(M===0||z===0)S*=2;else{const K=Math.min(z,M);let Y=0;for(let ye=1;ye<=K;ye+=1)Y+=Ip.nCk(z+M,ye);S*=Y}}),S},dY=({rank:D,reversed:y,l33t:C,subs:S,token:_,dictionaryName:M})=>{const z=D,K=cY(_),Y=vY({l33t:C,subs:S,token:_}),ye=y&&2||1;let Q;return M==="diceware"?Q=hy(6,5)/2:Q=z*K*Y*ye,{baseGuesses:z,uppercaseVariations:K,l33tVariations:Y,calculation:Q}},mY=({regexName:D,regexMatch:y,token:C})=>{const S={alphaLower:26,alphaUpper:26,alpha:52,alphanumeric:62,digits:10,symbols:33};if(D in S)return hy(S[D],C.length);switch(D){case"recentYear":return Math.max(Math.abs(parseInt(y[0],10)-vL),y9)}return 0},gY=({baseGuesses:D,repeatCount:y})=>D*y,hY=({token:D,ascending:y})=>{const C=D.charAt(0);let S=0;return["a","A","z","Z","0","1","9"].includes(C)?S=4:C.match(/\d/)?S=10:S=26,y||(S*=2),S*D.length};const pY=D=>{let y=0;return Object.keys(D).forEach(C=>{const S=D[C];y+=S.filter(_=>!!_).length}),y/=Object.entries(D).length,y},bY=({token:D,graph:y,turns:C})=>{const S=Object.keys(sa.graphs[y]).length,_=pY(sa.graphs[y]);let M=0;const z=D.length;for(let K=2;K<=z;K+=1){const Y=Math.min(C,K-1);for(let ye=1;ye<=Y;ye+=1)M+=Ip.nCk(K-1,ye-1)*S*hy(_,ye)}return M};var yY=({graph:D,token:y,shiftedCount:C,turns:S})=>{let _=bY({token:y,graph:D,turns:S});if(C){const M=y.length-C;if(C===0||M===0)_*=2;else{let z=0;for(let K=1;K<=Math.min(C,M);K+=1)z+=Ip.nCk(C+M,K);_*=z}}return Math.round(_)},wY=()=>qX;const CY=(D,y)=>{let C=1;return D.token.length<y.length&&(D.token.length===1?C=p9:C=b9),C},LH={bruteforce:uY,date:sY,dictionary:dY,regex:mY,repeat:gY,sequence:hY,spatial:yY,separator:wY},xY=(D,y)=>LH[D]?LH[D](y):sa.matchers[D]&&"scoring"in sa.matchers[D]?sa.matchers[D].scoring(y):0;var SY=(D,y)=>{const C={};if("guesses"in D&&D.guesses!=null)return D;const S=CY(D,y),_=xY(D.pattern,D);let M=0;typeof _=="number"?M=_:D.pattern==="dictionary"&&(M=_.calculation,C.baseGuesses=_.baseGuesses,C.uppercaseVariations=_.uppercaseVariations,C.l33tVariations=_.l33tVariations);const z=Math.max(M,S);return Ic(Ci(Ci({},D),C),{guesses:z,guessesLog10:Ip.log10(z)})};const fc={password:"",optimal:{},excludeAdditive:!1,separatorRegex:void 0,fillArray(D,y){const C=[];for(let S=0;S<D;S+=1){let _=[];y==="object"&&(_={}),C.push(_)}return C},makeBruteforceMatch(D,y){return{pattern:"bruteforce",token:this.password.slice(D,+y+1||9e9),i:D,j:y}},update(D,y){const C=D.j,S=SY(D,this.password);let _=S.guesses;y>1&&(_*=this.optimal.pi[S.i-1][y-1]);let M=Ip.factorial(y)*_;this.excludeAdditive||(M+=hy(FX,y-1));let z=!1;Object.keys(this.optimal.g[C]).forEach(K=>{const Y=this.optimal.g[C][K];parseInt(K,10)<=y&&Y<=M&&(z=!0)}),z||(this.optimal.g[C][y]=M,this.optimal.m[C][y]=S,this.optimal.pi[C][y]=_)},bruteforceUpdate(D){let y=this.makeBruteforceMatch(0,D);this.update(y,1);for(let C=1;C<=D;C+=1){y=this.makeBruteforceMatch(C,D);const S=this.optimal.m[C-1];Object.keys(S).forEach(_=>{S[_].pattern!=="bruteforce"&&this.update(y,parseInt(_,10)+1)})}},unwind(D){const y=[];let C=D-1,S=0,_=1/0;const M=this.optimal.g[C];for(M&&Object.keys(M).forEach(z=>{const K=M[z];K<_&&(S=parseInt(z,10),_=K)});C>=0;){const z=this.optimal.m[C][S];y.unshift(z),C=z.i-1,S-=1}return y}};var Q$={mostGuessableMatchSequence(D,y,C=!1){fc.password=D,fc.excludeAdditive=C;const S=D.length;let _=fc.fillArray(S,"array");y.forEach(Y=>{_[Y.j].push(Y)}),_=_.map(Y=>Y.sort((ye,Q)=>ye.i-Q.i)),fc.optimal={m:fc.fillArray(S,"object"),pi:fc.fillArray(S,"object"),g:fc.fillArray(S,"object")};for(let Y=0;Y<S;Y+=1)_[Y].forEach(ye=>{ye.i>0?Object.keys(fc.optimal.m[ye.i-1]).forEach(Q=>{fc.update(ye,parseInt(Q,10)+1)}):fc.update(ye,1)}),fc.bruteforceUpdate(Y);const M=fc.unwind(S),z=M.length,K=this.getGuesses(D,z);return{password:D,guesses:K,guessesLog10:Ip.log10(K),sequence:M}},getGuesses(D,y){const C=D.length;let S=0;return D.length===0?S=1:S=fc.optimal.g[C-1][y],S}};class kY{match({password:y,omniMatch:C}){const S=[];let _=0;for(;_<y.length;){const z=this.getGreedyMatch(y,_),K=this.getLazyMatch(y,_);if(z==null)break;const{match:Y,baseToken:ye}=this.setMatchToken(z,K);if(Y){const Q=Y.index+Y[0].length-1,W=this.getBaseGuesses(ye,C);S.push(this.normalizeMatch(ye,Q,Y,W)),_=Q+1}}return S.some(z=>z instanceof Promise)?Promise.all(S):S}normalizeMatch(y,C,S,_){const M={pattern:"repeat",i:S.index,j:C,token:S[0],baseToken:y,baseGuesses:0,repeatCount:S[0].length/y.length};return _ instanceof Promise?_.then(z=>Ic(Ci({},M),{baseGuesses:z})):Ic(Ci({},M),{baseGuesses:_})}getGreedyMatch(y,C){const S=/(.+)\1+/g;return S.lastIndex=C,S.exec(y)}getLazyMatch(y,C){const S=/(.+?)\1+/g;return S.lastIndex=C,S.exec(y)}setMatchToken(y,C){const S=/^(.+?)\1+$/;let _,M="";if(C&&y[0].length>C[0].length){_=y;const z=S.exec(_[0]);z&&(M=z[1])}else _=C,_&&(M=_[1]);return{match:_,baseToken:M}}getBaseGuesses(y,C){const S=C.match(y);return S instanceof Promise?S.then(M=>Q$.mostGuessableMatchSequence(y,M).guesses):Q$.mostGuessableMatchSequence(y,S).guesses}}class EY{constructor(){this.MAX_DELTA=5}match({password:y}){const C=[];if(y.length===1)return[];let S=0,_=null;const M=y.length;for(let z=1;z<M;z+=1){const K=y.charCodeAt(z)-y.charCodeAt(z-1);if(_==null&&(_=K),K!==_){const Y=z-1;this.update({i:S,j:Y,delta:_,password:y,result:C}),S=Y,_=K}}return this.update({i:S,j:M-1,delta:_,password:y,result:C}),C}update({i:y,j:C,delta:S,password:_,result:M}){if(C-y>1||Math.abs(S)===1){const z=Math.abs(S);if(z>0&&z<=this.MAX_DELTA){const K=_.slice(y,+C+1||9e9),{sequenceName:Y,sequenceSpace:ye}=this.getSequence(K);return M.push({pattern:"sequence",i:y,j:C,token:_.slice(y,+C+1||9e9),sequenceName:Y,sequenceSpace:ye,ascending:S>0})}}return null}getSequence(y){let C="unicode",S=26;return $X.test(y)?(C="lower",S=26):zX.test(y)?(C="upper",S=26):WX.test(y)&&(C="digits",S=10),{sequenceName:C,sequenceSpace:S}}}class TY{constructor(){this.SHIFTED_RX=/[~!@#$%^&*()_+QWERTYUIOP{}|ASDFGHJKL:"ZXCVBNM<>?]/}match({password:y}){const C=[];return Object.keys(sa.graphs).forEach(S=>{const _=sa.graphs[S];J$(C,this.helper(y,_,S))}),Sy(C)}checkIfShifted(y,C,S){return!y.includes("keypad")&&this.SHIFTED_RX.test(C.charAt(S))?1:0}helper(y,C,S){let _;const M=[];let z=0;const K=y.length;for(;z<K-1;){let Y=z+1,ye=null,Q=0;for(_=this.checkIfShifted(S,y,z);;){const W=y.charAt(Y-1),ve=C[W]||[];let he=!1,be=-1,ae=-1;if(Y<K){const Ae=y.charAt(Y),Ye=ve.length;for(let Ve=0;Ve<Ye;Ve+=1){const L=ve[Ve];if(ae+=1,L){const _e=L.indexOf(Ae);if(_e!==-1){he=!0,be=ae,_e===1&&(_+=1),ye!==be&&(Q+=1,ye=be);break}}}}if(he)Y+=1;else{Y-z>2&&M.push({pattern:"spatial",i:z,j:Y-1,token:y.slice(z,Y),graph:S,turns:Q,shiftedCount:_}),z=Y;break}}}return M}}const AY=new RegExp(`[${x9.join("")}]`);class iM{static getMostUsedSeparatorChar(y){const C=[...y.split("").filter(_=>AY.test(_)).reduce((_,M)=>{const z=_.get(M);return z?_.set(M,z+1):_.set(M,1),_},new Map).entries()].sort(([_,M],[z,K])=>K-M);if(!C.length)return;const S=C[0];if(!(S[1]<2))return S[0]}static getSeparatorRegex(y){return new RegExp(`([^${y}
])(${y})(?!${y})`,"g")}match({password:y}){const C=[];if(y.length===0)return C;const S=iM.getMostUsedSeparatorChar(y);if(S===void 0)return C;const _=iM.getSeparatorRegex(S);for(const M of y.matchAll(_)){if(M.index===void 0)continue;const z=M.index+1;C.push({pattern:"separator",token:S,i:z,j:z})}return C}}class OY{constructor(){this.matchers={date:GX,dictionary:oY,regex:iY,repeat:kY,sequence:EY,spatial:TY,separator:iM}}match(y){const C=[],S=[];return[...Object.keys(this.matchers),...Object.keys(sa.matchers)].forEach(M=>{if(!this.matchers[M]&&!sa.matchers[M])return;const z=this.matchers[M]?this.matchers[M]:sa.matchers[M].Matching,Y=new z().match({password:y,omniMatch:this});Y instanceof Promise?(Y.then(ye=>{J$(C,ye)}),S.push(Y)):J$(C,Y)}),S.length>0?new Promise((M,z)=>{Promise.all(S).then(()=>{M(Sy(C))}).catch(K=>{z(K)})}):Sy(C)}}const S9=1,k9=S9*60,E9=k9*60,T9=E9*24,A9=T9*31,O9=A9*12,DY=O9*100,G$={second:S9,minute:k9,hour:E9,day:T9,month:A9,year:O9,century:DY};class _Y{translate(y,C){let S=y;C!==void 0&&C!==1&&(S+="s");const{timeEstimation:_}=sa.translations;return _[S].replace("{base}",`${C}`)}estimateAttackTimes(y){const C={onlineThrottling100PerHour:y/.027777777777777776,onlineNoThrottling10PerSecond:y/10,offlineSlowHashing1e4PerSecond:y/1e4,offlineFastHashing1e10PerSecond:y/1e10},S={onlineThrottling100PerHour:"",onlineNoThrottling10PerSecond:"",offlineSlowHashing1e4PerSecond:"",offlineFastHashing1e10PerSecond:""};return Object.keys(C).forEach(_=>{const M=C[_];S[_]=this.displayTime(M)}),{crackTimesSeconds:C,crackTimesDisplay:S,score:this.guessesToScore(y)}}guessesToScore(y){return y<1005?0:y<1000005?1:y<100000005?2:y<1e10+5?3:4}displayTime(y){let C="centuries",S;const _=Object.keys(G$),M=_.findIndex(z=>y<G$[z]);return M>-1&&(C=_[M-1],M!==0?S=Math.round(y/G$[C]):C="ltSecond"),this.translate(C,S)}}var MY=()=>null,BY=()=>({warning:sa.translations.warnings.dates,suggestions:[sa.translations.suggestions.dates]});const PY=(D,y)=>{let C=null;return y&&!D.l33t&&!D.reversed?D.rank<=10?C=sa.translations.warnings.topTen:D.rank<=100?C=sa.translations.warnings.topHundred:C=sa.translations.warnings.common:D.guessesLog10<=4&&(C=sa.translations.warnings.similarToCommon),C},RY=(D,y)=>{let C=null;return y&&(C=sa.translations.warnings.wordByItself),C},NY=(D,y)=>y?sa.translations.warnings.namesByThemselves:sa.translations.warnings.commonNames,FY=(D,y)=>{let C=null;const S=D.dictionaryName,_=S==="lastnames"||S.toLowerCase().includes("firstnames");return S==="passwords"?C=PY(D,y):S.includes("wikipedia")?C=RY(D,y):_?C=NY(D,y):S==="userInputs"&&(C=sa.translations.warnings.userInputs),C};var IY=(D,y)=>{const C=FY(D,y),S=[],_=D.token;return _.match(w9)?S.push(sa.translations.suggestions.capitalization):_.match(C9)&&_.toLowerCase()!==_&&S.push(sa.translations.suggestions.allUppercase),D.reversed&&D.token.length>=4&&S.push(sa.translations.suggestions.reverseWords),D.l33t&&S.push(sa.translations.suggestions.l33t),{warning:C,suggestions:S}},zY=D=>D.regexName==="recentYear"?{warning:sa.translations.warnings.recentYears,suggestions:[sa.translations.suggestions.recentYears,sa.translations.suggestions.associatedYears]}:{warning:null,suggestions:[]},$Y=D=>{let y=sa.translations.warnings.extendedRepeat;return D.baseToken.length===1&&(y=sa.translations.warnings.simpleRepeat),{warning:y,suggestions:[sa.translations.suggestions.repeated]}},LY=()=>({warning:sa.translations.warnings.sequences,suggestions:[sa.translations.suggestions.sequences]}),HY=D=>{let y=sa.translations.warnings.keyPattern;return D.turns===1&&(y=sa.translations.warnings.straightRow),{warning:y,suggestions:[sa.translations.suggestions.longerKeyboardPattern]}},VY=()=>null;const HH={warning:null,suggestions:[]};class UY{constructor(){this.matchers={bruteforce:MY,date:BY,dictionary:IY,regex:zY,repeat:$Y,sequence:LY,spatial:HY,separator:VY},this.defaultFeedback={warning:null,suggestions:[]},this.setDefaultSuggestions()}setDefaultSuggestions(){this.defaultFeedback.suggestions.push(sa.translations.suggestions.useWords,sa.translations.suggestions.noNeed)}getFeedback(y,C){if(C.length===0)return this.defaultFeedback;if(y>2)return HH;const S=sa.translations.suggestions.anotherWord,_=this.getLongestMatch(C);let M=this.getMatchFeedback(_,C.length===1);return M!=null?M.suggestions.unshift(S):M={warning:null,suggestions:[S]},M}getLongestMatch(y){let C=y[0];return y.slice(1).forEach(_=>{_.token.length>C.token.length&&(C=_)}),C}getMatchFeedback(y,C){return this.matchers[y.pattern]?this.matchers[y.pattern](y,C):sa.matchers[y.pattern]&&"feedback"in sa.matchers[y.pattern]?sa.matchers[y.pattern].feedback(y,C):HH}}const D9=()=>new Date().getTime(),WY=(D,y,C)=>{const S=new UY,_=new _Y,M=Q$.mostGuessableMatchSequence(y,D),z=D9()-C,K=_.estimateAttackTimes(M.guesses);return Ic(Ci(Ci({calcTime:z},M),K),{feedback:S.getFeedback(K.score,M.sequence)})},jY=(D,y)=>new OY().match(D),qY=(D,y)=>{const C=D9(),S=jY(D);if(S instanceof Promise)throw new Error("You are using a Promised matcher, please use `zxcvbnAsync` for it.");return WY(S,D,C)},GY=["data-score"],KY=Ls({name:"StrengthMeter",__name:"StrengthMeter",props:{value:Co.string,showInput:Co.bool.def(!0),disabled:Co.bool},emits:["score-change","change"],setup(D,{emit:y}){const C=D,S=y,_=Ea(""),{prefixCls:M}=Fg("strength-meter"),z=ki(()=>{const{disabled:Y}=C;if(Y)return-1;const Q=mn(_)?qY(mn(_)).score:-1;return S("score-change",Q),Q});function K(Y){S("change",Y.target.value),_.value=Y.target.value}return vk(()=>{_.value=C.value||""}),Nu(()=>mn(_),Y=>{S("change",Y)}),(Y,ye)=>(Ha(),ms("div",{class:Xu([mn(M),"relative"])},[D.showInput?(Ha(),ou(mn(Bd).Password,pf({key:0},Y.$attrs,{allowClear:"",value:_.value,onChange:K,disabled:D.disabled}),Ey({_:2},[Fp(Object.keys(Y.$slots),Q=>({name:Q,fn:qa(W=>[Ty(Y.$slots,Q,dk(mk(W||{})),void 0,!0)])}))]),1040,["value","disabled"])):Md("",!0),$s("div",{class:Xu(`${mn(M)}-bar`)},[$s("div",{class:Xu(`${mn(M)}-bar--fill`),"data-score":z.value},null,10,GY)],2)],2))}}),XY=sM(KY,[["__scopeId","data-v-a884d127"]]),YY=Np(XY);function ZY(D){const y=Ea(D),C=Ea(!1);let S;function _(){S&&window.clearInterval(S)}function M(){C.value=!1,_(),S=null}function z(){mn(C)||S||(C.value=!0,S=setInterval(()=>{mn(y)===1?(M(),y.value=D):y.value-=1},1e3))}function K(){y.value=D,M()}function Y(){K(),z()}return FK(()=>{K()}),{start:z,reset:K,restart:Y,clear:_,stop:M,currentCount:y,isStart:C}}const _9=Ls({name:"CountButton",__name:"CountButton",props:{value:{type:[Object,Number,String,Array]},count:{type:Number,default:60},beforeStartFunc:{type:Function,default:null}},setup(D){const y=D,{t:C}=Rp(),S=Ea(!1),{currentCount:_,isStart:M,start:z,reset:K}=ZY(y.count),Y=ki(()=>mn(M)?C("component.countdown.sendText",[mn(_)]):C("component.countdown.normalText"));vk(()=>{y.value===void 0&&K()});function ye(){return zc(this,null,function*(){const{beforeStartFunc:Q}=y;if(Q&&Pi(Q)){S.value=!0;try{(yield Q())&&z()}finally{S.value=!1}}else z()})}return(Q,W)=>(Ha(),ou(mn(qK),pf(Q.$attrs,{disabled:mn(M),onClick:ye,loading:S.value}),{default:qa(()=>[Ng(Bp(Y.value),1)]),_:1},16,["disabled","loading"]))}}),JY=Ls({name:"CountDownInput",inheritAttrs:!1,__name:"CountdownInput",props:{value:{type:String},size:{type:String,validator:D=>["default","large","small"].includes(D)},count:{type:Number,default:60},sendCodeApi:{type:Function,default:null}},setup(D){const y=D,{prefixCls:C}=Fg("countdown-input"),[S]=ky(y);return(_,M)=>{const z=Mp("a-input");return Ha(),ou(z,pf(_.$attrs,{class:mn(C),size:D.size,value:mn(S)}),Ey({addonAfter:qa(()=>[Fa(_9,{size:D.size,count:D.count,value:mn(S),beforeStartFunc:D.sendCodeApi},null,8,["size","count","value","beforeStartFunc"])]),_:2},[Fp(Object.keys(_.$slots).filter(K=>K!=="addonAfter"),K=>({name:K,fn:qa(Y=>[Ty(_.$slots,K,dk(mk(Y||{})))])}))]),1040,["class","size","value"])}}}),QY=Np(JY);Np(_9);/*!
 * Cropper.js v1.6.2
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2024-04-21T07:43:05.335Z
 */function VH(D,y){var C=Object.keys(D);if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(D);y&&(S=S.filter(function(_){return Object.getOwnPropertyDescriptor(D,_).enumerable})),C.push.apply(C,S)}return C}function M9(D){for(var y=1;y<arguments.length;y++){var C=arguments[y]!=null?arguments[y]:{};y%2?VH(Object(C),!0).forEach(function(S){rZ(D,S,C[S])}):Object.getOwnPropertyDescriptors?Object.defineProperties(D,Object.getOwnPropertyDescriptors(C)):VH(Object(C)).forEach(function(S){Object.defineProperty(D,S,Object.getOwnPropertyDescriptor(C,S))})}return D}function eZ(D,y){if(typeof D!="object"||!D)return D;var C=D[Symbol.toPrimitive];if(C!==void 0){var S=C.call(D,y||"default");if(typeof S!="object")return S;throw new TypeError("@@toPrimitive must return a primitive value.")}return(y==="string"?String:Number)(D)}function B9(D){var y=eZ(D,"string");return typeof y=="symbol"?y:y+""}function eL(D){"@babel/helpers - typeof";return eL=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(y){return typeof y}:function(y){return y&&typeof Symbol=="function"&&y.constructor===Symbol&&y!==Symbol.prototype?"symbol":typeof y},eL(D)}function tZ(D,y){if(!(D instanceof y))throw new TypeError("Cannot call a class as a function")}function UH(D,y){for(var C=0;C<y.length;C++){var S=y[C];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(D,B9(S.key),S)}}function nZ(D,y,C){return y&&UH(D.prototype,y),C&&UH(D,C),Object.defineProperty(D,"prototype",{writable:!1}),D}function rZ(D,y,C){return y=B9(y),y in D?Object.defineProperty(D,y,{value:C,enumerable:!0,configurable:!0,writable:!0}):D[y]=C,D}function P9(D){return aZ(D)||oZ(D)||iZ(D)||uZ()}function aZ(D){if(Array.isArray(D))return tL(D)}function oZ(D){if(typeof Symbol!="undefined"&&D[Symbol.iterator]!=null||D["@@iterator"]!=null)return Array.from(D)}function iZ(D,y){if(D){if(typeof D=="string")return tL(D,y);var C=Object.prototype.toString.call(D).slice(8,-1);if(C==="Object"&&D.constructor&&(C=D.constructor.name),C==="Map"||C==="Set")return Array.from(D);if(C==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(C))return tL(D,y)}}function tL(D,y){(y==null||y>D.length)&&(y=D.length);for(var C=0,S=new Array(y);C<y;C++)S[C]=D[C];return S}function uZ(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var vM=typeof window!="undefined"&&typeof window.document!="undefined",Sv=vM?window:{},dL=vM&&Sv.document.documentElement?"ontouchstart"in Sv.document.documentElement:!1,mL=vM?"PointerEvent"in Sv:!1,xi="cropper",gL="all",R9="crop",N9="move",F9="zoom",Op="e",Dp="w",py="s",Mg="n",rk="ne",ak="nw",ok="se",ik="sw",nL="".concat(xi,"-crop"),WH="".concat(xi,"-disabled"),kl="".concat(xi,"-hidden"),jH="".concat(xi,"-hide"),sZ="".concat(xi,"-invisible"),uM="".concat(xi,"-modal"),rL="".concat(xi,"-move"),ck="".concat(xi,"Action"),rM="".concat(xi,"Preview"),hL="crop",I9="move",z9="none",aL="crop",oL="cropend",iL="cropmove",uL="cropstart",qH="dblclick",lZ=dL?"touchstart":"mousedown",cZ=dL?"touchmove":"mousemove",fZ=dL?"touchend touchcancel":"mouseup",GH=mL?"pointerdown":lZ,KH=mL?"pointermove":cZ,XH=mL?"pointerup pointercancel":fZ,YH="ready",ZH="resize",JH="wheel",sL="zoom",QH="image/jpeg",vZ=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,dZ=/^data:/,mZ=/^data:image\/jpeg;base64,/,gZ=/^img|canvas$/i,$9=200,L9=100,e9={viewMode:0,dragMode:hL,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:$9,minContainerHeight:L9,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},hZ='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',pZ=Number.isNaN||Sv.isNaN;function Za(D){return typeof D=="number"&&!pZ(D)}var t9=function(y){return y>0&&y<1/0};function K$(D){return typeof D=="undefined"}function Pp(D){return eL(D)==="object"&&D!==null}var bZ=Object.prototype.hasOwnProperty;function by(D){if(!Pp(D))return!1;try{var y=D.constructor,C=y.prototype;return y&&C&&bZ.call(C,"isPrototypeOf")}catch(S){return!1}}function Sl(D){return typeof D=="function"}var yZ=Array.prototype.slice;function H9(D){return Array.from?Array.from(D):yZ.call(D)}function gu(D,y){return D&&Sl(y)&&(Array.isArray(D)||Za(D.length)?H9(D).forEach(function(C,S){y.call(D,C,S,D)}):Pp(D)&&Object.keys(D).forEach(function(C){y.call(D,D[C],C,D)})),D}var Si=Object.assign||function(y){for(var C=arguments.length,S=new Array(C>1?C-1:0),_=1;_<C;_++)S[_-1]=arguments[_];return Pp(y)&&S.length>0&&S.forEach(function(M){Pp(M)&&Object.keys(M).forEach(function(z){y[z]=M[z]})}),y},wZ=/\.\d*(?:0|9){12}\d*$/;function wy(D){var y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return wZ.test(D)?Math.round(D*y)/y:D}var CZ=/^width|height|left|top|marginLeft|marginTop$/;function Pg(D,y){var C=D.style;gu(y,function(S,_){CZ.test(_)&&Za(S)&&(S="".concat(S,"px")),C[_]=S})}function xZ(D,y){return D.classList?D.classList.contains(y):D.className.indexOf(y)>-1}function Ku(D,y){if(y){if(Za(D.length)){gu(D,function(S){Ku(S,y)});return}if(D.classList){D.classList.add(y);return}var C=D.className.trim();C?C.indexOf(y)<0&&(D.className="".concat(C," ").concat(y)):D.className=y}}function xv(D,y){if(y){if(Za(D.length)){gu(D,function(C){xv(C,y)});return}if(D.classList){D.classList.remove(y);return}D.className.indexOf(y)>=0&&(D.className=D.className.replace(y,""))}}function yy(D,y,C){if(y){if(Za(D.length)){gu(D,function(S){yy(S,y,C)});return}C?Ku(D,y):xv(D,y)}}var SZ=/([a-z\d])([A-Z])/g;function pL(D){return D.replace(SZ,"$1-$2").toLowerCase()}function lL(D,y){return Pp(D[y])?D[y]:D.dataset?D.dataset[y]:D.getAttribute("data-".concat(pL(y)))}function fk(D,y,C){Pp(C)?D[y]=C:D.dataset?D.dataset[y]=C:D.setAttribute("data-".concat(pL(y)),C)}function kZ(D,y){if(Pp(D[y]))try{delete D[y]}catch(C){D[y]=void 0}else if(D.dataset)try{delete D.dataset[y]}catch(C){D.dataset[y]=void 0}else D.removeAttribute("data-".concat(pL(y)))}var V9=/\s\s*/,U9=function(){var D=!1;if(vM){var y=!1,C=function(){},S=Object.defineProperty({},"once",{get:function(){return D=!0,y},set:function(M){y=M}});Sv.addEventListener("test",C,S),Sv.removeEventListener("test",C,S)}return D}();function hf(D,y,C){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_=C;y.trim().split(V9).forEach(function(M){if(!U9){var z=D.listeners;z&&z[M]&&z[M][C]&&(_=z[M][C],delete z[M][C],Object.keys(z[M]).length===0&&delete z[M],Object.keys(z).length===0&&delete D.listeners)}D.removeEventListener(M,_,S)})}function $c(D,y,C){var S=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},_=C;y.trim().split(V9).forEach(function(M){if(S.once&&!U9){var z=D.listeners,K=z===void 0?{}:z;_=function(){delete K[M][C],D.removeEventListener(M,_,S);for(var ye=arguments.length,Q=new Array(ye),W=0;W<ye;W++)Q[W]=arguments[W];C.apply(D,Q)},K[M]||(K[M]={}),K[M][C]&&D.removeEventListener(M,K[M][C],S),K[M][C]=_,D.listeners=K}D.addEventListener(M,_,S)})}function Cy(D,y,C){var S;return Sl(Event)&&Sl(CustomEvent)?S=new CustomEvent(y,{detail:C,bubbles:!0,cancelable:!0}):(S=document.createEvent("CustomEvent"),S.initCustomEvent(y,!0,!0,C)),D.dispatchEvent(S)}function W9(D){var y=D.getBoundingClientRect();return{left:y.left+(window.pageXOffset-document.documentElement.clientLeft),top:y.top+(window.pageYOffset-document.documentElement.clientTop)}}var X$=Sv.location,EZ=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function n9(D){var y=D.match(EZ);return y!==null&&(y[1]!==X$.protocol||y[2]!==X$.hostname||y[3]!==X$.port)}function r9(D){var y="timestamp=".concat(new Date().getTime());return D+(D.indexOf("?")===-1?"?":"&")+y}function uk(D){var y=D.rotate,C=D.scaleX,S=D.scaleY,_=D.translateX,M=D.translateY,z=[];Za(_)&&_!==0&&z.push("translateX(".concat(_,"px)")),Za(M)&&M!==0&&z.push("translateY(".concat(M,"px)")),Za(y)&&y!==0&&z.push("rotate(".concat(y,"deg)")),Za(C)&&C!==1&&z.push("scaleX(".concat(C,")")),Za(S)&&S!==1&&z.push("scaleY(".concat(S,")"));var K=z.length?z.join(" "):"none";return{WebkitTransform:K,msTransform:K,transform:K}}function TZ(D){var y=M9({},D),C=0;return gu(D,function(S,_){delete y[_],gu(y,function(M){var z=Math.abs(S.startX-M.startX),K=Math.abs(S.startY-M.startY),Y=Math.abs(S.endX-M.endX),ye=Math.abs(S.endY-M.endY),Q=Math.sqrt(z*z+K*K),W=Math.sqrt(Y*Y+ye*ye),ve=(W-Q)/Q;Math.abs(ve)>Math.abs(C)&&(C=ve)})}),C}function aM(D,y){var C=D.pageX,S=D.pageY,_={endX:C,endY:S};return y?_:M9({startX:C,startY:S},_)}function AZ(D){var y=0,C=0,S=0;return gu(D,function(_){var M=_.startX,z=_.startY;y+=M,C+=z,S+=1}),y/=S,C/=S,{pageX:y,pageY:C}}function Rg(D){var y=D.aspectRatio,C=D.height,S=D.width,_=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",M=t9(S),z=t9(C);if(M&&z){var K=C*y;_==="contain"&&K>S||_==="cover"&&K<S?C=S/y:S=C*y}else M?C=S/y:z&&(S=C*y);return{width:S,height:C}}function OZ(D){var y=D.width,C=D.height,S=D.degree;if(S=Math.abs(S)%180,S===90)return{width:C,height:y};var _=S%90*Math.PI/180,M=Math.sin(_),z=Math.cos(_),K=y*z+C*M,Y=y*M+C*z;return S>90?{width:Y,height:K}:{width:K,height:Y}}function DZ(D,y,C,S){var _=y.aspectRatio,M=y.naturalWidth,z=y.naturalHeight,K=y.rotate,Y=K===void 0?0:K,ye=y.scaleX,Q=ye===void 0?1:ye,W=y.scaleY,ve=W===void 0?1:W,he=C.aspectRatio,be=C.naturalWidth,ae=C.naturalHeight,Ae=S.fillColor,Ye=Ae===void 0?"transparent":Ae,Ve=S.imageSmoothingEnabled,L=Ve===void 0?!0:Ve,_e=S.imageSmoothingQuality,Te=_e===void 0?"low":_e,Be=S.maxWidth,gt=Be===void 0?1/0:Be,Se=S.maxHeight,je=Se===void 0?1/0:Se,Ze=S.minWidth,it=Ze===void 0?0:Ze,G=S.minHeight,xe=G===void 0?0:G,ct=document.createElement("canvas"),Tn=ct.getContext("2d"),bt=Rg({aspectRatio:he,width:gt,height:je}),er=Rg({aspectRatio:he,width:it,height:xe},"cover"),Er=Math.min(bt.width,Math.max(er.width,be)),A=Math.min(bt.height,Math.max(er.height,ae)),Ht=Rg({aspectRatio:_,width:gt,height:je}),Kt=Rg({aspectRatio:_,width:it,height:xe},"cover"),Rn=Math.min(Ht.width,Math.max(Kt.width,M)),et=Math.min(Ht.height,Math.max(Kt.height,z)),nn=[-Rn/2,-et/2,Rn,et];return ct.width=wy(Er),ct.height=wy(A),Tn.fillStyle=Ye,Tn.fillRect(0,0,Er,A),Tn.save(),Tn.translate(Er/2,A/2),Tn.rotate(Y*Math.PI/180),Tn.scale(Q,ve),Tn.imageSmoothingEnabled=L,Tn.imageSmoothingQuality=Te,Tn.drawImage.apply(Tn,[D].concat(P9(nn.map(function(tn){return Math.floor(wy(tn))})))),Tn.restore(),ct}var j9=String.fromCharCode;function _Z(D,y,C){var S="";C+=y;for(var _=y;_<C;_+=1)S+=j9(D.getUint8(_));return S}var MZ=/^data:.*,/;function BZ(D){var y=D.replace(MZ,""),C=atob(y),S=new ArrayBuffer(C.length),_=new Uint8Array(S);return gu(_,function(M,z){_[z]=C.charCodeAt(z)}),S}function PZ(D,y){for(var C=[],S=8192,_=new Uint8Array(D);_.length>0;)C.push(j9.apply(null,H9(_.subarray(0,S)))),_=_.subarray(S);return"data:".concat(y,";base64,").concat(btoa(C.join("")))}function RZ(D){var y=new DataView(D),C;try{var S,_,M;if(y.getUint8(0)===255&&y.getUint8(1)===216)for(var z=y.byteLength,K=2;K+1<z;){if(y.getUint8(K)===255&&y.getUint8(K+1)===225){_=K;break}K+=1}if(_){var Y=_+4,ye=_+10;if(_Z(y,Y,4)==="Exif"){var Q=y.getUint16(ye);if(S=Q===18761,(S||Q===19789)&&y.getUint16(ye+2,S)===42){var W=y.getUint32(ye+4,S);W>=8&&(M=ye+W)}}}if(M){var ve=y.getUint16(M,S),he,be;for(be=0;be<ve;be+=1)if(he=M+be*12+2,y.getUint16(he,S)===274){he+=8,C=y.getUint16(he,S),y.setUint16(he,1,S);break}}}catch(ae){C=1}return C}function NZ(D){var y=0,C=1,S=1;switch(D){case 2:C=-1;break;case 3:y=-180;break;case 4:S=-1;break;case 5:y=90,S=-1;break;case 6:y=90;break;case 7:y=90,C=-1;break;case 8:y=-90;break}return{rotate:y,scaleX:C,scaleY:S}}var FZ={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var y=this.element,C=this.options,S=this.container,_=this.cropper,M=Number(C.minContainerWidth),z=Number(C.minContainerHeight);Ku(_,kl),xv(y,kl);var K={width:Math.max(S.offsetWidth,M>=0?M:$9),height:Math.max(S.offsetHeight,z>=0?z:L9)};this.containerData=K,Pg(_,{width:K.width,height:K.height}),Ku(y,kl),xv(_,kl)},initCanvas:function(){var y=this.containerData,C=this.imageData,S=this.options.viewMode,_=Math.abs(C.rotate)%180===90,M=_?C.naturalHeight:C.naturalWidth,z=_?C.naturalWidth:C.naturalHeight,K=M/z,Y=y.width,ye=y.height;y.height*K>y.width?S===3?Y=y.height*K:ye=y.width/K:S===3?ye=y.width/K:Y=y.height*K;var Q={aspectRatio:K,naturalWidth:M,naturalHeight:z,width:Y,height:ye};this.canvasData=Q,this.limited=S===1||S===2,this.limitCanvas(!0,!0),Q.width=Math.min(Math.max(Q.width,Q.minWidth),Q.maxWidth),Q.height=Math.min(Math.max(Q.height,Q.minHeight),Q.maxHeight),Q.left=(y.width-Q.width)/2,Q.top=(y.height-Q.height)/2,Q.oldLeft=Q.left,Q.oldTop=Q.top,this.initialCanvasData=Si({},Q)},limitCanvas:function(y,C){var S=this.options,_=this.containerData,M=this.canvasData,z=this.cropBoxData,K=S.viewMode,Y=M.aspectRatio,ye=this.cropped&&z;if(y){var Q=Number(S.minCanvasWidth)||0,W=Number(S.minCanvasHeight)||0;K>1?(Q=Math.max(Q,_.width),W=Math.max(W,_.height),K===3&&(W*Y>Q?Q=W*Y:W=Q/Y)):K>0&&(Q?Q=Math.max(Q,ye?z.width:0):W?W=Math.max(W,ye?z.height:0):ye&&(Q=z.width,W=z.height,W*Y>Q?Q=W*Y:W=Q/Y));var ve=Rg({aspectRatio:Y,width:Q,height:W});Q=ve.width,W=ve.height,M.minWidth=Q,M.minHeight=W,M.maxWidth=1/0,M.maxHeight=1/0}if(C)if(K>(ye?0:1)){var he=_.width-M.width,be=_.height-M.height;M.minLeft=Math.min(0,he),M.minTop=Math.min(0,be),M.maxLeft=Math.max(0,he),M.maxTop=Math.max(0,be),ye&&this.limited&&(M.minLeft=Math.min(z.left,z.left+(z.width-M.width)),M.minTop=Math.min(z.top,z.top+(z.height-M.height)),M.maxLeft=z.left,M.maxTop=z.top,K===2&&(M.width>=_.width&&(M.minLeft=Math.min(0,he),M.maxLeft=Math.max(0,he)),M.height>=_.height&&(M.minTop=Math.min(0,be),M.maxTop=Math.max(0,be))))}else M.minLeft=-M.width,M.minTop=-M.height,M.maxLeft=_.width,M.maxTop=_.height},renderCanvas:function(y,C){var S=this.canvasData,_=this.imageData;if(C){var M=OZ({width:_.naturalWidth*Math.abs(_.scaleX||1),height:_.naturalHeight*Math.abs(_.scaleY||1),degree:_.rotate||0}),z=M.width,K=M.height,Y=S.width*(z/S.naturalWidth),ye=S.height*(K/S.naturalHeight);S.left-=(Y-S.width)/2,S.top-=(ye-S.height)/2,S.width=Y,S.height=ye,S.aspectRatio=z/K,S.naturalWidth=z,S.naturalHeight=K,this.limitCanvas(!0,!1)}(S.width>S.maxWidth||S.width<S.minWidth)&&(S.left=S.oldLeft),(S.height>S.maxHeight||S.height<S.minHeight)&&(S.top=S.oldTop),S.width=Math.min(Math.max(S.width,S.minWidth),S.maxWidth),S.height=Math.min(Math.max(S.height,S.minHeight),S.maxHeight),this.limitCanvas(!1,!0),S.left=Math.min(Math.max(S.left,S.minLeft),S.maxLeft),S.top=Math.min(Math.max(S.top,S.minTop),S.maxTop),S.oldLeft=S.left,S.oldTop=S.top,Pg(this.canvas,Si({width:S.width,height:S.height},uk({translateX:S.left,translateY:S.top}))),this.renderImage(y),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(y){var C=this.canvasData,S=this.imageData,_=S.naturalWidth*(C.width/C.naturalWidth),M=S.naturalHeight*(C.height/C.naturalHeight);Si(S,{width:_,height:M,left:(C.width-_)/2,top:(C.height-M)/2}),Pg(this.image,Si({width:S.width,height:S.height},uk(Si({translateX:S.left,translateY:S.top},S)))),y&&this.output()},initCropBox:function(){var y=this.options,C=this.canvasData,S=y.aspectRatio||y.initialAspectRatio,_=Number(y.autoCropArea)||.8,M={width:C.width,height:C.height};S&&(C.height*S>C.width?M.height=M.width/S:M.width=M.height*S),this.cropBoxData=M,this.limitCropBox(!0,!0),M.width=Math.min(Math.max(M.width,M.minWidth),M.maxWidth),M.height=Math.min(Math.max(M.height,M.minHeight),M.maxHeight),M.width=Math.max(M.minWidth,M.width*_),M.height=Math.max(M.minHeight,M.height*_),M.left=C.left+(C.width-M.width)/2,M.top=C.top+(C.height-M.height)/2,M.oldLeft=M.left,M.oldTop=M.top,this.initialCropBoxData=Si({},M)},limitCropBox:function(y,C){var S=this.options,_=this.containerData,M=this.canvasData,z=this.cropBoxData,K=this.limited,Y=S.aspectRatio;if(y){var ye=Number(S.minCropBoxWidth)||0,Q=Number(S.minCropBoxHeight)||0,W=K?Math.min(_.width,M.width,M.width+M.left,_.width-M.left):_.width,ve=K?Math.min(_.height,M.height,M.height+M.top,_.height-M.top):_.height;ye=Math.min(ye,_.width),Q=Math.min(Q,_.height),Y&&(ye&&Q?Q*Y>ye?Q=ye/Y:ye=Q*Y:ye?Q=ye/Y:Q&&(ye=Q*Y),ve*Y>W?ve=W/Y:W=ve*Y),z.minWidth=Math.min(ye,W),z.minHeight=Math.min(Q,ve),z.maxWidth=W,z.maxHeight=ve}C&&(K?(z.minLeft=Math.max(0,M.left),z.minTop=Math.max(0,M.top),z.maxLeft=Math.min(_.width,M.left+M.width)-z.width,z.maxTop=Math.min(_.height,M.top+M.height)-z.height):(z.minLeft=0,z.minTop=0,z.maxLeft=_.width-z.width,z.maxTop=_.height-z.height))},renderCropBox:function(){var y=this.options,C=this.containerData,S=this.cropBoxData;(S.width>S.maxWidth||S.width<S.minWidth)&&(S.left=S.oldLeft),(S.height>S.maxHeight||S.height<S.minHeight)&&(S.top=S.oldTop),S.width=Math.min(Math.max(S.width,S.minWidth),S.maxWidth),S.height=Math.min(Math.max(S.height,S.minHeight),S.maxHeight),this.limitCropBox(!1,!0),S.left=Math.min(Math.max(S.left,S.minLeft),S.maxLeft),S.top=Math.min(Math.max(S.top,S.minTop),S.maxTop),S.oldLeft=S.left,S.oldTop=S.top,y.movable&&y.cropBoxMovable&&fk(this.face,ck,S.width>=C.width&&S.height>=C.height?N9:gL),Pg(this.cropBox,Si({width:S.width,height:S.height},uk({translateX:S.left,translateY:S.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),Cy(this.element,aL,this.getData())}},IZ={initPreview:function(){var y=this.element,C=this.crossOrigin,S=this.options.preview,_=C?this.crossOriginUrl:this.url,M=y.alt||"The image to preview",z=document.createElement("img");if(C&&(z.crossOrigin=C),z.src=_,z.alt=M,this.viewBox.appendChild(z),this.viewBoxImage=z,!!S){var K=S;typeof S=="string"?K=y.ownerDocument.querySelectorAll(S):S.querySelector&&(K=[S]),this.previews=K,gu(K,function(Y){var ye=document.createElement("img");fk(Y,rM,{width:Y.offsetWidth,height:Y.offsetHeight,html:Y.innerHTML}),C&&(ye.crossOrigin=C),ye.src=_,ye.alt=M,ye.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',Y.innerHTML="",Y.appendChild(ye)})}},resetPreview:function(){gu(this.previews,function(y){var C=lL(y,rM);Pg(y,{width:C.width,height:C.height}),y.innerHTML=C.html,kZ(y,rM)})},preview:function(){var y=this.imageData,C=this.canvasData,S=this.cropBoxData,_=S.width,M=S.height,z=y.width,K=y.height,Y=S.left-C.left-y.left,ye=S.top-C.top-y.top;!this.cropped||this.disabled||(Pg(this.viewBoxImage,Si({width:z,height:K},uk(Si({translateX:-Y,translateY:-ye},y)))),gu(this.previews,function(Q){var W=lL(Q,rM),ve=W.width,he=W.height,be=ve,ae=he,Ae=1;_&&(Ae=ve/_,ae=M*Ae),M&&ae>he&&(Ae=he/M,be=_*Ae,ae=he),Pg(Q,{width:be,height:ae}),Pg(Q.getElementsByTagName("img")[0],Si({width:z*Ae,height:K*Ae},uk(Si({translateX:-Y*Ae,translateY:-ye*Ae},y))))}))}},zZ={bind:function(){var y=this.element,C=this.options,S=this.cropper;Sl(C.cropstart)&&$c(y,uL,C.cropstart),Sl(C.cropmove)&&$c(y,iL,C.cropmove),Sl(C.cropend)&&$c(y,oL,C.cropend),Sl(C.crop)&&$c(y,aL,C.crop),Sl(C.zoom)&&$c(y,sL,C.zoom),$c(S,GH,this.onCropStart=this.cropStart.bind(this)),C.zoomable&&C.zoomOnWheel&&$c(S,JH,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),C.toggleDragModeOnDblclick&&$c(S,qH,this.onDblclick=this.dblclick.bind(this)),$c(y.ownerDocument,KH,this.onCropMove=this.cropMove.bind(this)),$c(y.ownerDocument,XH,this.onCropEnd=this.cropEnd.bind(this)),C.responsive&&$c(window,ZH,this.onResize=this.resize.bind(this))},unbind:function(){var y=this.element,C=this.options,S=this.cropper;Sl(C.cropstart)&&hf(y,uL,C.cropstart),Sl(C.cropmove)&&hf(y,iL,C.cropmove),Sl(C.cropend)&&hf(y,oL,C.cropend),Sl(C.crop)&&hf(y,aL,C.crop),Sl(C.zoom)&&hf(y,sL,C.zoom),hf(S,GH,this.onCropStart),C.zoomable&&C.zoomOnWheel&&hf(S,JH,this.onWheel,{passive:!1,capture:!0}),C.toggleDragModeOnDblclick&&hf(S,qH,this.onDblclick),hf(y.ownerDocument,KH,this.onCropMove),hf(y.ownerDocument,XH,this.onCropEnd),C.responsive&&hf(window,ZH,this.onResize)}},$Z={resize:function(){if(!this.disabled){var y=this.options,C=this.container,S=this.containerData,_=C.offsetWidth/S.width,M=C.offsetHeight/S.height,z=Math.abs(_-1)>Math.abs(M-1)?_:M;if(z!==1){var K,Y;y.restore&&(K=this.getCanvasData(),Y=this.getCropBoxData()),this.render(),y.restore&&(this.setCanvasData(gu(K,function(ye,Q){K[Q]=ye*z})),this.setCropBoxData(gu(Y,function(ye,Q){Y[Q]=ye*z})))}}},dblclick:function(){this.disabled||this.options.dragMode===z9||this.setDragMode(xZ(this.dragBox,nL)?I9:hL)},wheel:function(y){var C=this,S=Number(this.options.wheelZoomRatio)||.1,_=1;this.disabled||(y.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){C.wheeling=!1},50),y.deltaY?_=y.deltaY>0?1:-1:y.wheelDelta?_=-y.wheelDelta/120:y.detail&&(_=y.detail>0?1:-1),this.zoom(-_*S,y)))},cropStart:function(y){var C=y.buttons,S=y.button;if(!(this.disabled||(y.type==="mousedown"||y.type==="pointerdown"&&y.pointerType==="mouse")&&(Za(C)&&C!==1||Za(S)&&S!==0||y.ctrlKey))){var _=this.options,M=this.pointers,z;y.changedTouches?gu(y.changedTouches,function(K){M[K.identifier]=aM(K)}):M[y.pointerId||0]=aM(y),Object.keys(M).length>1&&_.zoomable&&_.zoomOnTouch?z=F9:z=lL(y.target,ck),vZ.test(z)&&Cy(this.element,uL,{originalEvent:y,action:z})!==!1&&(y.preventDefault(),this.action=z,this.cropping=!1,z===R9&&(this.cropping=!0,Ku(this.dragBox,uM)))}},cropMove:function(y){var C=this.action;if(!(this.disabled||!C)){var S=this.pointers;y.preventDefault(),Cy(this.element,iL,{originalEvent:y,action:C})!==!1&&(y.changedTouches?gu(y.changedTouches,function(_){Si(S[_.identifier]||{},aM(_,!0))}):Si(S[y.pointerId||0]||{},aM(y,!0)),this.change(y))}},cropEnd:function(y){if(!this.disabled){var C=this.action,S=this.pointers;y.changedTouches?gu(y.changedTouches,function(_){delete S[_.identifier]}):delete S[y.pointerId||0],C&&(y.preventDefault(),Object.keys(S).length||(this.action=""),this.cropping&&(this.cropping=!1,yy(this.dragBox,uM,this.cropped&&this.options.modal)),Cy(this.element,oL,{originalEvent:y,action:C}))}}},LZ={change:function(y){var C=this.options,S=this.canvasData,_=this.containerData,M=this.cropBoxData,z=this.pointers,K=this.action,Y=C.aspectRatio,ye=M.left,Q=M.top,W=M.width,ve=M.height,he=ye+W,be=Q+ve,ae=0,Ae=0,Ye=_.width,Ve=_.height,L=!0,_e;!Y&&y.shiftKey&&(Y=W&&ve?W/ve:1),this.limited&&(ae=M.minLeft,Ae=M.minTop,Ye=ae+Math.min(_.width,S.width,S.left+S.width),Ve=Ae+Math.min(_.height,S.height,S.top+S.height));var Te=z[Object.keys(z)[0]],Be={x:Te.endX-Te.startX,y:Te.endY-Te.startY},gt=function(je){switch(je){case Op:he+Be.x>Ye&&(Be.x=Ye-he);break;case Dp:ye+Be.x<ae&&(Be.x=ae-ye);break;case Mg:Q+Be.y<Ae&&(Be.y=Ae-Q);break;case py:be+Be.y>Ve&&(Be.y=Ve-be);break}};switch(K){case gL:ye+=Be.x,Q+=Be.y;break;case Op:if(Be.x>=0&&(he>=Ye||Y&&(Q<=Ae||be>=Ve))){L=!1;break}gt(Op),W+=Be.x,W<0&&(K=Dp,W=-W,ye-=W),Y&&(ve=W/Y,Q+=(M.height-ve)/2);break;case Mg:if(Be.y<=0&&(Q<=Ae||Y&&(ye<=ae||he>=Ye))){L=!1;break}gt(Mg),ve-=Be.y,Q+=Be.y,ve<0&&(K=py,ve=-ve,Q-=ve),Y&&(W=ve*Y,ye+=(M.width-W)/2);break;case Dp:if(Be.x<=0&&(ye<=ae||Y&&(Q<=Ae||be>=Ve))){L=!1;break}gt(Dp),W-=Be.x,ye+=Be.x,W<0&&(K=Op,W=-W,ye-=W),Y&&(ve=W/Y,Q+=(M.height-ve)/2);break;case py:if(Be.y>=0&&(be>=Ve||Y&&(ye<=ae||he>=Ye))){L=!1;break}gt(py),ve+=Be.y,ve<0&&(K=Mg,ve=-ve,Q-=ve),Y&&(W=ve*Y,ye+=(M.width-W)/2);break;case rk:if(Y){if(Be.y<=0&&(Q<=Ae||he>=Ye)){L=!1;break}gt(Mg),ve-=Be.y,Q+=Be.y,W=ve*Y}else gt(Mg),gt(Op),Be.x>=0?he<Ye?W+=Be.x:Be.y<=0&&Q<=Ae&&(L=!1):W+=Be.x,Be.y<=0?Q>Ae&&(ve-=Be.y,Q+=Be.y):(ve-=Be.y,Q+=Be.y);W<0&&ve<0?(K=ik,ve=-ve,W=-W,Q-=ve,ye-=W):W<0?(K=ak,W=-W,ye-=W):ve<0&&(K=ok,ve=-ve,Q-=ve);break;case ak:if(Y){if(Be.y<=0&&(Q<=Ae||ye<=ae)){L=!1;break}gt(Mg),ve-=Be.y,Q+=Be.y,W=ve*Y,ye+=M.width-W}else gt(Mg),gt(Dp),Be.x<=0?ye>ae?(W-=Be.x,ye+=Be.x):Be.y<=0&&Q<=Ae&&(L=!1):(W-=Be.x,ye+=Be.x),Be.y<=0?Q>Ae&&(ve-=Be.y,Q+=Be.y):(ve-=Be.y,Q+=Be.y);W<0&&ve<0?(K=ok,ve=-ve,W=-W,Q-=ve,ye-=W):W<0?(K=rk,W=-W,ye-=W):ve<0&&(K=ik,ve=-ve,Q-=ve);break;case ik:if(Y){if(Be.x<=0&&(ye<=ae||be>=Ve)){L=!1;break}gt(Dp),W-=Be.x,ye+=Be.x,ve=W/Y}else gt(py),gt(Dp),Be.x<=0?ye>ae?(W-=Be.x,ye+=Be.x):Be.y>=0&&be>=Ve&&(L=!1):(W-=Be.x,ye+=Be.x),Be.y>=0?be<Ve&&(ve+=Be.y):ve+=Be.y;W<0&&ve<0?(K=rk,ve=-ve,W=-W,Q-=ve,ye-=W):W<0?(K=ok,W=-W,ye-=W):ve<0&&(K=ak,ve=-ve,Q-=ve);break;case ok:if(Y){if(Be.x>=0&&(he>=Ye||be>=Ve)){L=!1;break}gt(Op),W+=Be.x,ve=W/Y}else gt(py),gt(Op),Be.x>=0?he<Ye?W+=Be.x:Be.y>=0&&be>=Ve&&(L=!1):W+=Be.x,Be.y>=0?be<Ve&&(ve+=Be.y):ve+=Be.y;W<0&&ve<0?(K=ak,ve=-ve,W=-W,Q-=ve,ye-=W):W<0?(K=ik,W=-W,ye-=W):ve<0&&(K=rk,ve=-ve,Q-=ve);break;case N9:this.move(Be.x,Be.y),L=!1;break;case F9:this.zoom(TZ(z),y),L=!1;break;case R9:if(!Be.x||!Be.y){L=!1;break}_e=W9(this.cropper),ye=Te.startX-_e.left,Q=Te.startY-_e.top,W=M.minWidth,ve=M.minHeight,Be.x>0?K=Be.y>0?ok:rk:Be.x<0&&(ye-=W,K=Be.y>0?ik:ak),Be.y<0&&(Q-=ve),this.cropped||(xv(this.cropBox,kl),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}L&&(M.width=W,M.height=ve,M.left=ye,M.top=Q,this.action=K,this.renderCropBox()),gu(z,function(Se){Se.startX=Se.endX,Se.startY=Se.endY})}},HZ={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&Ku(this.dragBox,uM),xv(this.cropBox,kl),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=Si({},this.initialImageData),this.canvasData=Si({},this.initialCanvasData),this.cropBoxData=Si({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(Si(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),xv(this.dragBox,uM),Ku(this.cropBox,kl)),this},replace:function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&y&&(this.isImg&&(this.element.src=y),C?(this.url=y,this.image.src=y,this.ready&&(this.viewBoxImage.src=y,gu(this.previews,function(S){S.getElementsByTagName("img")[0].src=y}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(y))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,xv(this.cropper,WH)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,Ku(this.cropper,WH)),this},destroy:function(){var y=this.element;return y[xi]?(y[xi]=void 0,this.isImg&&this.replaced&&(y.src=this.originalUrl),this.uncreate(),this):this},move:function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,S=this.canvasData,_=S.left,M=S.top;return this.moveTo(K$(y)?y:_+Number(y),K$(C)?C:M+Number(C))},moveTo:function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,S=this.canvasData,_=!1;return y=Number(y),C=Number(C),this.ready&&!this.disabled&&this.options.movable&&(Za(y)&&(S.left=y,_=!0),Za(C)&&(S.top=C,_=!0),_&&this.renderCanvas(!0)),this},zoom:function(y,C){var S=this.canvasData;return y=Number(y),y<0?y=1/(1-y):y=1+y,this.zoomTo(S.width*y/S.naturalWidth,null,C)},zoomTo:function(y,C,S){var _=this.options,M=this.canvasData,z=M.width,K=M.height,Y=M.naturalWidth,ye=M.naturalHeight;if(y=Number(y),y>=0&&this.ready&&!this.disabled&&_.zoomable){var Q=Y*y,W=ye*y;if(Cy(this.element,sL,{ratio:y,oldRatio:z/Y,originalEvent:S})===!1)return this;if(S){var ve=this.pointers,he=W9(this.cropper),be=ve&&Object.keys(ve).length?AZ(ve):{pageX:S.pageX,pageY:S.pageY};M.left-=(Q-z)*((be.pageX-he.left-M.left)/z),M.top-=(W-K)*((be.pageY-he.top-M.top)/K)}else by(C)&&Za(C.x)&&Za(C.y)?(M.left-=(Q-z)*((C.x-M.left)/z),M.top-=(W-K)*((C.y-M.top)/K)):(M.left-=(Q-z)/2,M.top-=(W-K)/2);M.width=Q,M.height=W,this.renderCanvas(!0)}return this},rotate:function(y){return this.rotateTo((this.imageData.rotate||0)+Number(y))},rotateTo:function(y){return y=Number(y),Za(y)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=y%360,this.renderCanvas(!0,!0)),this},scaleX:function(y){var C=this.imageData.scaleY;return this.scale(y,Za(C)?C:1)},scaleY:function(y){var C=this.imageData.scaleX;return this.scale(Za(C)?C:1,y)},scale:function(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:y,S=this.imageData,_=!1;return y=Number(y),C=Number(C),this.ready&&!this.disabled&&this.options.scalable&&(Za(y)&&(S.scaleX=y,_=!0),Za(C)&&(S.scaleY=C,_=!0),_&&this.renderCanvas(!0,!0)),this},getData:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,C=this.options,S=this.imageData,_=this.canvasData,M=this.cropBoxData,z;if(this.ready&&this.cropped){z={x:M.left-_.left,y:M.top-_.top,width:M.width,height:M.height};var K=S.width/S.naturalWidth;if(gu(z,function(Q,W){z[W]=Q/K}),y){var Y=Math.round(z.y+z.height),ye=Math.round(z.x+z.width);z.x=Math.round(z.x),z.y=Math.round(z.y),z.width=ye-z.x,z.height=Y-z.y}}else z={x:0,y:0,width:0,height:0};return C.rotatable&&(z.rotate=S.rotate||0),C.scalable&&(z.scaleX=S.scaleX||1,z.scaleY=S.scaleY||1),z},setData:function(y){var C=this.options,S=this.imageData,_=this.canvasData,M={};if(this.ready&&!this.disabled&&by(y)){var z=!1;C.rotatable&&Za(y.rotate)&&y.rotate!==S.rotate&&(S.rotate=y.rotate,z=!0),C.scalable&&(Za(y.scaleX)&&y.scaleX!==S.scaleX&&(S.scaleX=y.scaleX,z=!0),Za(y.scaleY)&&y.scaleY!==S.scaleY&&(S.scaleY=y.scaleY,z=!0)),z&&this.renderCanvas(!0,!0);var K=S.width/S.naturalWidth;Za(y.x)&&(M.left=y.x*K+_.left),Za(y.y)&&(M.top=y.y*K+_.top),Za(y.width)&&(M.width=y.width*K),Za(y.height)&&(M.height=y.height*K),this.setCropBoxData(M)}return this},getContainerData:function(){return this.ready?Si({},this.containerData):{}},getImageData:function(){return this.sized?Si({},this.imageData):{}},getCanvasData:function(){var y=this.canvasData,C={};return this.ready&&gu(["left","top","width","height","naturalWidth","naturalHeight"],function(S){C[S]=y[S]}),C},setCanvasData:function(y){var C=this.canvasData,S=C.aspectRatio;return this.ready&&!this.disabled&&by(y)&&(Za(y.left)&&(C.left=y.left),Za(y.top)&&(C.top=y.top),Za(y.width)?(C.width=y.width,C.height=y.width/S):Za(y.height)&&(C.height=y.height,C.width=y.height*S),this.renderCanvas(!0)),this},getCropBoxData:function(){var y=this.cropBoxData,C;return this.ready&&this.cropped&&(C={left:y.left,top:y.top,width:y.width,height:y.height}),C||{}},setCropBoxData:function(y){var C=this.cropBoxData,S=this.options.aspectRatio,_,M;return this.ready&&this.cropped&&!this.disabled&&by(y)&&(Za(y.left)&&(C.left=y.left),Za(y.top)&&(C.top=y.top),Za(y.width)&&y.width!==C.width&&(_=!0,C.width=y.width),Za(y.height)&&y.height!==C.height&&(M=!0,C.height=y.height),S&&(_?C.height=C.width/S:M&&(C.width=C.height*S)),this.renderCropBox()),this},getCroppedCanvas:function(){var y=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var C=this.canvasData,S=DZ(this.image,this.imageData,C,y);if(!this.cropped)return S;var _=this.getData(y.rounded),M=_.x,z=_.y,K=_.width,Y=_.height,ye=S.width/Math.floor(C.naturalWidth);ye!==1&&(M*=ye,z*=ye,K*=ye,Y*=ye);var Q=K/Y,W=Rg({aspectRatio:Q,width:y.maxWidth||1/0,height:y.maxHeight||1/0}),ve=Rg({aspectRatio:Q,width:y.minWidth||0,height:y.minHeight||0},"cover"),he=Rg({aspectRatio:Q,width:y.width||(ye!==1?S.width:K),height:y.height||(ye!==1?S.height:Y)}),be=he.width,ae=he.height;be=Math.min(W.width,Math.max(ve.width,be)),ae=Math.min(W.height,Math.max(ve.height,ae));var Ae=document.createElement("canvas"),Ye=Ae.getContext("2d");Ae.width=wy(be),Ae.height=wy(ae),Ye.fillStyle=y.fillColor||"transparent",Ye.fillRect(0,0,be,ae);var Ve=y.imageSmoothingEnabled,L=Ve===void 0?!0:Ve,_e=y.imageSmoothingQuality;Ye.imageSmoothingEnabled=L,_e&&(Ye.imageSmoothingQuality=_e);var Te=S.width,Be=S.height,gt=M,Se=z,je,Ze,it,G,xe,ct;gt<=-K||gt>Te?(gt=0,je=0,it=0,xe=0):gt<=0?(it=-gt,gt=0,je=Math.min(Te,K+gt),xe=je):gt<=Te&&(it=0,je=Math.min(K,Te-gt),xe=je),je<=0||Se<=-Y||Se>Be?(Se=0,Ze=0,G=0,ct=0):Se<=0?(G=-Se,Se=0,Ze=Math.min(Be,Y+Se),ct=Ze):Se<=Be&&(G=0,Ze=Math.min(Y,Be-Se),ct=Ze);var Tn=[gt,Se,je,Ze];if(xe>0&&ct>0){var bt=be/K;Tn.push(it*bt,G*bt,xe*bt,ct*bt)}return Ye.drawImage.apply(Ye,[S].concat(P9(Tn.map(function(er){return Math.floor(wy(er))})))),Ae},setAspectRatio:function(y){var C=this.options;return!this.disabled&&!K$(y)&&(C.aspectRatio=Math.max(0,y)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(y){var C=this.options,S=this.dragBox,_=this.face;if(this.ready&&!this.disabled){var M=y===hL,z=C.movable&&y===I9;y=M||z?y:z9,C.dragMode=y,fk(S,ck,y),yy(S,nL,M),yy(S,rL,z),C.cropBoxMovable||(fk(_,ck,y),yy(_,nL,M),yy(_,rL,z))}return this}},VZ=Sv.Cropper,q9=function(){function D(y){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(tZ(this,D),!y||!gZ.test(y.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=y,this.options=Si({},e9,by(C)&&C),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return nZ(D,[{key:"init",value:function(){var C=this.element,S=C.tagName.toLowerCase(),_;if(!C[xi]){if(C[xi]=this,S==="img"){if(this.isImg=!0,_=C.getAttribute("src")||"",this.originalUrl=_,!_)return;_=C.src}else S==="canvas"&&window.HTMLCanvasElement&&(_=C.toDataURL());this.load(_)}}},{key:"load",value:function(C){var S=this;if(C){this.url=C,this.imageData={};var _=this.element,M=this.options;if(!M.rotatable&&!M.scalable&&(M.checkOrientation=!1),!M.checkOrientation||!window.ArrayBuffer){this.clone();return}if(dZ.test(C)){mZ.test(C)?this.read(BZ(C)):this.clone();return}var z=new XMLHttpRequest,K=this.clone.bind(this);this.reloading=!0,this.xhr=z,z.onabort=K,z.onerror=K,z.ontimeout=K,z.onprogress=function(){z.getResponseHeader("content-type")!==QH&&z.abort()},z.onload=function(){S.read(z.response)},z.onloadend=function(){S.reloading=!1,S.xhr=null},M.checkCrossOrigin&&n9(C)&&_.crossOrigin&&(C=r9(C)),z.open("GET",C,!0),z.responseType="arraybuffer",z.withCredentials=_.crossOrigin==="use-credentials",z.send()}}},{key:"read",value:function(C){var S=this.options,_=this.imageData,M=RZ(C),z=0,K=1,Y=1;if(M>1){this.url=PZ(C,QH);var ye=NZ(M);z=ye.rotate,K=ye.scaleX,Y=ye.scaleY}S.rotatable&&(_.rotate=z),S.scalable&&(_.scaleX=K,_.scaleY=Y),this.clone()}},{key:"clone",value:function(){var C=this.element,S=this.url,_=C.crossOrigin,M=S;this.options.checkCrossOrigin&&n9(S)&&(_||(_="anonymous"),M=r9(S)),this.crossOrigin=_,this.crossOriginUrl=M;var z=document.createElement("img");_&&(z.crossOrigin=_),z.src=M||S,z.alt=C.alt||"The image to crop",this.image=z,z.onload=this.start.bind(this),z.onerror=this.stop.bind(this),Ku(z,jH),C.parentNode.insertBefore(z,C.nextSibling)}},{key:"start",value:function(){var C=this,S=this.image;S.onload=null,S.onerror=null,this.sizing=!0;var _=Sv.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(Sv.navigator.userAgent),M=function(ye,Q){Si(C.imageData,{naturalWidth:ye,naturalHeight:Q,aspectRatio:ye/Q}),C.initialImageData=Si({},C.imageData),C.sizing=!1,C.sized=!0,C.build()};if(S.naturalWidth&&!_){M(S.naturalWidth,S.naturalHeight);return}var z=document.createElement("img"),K=document.body||document.documentElement;this.sizingImage=z,z.onload=function(){M(z.width,z.height),_||K.removeChild(z)},z.src=S.src,_||(z.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",K.appendChild(z))}},{key:"stop",value:function(){var C=this.image;C.onload=null,C.onerror=null,C.parentNode.removeChild(C),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var C=this.element,S=this.options,_=this.image,M=C.parentNode,z=document.createElement("div");z.innerHTML=hZ;var K=z.querySelector(".".concat(xi,"-container")),Y=K.querySelector(".".concat(xi,"-canvas")),ye=K.querySelector(".".concat(xi,"-drag-box")),Q=K.querySelector(".".concat(xi,"-crop-box")),W=Q.querySelector(".".concat(xi,"-face"));this.container=M,this.cropper=K,this.canvas=Y,this.dragBox=ye,this.cropBox=Q,this.viewBox=K.querySelector(".".concat(xi,"-view-box")),this.face=W,Y.appendChild(_),Ku(C,kl),M.insertBefore(K,C.nextSibling),xv(_,jH),this.initPreview(),this.bind(),S.initialAspectRatio=Math.max(0,S.initialAspectRatio)||NaN,S.aspectRatio=Math.max(0,S.aspectRatio)||NaN,S.viewMode=Math.max(0,Math.min(3,Math.round(S.viewMode)))||0,Ku(Q,kl),S.guides||Ku(Q.getElementsByClassName("".concat(xi,"-dashed")),kl),S.center||Ku(Q.getElementsByClassName("".concat(xi,"-center")),kl),S.background&&Ku(K,"".concat(xi,"-bg")),S.highlight||Ku(W,sZ),S.cropBoxMovable&&(Ku(W,rL),fk(W,ck,gL)),S.cropBoxResizable||(Ku(Q.getElementsByClassName("".concat(xi,"-line")),kl),Ku(Q.getElementsByClassName("".concat(xi,"-point")),kl)),this.render(),this.ready=!0,this.setDragMode(S.dragMode),S.autoCrop&&this.crop(),this.setData(S.data),Sl(S.ready)&&$c(C,YH,S.ready,{once:!0}),Cy(C,YH)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var C=this.cropper.parentNode;C&&C.removeChild(this.cropper),xv(this.element,kl)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=VZ,D}},{key:"setDefaults",value:function(C){Si(e9,by(C)&&C)}}])}();Si(q9.prototype,FZ,IZ,zZ,$Z,LZ,HZ);const UZ=["src","alt","crossorigin"],G9=Ls({name:"CropperImage",__name:"Cropper",props:{src:{type:String,required:!0},alt:{type:String},circled:{type:Boolean,default:!1},realTimePreview:{type:Boolean,default:!0},height:{type:[String,Number],default:"360px"},crossorigin:{type:String,default:void 0},imageStyle:{type:Object,default:()=>({})},options:{type:Object,default:()=>({})}},emits:["cropend","ready","cropendError"],setup(D,{emit:y}){const C={aspectRatio:1,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,autoCrop:!0,background:!0,highlight:!0,center:!0,responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,scalable:!0,modal:!0,guides:!0,movable:!0,rotatable:!0},S=D,_=y,M=o9(),z=Ea(),K=Ea(),Y=Ea(!1),{prefixCls:ye}=Fg("cropper-image"),Q=a9(ae,80),W=ki(()=>Ci({height:S.height,maxWidth:"100%"},S.imageStyle)),ve=ki(()=>[ye,M.class,{[`${ye}--circled`]:S.circled}]),he=ki(()=>({height:`${S.height}`.replace(/px/,"")+"px"}));fL(be),rX(()=>{var Ve;(Ve=K.value)==null||Ve.destroy()});function be(){return zc(this,null,function*(){const Ve=mn(z);Ve&&(K.value=new q9(Ve,Ci(Ic(Ci({},C),{ready:()=>{Y.value=!0,ae(),_("ready",K.value)},crop(){Q()},zoom(){Q()},cropmove(){Q()}}),S.options)))})}function ae(){S.realTimePreview&&Ae()}function Ae(){if(!K.value)return;let Ve=K.value.getData();(S.circled?Ye():K.value.getCroppedCanvas()).toBlob(_e=>{if(!_e)return;let Te=new FileReader;Te.readAsDataURL(_e),Te.onloadend=Be=>{var gt,Se;_("cropend",{imgBase64:(Se=(gt=Be.target)==null?void 0:gt.result)!=null?Se:"",imgInfo:Ve})},Te.onerror=()=>{_("cropendError")}},"image/png")}function Ye(){const Ve=K.value.getCroppedCanvas(),L=document.createElement("canvas"),_e=L.getContext("2d"),Te=Ve.width,Be=Ve.height;return L.width=Te,L.height=Be,_e.imageSmoothingEnabled=!0,_e.drawImage(Ve,0,0,Te,Be),_e.globalCompositeOperation="destination-in",_e.beginPath(),_e.arc(Te/2,Be/2,Math.min(Te,Be)/2,0,2*Math.PI,!0),_e.fill(),L}return(Ve,L)=>(Ha(),ms("div",{class:Xu(ve.value),style:Bg(he.value)},[g9($s("img",{ref_key:"imgElRef",ref:z,src:D.src,alt:D.alt,crossorigin:D.crossorigin,style:Bg(W.value)},null,12,UZ),[[h9,Y.value]])],6))}}),WZ=["src","alt"],jZ=Ls({name:"CropperModal",__name:"CropperModal",props:{circled:{type:Boolean,default:!0},uploadApi:{type:Function},src:{type:String},size:{type:Number}},emits:["uploadSuccess","uploadError","register"],setup(D,{emit:y}){const C=D,S=y;let _="";const M=Ea(C.src||""),z=Ea(""),K=Ea();let Y=1,ye=1;const{prefixCls:Q}=Fg("cropper-am"),[W,{closeModal:ve,setModalProps:he}]=cX(),{t:be}=Rp();function ae(_e){if(C.size&&_e.size>1024*1024*C.size)return S("uploadError",{msg:be("component.cropper.imageTooBig")}),!1;const Te=new FileReader;return Te.readAsDataURL(_e),M.value="",z.value="",Te.onload=function(Be){var gt,Se;M.value=(Se=(gt=Be.target)==null?void 0:gt.result)!=null?Se:"",_=_e.name},!1}function Ae({imgBase64:_e}){z.value=_e}function Ye(_e){K.value=_e}function Ve(_e,Te){var Be,gt;_e==="scaleX"&&(Y=Te=Y===-1?1:-1),_e==="scaleY"&&(ye=Te=ye===-1?1:-1),(gt=(Be=K==null?void 0:K.value)==null?void 0:Be[_e])==null||gt.call(Be,Te)}function L(){return zc(this,null,function*(){const _e=C.uploadApi;if(_e&&Pi(_e)){const Te=BX(z.value);try{he({confirmLoading:!0});const Be=yield _e({name:"file",file:Te,filename:_});S("uploadSuccess",{source:z.value,data:Be.url}),ve()}finally{he({confirmLoading:!1})}}})}return(_e,Te)=>{const Be=Mp("a-button");return Ha(),ou(mn(fX),pf(_e.$attrs,{onRegister:mn(W),title:mn(be)("component.cropper.modalTitle"),width:"800px",canFullscreen:!1,onOk:L,okText:mn(be)("component.cropper.okText")}),{default:qa(()=>[$s("div",{class:Xu(mn(Q))},[$s("div",{class:Xu(`${mn(Q)}-left`)},[$s("div",{class:Xu(`${mn(Q)}-cropper`)},[M.value?(Ha(),ou(G9,{key:0,src:M.value,height:"300px",circled:D.circled,onCropend:Ae,onReady:Ye},null,8,["src","circled"])):Md("",!0)],2),$s("div",{class:Xu(`${mn(Q)}-toolbar`)},[Fa(mn(v9),{fileList:[],accept:"image/*",beforeUpload:ae},{default:qa(()=>[Fa(mn(_g),{title:mn(be)("component.cropper.selectImage"),placement:"bottom"},{default:qa(()=>[Fa(Be,{size:"small",preIcon:"ant-design:upload-outlined",type:"primary"})]),_:1},8,["title"])]),_:1}),Fa(mn(GK),null,{default:qa(()=>[Fa(mn(_g),{title:mn(be)("component.cropper.btn_reset"),placement:"bottom"},{default:qa(()=>[Fa(Be,{type:"primary",preIcon:"ant-design:reload-outlined",size:"small",disabled:!M.value,onClick:Te[0]||(Te[0]=gt=>Ve("reset"))},null,8,["disabled"])]),_:1},8,["title"]),Fa(mn(_g),{title:mn(be)("component.cropper.btn_rotate_left"),placement:"bottom"},{default:qa(()=>[Fa(Be,{type:"primary",preIcon:"ant-design:rotate-left-outlined",size:"small",disabled:!M.value,onClick:Te[1]||(Te[1]=gt=>Ve("rotate",-45))},null,8,["disabled"])]),_:1},8,["title"]),Fa(mn(_g),{title:mn(be)("component.cropper.btn_rotate_right"),placement:"bottom"},{default:qa(()=>[Fa(Be,{type:"primary",preIcon:"ant-design:rotate-right-outlined",size:"small",disabled:!M.value,onClick:Te[2]||(Te[2]=gt=>Ve("rotate",45))},null,8,["disabled"])]),_:1},8,["title"]),Fa(mn(_g),{title:mn(be)("component.cropper.btn_scale_x"),placement:"bottom"},{default:qa(()=>[Fa(Be,{type:"primary",preIcon:"vaadin:arrows-long-h",size:"small",disabled:!M.value,onClick:Te[3]||(Te[3]=gt=>Ve("scaleX"))},null,8,["disabled"])]),_:1},8,["title"]),Fa(mn(_g),{title:mn(be)("component.cropper.btn_scale_y"),placement:"bottom"},{default:qa(()=>[Fa(Be,{type:"primary",preIcon:"vaadin:arrows-long-v",size:"small",disabled:!M.value,onClick:Te[4]||(Te[4]=gt=>Ve("scaleY"))},null,8,["disabled"])]),_:1},8,["title"]),Fa(mn(_g),{title:mn(be)("component.cropper.btn_zoom_in"),placement:"bottom"},{default:qa(()=>[Fa(Be,{type:"primary",preIcon:"ant-design:zoom-in-outlined",size:"small",disabled:!M.value,onClick:Te[5]||(Te[5]=gt=>Ve("zoom",.1))},null,8,["disabled"])]),_:1},8,["title"]),Fa(mn(_g),{title:mn(be)("component.cropper.btn_zoom_out"),placement:"bottom"},{default:qa(()=>[Fa(Be,{type:"primary",preIcon:"ant-design:zoom-out-outlined",size:"small",disabled:!M.value,onClick:Te[6]||(Te[6]=gt=>Ve("zoom",-.1))},null,8,["disabled"])]),_:1},8,["title"])]),_:1})],2)],2),$s("div",{class:Xu(`${mn(Q)}-right`)},[$s("div",{class:Xu(`${mn(Q)}-preview`)},[z.value?(Ha(),ms("img",{key:0,src:z.value,alt:mn(be)("component.cropper.preview")},null,8,WZ)):Md("",!0)],2),z.value?(Ha(),ms("div",{key:0,class:Xu(`${mn(Q)}-group`)},[Fa(mn(nM),{src:z.value,size:"large"},null,8,["src"]),Fa(mn(nM),{src:z.value,size:48},null,8,["src"]),Fa(mn(nM),{src:z.value,size:64},null,8,["src"]),Fa(mn(nM),{src:z.value,size:80},null,8,["src"])],2)):Md("",!0)],2)],2)]),_:1},16,["onRegister","title","okText"])}}}),qZ=["src"],GZ=Ls({name:"CropperAvatar",__name:"CropperAvatar",props:{width:{type:[String,Number],default:"200px"},value:{type:String},showBtn:{type:Boolean,default:!0},btnProps:{type:Object},btnText:{type:String,default:""},uploadApi:{type:Function},size:{type:Number,default:5}},emits:["update:value","change"],setup(D,{expose:y,emit:C}){const S=D,_=C,M=Ea(S.value||""),{prefixCls:z}=Fg("cropper-avatar"),[K,{openModal:Y,closeModal:ye}]=vX(),{createMessage:Q}=i9(),{t:W}=Rp(),ve=ki(()=>[z]),he=ki(()=>`${S.width}`.replace(/px/,"")+"px"),be=ki(()=>parseInt(`${S.width}`.replace(/px/,""))/2+"px"),ae=ki(()=>({width:mn(he)})),Ae=ki(()=>({width:mn(he),height:mn(he)}));vk(()=>{M.value=S.value||""}),Nu(()=>M.value,Ve=>{_("update:value",Ve)});function Ye({source:Ve,data:L}){M.value=Ve,_("change",{source:Ve,data:L}),Q.success(W("component.cropper.uploadSuccess"))}return y({openModal:Y.bind(null,!0),closeModal:ye}),(Ve,L)=>{const _e=Mp("a-button");return Ha(),ms("div",{class:Xu(ve.value),style:Bg(ae.value)},[$s("div",{class:Xu(`${mn(z)}-image-wrapper`),style:Bg(Ae.value),onClick:L[0]||(L[0]=Te=>mn(Y)())},[$s("div",{class:Xu(`${mn(z)}-image-mask`),style:Bg(Ae.value)},[Fa(Y$,{icon:"ant-design:cloud-upload-outlined",size:be.value,style:Bg(Ae.value),color:"#d6d6d6"},null,8,["size","style"])],6),M.value?(Ha(),ms("img",{key:0,src:M.value,alt:"avatar"},null,8,qZ)):Md("",!0)],6),D.showBtn?(Ha(),ou(_e,pf({key:0,class:`${mn(z)}-upload-btn`,onClick:mn(Y)},D.btnProps),{default:qa(()=>[Ng(Bp(D.btnText?D.btnText:mn(W)("component.cropper.selectImage")),1)]),_:1},16,["class","onClick"])):Md("",!0),Fa(jZ,{onRegister:mn(K),onUploadSuccess:Ye,uploadApi:D.uploadApi,src:M.value,size:D.size},null,8,["onRegister","uploadApi","src","size"])],6)}}}),KZ=sM(GZ,[["__scopeId","data-v-5bf52be3"]]);Np(G9);const XZ=Np(KZ);var K9={exports:{}};(function(D){(function(){var y=function(e){if(e===null)return"null";if(e===void 0)return"undefined";var n=typeof e;return n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},C=function(e){return["undefined","boolean","number","string","function","xml","null"].indexOf(e)!==-1},S=function(e,n){var a=Array.prototype.slice.call(e);return a.sort(n)},_=function(e,n){return M(function(a,i){return e.eq(n(a),n(i))})},M=function(e){return{eq:e}},z=M(function(e,n){return e===n}),K=z,Y=function(e){return M(function(n,a){if(n.length!==a.length)return!1;for(var i=n.length,s=0;s<i;s++)if(!e.eq(n[s],a[s]))return!1;return!0})},ye=function(e,n){return _(Y(e),function(a){return S(a,n)})},Q=function(e){return M(function(n,a){var i=Object.keys(n),s=Object.keys(a);if(!ye(K).eq(i,s))return!1;for(var l=i.length,v=0;v<l;v++){var m=i[v];if(!e.eq(n[m],a[m]))return!1}return!0})},W=M(function(e,n){if(e===n)return!0;var a=y(e),i=y(n);return a!==i?!1:C(a)?e===n:a==="array"?Y(W).eq(e,n):a==="object"?Q(W).eq(e,n):!1}),ve=function(e){var n=typeof e;return e===null?"null":n==="object"&&(Array.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="Array")?"array":n==="object"&&(String.prototype.isPrototypeOf(e)||e.constructor&&e.constructor.name==="String")?"string":n},he=function(e){return function(n){return ve(n)===e}},be=function(e){return function(n){return typeof n===e}},ae=function(e){return function(n){return e===n}},Ae=he("string"),Ye=he("object"),Ve=he("array"),L=ae(null),_e=be("boolean"),Te=ae(void 0),Be=function(e){return e==null},gt=function(e){return!Be(e)},Se=be("function"),je=be("number"),Ze=function(){},it=function(e,n){return function(){for(var a=[],i=0;i<arguments.length;i++)a[i]=arguments[i];return e(n.apply(null,a))}},G=function(e,n){return function(a){return e(n(a))}},xe=function(e){return function(){return e}},ct=function(e){return e},Tn=function(e,n){return e===n};function bt(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];var l=n.concat(i);return e.apply(null,l)}}var er=function(e){return function(n){return!e(n)}},Er=function(e){return function(){throw new Error(e)}},A=function(e){return e()},Ht=function(e){e()},Kt=xe(!1),Rn=xe(!0),et=function(){return nn},nn=function(){var e=function(i){return i()},n=ct,a={fold:function(i,s){return i()},isSome:Kt,isNone:Rn,getOr:n,getOrThunk:e,getOrDie:function(i){throw new Error(i||"error: getOrDie called on none.")},getOrNull:xe(null),getOrUndefined:xe(void 0),or:n,orThunk:e,map:et,each:Ze,bind:et,exists:Kt,forall:Rn,filter:function(){return et()},toArray:function(){return[]},toString:xe("none()")};return a}(),tn=function(e){var n=xe(e),a=function(){return s},i=function(l){return l(e)},s={fold:function(l,v){return v(e)},isSome:Rn,isNone:Kt,getOr:n,getOrThunk:n,getOrDie:n,getOrNull:n,getOrUndefined:n,or:a,orThunk:a,map:function(l){return tn(l(e))},each:function(l){l(e)},bind:i,exists:i,forall:i,filter:function(l){return l(e)?s:nn},toArray:function(){return[e]},toString:function(){return"some("+e+")"}};return s},sn=function(e){return e==null?nn:tn(e)},X={some:tn,none:et,from:sn},nr=Array.prototype.slice,St=Array.prototype.indexOf,Ke=Array.prototype.push,bn=function(e,n){return St.call(e,n)},Ue=function(e,n){var a=bn(e,n);return a===-1?X.none():X.some(a)},We=function(e,n){return bn(e,n)>-1},ft=function(e,n){for(var a=0,i=e.length;a<i;a++){var s=e[a];if(n(s,a))return!0}return!1},zt=function(e,n){for(var a=e.length,i=new Array(a),s=0;s<a;s++){var l=e[s];i[s]=n(l,s)}return i},vt=function(e,n){for(var a=0,i=e.length;a<i;a++){var s=e[a];n(s,a)}},kt=function(e,n){for(var a=e.length-1;a>=0;a--){var i=e[a];n(i,a)}},jn=function(e,n){for(var a=[],i=[],s=0,l=e.length;s<l;s++){var v=e[s],m=n(v,s)?a:i;m.push(v)}return{pass:a,fail:i}},Ce=function(e,n){for(var a=[],i=0,s=e.length;i<s;i++){var l=e[i];n(l,i)&&a.push(l)}return a},pt=function(e,n,a){return kt(e,function(i,s){a=n(a,i,s)}),a},pn=function(e,n,a){return vt(e,function(i,s){a=n(a,i,s)}),a},Nn=function(e,n,a){for(var i=0,s=e.length;i<s;i++){var l=e[i];if(n(l,i))return X.some(l);if(a(l,i))break}return X.none()},Hn=function(e,n){return Nn(e,n,Kt)},tr=function(e,n){for(var a=0,i=e.length;a<i;a++){var s=e[a];if(n(s,a))return X.some(a)}return X.none()},Fr=function(e){for(var n=[],a=0,i=e.length;a<i;++a){if(!Ve(e[a]))throw new Error("Arr.flatten item "+a+" was not an array, input: "+e);Ke.apply(n,e[a])}return n},Xr=function(e,n){return Fr(zt(e,n))},oa=function(e,n){for(var a=0,i=e.length;a<i;++a){var s=e[a];if(n(s,a)!==!0)return!1}return!0},Vt=function(e){var n=nr.call(e,0);return n.reverse(),n},Ut=function(e,n){return Ce(e,function(a){return!We(n,a)})},Bt=function(e,n){for(var a={},i=0,s=e.length;i<s;i++){var l=e[i];a[String(l)]=n(l,i)}return a},Xe=function(e,n){var a=nr.call(e,0);return a.sort(n),a},ot=function(e,n){return n>=0&&n<e.length?X.some(e[n]):X.none()},Xt=function(e){return ot(e,0)},yn=function(e){return ot(e,e.length-1)},Jt=Se(Array.from)?Array.from:function(e){return nr.call(e)},ze=function(e,n){for(var a=0;a<e.length;a++){var i=n(e[a],a);if(i.isSome())return i}return X.none()},$t=Object.keys,fn=Object.hasOwnProperty,vn=function(e,n){for(var a=$t(e),i=0,s=a.length;i<s;i++){var l=a[i],v=e[l];n(v,l)}},Ln=function(e,n){return Ee(e,function(a,i){return{k:i,v:n(a,i)}})},Ee=function(e,n){var a={};return vn(e,function(i,s){var l=n(i,s);a[l.k]=l.v}),a},Ct=function(e){return function(n,a){e[a]=n}},dt=function(e,n,a,i){var s={};return vn(e,function(l,v){(n(l,v)?a:i)(l,v)}),s},Wt=function(e,n){var a={},i={};return dt(e,n,Ct(a),Ct(i)),{t:a,f:i}},Bn=function(e,n){var a={};return dt(e,n,Ct(a),Ze),a},pr=function(e,n){var a=[];return vn(e,function(i,s){a.push(n(i,s))}),a},xa=function(e){return pr(e,ct)},Ar=function(e,n){return xr(e,n)?X.from(e[n]):X.none()},xr=function(e,n){return fn.call(e,n)},ha=function(e,n){return xr(e,n)&&e[n]!==void 0&&e[n]!==null},Ja=function(e,n,a){return a===void 0&&(a=W),Q(a).eq(e,n)},Va=Array.isArray,Ta=function(e){if(Va(e))return e;for(var n=[],a=0,i=e.length;a<i;a++)n[a]=e[a];return n},Ga=function(e,n,a){var i,s;if(!e)return!1;if(a=a||e,e.length!==void 0){for(i=0,s=e.length;i<s;i++)if(n.call(a,e[i],i,e)===!1)return!1}else for(i in e)if(xr(e,i)&&n.call(a,e[i],i,e)===!1)return!1;return!0},xo=function(e,n){var a=[];return Ga(e,function(i,s){a.push(n(i,s,e))}),a},Qa=function(e,n){var a=[];return Ga(e,function(i,s){(!n||n(i,s,e))&&a.push(i)}),a},Pa=function(e,n){if(e){for(var a=0,i=e.length;a<i;a++)if(e[a]===n)return a}return-1},po=function(e,n,a,i){for(var s=Te(a)?e[0]:a,l=0;l<e.length;l++)s=n.call(i,s,e[l],l);return s},zr=function(e,n,a){var i,s;for(i=0,s=e.length;i<s;i++)if(n.call(a,e[i],i,e))return i;return-1},bo=function(e){return e[e.length-1]},Gn=function(){return Gn=Object.assign||function(n){for(var a,i=1,s=arguments.length;i<s;i++){a=arguments[i];for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&(n[l]=a[l])}return n},Gn.apply(this,arguments)};function vi(e,n){var a={};for(var i in e)Object.prototype.hasOwnProperty.call(e,i)&&n.indexOf(i)<0&&(a[i]=e[i]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,i=Object.getOwnPropertySymbols(e);s<i.length;s++)n.indexOf(i[s])<0&&Object.prototype.propertyIsEnumerable.call(e,i[s])&&(a[i[s]]=e[i[s]]);return a}function fo(e,n,a){if(a||arguments.length===2)for(var i=0,s=n.length,l;i<s;i++)(l||!(i in n))&&(l||(l=Array.prototype.slice.call(n,0,i)),l[i]=n[i]);return e.concat(l||Array.prototype.slice.call(n))}var So=function(e){var n=!1,a;return function(){for(var i=[],s=0;s<arguments.length;s++)i[s]=arguments[s];return n||(n=!0,a=e.apply(null,i)),a}},oo=function(e,n,a,i){var s=e.isiOS()&&/ipad/i.test(a)===!0,l=e.isiOS()&&!s,v=e.isiOS()||e.isAndroid(),m=v||i("(pointer:coarse)"),g=s||!l&&v&&i("(min-device-width:768px)"),E=l||v&&!g,N=n.isSafari()&&e.isiOS()&&/safari/i.test(a)===!1,F=!E&&!g&&!N;return{isiPad:xe(s),isiPhone:xe(l),isTablet:xe(g),isPhone:xe(E),isTouch:xe(m),isAndroid:e.isAndroid,isiOS:e.isiOS,isWebView:xe(N),isDesktop:xe(F)}},No=function(e,n){for(var a=0;a<e.length;a++){var i=e[a];if(i.test(n))return i}},di=function(e,n){var a=No(e,n);if(!a)return{major:0,minor:0};var i=function(s){return Number(n.replace(a,"$"+s))};return se(i(1),i(2))},_o=function(e,n){var a=String(n).toLowerCase();return e.length===0?Ei():di(e,a)},Ei=function(){return se(0,0)},se=function(e,n){return{major:e,minor:n}},Re={nu:se,detect:_o,unknown:Ei},ce=function(e,n){return ze(n.brands,function(a){var i=a.brand.toLowerCase();return Hn(e,function(s){var l;return i===((l=s.brand)===null||l===void 0?void 0:l.toLowerCase())}).map(function(s){return{current:s.name,version:Re.nu(parseInt(a.version,10),0)}})})},at=function(e,n){var a=String(n).toLowerCase();return Hn(e,function(i){return i.search(a)})},dn=function(e,n){return at(e,n).map(function(a){var i=Re.detect(a.versionRegexes,n);return{current:a.name,version:i}})},Mn=function(e,n){return at(e,n).map(function(a){var i=Re.detect(a.versionRegexes,n);return{current:a.name,version:i}})},oe=function(e,n){return e.substring(n)},pe=function(e,n,a){return n===""||e.length>=n.length&&e.substr(a,a+n.length)===n},ut=function(e,n){return R(e,n)?oe(e,n.length):e},At=function(e,n){return e.indexOf(n)!==-1},R=function(e,n){return pe(e,n,0)},Z=function(e){return function(n){return n.replace(e,"")}},me=Z(/^\s+|\s+$/g),Me=Z(/^\s+/g),Qe=Z(/\s+$/g),rt=function(e){return e.length>0},ln=function(e){return!rt(e)},On=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,ir=function(e){return function(n){return At(n,e)}},fr=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(e){return At(e,"edge/")&&At(e,"chrome")&&At(e,"safari")&&At(e,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,On],search:function(e){return At(e,"chrome")&&!At(e,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(e){return At(e,"msie")||At(e,"trident")}},{name:"Opera",versionRegexes:[On,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:ir("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:ir("firefox")},{name:"Safari",versionRegexes:[On,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(e){return(At(e,"safari")||At(e,"mobile/"))&&At(e,"applewebkit")}}],mr=[{name:"Windows",search:ir("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(e){return At(e,"iphone")||At(e,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:ir("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:ir("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:ir("linux"),versionRegexes:[]},{name:"Solaris",search:ir("sunos"),versionRegexes:[]},{name:"FreeBSD",search:ir("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:ir("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Tr={browsers:xe(fr),oses:xe(mr)},ia="Edge",eo="Chrome",ko="IE",Ri="Opera",Ti="Firefox",to="Safari",hu=function(){return iu({current:void 0,version:Re.unknown()})},iu=function(e){var n=e.current,a=e.version,i=function(s){return function(){return n===s}};return{current:n,version:a,isEdge:i(ia),isChrome:i(eo),isIE:i(ko),isOpera:i(Ri),isFirefox:i(Ti),isSafari:i(to)}},Qo={unknown:hu,nu:iu,edge:xe(ia),chrome:xe(eo),ie:xe(ko),opera:xe(Ri),firefox:xe(Ti),safari:xe(to)},Eo="Windows",Fu="iOS",J="Android",Oe="Linux",tt="OSX",_t="Solaris",kn="FreeBSD",$n="ChromeOS",rr=function(){return Yr({current:void 0,version:Re.unknown()})},Yr=function(e){var n=e.current,a=e.version,i=function(s){return function(){return n===s}};return{current:n,version:a,isWindows:i(Eo),isiOS:i(Fu),isAndroid:i(J),isOSX:i(tt),isLinux:i(Oe),isSolaris:i(_t),isFreeBSD:i(kn),isChromeOS:i($n)}},U={unknown:rr,nu:Yr,windows:xe(Eo),ios:xe(Fu),android:xe(J),linux:xe(Oe),osx:xe(tt),solaris:xe(_t),freebsd:xe(kn),chromeos:xe($n)},ke=function(e,n,a){var i=Tr.browsers(),s=Tr.oses(),l=n.bind(function(g){return ce(i,g)}).orThunk(function(){return dn(i,e)}).fold(Qo.unknown,Qo.nu),v=Mn(s,e).fold(U.unknown,U.nu),m=oo(v,l,e,a);return{browser:l,os:v,deviceType:m}},Le={detect:ke},mt=function(e){return window.matchMedia(e).matches},Pt=So(function(){return Le.detect(navigator.userAgent,X.from(navigator.userAgentData),mt)}),Dn=function(){return Pt()},Jn=navigator.userAgent,ea=Dn(),Pr=ea.browser,va=ea.os,Ra=ea.deviceType,Ui=/WebKit/.test(Jn)&&!Pr.isEdge(),Yu="FormData"in window&&"FileReader"in window&&"URL"in window&&!!URL.createObjectURL,cr=Jn.indexOf("Windows Phone")!==-1,an={opera:Pr.isOpera(),webkit:Ui,ie:Pr.isIE()||Pr.isEdge()?Pr.version.major:!1,gecko:Pr.isFirefox(),mac:va.isOSX()||va.isiOS(),iOS:Ra.isiPad()||Ra.isiPhone(),android:va.isAndroid(),contentEditable:!0,transparentSrc:"data:image/gif;base64,R0lGODlhAQABAIAAAAAAAP///yH5BAEAAAAALAAAAAABAAEAAAIBRAA7",caretAfter:!0,range:window.getSelection&&"Range"in window,documentMode:Pr.isIE()?document.documentMode||7:10,fileApi:Yu,ceFalse:!0,cacheSuffix:null,container:null,experimentalShadowDom:!1,canHaveCSP:!Pr.isIE(),desktop:Ra.isDesktop(),windowsPhone:cr,browser:{current:Pr.current,version:Pr.version,isChrome:Pr.isChrome,isEdge:Pr.isEdge,isFirefox:Pr.isFirefox,isIE:Pr.isIE,isOpera:Pr.isOpera,isSafari:Pr.isSafari},os:{current:va.current,version:va.version,isAndroid:va.isAndroid,isChromeOS:va.isChromeOS,isFreeBSD:va.isFreeBSD,isiOS:va.isiOS,isLinux:va.isLinux,isOSX:va.isOSX,isSolaris:va.isSolaris,isWindows:va.isWindows},deviceType:{isDesktop:Ra.isDesktop,isiPad:Ra.isiPad,isiPhone:Ra.isiPhone,isPhone:Ra.isPhone,isTablet:Ra.isTablet,isTouch:Ra.isTouch,isWebView:Ra.isWebView}},pa=/^\s*|\s*$/g,yo=function(e){return e==null?"":(""+e).replace(pa,"")},qo=function(e,n){return n?n==="array"&&Va(e)?!0:typeof e===n:e!==void 0},gs=function(e,n,a){var i;for(e=e||[],n=n||",",typeof e=="string"&&(e=e.split(n)),a=a||{},i=e.length;i--;)a[e[i]]={};return a},hs=xr,Hs=function(e,n,a){var i=this,s,l,v,m=0;e=/^((static) )?([\w.]+)(:([\w.]+))?/.exec(e);var g=e[3].match(/(^|\.)(\w+)$/i)[2],E=i.createNS(e[3].replace(/\.\w+$/,""),a);if(!E[g]){if(e[2]==="static"){E[g]=n,this.onCreate&&this.onCreate(e[2],e[3],E[g]);return}n[g]||(n[g]=function(){},m=1),E[g]=n[g],i.extend(E[g].prototype,n),e[5]&&(s=i.resolve(e[5]).prototype,l=e[5].match(/\.(\w+)$/i)[1],v=E[g],m?E[g]=function(){return s[l].apply(this,arguments)}:E[g]=function(){return this.parent=s[l],v.apply(this,arguments)},E[g].prototype[g]=E[g],i.each(s,function(N,F){E[g].prototype[F]=s[F]}),i.each(n,function(N,F){s[F]?E[g].prototype[F]=function(){return this.parent=s[F],N.apply(this,arguments)}:F!==g&&(E[g].prototype[F]=N)})),i.each(n.static,function(N,F){E[g][F]=N})}},_a=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];for(var i=0;i<n.length;i++){var s=n[i];for(var l in s)if(xr(s,l)){var v=s[l];v!==void 0&&(e[l]=v)}}return e},Iu=function(e,n,a,i){i=i||this,e&&(a&&(e=e[a]),Ga(e,function(s,l){if(n.call(i,s,l,a)===!1)return!1;Iu(s,n,a,i)}))},Vs=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0;a<e.length;a++)i=e[a],n[i]||(n[i]={}),n=n[i];return n},Wi=function(e,n){var a,i;for(n=n||window,e=e.split("."),a=0,i=e.length;a<i&&(n=n[e[a]],!!n);a++);return n},ei=function(e,n){return!e||qo(e,"array")?e:xo(e.split(n||","),yo)},il=function(e){var n=an.cacheSuffix;return n&&(e+=(e.indexOf("?")===-1?"?":"&")+n),e},Tt={trim:yo,isArray:Va,is:qo,toArray:Ta,makeMap:gs,each:Ga,map:xo,grep:Qa,inArray:Pa,hasOwn:hs,extend:_a,create:Hs,walk:Iu,createNS:Vs,resolve:Wi,explode:ei,_addCacheSuffix:il},ps=function(e,n){var a=n||document,i=a.createElement("div");if(i.innerHTML=e,!i.hasChildNodes()||i.childNodes.length>1)throw new Error("HTML must have a single root node");return Zu(i.childNodes[0])},Lo=function(e,n){var a=n||document,i=a.createElement(e);return Zu(i)},El=function(e,n){var a=n||document,i=a.createTextNode(e);return Zu(i)},Zu=function(e){if(e==null)throw new Error("Node cannot be null or undefined");return{dom:e}},B=function(e,n,a){return X.from(e.dom.elementFromPoint(n,a)).map(Zu)},w={fromHtml:ps,fromTag:Lo,fromText:El,fromDom:Zu,fromPoint:B},h=function(e,n){var a=[],i=function(l){return a.push(l),n(l)},s=n(e);do s=s.bind(i);while(s.isSome());return a},T=function(e,n,a){return(e.compareDocumentPosition(n)&a)!==0},H=function(e,n){return T(e,n,Node.DOCUMENT_POSITION_CONTAINED_BY)},ue=8,He=9,Nt=11,Kn=1,vr=3,wn=function(e,n){var a=e.dom;if(a.nodeType!==Kn)return!1;var i=a;if(i.matches!==void 0)return i.matches(n);if(i.msMatchesSelector!==void 0)return i.msMatchesSelector(n);if(i.webkitMatchesSelector!==void 0)return i.webkitMatchesSelector(n);if(i.mozMatchesSelector!==void 0)return i.mozMatchesSelector(n);throw new Error("Browser lacks native selectors")},qn=function(e){return e.nodeType!==Kn&&e.nodeType!==He&&e.nodeType!==Nt||e.childElementCount===0},Rr=function(e,n){var a=n===void 0?document:n.dom;return qn(a)?[]:zt(a.querySelectorAll(e),w.fromDom)},Wr=function(e,n){var a=n===void 0?document:n.dom;return qn(a)?X.none():X.from(a.querySelector(e)).map(w.fromDom)},Sr=function(e,n){return e.dom===n.dom},Ua=function(e,n){var a=e.dom,i=n.dom;return a===i?!1:a.contains(i)},wr=function(e,n){return H(e.dom,n.dom)},Aa=function(e,n){return Dn().browser.isIE()?wr(e,n):Ua(e,n)};typeof window!="undefined"||Function("return this;")();var Sa=function(e){var n=e.dom.nodeName;return n.toLowerCase()},ji=function(e){return e.dom.nodeType},qr=function(e){return function(n){return ji(n)===e}},Pd=function(e){return ji(e)===ue||Sa(e)==="#comment"},vo=qr(Kn),Ho=qr(vr),zp=qr(He),Ai=qr(Nt),Ig=function(e){return function(n){return vo(n)&&Sa(n)===e}},Rd=function(e){return w.fromDom(e.dom.ownerDocument)},Mr=function(e){return zp(e)?e:Rd(e)},Tl=function(e){return w.fromDom(Mr(e).dom.documentElement)},vc=function(e){return w.fromDom(Mr(e).dom.defaultView)},Fo=function(e){return X.from(e.dom.parentNode).map(w.fromDom)},$p=function(e,n){for(var a=Se(n)?n:Kt,i=e.dom,s=[];i.parentNode!==null&&i.parentNode!==void 0;){var l=i.parentNode,v=w.fromDom(l);if(s.push(v),a(v)===!0)break;i=l}return s},Oi=function(e){var n=function(a){return Ce(a,function(i){return!Sr(e,i)})};return Fo(e).map(pu).map(n).getOr([])},Lc=function(e){return X.from(e.dom.previousSibling).map(w.fromDom)},bf=function(e){return X.from(e.dom.nextSibling).map(w.fromDom)},Ia=function(e){return Vt(h(e,Lc))},Hc=function(e){return h(e,bf)},pu=function(e){return zt(e.dom.childNodes,w.fromDom)},Vc=function(e,n){var a=e.dom.childNodes;return X.from(a[n]).map(w.fromDom)},ti=function(e){return Vc(e,0)},bs=function(e){return Vc(e,e.dom.childNodes.length-1)},Lp=function(e){return e.dom.childNodes.length},Uc=function(e){var n=e.dom.head;if(n==null)throw new Error("Head is not available yet");return w.fromDom(n)},Ka=function(e){return Ai(e)&&gt(e.dom.host)},yf=Se(Element.prototype.attachShadow)&&Se(Node.prototype.getRootNode),Wc=xe(yf),bu=yf?function(e){return w.fromDom(e.dom.getRootNode())}:Mr,jc=function(e){return Ka(e)?e:Uc(Mr(e))},Nd=function(e){var n=bu(e);return Ka(n)?X.some(n):X.none()},Hp=function(e){return w.fromDom(e.dom.host)},uu=function(e){if(Wc()&&gt(e.target)){var n=w.fromDom(e.target);if(vo(n)&&dc(n)&&e.composed&&e.composedPath){var a=e.composedPath();if(a)return Xt(a)}}return X.from(e.target)},dc=function(e){return gt(e.dom.shadowRoot)},Us=function(e,n){var a=Fo(e);a.each(function(i){i.dom.insertBefore(n.dom,e.dom)})},wf=function(e,n){var a=bf(e);a.fold(function(){var i=Fo(e);i.each(function(s){Ni(s,n)})},function(i){Us(i,n)})},zg=function(e,n){var a=ti(e);a.fold(function(){Ni(e,n)},function(i){e.dom.insertBefore(n.dom,i.dom)})},Ni=function(e,n){e.dom.appendChild(n.dom)},Fd=function(e,n){Us(e,n),Ni(n,e)},Ay=function(e,n){vt(n,function(a){Us(e,a)})},Id=function(e,n){vt(n,function(a){Ni(e,a)})},$g=function(e){e.dom.textContent="",vt(pu(e),function(n){Io(n)})},Io=function(e){var n=e.dom;n.parentNode!==null&&n.parentNode.removeChild(n)},zd=function(e){var n=pu(e);n.length>0&&Ay(e,n),Io(e)},kv=function(e){var n=Ho(e)?e.dom.parentNode:e.dom;if(n==null||n.ownerDocument===null)return!1;var a=n.ownerDocument;return Nd(w.fromDom(n)).fold(function(){return a.body.contains(n)},G(kv,Hp))},qi=function(e,n){var a=function(i,s){return qi(e+i,n+s)};return{left:e,top:n,translate:a}},qc=qi,Oy=function(e){var n=e.getBoundingClientRect();return qc(n.left,n.top)},Gc=function(e,n){return e!==void 0?e:n!==void 0?n:0},$d=function(e){var n=e.dom.ownerDocument,a=n.body,i=n.defaultView,s=n.documentElement;if(a===e.dom)return qc(a.offsetLeft,a.offsetTop);var l=Gc(i==null?void 0:i.pageYOffset,s.scrollTop),v=Gc(i==null?void 0:i.pageXOffset,s.scrollLeft),m=Gc(s.clientTop,a.clientTop),g=Gc(s.clientLeft,a.clientLeft);return ys(e).translate(v-g,l-m)},ys=function(e){var n=e.dom,a=n.ownerDocument,i=a.body;return i===n?qc(i.offsetLeft,i.offsetTop):kv(e)?Oy(n):qc(0,0)},Lg=function(e){var n=e!==void 0?e.dom:document,a=n.body.scrollLeft||n.documentElement.scrollLeft,i=n.body.scrollTop||n.documentElement.scrollTop;return qc(a,i)},ws=function(e,n,a){var i=a!==void 0?a.dom:document,s=i.defaultView;s&&s.scrollTo(e,n)},Ld=function(e,n){var a=Dn().browser.isSafari();a&&Se(e.dom.scrollIntoViewIfNeeded)?e.dom.scrollIntoViewIfNeeded(!1):e.dom.scrollIntoView(n)},Dy=function(e){var n=e===void 0?window:e;return Dn().browser.isFirefox()?X.none():X.from(n.visualViewport)},Hg=function(e,n,a,i){return{x:e,y:n,width:a,height:i,right:e+a,bottom:n+i}},Ev=function(e){var n=e===void 0?window:e,a=n.document,i=Lg(w.fromDom(a));return Dy(n).fold(function(){var s=n.document.documentElement,l=s.clientWidth,v=s.clientHeight;return Hg(i.left,i.top,l,v)},function(s){return Hg(Math.max(s.pageLeft,i.left),Math.max(s.pageTop,i.top),s.width,s.height)})},Cf=function(e){return function(n){return!!n&&n.nodeType===e}},Hd=function(e){return!!e&&!Object.getPrototypeOf(e)},Br=Cf(1),Cs=function(e){var n=e.map(function(a){return a.toLowerCase()});return function(a){if(a&&a.nodeName){var i=a.nodeName.toLowerCase();return We(n,i)}return!1}},Vd=function(e,n){var a=n.toLowerCase().split(" ");return function(i){if(Br(i))for(var s=0;s<a.length;s++){var l=i.ownerDocument.defaultView.getComputedStyle(i,null),v=l?l.getPropertyValue(e):null;if(v===a[s])return!0}return!1}},Ud=function(e){return function(n){return Br(n)&&n.hasAttribute(e)}},_y=function(e,n){return function(a){return Br(a)&&a.getAttribute(e)===n}},Kc=function(e){return Br(e)&&e.hasAttribute("data-mce-bogus")},mi=function(e){return Br(e)&&e.getAttribute("data-mce-bogus")==="all"},gi=function(e){return Br(e)&&e.tagName==="TABLE"},mc=function(e){return function(n){return!!(Br(n)&&(n.contentEditable===e||n.getAttribute("data-mce-contenteditable")===e))}},xs=Cs(["textarea","input"]),Wn=Cf(3),Xc=Cf(8),Vg=Cf(9),jr=Cf(11),za=Cs(["br"]),Ug=Cs(["img"]),ul=mc("true"),so=mc("false"),Wd=Cs(["td","th"]),zu=Cs(["video","audio","object","embed"]),Tv=function(e,n,a){return a===void 0&&(a=Tn),e.exists(function(i){return a(i,n)})},Vp=function(e){for(var n=[],a=function(s){n.push(s)},i=0;i<e.length;i++)e[i].each(a);return n},su=function(e,n,a){return e.isSome()&&n.isSome()?X.some(a(e.getOrDie(),n.getOrDie())):X.none()},My=function(e,n,a,i){return e.isSome()&&n.isSome()&&a.isSome()?X.some(i(e.getOrDie(),n.getOrDie(),a.getOrDie())):X.none()},By=function(e,n){return e?X.some(n):X.none()},mo=function(e){return e.style!==void 0&&Se(e.style.getPropertyValue)},Wg=function(e,n,a){if(Ae(a)||_e(a)||je(a))e.setAttribute(n,a+"");else throw new Error("Attribute value was not simple")},k=function(e,n,a){Wg(e.dom,n,a)},I=function(e,n){var a=e.dom;vn(n,function(i,s){Wg(a,s,i)})},j=function(e,n){var a=e.dom.getAttribute(n);return a===null?void 0:a},fe=function(e,n){return X.from(j(e,n))},Ge=function(e,n){var a=e.dom;return a&&a.hasAttribute?a.hasAttribute(n):!1},Ot=function(e,n){e.dom.removeAttribute(n)},ur=function(e){return pn(e.dom.attributes,function(n,a){return n[a.name]=a.value,n},{})},Nr=function(e,n,a){if(!Ae(a))throw new Error("CSS value must be a string: "+a);mo(e)&&e.style.setProperty(n,a)},la=function(e,n){var a=e.dom;vn(n,function(i,s){Nr(a,s,i)})},Qr=function(e,n){var a=e.dom,i=window.getComputedStyle(a),s=i.getPropertyValue(n);return s===""&&!kv(e)?io(a,n):s},io=function(e,n){return mo(e)?e.style.getPropertyValue(n):""},lu=function(e,n){var a=e.dom,i=io(a,n);return X.from(i).filter(function(s){return s.length>0})},Up=function(e){var n={},a=e.dom;if(mo(a))for(var i=0;i<a.style.length;i++){var s=a.style.item(i);n[s]=a.style[s]}return n},dM=function(e){return e.dom.offsetWidth},gk=Dn().browser,hk=function(e){return Hn(e,vo)},mM=function(e){return gk.isFirefox()&&Sa(e)==="table"?hk(pu(e)).filter(function(n){return Sa(n)==="caption"}).bind(function(n){return hk(Hc(n)).map(function(a){var i=a.dom.offsetTop,s=n.dom.offsetTop,l=n.dom.offsetHeight;return i<=s?-l:0})}).getOr(0):0},Py=function(e,n){return e.children&&We(e.children,n)},Ry=function(e,n,a){var i=0,s=0,l=e.ownerDocument;if(a=a||e,n){if(a===e&&n.getBoundingClientRect&&Qr(w.fromDom(e),"position")==="static"){var v=n.getBoundingClientRect();return i=v.left+(l.documentElement.scrollLeft||e.scrollLeft)-l.documentElement.clientLeft,s=v.top+(l.documentElement.scrollTop||e.scrollTop)-l.documentElement.clientTop,{x:i,y:s}}for(var m=n;m&&m!==a&&m.nodeType&&!Py(m,a);){var g=m;i+=g.offsetLeft||0,s+=g.offsetTop||0,m=g.offsetParent}for(m=n.parentNode;m&&m!==a&&m.nodeType&&!Py(m,a);)i-=m.scrollLeft||0,s-=m.scrollTop||0,m=m.parentNode;s+=mM(w.fromDom(n))}return{x:i,y:s}},pk={},jd={exports:pk};(function(e,n,a,i){(function(s,l){typeof n=="object"&&typeof a!="undefined"?a.exports=l():(s=typeof globalThis!="undefined"?globalThis:s||self,s.EphoxContactWrapper=l())})(this,function(){var s=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof xy!="undefined"?xy:typeof self!="undefined"?self:{},l={exports:{}};(function(E){(function(N){var F=setTimeout;function $(){}function ee(De,nt){return function(){De.apply(nt,arguments)}}function ne(De){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof De!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],qe(De,this)}function re(De,nt){for(;De._state===3;)De=De._value;if(De._state===0){De._deferreds.push(nt);return}De._handled=!0,ne._immediateFn(function(){var Rt=De._state===1?nt.onFulfilled:nt.onRejected;if(Rt===null){(De._state===1?ie:we)(nt.promise,De._value);return}var en;try{en=Rt(De._value)}catch(yr){we(nt.promise,yr);return}ie(nt.promise,en)})}function ie(De,nt){try{if(nt===De)throw new TypeError("A promise cannot be resolved with itself.");if(nt&&(typeof nt=="object"||typeof nt=="function")){var Rt=nt.then;if(nt instanceof ne){De._state=3,De._value=nt,ge(De);return}else if(typeof Rt=="function"){qe(ee(Rt,nt),De);return}}De._state=1,De._value=nt,ge(De)}catch(en){we(De,en)}}function we(De,nt){De._state=2,De._value=nt,ge(De)}function ge(De){De._state===2&&De._deferreds.length===0&&ne._immediateFn(function(){De._handled||ne._unhandledRejectionFn(De._value)});for(var nt=0,Rt=De._deferreds.length;nt<Rt;nt++)re(De,De._deferreds[nt]);De._deferreds=null}function Je(De,nt,Rt){this.onFulfilled=typeof De=="function"?De:null,this.onRejected=typeof nt=="function"?nt:null,this.promise=Rt}function qe(De,nt){var Rt=!1;try{De(function(en){Rt||(Rt=!0,ie(nt,en))},function(en){Rt||(Rt=!0,we(nt,en))})}catch(en){if(Rt)return;Rt=!0,we(nt,en)}}ne.prototype.catch=function(De){return this.then(null,De)},ne.prototype.then=function(De,nt){var Rt=new this.constructor($);return re(this,new Je(De,nt,Rt)),Rt},ne.all=function(De){var nt=Array.prototype.slice.call(De);return new ne(function(Rt,en){if(nt.length===0)return Rt([]);var yr=nt.length;function Fn(ar,on){try{if(on&&(typeof on=="object"||typeof on=="function")){var Pn=on.then;if(typeof Pn=="function"){Pn.call(on,function(un){Fn(ar,un)},en);return}}nt[ar]=on,--yr===0&&Rt(nt)}catch(un){en(un)}}for(var Ft=0;Ft<nt.length;Ft++)Fn(Ft,nt[Ft])})},ne.resolve=function(De){return De&&typeof De=="object"&&De.constructor===ne?De:new ne(function(nt){nt(De)})},ne.reject=function(De){return new ne(function(nt,Rt){Rt(De)})},ne.race=function(De){return new ne(function(nt,Rt){for(var en=0,yr=De.length;en<yr;en++)De[en].then(nt,Rt)})},ne._immediateFn=typeof setImmediate=="function"?function(De){setImmediate(De)}:function(De){F(De,0)},ne._unhandledRejectionFn=function(nt){},ne._setImmediateFn=function(nt){ne._immediateFn=nt},ne._setUnhandledRejectionFn=function(nt){ne._unhandledRejectionFn=nt},E.exports?E.exports=ne:N.Promise||(N.Promise=ne)})(s)})(l);var v=l.exports,m=function(){return typeof window!="undefined"?window:Function("return this;")()}(),g={boltExport:m.Promise||v};return g})})(void 0,pk,jd);var Ny=jd.exports.boltExport,Fy=function(e){var n=X.none(),a=[],i=function(E){return Fy(function(N){s(function(F){N(E(F))})})},s=function(E){v()?g(E):a.push(E)},l=function(E){v()||(n=X.some(E),m(a),a=[])},v=function(){return n.isSome()},m=function(E){vt(E,g)},g=function(E){n.each(function(N){setTimeout(function(){E(N)},0)})};return e(l),{get:s,map:i,isReady:v}},gM=function(e){return Fy(function(n){n(e)})},hM={nu:Fy,pure:gM},pM=function(e){setTimeout(function(){throw e},0)},Al=function(e){var n=function(g){e().then(g,pM)},a=function(g){return Al(function(){return e().then(g)})},i=function(g){return Al(function(){return e().then(function(E){return g(E).toPromise()})})},s=function(g){return Al(function(){return e().then(function(){return g.toPromise()})})},l=function(){return hM.nu(n)},v=function(){var g=null;return Al(function(){return g===null&&(g=e()),g})},m=e;return{map:a,bind:i,anonBind:s,toLazy:l,toCached:v,toPromise:m,get:n}},bk=function(e){return Al(function(){return new Ny(e)})},bM=function(e){return Al(function(){return Ny.resolve(e)})},Iy={nu:bk,pure:bM},yM=function(e,n){return n(function(a){var i=[],s=0,l=function(v){return function(m){i[v]=m,s++,s>=e.length&&a(i)}};e.length===0?a([]):vt(e,function(v,m){v.get(l(m))})})},wM=function(e){return yM(e,Iy.nu)},qd=function(e){var n=function(F){return qd(e)},a=function(F){return qd(e)},i=function(F){return qd(F(e))},s=function(F){return qd(e)},l=function(F){F(e)},v=function(F){return F(e)},m=function(F,$){return $(e)},g=function(F){return F(e)},E=function(F){return F(e)},N=function(){return X.some(e)};return{isValue:Rn,isError:Kt,getOr:xe(e),getOrThunk:xe(e),getOrDie:xe(e),or:n,orThunk:a,fold:m,map:i,mapError:s,each:l,bind:v,exists:g,forall:E,toOptional:N}},jg=function(e){var n=function(E){return E()},a=function(){return Er(String(e))()},i=ct,s=function(E){return E()},l=function(E){return jg(e)},v=function(E){return jg(E(e))},m=function(E){return jg(e)},g=function(E,N){return E(e)};return{isValue:Kt,isError:Rn,getOr:ct,getOrThunk:n,getOrDie:a,or:i,orThunk:s,fold:g,map:l,mapError:v,each:Ze,bind:m,exists:Kt,forall:Rn,toOptional:X.none}},yk=function(e,n){return e.fold(function(){return jg(n)},qd)},wk={value:qd,error:jg,fromOption:yk},Ss=function(e){if(!Ve(e))throw new Error("cases must be an array");if(e.length===0)throw new Error("there must be at least one case");var n=[],a={};return vt(e,function(i,s){var l=$t(i);if(l.length!==1)throw new Error("one and only one name per case");var v=l[0],m=i[v];if(a[v]!==void 0)throw new Error("duplicate key detected:"+v);if(v==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Ve(m))throw new Error("case arguments must be an array");n.push(v),a[v]=function(){for(var g=[],E=0;E<arguments.length;E++)g[E]=arguments[E];var N=g.length;if(N!==m.length)throw new Error("Wrong number of arguments to case "+v+". Expected "+m.length+" ("+m+"), got "+N);var F=function($){var ee=$t($);if(n.length!==ee.length)throw new Error("Wrong number of arguments to match. Expected: "+n.join(",")+`
Actual: `+ee.join(","));var ne=oa(n,function(re){return We(ee,re)});if(!ne)throw new Error("Not all branches were specified when using match. Specified: "+ee.join(", ")+`
Required: `+n.join(", "));return $[v].apply(null,g)};return{fold:function(){for(var $=[],ee=0;ee<arguments.length;ee++)$[ee]=arguments[ee];if($.length!==e.length)throw new Error("Wrong number of arguments to fold. Expected "+e.length+", got "+$.length);var ne=$[s];return ne.apply(null,g)},match:F,log:function($){}}}}),a},dr={generate:Ss};dr.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var Yc=function(e){return e.fold(ct,ct)};function zy(e,n,a,i,s){return e(a,i)?X.some(a):Se(s)&&s(a)?X.none():n(a,i,s)}var qg=function(e,n,a){for(var i=e.dom,s=Se(a)?a:Kt;i.parentNode;){i=i.parentNode;var l=w.fromDom(i);if(n(l))return X.some(l);if(s(l))break}return X.none()},Wp=function(e,n,a){var i=function(s,l){return l(s)};return zy(i,qg,e,n,a)},$y=function(e,n){var a=e.dom;return a.parentNode?Ol(w.fromDom(a.parentNode),function(i){return!Sr(e,i)&&n(i)}):X.none()},Ol=function(e,n){var a=function(s){return n(w.fromDom(s))},i=Hn(e.dom.childNodes,a);return i.map(w.fromDom)},Av=function(e,n,a){return qg(e,function(i){return wn(i,n)},a)},Gd=function(e,n){return Wr(n,e)},Vo=function(e,n,a){var i=function(s,l){return wn(s,l)};return zy(i,Av,e,n,a)},Di=window.Promise?window.Promise:Ny,Gg,Ck=function(e,n){for(var a=window.requestAnimationFrame,i=["ms","moz","webkit"],s=function(v){window.setTimeout(v,0)},l=0;l<i.length&&!a;l++)a=window[i[l]+"RequestAnimationFrame"];a||(a=s),a(e,n)},Ly=function(e,n){return typeof n!="number"&&(n=0),setTimeout(e,n)},xk=function(e,n){return typeof n!="number"&&(n=1),setInterval(e,n)},jp=function(e){return clearTimeout(e)},CM=function(e){return clearInterval(e)},Kd=function(e,n){var a,i=function(){for(var s=[],l=0;l<arguments.length;l++)s[l]=arguments[l];clearTimeout(a),a=Ly(function(){e.apply(this,s)},n)};return i.stop=function(){clearTimeout(a)},i},Gi={requestAnimationFrame:function(e,n){if(Gg){Gg.then(e);return}Gg=new Di(function(a){n||(n=document.body),Ck(a,n)}).then(e)},setTimeout:Ly,setInterval:xk,setEditorTimeout:function(e,n,a){return Ly(function(){e.removed||n()},a)},setEditorInterval:function(e,n,a){var i=xk(function(){e.removed?clearInterval(i):n()},a);return i},debounce:Kd,throttle:Kd,clearInterval:CM,clearTimeout:jp},Sk=function(e,n){n===void 0&&(n={});var a=0,i={},s=w.fromDom(e),l=Mr(s),v=n.maxLoadTime||5e3,m=function(ie){n.referrerPolicy=ie},g=function(ie){Ni(jc(s),ie)},E=function(ie){var we=jc(s);Gd(we,"#"+ie).each(Io)},N=function(ie){return Ar(i,ie).getOrThunk(function(){return{id:"mce-u"+a++,passed:[],failed:[],count:0}})},F=function(ie,we,ge){var Je,qe=Tt._addCacheSuffix(ie),De=N(qe);i[qe]=De,De.count++;var nt=function(on,Pn){for(var un=on.length;un--;)on[un]();De.status=Pn,De.passed=[],De.failed=[],Je&&(Je.onload=null,Je.onerror=null,Je=null)},Rt=function(){return nt(De.passed,2)},en=function(){return nt(De.failed,3)},yr=function(on,Pn){on()||(Date.now()-ar<v?Gi.setTimeout(Pn):en())},Fn=function(){yr(function(){for(var on=e.styleSheets,Pn=on.length;Pn--;){var un=on[Pn],xn=un.ownerNode;if(xn&&xn.id===Je.id)return Rt(),!0}return!1},Fn)};if(we&&De.passed.push(we),ge&&De.failed.push(ge),De.status!==1){if(De.status===2){Rt();return}if(De.status===3){en();return}De.status=1;var Ft=w.fromTag("link",l.dom);I(Ft,{rel:"stylesheet",type:"text/css",id:De.id});var ar=Date.now();n.contentCssCors&&k(Ft,"crossOrigin","anonymous"),n.referrerPolicy&&k(Ft,"referrerpolicy",n.referrerPolicy),Je=Ft.dom,Je.onload=Fn,Je.onerror=en,g(Ft),k(Ft,"href",qe)}},$=function(ie){return Iy.nu(function(we){F(ie,it(we,xe(wk.value(ie))),it(we,xe(wk.error(ie))))})},ee=function(ie,we,ge){wM(zt(ie,$)).get(function(Je){var qe=jn(Je,function(De){return De.isValue()});qe.fail.length>0?ge(qe.fail.map(Yc)):we(qe.pass.map(Yc))})},ne=function(ie){var we=Tt._addCacheSuffix(ie);Ar(i,we).each(function(ge){var Je=--ge.count;Je===0&&(delete i[we],E(ge.id))})},re=function(ie){vt(ie,function(we){ne(we)})};return{load:F,loadAll:ee,unload:ne,unloadAll:re,_setReferrerPolicy:m}},To=function(){var e=new WeakMap,n=function(a,i){var s=bu(a),l=s.dom;return X.from(e.get(l)).getOrThunk(function(){var v=Sk(l,i);return e.set(l,v),v})};return{forElement:n}},Dl=To(),Wa=function(){function e(n,a){this.node=n,this.rootNode=a,this.current=this.current.bind(this),this.next=this.next.bind(this),this.prev=this.prev.bind(this),this.prev2=this.prev2.bind(this)}return e.prototype.current=function(){return this.node},e.prototype.next=function(n){return this.node=this.findSibling(this.node,"firstChild","nextSibling",n),this.node},e.prototype.prev=function(n){return this.node=this.findSibling(this.node,"lastChild","previousSibling",n),this.node},e.prototype.prev2=function(n){return this.node=this.findPreviousNode(this.node,"lastChild","previousSibling",n),this.node},e.prototype.findSibling=function(n,a,i,s){var l,v;if(n){if(!s&&n[a])return n[a];if(n!==this.rootNode){if(l=n[i],l)return l;for(v=n.parentNode;v&&v!==this.rootNode;v=v.parentNode)if(l=v[i],l)return l}}},e.prototype.findPreviousNode=function(n,a,i,s){var l,v,m;if(n){if(l=n[i],this.rootNode&&l===this.rootNode)return;if(l){if(!s){for(m=l[a];m;m=m[a])if(!m[a])return m}return l}if(v=n.parentNode,v&&v!==this.rootNode)return v}},e}(),Xd=["article","aside","details","div","dt","figcaption","footer","form","fieldset","header","hgroup","html","main","nav","section","summary","body","p","dl","multicol","dd","figure","address","center","blockquote","h1","h2","h3","h4","h5","h6","listing","xmp","pre","plaintext","menu","dir","ul","ol","li","hr","table","tbody","thead","tfoot","th","tr","td","caption"],Ws=["td","th"],xM=["thead","tbody","tfoot"],hi=["h1","h2","h3","h4","h5","h6","p","div","address","pre","form","blockquote","center","dir","fieldset","header","footer","article","section","hgroup","aside","nav","figure"],$u=["h1","h2","h3","h4","h5","h6"],kk=["li","dd","dt"],jt=["ul","ol","dl"],Ju=["pre","script","textarea","style"],xf=function(e){var n;return function(a){return n=n||Bt(e,Rn),xr(n,Sa(a))}},Or=xf($u),js=xf(Xd),SM=function(e){return Sa(e)==="table"},cu=function(e){return vo(e)&&!js(e)},Yd=function(e){return vo(e)&&Sa(e)==="br"},Zc=xf(hi),qp=xf(jt),yu=xf(kk),Oa=xf(xM),_l=xf(Ws),Kg=xf(Ju),no=function(e,n,a){return Av(e,n,a).isSome()},Ov="\uFEFF",Qu=" ",ks=function(e){return e===Ov},kM=function(e){return e.replace(/\uFEFF/g,"")},$e=Ov,es=ks,ts=kM,Zd=Br,qs=Wn,Ao=function(e){return qs(e)&&(e=e.parentNode),Zd(e)&&e.hasAttribute("data-mce-caret")},Xa=function(e){return qs(e)&&es(e.data)},Gs=function(e){return Ao(e)||Xa(e)},Xg=function(e){return e.firstChild!==e.lastChild||!za(e.firstChild)},Hy=function(e,n){var a=e.ownerDocument,i=a.createTextNode($e),s=e.parentNode;if(n){var l=e.previousSibling;if(qs(l)){if(Gs(l))return l;if(Kp(l))return l.splitText(l.data.length-1)}s.insertBefore(i,e)}else{var l=e.nextSibling;if(qs(l)){if(Gs(l))return l;if(Gp(l))return l.splitText(1),l}e.nextSibling?s.insertBefore(i,e.nextSibling):s.appendChild(i)}return i},Cr=function(e){var n=e.container();return Wn(n)?n.data.charAt(e.offset())===$e||e.isAtStart()&&Xa(n.previousSibling):!1},Vy=function(e){var n=e.container();return Wn(n)?n.data.charAt(e.offset()-1)===$e||e.isAtEnd()&&Xa(n.nextSibling):!1},Ks=function(){var e=document.createElement("br");return e.setAttribute("data-mce-bogus","1"),e},EM=function(e,n,a){var i=n.ownerDocument,s=i.createElement(e);s.setAttribute("data-mce-caret",a?"before":"after"),s.setAttribute("data-mce-bogus","all"),s.appendChild(Ks());var l=n.parentNode;return a?l.insertBefore(s,n):n.nextSibling?l.insertBefore(s,n.nextSibling):l.appendChild(s),s},Gp=function(e){return qs(e)&&e.data[0]===$e},Kp=function(e){return qs(e)&&e.data[e.data.length-1]===$e},TM=function(e){var n=e.getElementsByTagName("br"),a=n[n.length-1];Kc(a)&&a.parentNode.removeChild(a)},Uy=function(e){return e&&e.hasAttribute("data-mce-caret")?(TM(e),e.removeAttribute("data-mce-caret"),e.removeAttribute("data-mce-bogus"),e.removeAttribute("style"),e.removeAttribute("_moz_abspos"),e):null},gc=function(e){return Ao(e.startContainer)},Dv=ul,AM=so,OM=za,DM=Wn,Ek=Cs(["script","style","textarea"]),Wy=Cs(["img","input","textarea","hr","iframe","video","audio","object","embed"]),jy=Cs(["table"]),Tk=Gs,hc=function(e){return Tk(e)?!1:DM(e)?!Ek(e.parentNode):Wy(e)||OM(e)||jy(e)||qy(e)},Jd=function(e){return Br(e)&&e.getAttribute("unselectable")==="true"},qy=function(e){return Jd(e)===!1&&AM(e)},_M=function(e,n){for(e=e.parentNode;e&&e!==n;e=e.parentNode){if(qy(e))return!1;if(Dv(e))return!0}return!0},MM=function(e){return qy(e)?pn(Jt(e.getElementsByTagName("*")),function(n,a){return n||Dv(a)},!1)!==!0:!1},BM=function(e){return Wy(e)||MM(e)},ni=function(e,n){return hc(e)&&_M(e,n)},Jc=/^[ \t\r\n]*$/,Ml=function(e){return Jc.test(e)},Yg=function(e,n){var a=w.fromDom(n),i=w.fromDom(e);return no(i,"pre,code",bt(Sr,a))},Ak=function(e,n){return Wn(e)&&Ml(e.data)&&Yg(e,n)===!1},sl=function(e){return Br(e)&&e.nodeName==="A"&&!e.hasAttribute("href")&&(e.hasAttribute("name")||e.hasAttribute("id"))},_v=function(e,n){return hc(e)&&Ak(e,n)===!1||sl(e)||Gy(e)},Gy=Ud("data-mce-bookmark"),Ky=Ud("data-mce-bogus"),Sf=_y("data-mce-bogus","all"),kf=function(e,n){var a=0;if(_v(e,e))return!1;var i=e.firstChild;if(!i)return!0;var s=new Wa(i,e);do{if(n){if(Sf(i)){i=s.next(!0);continue}if(Ky(i)){i=s.next();continue}}if(za(i)){a++,i=s.next();continue}if(_v(i,e))return!1;i=s.next()}while(i);return a<=1},Fi=function(e,n){return n===void 0&&(n=!0),kf(e.dom,n)},Xp=function(e){return e.nodeName.toLowerCase()==="span"},Ok=function(e,n){return gt(e)&&(_v(e,n)||cu(w.fromDom(e)))},Qd=function(e,n){var a=new Wa(e,n).prev(!1),i=new Wa(e,n).next(!1),s=Te(a)||Ok(a,n),l=Te(i)||Ok(i,n);return s&&l},em=function(e){return Xp(e)&&e.getAttribute("data-mce-type")==="bookmark"},Zg=function(e,n){return Wn(e)&&e.data.length>0&&Qd(e,n)},PM=function(e){return Br(e)?e.childNodes.length>0:!1},Jg=function(e){return jr(e)||Vg(e)},Xy=function(e,n,a){var i=a||n;if(Br(n)&&em(n))return n;for(var s=n.childNodes,l=s.length-1;l>=0;l--)Xy(e,s[l],i);if(Br(n)){var v=n.childNodes;v.length===1&&em(v[0])&&n.parentNode.insertBefore(v[0],n)}return!Jg(n)&&!_v(n,i)&&!PM(n)&&!Zg(n,i)&&e.remove(n),n},RM=Tt.makeMap,Oo=/[&<>\"\u0060\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,Yp=/[<>&\u007E-\uD7FF\uE000-\uFFEF]|[\uD800-\uDBFF][\uDC00-\uDFFF]/g,tm=/[<>&\"\']/g,Yy=/&#([a-z0-9]+);?|&([a-z0-9]+);/gi,Zy={128:"€",130:"‚",131:"ƒ",132:"„",133:"…",134:"†",135:"‡",136:"ˆ",137:"‰",138:"Š",139:"‹",140:"Œ",142:"Ž",145:"‘",146:"’",147:"“",148:"”",149:"•",150:"–",151:"—",152:"˜",153:"™",154:"š",155:"›",156:"œ",158:"ž",159:"Ÿ"},Xs={'"':"&quot;","'":"&#39;","<":"&lt;",">":"&gt;","&":"&amp;","`":"&#96;"},Es={"&lt;":"<","&gt;":">","&amp;":"&","&quot;":'"',"&apos;":"'"},Qg=function(e){var n=w.fromTag("div").dom;return n.innerHTML=e,n.textContent||n.innerText||e},nm=function(e,n){var a,i,s,l={};if(e){for(e=e.split(","),n=n||10,a=0;a<e.length;a+=2)i=String.fromCharCode(parseInt(e[a],n)),Xs[i]||(s="&"+e[a+1]+";",l[i]=s,l[s]=i);return l}},Jy=nm("50,nbsp,51,iexcl,52,cent,53,pound,54,curren,55,yen,56,brvbar,57,sect,58,uml,59,copy,5a,ordf,5b,laquo,5c,not,5d,shy,5e,reg,5f,macr,5g,deg,5h,plusmn,5i,sup2,5j,sup3,5k,acute,5l,micro,5m,para,5n,middot,5o,cedil,5p,sup1,5q,ordm,5r,raquo,5s,frac14,5t,frac12,5u,frac34,5v,iquest,60,Agrave,61,Aacute,62,Acirc,63,Atilde,64,Auml,65,Aring,66,AElig,67,Ccedil,68,Egrave,69,Eacute,6a,Ecirc,6b,Euml,6c,Igrave,6d,Iacute,6e,Icirc,6f,Iuml,6g,ETH,6h,Ntilde,6i,Ograve,6j,Oacute,6k,Ocirc,6l,Otilde,6m,Ouml,6n,times,6o,Oslash,6p,Ugrave,6q,Uacute,6r,Ucirc,6s,Uuml,6t,Yacute,6u,THORN,6v,szlig,70,agrave,71,aacute,72,acirc,73,atilde,74,auml,75,aring,76,aelig,77,ccedil,78,egrave,79,eacute,7a,ecirc,7b,euml,7c,igrave,7d,iacute,7e,icirc,7f,iuml,7g,eth,7h,ntilde,7i,ograve,7j,oacute,7k,ocirc,7l,otilde,7m,ouml,7n,divide,7o,oslash,7p,ugrave,7q,uacute,7r,ucirc,7s,uuml,7t,yacute,7u,thorn,7v,yuml,ci,fnof,sh,Alpha,si,Beta,sj,Gamma,sk,Delta,sl,Epsilon,sm,Zeta,sn,Eta,so,Theta,sp,Iota,sq,Kappa,sr,Lambda,ss,Mu,st,Nu,su,Xi,sv,Omicron,t0,Pi,t1,Rho,t3,Sigma,t4,Tau,t5,Upsilon,t6,Phi,t7,Chi,t8,Psi,t9,Omega,th,alpha,ti,beta,tj,gamma,tk,delta,tl,epsilon,tm,zeta,tn,eta,to,theta,tp,iota,tq,kappa,tr,lambda,ts,mu,tt,nu,tu,xi,tv,omicron,u0,pi,u1,rho,u2,sigmaf,u3,sigma,u4,tau,u5,upsilon,u6,phi,u7,chi,u8,psi,u9,omega,uh,thetasym,ui,upsih,um,piv,812,bull,816,hellip,81i,prime,81j,Prime,81u,oline,824,frasl,88o,weierp,88h,image,88s,real,892,trade,89l,alefsym,8cg,larr,8ch,uarr,8ci,rarr,8cj,darr,8ck,harr,8dl,crarr,8eg,lArr,8eh,uArr,8ei,rArr,8ej,dArr,8ek,hArr,8g0,forall,8g2,part,8g3,exist,8g5,empty,8g7,nabla,8g8,isin,8g9,notin,8gb,ni,8gf,prod,8gh,sum,8gi,minus,8gn,lowast,8gq,radic,8gt,prop,8gu,infin,8h0,ang,8h7,and,8h8,or,8h9,cap,8ha,cup,8hb,int,8hk,there4,8hs,sim,8i5,cong,8i8,asymp,8j0,ne,8j1,equiv,8j4,le,8j5,ge,8k2,sub,8k3,sup,8k4,nsub,8k6,sube,8k7,supe,8kl,oplus,8kn,otimes,8l5,perp,8m5,sdot,8o8,lceil,8o9,rceil,8oa,lfloor,8ob,rfloor,8p9,lang,8pa,rang,9ea,loz,9j0,spades,9j3,clubs,9j5,hearts,9j6,diams,ai,OElig,aj,oelig,b0,Scaron,b1,scaron,bo,Yuml,m6,circ,ms,tilde,802,ensp,803,emsp,809,thinsp,80c,zwnj,80d,zwj,80e,lrm,80f,rlm,80j,ndash,80k,mdash,80o,lsquo,80p,rsquo,80q,sbquo,80s,ldquo,80t,rdquo,80u,bdquo,810,dagger,811,Dagger,81g,permil,81p,lsaquo,81q,rsaquo,85c,euro",32),eh=function(e,n){return e.replace(n?Oo:Yp,function(a){return Xs[a]||a})},Qy=function(e){return(""+e).replace(tm,function(n){return Xs[n]||n})},th=function(e,n){return e.replace(n?Oo:Yp,function(a){return a.length>1?"&#"+((a.charCodeAt(0)-55296)*1024+(a.charCodeAt(1)-56320)+65536)+";":Xs[a]||"&#"+a.charCodeAt(0)+";"})},ew=function(e,n,a){return a=a||Jy,e.replace(n?Oo:Yp,function(i){return Xs[i]||a[i]||i})},NM=function(e,n){var a=nm(n)||Jy,i=function(v,m){return v.replace(m?Oo:Yp,function(g){return Xs[g]!==void 0?Xs[g]:a[g]!==void 0?a[g]:g.length>1?"&#"+((g.charCodeAt(0)-55296)*1024+(g.charCodeAt(1)-56320)+65536)+";":"&#"+g.charCodeAt(0)+";"})},s=function(v,m){return ew(v,m,a)},l=RM(e.replace(/\+/g,","));return l.named&&l.numeric?i:l.named?n?s:ew:l.numeric?th:eh},tw=function(e){return e.replace(Yy,function(n,a){return a?(a.charAt(0).toLowerCase()==="x"?a=parseInt(a.substr(1),16):a=parseInt(a,10),a>65535?(a-=65536,String.fromCharCode(55296+(a>>10),56320+(a&1023))):Zy[a]||String.fromCharCode(a)):Es[n]||Jy[n]||Qg(n)})},Bl={encodeRaw:eh,encodeAllRaw:Qy,encodeNumeric:th,encodeNamed:ew,getEncodeFunc:NM,decode:tw},Ts={},nh={},Pl=Tt.makeMap,Ki=Tt.each,Zp=Tt.extend,Jp=Tt.explode,Dk=Tt.inArray,Ii=function(e,n){return e=Tt.trim(e),e?e.split(n||" "):[]},nw=function(e,n){var a=Pl(e," ",Pl(e.toUpperCase()," "));return Zp(a,n)},Qp=function(e){return nw("td th li dt dd figcaption caption details summary",e.getTextBlockElements())},da=function(e){var n={},a,i,s,l,v,m,g=function(N,F,$){var ee,ne,re,ie=function(ge,Je){var qe={},De,nt;for(De=0,nt=ge.length;De<nt;De++)qe[ge[De]]=Je||{};return qe};$=$||[],F=F||"",typeof $=="string"&&($=Ii($));var we=Ii(N);for(ee=we.length;ee--;)ne=Ii([a,F].join(" ")),re={attributes:ie(ne),attributesOrder:ne,children:ie($,nh)},n[we[ee]]=re},E=function(N,F){var $,ee,ne,re,ie=Ii(N);$=ie.length;for(var we=Ii(F);$--;)for(ee=n[ie[$]],ne=0,re=we.length;ne<re;ne++)ee.attributes[we[ne]]={},ee.attributesOrder.push(we[ne])};return Ts[e]?Ts[e]:(a="id accesskey class dir lang style tabindex title role",i="address blockquote div dl fieldset form h1 h2 h3 h4 h5 h6 hr menu ol p pre table ul",s="a abbr b bdo br button cite code del dfn em embed i iframe img input ins kbd label map noscript object q s samp script select small span strong sub sup textarea u var #text #comment",e!=="html4"&&(a+=" contenteditable contextmenu draggable dropzone hidden spellcheck translate",i+=" article aside details dialog figure main header footer hgroup section nav",s+=" audio canvas command datalist mark meter output picture progress time wbr video ruby bdi keygen"),e!=="html5-strict"&&(a+=" xml:lang",m="acronym applet basefont big font strike tt",s=[s,m].join(" "),Ki(Ii(m),function(N){g(N,"",s)}),v="center dir isindex noframes",i=[i,v].join(" "),l=[i,s].join(" "),Ki(Ii(v),function(N){g(N,"",l)})),l=l||[i,s].join(" "),g("html","manifest","head body"),g("head","","base command link meta noscript script style title"),g("title hr noscript br"),g("base","href target"),g("link","href rel media hreflang type sizes hreflang"),g("meta","name http-equiv content charset"),g("style","media type scoped"),g("script","src async defer type charset"),g("body","onafterprint onbeforeprint onbeforeunload onblur onerror onfocus onhashchange onload onmessage onoffline ononline onpagehide onpageshow onpopstate onresize onscroll onstorage onunload",l),g("address dt dd div caption","",l),g("h1 h2 h3 h4 h5 h6 pre p abbr code var samp kbd sub sup i b u bdo span legend em strong small s cite dfn","",s),g("blockquote","cite",l),g("ol","reversed start type","li"),g("ul","","li"),g("li","value",l),g("dl","","dt dd"),g("a","href target rel media hreflang type",s),g("q","cite",s),g("ins del","cite datetime",l),g("img","src sizes srcset alt usemap ismap width height"),g("iframe","src name width height",l),g("embed","src type width height"),g("object","data type typemustmatch name usemap form width height",[l,"param"].join(" ")),g("param","name value"),g("map","name",[l,"area"].join(" ")),g("area","alt coords shape href target rel media hreflang type"),g("table","border","caption colgroup thead tfoot tbody tr"+(e==="html4"?" col":"")),g("colgroup","span","col"),g("col","span"),g("tbody thead tfoot","","tr"),g("tr","","td th"),g("td","colspan rowspan headers",l),g("th","colspan rowspan headers scope abbr",l),g("form","accept-charset action autocomplete enctype method name novalidate target",l),g("fieldset","disabled form name",[l,"legend"].join(" ")),g("label","form for",s),g("input","accept alt autocomplete checked dirname disabled form formaction formenctype formmethod formnovalidate formtarget height list max maxlength min multiple name pattern readonly required size src step type value width"),g("button","disabled form formaction formenctype formmethod formnovalidate formtarget name type value",e==="html4"?l:s),g("select","disabled form multiple name required size","option optgroup"),g("optgroup","disabled label","option"),g("option","disabled label selected value"),g("textarea","cols dirname disabled form maxlength name readonly required rows wrap"),g("menu","type label",[l,"li"].join(" ")),g("noscript","",l),e!=="html4"&&(g("wbr"),g("ruby","",[s,"rt rp"].join(" ")),g("figcaption","",l),g("mark rt rp summary bdi","",s),g("canvas","width height",l),g("video","src crossorigin poster preload autoplay mediagroup loop muted controls width height buffered",[l,"track source"].join(" ")),g("audio","src crossorigin preload autoplay mediagroup loop muted controls buffered volume",[l,"track source"].join(" ")),g("picture","","img source"),g("source","src srcset type media sizes"),g("track","kind src srclang label default"),g("datalist","",[s,"option"].join(" ")),g("article section nav aside main header footer","",l),g("hgroup","","h1 h2 h3 h4 h5 h6"),g("figure","",[l,"figcaption"].join(" ")),g("time","datetime",s),g("dialog","open",l),g("command","type label icon disabled checked radiogroup command"),g("output","for form name",s),g("progress","value max",s),g("meter","value min max low high optimum",s),g("details","open",[l,"summary"].join(" ")),g("keygen","autofocus challenge disabled form keytype name")),e!=="html5-strict"&&(E("script","language xml:space"),E("style","xml:space"),E("object","declare classid code codebase codetype archive standby align border hspace vspace"),E("embed","align name hspace vspace"),E("param","valuetype type"),E("a","charset name rev shape coords"),E("br","clear"),E("applet","codebase archive code object alt name width height align hspace vspace"),E("img","name longdesc align border hspace vspace"),E("iframe","longdesc frameborder marginwidth marginheight scrolling align"),E("font basefont","size color face"),E("input","usemap align"),E("select"),E("textarea"),E("h1 h2 h3 h4 h5 h6 div p legend caption","align"),E("ul","type compact"),E("li","type"),E("ol dl menu dir","compact"),E("pre","width xml:space"),E("hr","align noshade size width"),E("isindex","prompt"),E("table","summary width frame rules cellspacing cellpadding align bgcolor"),E("col","width align char charoff valign"),E("colgroup","width align char charoff valign"),E("thead","align char charoff valign"),E("tr","align char charoff valign bgcolor"),E("th","axis align char charoff valign nowrap bgcolor width height"),E("form","accept"),E("td","abbr axis scope align char charoff valign nowrap bgcolor width height"),E("tfoot","align char charoff valign"),E("tbody","align char charoff valign"),E("area","nohref"),E("body","background bgcolor text link vlink alink")),e!=="html4"&&(E("input button select textarea","autofocus"),E("input textarea","placeholder"),E("a","download"),E("link script img","crossorigin"),E("img","loading"),E("iframe","sandbox seamless allowfullscreen loading")),Ki(Ii("a form meter progress dfn"),function(N){n[N]&&delete n[N].children[N]}),delete n.caption.children.table,delete n.script,Ts[e]=n,n)},br=function(e,n){var a;return e&&(a={},typeof e=="string"&&(e={"*":e}),Ki(e,function(i,s){a[s]=a[s.toUpperCase()]=n==="map"?Pl(i,/[, ]/):Jp(i,/[, ]/)})),a},As=function(e){var n={},a={},i=[],s={},l={},v=function(Zt,hn,or){var st=e[Zt];return st?st=Pl(st,/[, ]/,Pl(st.toUpperCase(),/[, ]/)):(st=Ts[Zt],st||(st=nw(hn,or),Ts[Zt]=st)),st};e=e||{};var m=da(e.schema);e.verify_html===!1&&(e.valid_elements="*[*]");var g=br(e.valid_styles),E=br(e.invalid_styles,"map"),N=br(e.valid_classes,"map"),F=v("whitespace_elements","pre script noscript style textarea video audio iframe object code"),$=v("self_closing_elements","colgroup dd dt li option p td tfoot th thead tr"),ee=v("short_ended_elements","area base basefont br col frame hr img input isindex link meta param embed source wbr track"),ne=v("boolean_attributes","checked compact declare defer disabled ismap multiple nohref noresize noshade nowrap readonly selected autoplay loop controls"),re="td th iframe video audio object script code",ie=v("non_empty_elements",re+" pre",ee),we=v("move_caret_before_on_enter_elements",re+" table",ee),ge=v("text_block_elements","h1 h2 h3 h4 h5 h6 p div address pre form blockquote center dir fieldset header footer article section hgroup aside main nav figure"),Je=v("block_elements","hr table tbody thead tfoot th tr td li ol ul caption dl dt dd noscript menu isindex option datalist select optgroup figcaption details summary",ge),qe=v("text_inline_elements","span strong b em i font s strike u var cite dfn code mark q sup sub samp");Ki((e.special||"script noscript iframe noframes noembed title style textarea xmp").split(" "),function(Zt){l[Zt]=new RegExp("</"+Zt+"[^>]*>","gi")});var De=function(Zt){return new RegExp("^"+Zt.replace(/([?+*])/g,".$1")+"$")},nt=function(Zt){var hn,or,st,rn,Qt,lr,hr,Na,si,Zo,nu,ru,Mu,Jo,Is,Bu,Rc,ga,ao=/^([#+\-])?([^\[!\/]+)(?:\/([^\[!]+))?(?:(!?)\[([^\]]+)])?$/,li=/^([!\-])?(\w+[\\:]:\w+|[^=:<]+)?(?:([=:<])(.*))?$/,oc=/[*?+]/;if(Zt){var ic=Ii(Zt,",");for(n["@"]&&(Bu=n["@"].attributes,Rc=n["@"].attributesOrder),hn=0,or=ic.length;hn<or;hn++)if(Qt=ao.exec(ic[hn]),Qt){if(Jo=Qt[1],si=Qt[2],Is=Qt[3],Na=Qt[5],ru={},Mu=[],lr={attributes:ru,attributesOrder:Mu},Jo==="#"&&(lr.paddEmpty=!0),Jo==="-"&&(lr.removeEmpty=!0),Qt[4]==="!"&&(lr.removeEmptyAttrs=!0),Bu&&(vn(Bu,function(uc,pv){ru[pv]=uc}),Mu.push.apply(Mu,Rc)),Na){for(Na=Ii(Na,"|"),st=0,rn=Na.length;st<rn;st++)if(Qt=li.exec(Na[st]),Qt){if(hr={},nu=Qt[1],Zo=Qt[2].replace(/[\\:]:/g,":"),Jo=Qt[3],ga=Qt[4],nu==="!"&&(lr.attributesRequired=lr.attributesRequired||[],lr.attributesRequired.push(Zo),hr.required=!0),nu==="-"){delete ru[Zo],Mu.splice(Dk(Mu,Zo),1);continue}Jo&&(Jo==="="&&(lr.attributesDefault=lr.attributesDefault||[],lr.attributesDefault.push({name:Zo,value:ga}),hr.defaultValue=ga),Jo===":"&&(lr.attributesForced=lr.attributesForced||[],lr.attributesForced.push({name:Zo,value:ga}),hr.forcedValue=ga),Jo==="<"&&(hr.validValues=Pl(ga,"?"))),oc.test(Zo)?(lr.attributePatterns=lr.attributePatterns||[],hr.pattern=De(Zo),lr.attributePatterns.push(hr)):(ru[Zo]||Mu.push(Zo),ru[Zo]=hr)}}!Bu&&si==="@"&&(Bu=ru,Rc=Mu),Is&&(lr.outputName=si,n[Is]=lr),oc.test(si)?(lr.pattern=De(si),i.push(lr)):n[si]=lr}}},Rt=function(Zt){n={},i=[],nt(Zt),Ki(m,function(hn,or){a[or]=hn.children})},en=function(Zt){var hn=/^(~)?(.+)$/;Zt&&(Ts.text_block_elements=Ts.block_elements=null,Ki(Ii(Zt,","),function(or){var st=hn.exec(or),rn=st[1]==="~",Qt=rn?"span":"div",lr=st[2];if(a[lr]=a[Qt],s[lr]=Qt,rn||(Je[lr.toUpperCase()]={},Je[lr]={}),!n[lr]){var hr=n[Qt];hr=Zp({},hr),delete hr.removeEmptyAttrs,delete hr.removeEmpty,n[lr]=hr}Ki(a,function(Na,si){Na[Qt]&&(a[si]=Na=Zp({},a[si]),Na[lr]=Na[Qt])})}))},yr=function(Zt){var hn=/^([+\-]?)([A-Za-z0-9_\-.\u00b7\u00c0-\u00d6\u00d8-\u00f6\u00f8-\u037d\u037f-\u1fff\u200c-\u200d\u203f-\u2040\u2070-\u218f\u2c00-\u2fef\u3001-\ud7ff\uf900-\ufdcf\ufdf0-\ufffd]+)\[([^\]]+)]$/;Ts[e.schema]=null,Zt&&Ki(Ii(Zt,","),function(or){var st=hn.exec(or),rn,Qt;st&&(Qt=st[1],Qt?rn=a[st[2]]:rn=a[st[2]]={"#comment":{}},rn=a[st[2]],Ki(Ii(st[3],"|"),function(lr){Qt==="-"?delete rn[lr]:rn[lr]={}}))})},Fn=function(Zt){var hn=n[Zt],or;if(hn)return hn;for(or=i.length;or--;)if(hn=i[or],hn.pattern.test(Zt))return hn};e.valid_elements?Rt(e.valid_elements):(Ki(m,function(Zt,hn){n[hn]={attributes:Zt.attributes,attributesOrder:Zt.attributesOrder},a[hn]=Zt.children}),e.schema!=="html5"&&Ki(Ii("strong/b em/i"),function(Zt){var hn=Ii(Zt,"/");n[hn[1]].outputName=hn[0]}),Ki(qe,function(Zt,hn){n[hn]&&(e.padd_empty_block_inline_children&&(n[hn].paddInEmptyBlock=!0),n[hn].removeEmpty=!0)}),Ki(Ii("ol ul blockquote a table tbody"),function(Zt){n[Zt]&&(n[Zt].removeEmpty=!0)}),Ki(Ii("p h1 h2 h3 h4 h5 h6 th td pre div address caption li"),function(Zt){n[Zt].paddEmpty=!0}),Ki(Ii("span"),function(Zt){n[Zt].removeEmptyAttrs=!0})),en(e.custom_elements),yr(e.valid_children),nt(e.extended_valid_elements),yr("+ol[ul|ol],+ul[ul|ol]"),Ki({dd:"dl",dt:"dl",li:"ul ol",td:"tr",th:"tr",tr:"tbody thead tfoot",tbody:"table",thead:"table",tfoot:"table",legend:"fieldset",area:"map",param:"video audio object"},function(Zt,hn){n[hn]&&(n[hn].parentsRequired=Ii(Zt))}),e.invalid_elements&&Ki(Jp(e.invalid_elements),function(Zt){n[Zt]&&delete n[Zt]}),Fn("span")||nt("span[!data-mce-type|*]");var Ft=xe(g),ar=xe(E),on=xe(N),Pn=xe(ne),un=xe(Je),xn=xe(ge),Vn=xe(qe),Yt=xe(ee),zn=xe($),Gr=xe(ie),ma=xe(we),fa=xe(F),yi=xe(l),go=function(Zt,hn){var or=a[Zt.toLowerCase()];return!!(or&&or[hn.toLowerCase()])},vu=function(Zt,hn){var or,st,rn=Fn(Zt);if(rn)if(hn){if(rn.attributes[hn])return!0;if(or=rn.attributePatterns,or){for(st=or.length;st--;)if(or[st].pattern.test(Zt))return!0}}else return!0;return!1},cs=xe(s);return{children:a,elements:n,getValidStyles:Ft,getValidClasses:on,getBlockElements:un,getInvalidStyles:ar,getShortEndedElements:Yt,getTextBlockElements:xn,getTextInlineElements:Vn,getBoolAttrs:Pn,getElementRule:Fn,getSelfClosingElements:zn,getNonEmptyElements:Gr,getMoveCaretBeforeOnEnterElements:ma,getWhiteSpaceElements:fa,getSpecialElements:yi,isValidChild:go,isValid:vu,getCustomElements:cs,addValidElements:nt,setValidElements:Rt,addCustomElements:en,addValidChildren:yr}},e1=function(e,n,a,i){var s=function(l){return l=parseInt(l,10).toString(16),l.length>1?l:"0"+l};return"#"+s(n)+s(a)+s(i)},rh=function(e,n){var a=this,i=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)\s*\)/gi,s=/(?:url(?:(?:\(\s*\"([^\"]+)\"\s*\))|(?:\(\s*\'([^\']+)\'\s*\))|(?:\(\s*([^)\s]+)\s*\))))|(?:\'([^\']+)\')|(?:\"([^\"]+)\")/gi,l=/\s*([^:]+):\s*([^;]+);?/g,v=/\s+$/,m,g={},E,N,F=Ov;e=e||{},n&&(E=n.getValidStyles(),N=n.getInvalidStyles());var $=(`\\" \\' \\; \\: ; : `+F).split(" ");for(m=0;m<$.length;m++)g[$[m]]=F+m,g[F+m]=$[m];return{toHex:function(ee){return ee.replace(i,e1)},parse:function(ee){var ne={},re,ie,we,ge,Je=e.url_converter,qe=e.url_converter_scope||a,De=function(on,Pn,un){var xn=ne[on+"-top"+Pn];if(xn){var Vn=ne[on+"-right"+Pn];if(Vn){var Yt=ne[on+"-bottom"+Pn];if(Yt){var zn=ne[on+"-left"+Pn];if(zn){var Gr=[xn,Vn,Yt,zn];for(m=Gr.length-1;m--&&Gr[m]===Gr[m+1];);m>-1&&un||(ne[on+Pn]=m===-1?Gr[0]:Gr.join(" "),delete ne[on+"-top"+Pn],delete ne[on+"-right"+Pn],delete ne[on+"-bottom"+Pn],delete ne[on+"-left"+Pn])}}}}},nt=function(on){var Pn=ne[on],un;if(Pn){for(Pn=Pn.split(" "),un=Pn.length;un--;)if(Pn[un]!==Pn[0])return!1;return ne[on]=Pn[0],!0}},Rt=function(on,Pn,un,xn){nt(Pn)&&nt(un)&&nt(xn)&&(ne[on]=ne[Pn]+" "+ne[un]+" "+ne[xn],delete ne[Pn],delete ne[un],delete ne[xn])},en=function(on){return ge=!0,g[on]},yr=function(on,Pn){return ge&&(on=on.replace(/\uFEFF[0-9]/g,function(un){return g[un]})),Pn||(on=on.replace(/\\([\'\";:])/g,"$1")),on},Fn=function(on){return String.fromCharCode(parseInt(on.slice(1),16))},Ft=function(on){return on.replace(/\\[0-9a-f]+/gi,Fn)},ar=function(on,Pn,un,xn,Vn,Yt){if(Vn=Vn||Yt,Vn)return Vn=yr(Vn),"'"+Vn.replace(/\'/g,"\\'")+"'";if(Pn=yr(Pn||un||xn),!e.allow_script_urls){var zn=Pn.replace(/[\s\r\n]+/g,"");if(/(java|vb)script:/i.test(zn)||!e.allow_svg_data_urls&&/^data:image\/svg/i.test(zn))return""}return Je&&(Pn=Je.call(qe,Pn,"style")),"url('"+Pn.replace(/\'/g,"\\'")+"')"};if(ee){for(ee=ee.replace(/[\u0000-\u001F]/g,""),ee=ee.replace(/\\[\"\';:\uFEFF]/g,en).replace(/\"[^\"]+\"|\'[^\']+\'/g,function(on){return on.replace(/[;:]/g,en)});re=l.exec(ee);)if(l.lastIndex=re.index+re[0].length,ie=re[1].replace(v,"").toLowerCase(),we=re[2].replace(v,""),ie&&we){if(ie=Ft(ie),we=Ft(we),ie.indexOf(F)!==-1||ie.indexOf('"')!==-1||!e.allow_script_urls&&(ie==="behavior"||/expression\s*\(|\/\*|\*\//.test(we)))continue;ie==="font-weight"&&we==="700"?we="bold":(ie==="color"||ie==="background-color")&&(we=we.toLowerCase()),we=we.replace(i,e1),we=we.replace(s,ar),ne[ie]=ge?yr(we,!0):we}De("border","",!0),De("border","-width"),De("border","-color"),De("border","-style"),De("padding",""),De("margin",""),Rt("border","border-width","border-style","border-color"),ne.border==="medium none"&&delete ne.border,ne["border-image"]==="none"&&delete ne["border-image"]}return ne},serialize:function(ee,ne){var re="",ie=function(ge){var Je,qe=E[ge];if(qe)for(var De=0,nt=qe.length;De<nt;De++)ge=qe[De],Je=ee[ge],Je&&(re+=(re.length>0?" ":"")+ge+": "+Je+";")},we=function(ge,Je){var qe=N["*"];return qe&&qe[ge]?!1:(qe=N[Je],!(qe&&qe[ge]))};return ne&&E?(ie("*"),ie(ne)):vn(ee,function(ge,Je){ge&&(!N||we(Je,ne))&&(re+=(re.length>0?" ":"")+Je+": "+ge+";")}),re}}},_k={keyLocation:!0,layerX:!0,layerY:!0,returnValue:!0,webkitMovementX:!0,webkitMovementY:!0,keyIdentifier:!0,mozPressure:!0},$a=function(e){return e instanceof Event||Se(e.initEvent)},Mk=function(e){return e.isDefaultPrevented===Rn||e.isDefaultPrevented===Kt},FM=function(e){return Be(e.preventDefault)||$a(e)},Bk=function(e,n){var a=n!=null?n:{};for(var i in e)xr(_k,i)||(a[i]=e[i]);return gt(a.composedPath)&&(a.composedPath=function(){return e.composedPath()}),a},qt=function(e,n,a,i){var s,l=Bk(n,i);return l.type=e,Be(l.target)&&(l.target=(s=l.srcElement)!==null&&s!==void 0?s:a),FM(n)&&(l.preventDefault=function(){l.defaultPrevented=!0,l.isDefaultPrevented=Rn,Se(n.preventDefault)?n.preventDefault():$a(n)&&(n.returnValue=!1)},l.stopPropagation=function(){l.cancelBubble=!0,l.isPropagationStopped=Rn,Se(n.stopPropagation)?n.stopPropagation():$a(n)&&(n.cancelBubble=!0)},l.stopImmediatePropagation=function(){l.isImmediatePropagationStopped=Rn,l.stopPropagation()},Mk(l)||(l.isDefaultPrevented=l.defaultPrevented===!0?Rn:Kt,l.isPropagationStopped=l.cancelBubble===!0?Rn:Kt,l.isImmediatePropagationStopped=Kt)),l},rw="mce-data-",IM=/^(?:mouse|contextmenu)|click/,rm=function(e,n,a,i){e.addEventListener?e.addEventListener(n,a,i||!1):e.attachEvent&&e.attachEvent("on"+n,a)},t1=function(e,n,a,i){e.removeEventListener?e.removeEventListener(n,a,i||!1):e.detachEvent&&e.detachEvent("on"+n,a)},am=function(e){return gt(e)&&IM.test(e.type)},Ef=function(e,n){var a=qt(e.type,e,document,n);if(am(e)&&Te(e.pageX)&&!Te(e.clientX)){var i=a.target.ownerDocument||document,s=i.documentElement,l=i.body,v=a;v.pageX=e.clientX+(s&&s.scrollLeft||l&&l.scrollLeft||0)-(s&&s.clientLeft||l&&l.clientLeft||0),v.pageY=e.clientY+(s&&s.scrollTop||l&&l.scrollTop||0)-(s&&s.clientTop||l&&l.clientTop||0)}return Te(a.metaKey)&&(a.metaKey=!1),a},Mv=function(e,n,a){var i=e.document,s={type:"ready"};if(a.domLoaded){n(s);return}var l=function(){return i.readyState==="complete"||i.readyState==="interactive"&&i.body},v=function(){t1(e,"DOMContentLoaded",v),t1(e,"load",v),a.domLoaded||(a.domLoaded=!0,n(s)),e=null};l()?v():rm(e,"DOMContentLoaded",v),a.domLoaded||rm(e,"load",v)},om=function(){function e(){this.domLoaded=!1,this.events={},this.count=1,this.expando=rw+(+new Date).toString(32),this.hasMouseEnterLeave="onmouseenter"in document.documentElement,this.hasFocusIn="onfocusin"in document.documentElement,this.count=1}return e.prototype.bind=function(n,a,i,s){var l=this,v,m,g,E,N,F,$,ee=window,ne=function(ie){l.executeHandlers(Ef(ie||ee.event),v)};if(!(!n||n.nodeType===3||n.nodeType===8)){n[l.expando]?v=n[l.expando]:(v=l.count++,n[l.expando]=v,l.events[v]={}),s=s||n;var re=a.split(" ");for(g=re.length;g--;){if(E=re[g],F=ne,N=$=!1,E==="DOMContentLoaded"&&(E="ready"),l.domLoaded&&E==="ready"&&n.readyState==="complete"){i.call(s,Ef({type:E}));continue}l.hasMouseEnterLeave||(N=l.mouseEnterLeave[E],N&&(F=function(ie){var we=ie.currentTarget,ge=ie.relatedTarget;if(ge&&we.contains)ge=we.contains(ge);else for(;ge&&ge!==we;)ge=ge.parentNode;ge||(ie=Ef(ie||ee.event),ie.type=ie.type==="mouseout"?"mouseleave":"mouseenter",ie.target=we,l.executeHandlers(ie,v))})),!l.hasFocusIn&&(E==="focusin"||E==="focusout")&&($=!0,N=E==="focusin"?"focus":"blur",F=function(ie){ie=Ef(ie||ee.event),ie.type=ie.type==="focus"?"focusin":"focusout",l.executeHandlers(ie,v)}),m=l.events[v][E],m?E==="ready"&&l.domLoaded?i(Ef({type:E})):m.push({func:i,scope:s}):(l.events[v][E]=m=[{func:i,scope:s}],m.fakeName=N,m.capture=$,m.nativeHandler=F,E==="ready"?Mv(n,F,l):rm(n,N||E,F,$))}return n=m=null,i}},e.prototype.unbind=function(n,a,i){var s,l,v,m,g;if(!n||n.nodeType===3||n.nodeType===8)return this;var E=n[this.expando];if(E){if(g=this.events[E],a){var N=a.split(" ");for(l=N.length;l--;)if(m=N[l],s=g[m],s){if(i){for(v=s.length;v--;)if(s[v].func===i){var F=s.nativeHandler,$=s.fakeName,ee=s.capture;s=s.slice(0,v).concat(s.slice(v+1)),s.nativeHandler=F,s.fakeName=$,s.capture=ee,g[m]=s}}(!i||s.length===0)&&(delete g[m],t1(n,s.fakeName||m,s.nativeHandler,s.capture))}}else vn(g,function(ne,re){t1(n,ne.fakeName||re,ne.nativeHandler,ne.capture)}),g={};for(m in g)if(xr(g,m))return this;delete this.events[E];try{delete n[this.expando]}catch(ne){n[this.expando]=null}}return this},e.prototype.fire=function(n,a,i){var s;if(!n||n.nodeType===3||n.nodeType===8)return this;var l=Ef({type:a,target:n},i);do s=n[this.expando],s&&this.executeHandlers(l,s),n=n.parentNode||n.ownerDocument||n.defaultView||n.parentWindow;while(n&&!l.isPropagationStopped());return this},e.prototype.clean=function(n){var a,i;if(!n||n.nodeType===3||n.nodeType===8)return this;if(n[this.expando]&&this.unbind(n),n.getElementsByTagName||(n=n.document),n&&n.getElementsByTagName)for(this.unbind(n),i=n.getElementsByTagName("*"),a=i.length;a--;)n=i[a],n[this.expando]&&this.unbind(n);return this},e.prototype.destroy=function(){this.events={}},e.prototype.cancel=function(n){return n&&(n.preventDefault(),n.stopImmediatePropagation()),!1},e.prototype.executeHandlers=function(n,a){var i=this.events[a],s=i&&i[n.type];if(s)for(var l=0,v=s.length;l<v;l++){var m=s[l];if(m&&m.func.call(m.scope,n)===!1&&n.preventDefault(),n.isImmediatePropagationStopped())return}},e.Event=new e,e}(),Uo,Hr,Ys,Pk,Zs,aw,n1,Tf,Af,im,Of,Js,Df,pc,_f,um,Rk,Yn,fu="sizzle"+-new Date,Rl=window.document,bc=0,Nk=0,Fk=fw(),r1=fw(),sm=fw(),Mf=function(e,n){return e===n&&(im=!0),0},a1="undefined",ah=1<<31,zM={}.hasOwnProperty,Bf=[],ow=Bf.pop,iw=Bf.push,Pf=Bf.push,uw=Bf.slice,Rf=Bf.indexOf||function(e){for(var n=0,a=this.length;n<a;n++)if(this[n]===e)return n;return-1},$M="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",Mo="[\\x20\\t\\r\\n\\f]",wu="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",ns="\\["+Mo+"*("+wu+")(?:"+Mo+"*([*^$|!~]?=)"+Mo+`*(?:'((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)"|(`+wu+"))|)"+Mo+"*\\]",Ik=":("+wu+`)(?:\\((('((?:\\\\.|[^\\\\'])*)'|"((?:\\\\.|[^\\\\"])*)")|((?:\\\\.|[^\\\\()[\\]]|`+ns+")*)|.*)\\)|)",o1=new RegExp("^"+Mo+"+|((?:^|[^\\\\])(?:\\\\.)*)"+Mo+"+$","g"),LM=new RegExp("^"+Mo+"*,"+Mo+"*"),zk=new RegExp("^"+Mo+"*([>+~]|"+Mo+")"+Mo+"*"),ll=new RegExp("="+Mo+`*([^\\]'"]*?)`+Mo+"*\\]","g"),HM=new RegExp(Ik),VM=new RegExp("^"+wu+"$"),i1={ID:new RegExp("^#("+wu+")"),CLASS:new RegExp("^\\.("+wu+")"),TAG:new RegExp("^("+wu+"|[*])"),ATTR:new RegExp("^"+ns),PSEUDO:new RegExp("^"+Ik),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+Mo+"*(even|odd|(([+-]|)(\\d*)n|)"+Mo+"*(?:([+-]|)"+Mo+"*(\\d+)|))"+Mo+"*\\)|)","i"),bool:new RegExp("^(?:"+$M+")$","i"),needsContext:new RegExp("^"+Mo+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+Mo+"*((?:-\\d)?\\d*)"+Mo+"*\\)|)(?=[^-]|$)","i")},UM=/^(?:input|select|textarea|button)$/i,WM=/^h\d$/i,sw=/^[^{]+\{\s*\[native \w/,lw=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,cw=/[+~]/,jM=/'|\\/g,Nf=new RegExp("\\\\([\\da-f]{1,6}"+Mo+"?|("+Mo+")|.)","ig"),Ff=function(e,n,a){var i="0x"+n-65536;return i!==i||a?n:i<0?String.fromCharCode(i+65536):String.fromCharCode(i>>10|55296,i&1023|56320)};try{Pf.apply(Bf=uw.call(Rl.childNodes),Rl.childNodes),Bf[Rl.childNodes.length].nodeType}catch(e){Pf={apply:Bf.length?function(n,a){iw.apply(n,uw.call(a))}:function(n,a){for(var i=n.length,s=0;n[i++]=a[s++];);n.length=i-1}}}var ja=function(e,n,a,i){var s,l,v,m,g,E,N,F,$,ee;if((n?n.ownerDocument||n:Rl)!==Js&&Of(n),n=n||Js,a=a||[],!e||typeof e!="string")return a;if((m=n.nodeType)!==1&&m!==9)return[];if(pc&&!i){if(s=lw.exec(e))if(v=s[1]){if(m===9)if(l=n.getElementById(v),l&&l.parentNode){if(l.id===v)return a.push(l),a}else return a;else if(n.ownerDocument&&(l=n.ownerDocument.getElementById(v))&&Yn(n,l)&&l.id===v)return a.push(l),a}else{if(s[2])return Pf.apply(a,n.getElementsByTagName(e)),a;if((v=s[3])&&Uo.getElementsByClassName)return Pf.apply(a,n.getElementsByClassName(v)),a}if(Uo.qsa&&(!_f||!_f.test(e))){if(F=N=fu,$=n,ee=m===9&&e,m===1&&n.nodeName.toLowerCase()!=="object"){for(E=Zs(e),(N=n.getAttribute("id"))?F=N.replace(jM,"\\$&"):n.setAttribute("id",F),F="[id='"+F+"'] ",g=E.length;g--;)E[g]=F+u1(E[g]);$=cw.test(e)&&vw(n.parentNode)||n,ee=E.join(",")}if(ee)try{return Pf.apply(a,$.querySelectorAll(ee)),a}catch(ne){}finally{N||n.removeAttribute("id")}}}return n1(e.replace(o1,"$1"),n,a,i)};function fw(){var e=[];function n(a,i){return e.push(a+" ")>Hr.cacheLength&&delete n[e.shift()],n[a+" "]=i}return n}function Nl(e){return e[fu]=!0,e}function $k(e,n){var a=n&&e,i=a&&e.nodeType===1&&n.nodeType===1&&(~n.sourceIndex||ah)-(~e.sourceIndex||ah);if(i)return i;if(a){for(;a=a.nextSibling;)if(a===n)return-1}return e?1:-1}function Fl(e){return function(n){var a=n.nodeName.toLowerCase();return a==="input"&&n.type===e}}function Bv(e){return function(n){var a=n.nodeName.toLowerCase();return(a==="input"||a==="button")&&n.type===e}}function Pv(e){return Nl(function(n){return n=+n,Nl(function(a,i){for(var s,l=e([],a.length,n),v=l.length;v--;)a[s=l[v]]&&(a[s]=!(i[s]=a[s]))})})}function vw(e){return e&&typeof e.getElementsByTagName!==a1&&e}Uo=ja.support={},Pk=ja.isXML=function(e){var n=e&&(e.ownerDocument||e).documentElement;return n?n.nodeName!=="HTML":!1},Of=ja.setDocument=function(e){var n,a=e?e.ownerDocument||e:Rl,i=a.defaultView;function s(l){try{return l.top}catch(v){}return null}return a===Js||a.nodeType!==9||!a.documentElement?Js:(Js=a,Df=a.documentElement,pc=!Pk(a),i&&i!==s(i)&&(i.addEventListener?i.addEventListener("unload",function(){Of()},!1):i.attachEvent&&i.attachEvent("onunload",function(){Of()})),Uo.attributes=!0,Uo.getElementsByTagName=!0,Uo.getElementsByClassName=sw.test(a.getElementsByClassName),Uo.getById=!0,Hr.find.ID=function(l,v){if(typeof v.getElementById!==a1&&pc){var m=v.getElementById(l);return m&&m.parentNode?[m]:[]}},Hr.filter.ID=function(l){var v=l.replace(Nf,Ff);return function(m){return m.getAttribute("id")===v}},Hr.find.TAG=Uo.getElementsByTagName?function(l,v){if(typeof v.getElementsByTagName!==a1)return v.getElementsByTagName(l)}:function(l,v){var m,g=[],E=0,N=v.getElementsByTagName(l);if(l==="*"){for(;m=N[E++];)m.nodeType===1&&g.push(m);return g}return N},Hr.find.CLASS=Uo.getElementsByClassName&&function(l,v){if(pc)return v.getElementsByClassName(l)},um=[],_f=[],Uo.disconnectedMatch=!0,_f=_f.length&&new RegExp(_f.join("|")),um=um.length&&new RegExp(um.join("|")),n=sw.test(Df.compareDocumentPosition),Yn=n||sw.test(Df.contains)?function(l,v){var m=l.nodeType===9?l.documentElement:l,g=v&&v.parentNode;return l===g||!!(g&&g.nodeType===1&&(m.contains?m.contains(g):l.compareDocumentPosition&&l.compareDocumentPosition(g)&16))}:function(l,v){if(v){for(;v=v.parentNode;)if(v===l)return!0}return!1},Mf=n?function(l,v){if(l===v)return im=!0,0;var m=!l.compareDocumentPosition-!v.compareDocumentPosition;return m||(m=(l.ownerDocument||l)===(v.ownerDocument||v)?l.compareDocumentPosition(v):1,m&1||!Uo.sortDetached&&v.compareDocumentPosition(l)===m?l===a||l.ownerDocument===Rl&&Yn(Rl,l)?-1:v===a||v.ownerDocument===Rl&&Yn(Rl,v)?1:Af?Rf.call(Af,l)-Rf.call(Af,v):0:m&4?-1:1)}:function(l,v){if(l===v)return im=!0,0;var m,g=0,E=l.parentNode,N=v.parentNode,F=[l],$=[v];if(!E||!N)return l===a?-1:v===a?1:E?-1:N?1:Af?Rf.call(Af,l)-Rf.call(Af,v):0;if(E===N)return $k(l,v);for(m=l;m=m.parentNode;)F.unshift(m);for(m=v;m=m.parentNode;)$.unshift(m);for(;F[g]===$[g];)g++;return g?$k(F[g],$[g]):F[g]===Rl?-1:$[g]===Rl?1:0},a)},ja.matches=function(e,n){return ja(e,null,null,n)},ja.matchesSelector=function(e,n){if((e.ownerDocument||e)!==Js&&Of(e),n=n.replace(ll,"='$1']"),Uo.matchesSelector&&pc&&(!um||!um.test(n))&&(!_f||!_f.test(n)))try{var a=Rk.call(e,n);if(a||Uo.disconnectedMatch||e.document&&e.document.nodeType!==11)return a}catch(i){}return ja(n,Js,null,[e]).length>0},ja.contains=function(e,n){return(e.ownerDocument||e)!==Js&&Of(e),Yn(e,n)},ja.attr=function(e,n){(e.ownerDocument||e)!==Js&&Of(e);var a=Hr.attrHandle[n.toLowerCase()],i=a&&zM.call(Hr.attrHandle,n.toLowerCase())?a(e,n,!pc):void 0;return i!==void 0?i:Uo.attributes||!pc?e.getAttribute(n):(i=e.getAttributeNode(n))&&i.specified?i.value:null},ja.error=function(e){throw new Error("Syntax error, unrecognized expression: "+e)},ja.uniqueSort=function(e){var n,a=[],i=0,s=0;if(im=!Uo.detectDuplicates,Af=!Uo.sortStable&&e.slice(0),e.sort(Mf),im){for(;n=e[s++];)n===e[s]&&(i=a.push(s));for(;i--;)e.splice(a[i],1)}return Af=null,e},Ys=ja.getText=function(e){var n,a="",i=0,s=e.nodeType;if(s){if(s===1||s===9||s===11){if(typeof e.textContent=="string")return e.textContent;for(e=e.firstChild;e;e=e.nextSibling)a+=Ys(e)}else if(s===3||s===4)return e.nodeValue}else for(;n=e[i++];)a+=Ys(n);return a},Hr=ja.selectors={cacheLength:50,createPseudo:Nl,match:i1,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(e){return e[1]=e[1].replace(Nf,Ff),e[3]=(e[3]||e[4]||e[5]||"").replace(Nf,Ff),e[2]==="~="&&(e[3]=" "+e[3]+" "),e.slice(0,4)},CHILD:function(e){return e[1]=e[1].toLowerCase(),e[1].slice(0,3)==="nth"?(e[3]||ja.error(e[0]),e[4]=+(e[4]?e[5]+(e[6]||1):2*(e[3]==="even"||e[3]==="odd")),e[5]=+(e[7]+e[8]||e[3]==="odd")):e[3]&&ja.error(e[0]),e},PSEUDO:function(e){var n,a=!e[6]&&e[2];return i1.CHILD.test(e[0])?null:(e[3]?e[2]=e[4]||e[5]||"":a&&HM.test(a)&&(n=Zs(a,!0))&&(n=a.indexOf(")",a.length-n)-a.length)&&(e[0]=e[0].slice(0,n),e[2]=a.slice(0,n)),e.slice(0,3))}},filter:{TAG:function(e){var n=e.replace(Nf,Ff).toLowerCase();return e==="*"?function(){return!0}:function(a){return a.nodeName&&a.nodeName.toLowerCase()===n}},CLASS:function(e){var n=Fk[e+" "];return n||(n=new RegExp("(^|"+Mo+")"+e+"("+Mo+"|$)"))&&Fk(e,function(a){return n.test(typeof a.className=="string"&&a.className||typeof a.getAttribute!==a1&&a.getAttribute("class")||"")})},ATTR:function(e,n,a){return function(i){var s=ja.attr(i,e);return s==null?n==="!=":n?(s+="",n==="="?s===a:n==="!="?s!==a:n==="^="?a&&s.indexOf(a)===0:n==="*="?a&&s.indexOf(a)>-1:n==="$="?a&&s.slice(-a.length)===a:n==="~="?(" "+s+" ").indexOf(a)>-1:n==="|="?s===a||s.slice(0,a.length+1)===a+"-":!1):!0}},CHILD:function(e,n,a,i,s){var l=e.slice(0,3)!=="nth",v=e.slice(-4)!=="last",m=n==="of-type";return i===1&&s===0?function(g){return!!g.parentNode}:function(g,E,N){var F,$,ee,ne,re,ie,we=l!==v?"nextSibling":"previousSibling",ge=g.parentNode,Je=m&&g.nodeName.toLowerCase(),qe=!N&&!m;if(ge){if(l){for(;we;){for(ee=g;ee=ee[we];)if(m?ee.nodeName.toLowerCase()===Je:ee.nodeType===1)return!1;ie=we=e==="only"&&!ie&&"nextSibling"}return!0}if(ie=[v?ge.firstChild:ge.lastChild],v&&qe){for($=ge[fu]||(ge[fu]={}),F=$[e]||[],re=F[0]===bc&&F[1],ne=F[0]===bc&&F[2],ee=re&&ge.childNodes[re];ee=++re&&ee&&ee[we]||(ne=re=0)||ie.pop();)if(ee.nodeType===1&&++ne&&ee===g){$[e]=[bc,re,ne];break}}else if(qe&&(F=(g[fu]||(g[fu]={}))[e])&&F[0]===bc)ne=F[1];else for(;(ee=++re&&ee&&ee[we]||(ne=re=0)||ie.pop())&&!((m?ee.nodeName.toLowerCase()===Je:ee.nodeType===1)&&++ne&&(qe&&((ee[fu]||(ee[fu]={}))[e]=[bc,ne]),ee===g)););return ne-=s,ne===i||ne%i===0&&ne/i>=0}}},PSEUDO:function(e,n){var a,i=Hr.pseudos[e]||Hr.setFilters[e.toLowerCase()]||ja.error("unsupported pseudo: "+e);return i[fu]?i(n):i.length>1?(a=[e,e,"",n],Hr.setFilters.hasOwnProperty(e.toLowerCase())?Nl(function(s,l){for(var v,m=i(s,n),g=m.length;g--;)v=Rf.call(s,m[g]),s[v]=!(l[v]=m[g])}):function(s){return i(s,0,a)}):i}},pseudos:{not:Nl(function(e){var n=[],a=[],i=aw(e.replace(o1,"$1"));return i[fu]?Nl(function(s,l,v,m){for(var g,E=i(s,null,m,[]),N=s.length;N--;)(g=E[N])&&(s[N]=!(l[N]=g))}):function(s,l,v){return n[0]=s,i(n,null,v,a),n[0]=null,!a.pop()}}),has:Nl(function(e){return function(n){return ja(e,n).length>0}}),contains:Nl(function(e){return e=e.replace(Nf,Ff),function(n){return(n.textContent||n.innerText||Ys(n)).indexOf(e)>-1}}),lang:Nl(function(e){return VM.test(e||"")||ja.error("unsupported lang: "+e),e=e.replace(Nf,Ff).toLowerCase(),function(n){var a;do if(a=pc?n.lang:n.getAttribute("xml:lang")||n.getAttribute("lang"))return a=a.toLowerCase(),a===e||a.indexOf(e+"-")===0;while((n=n.parentNode)&&n.nodeType===1);return!1}}),target:function(e){var n=window.location&&window.location.hash;return n&&n.slice(1)===e.id},root:function(e){return e===Df},focus:function(e){return e===Js.activeElement&&(!Js.hasFocus||Js.hasFocus())&&!!(e.type||e.href||~e.tabIndex)},enabled:function(e){return e.disabled===!1},disabled:function(e){return e.disabled===!0},checked:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&!!e.checked||n==="option"&&!!e.selected},selected:function(e){return e.parentNode&&e.parentNode.selectedIndex,e.selected===!0},empty:function(e){for(e=e.firstChild;e;e=e.nextSibling)if(e.nodeType<6)return!1;return!0},parent:function(e){return!Hr.pseudos.empty(e)},header:function(e){return WM.test(e.nodeName)},input:function(e){return UM.test(e.nodeName)},button:function(e){var n=e.nodeName.toLowerCase();return n==="input"&&e.type==="button"||n==="button"},text:function(e){var n;return e.nodeName.toLowerCase()==="input"&&e.type==="text"&&((n=e.getAttribute("type"))==null||n.toLowerCase()==="text")},first:Pv(function(){return[0]}),last:Pv(function(e,n){return[n-1]}),eq:Pv(function(e,n,a){return[a<0?a+n:a]}),even:Pv(function(e,n){for(var a=0;a<n;a+=2)e.push(a);return e}),odd:Pv(function(e,n){for(var a=1;a<n;a+=2)e.push(a);return e}),lt:Pv(function(e,n,a){for(var i=a<0?a+n:a;--i>=0;)e.push(i);return e}),gt:Pv(function(e,n,a){for(var i=a<0?a+n:a;++i<n;)e.push(i);return e})}},Hr.pseudos.nth=Hr.pseudos.eq,vt(["radio","checkbox","file","password","image"],function(e){Hr.pseudos[e]=Fl(e)}),vt(["submit","reset"],function(e){Hr.pseudos[e]=Bv(e)});function Lk(){}Lk.prototype=Hr.filters=Hr.pseudos,Hr.setFilters=new Lk,Zs=ja.tokenize=function(e,n){var a,i,s,l,v,m,g,E=r1[e+" "];if(E)return n?0:E.slice(0);for(v=e,m=[],g=Hr.preFilter;v;){(!a||(i=LM.exec(v)))&&(i&&(v=v.slice(i[0].length)||v),m.push(s=[])),a=!1,(i=zk.exec(v))&&(a=i.shift(),s.push({value:a,type:i[0].replace(o1," ")}),v=v.slice(a.length));for(l in Hr.filter)Hr.filter.hasOwnProperty(l)&&(i=i1[l].exec(v))&&(!g[l]||(i=g[l](i)))&&(a=i.shift(),s.push({value:a,type:l,matches:i}),v=v.slice(a.length));if(!a)break}return n?v.length:v?ja.error(e):r1(e,m).slice(0)};function u1(e){for(var n=0,a=e.length,i="";n<a;n++)i+=e[n].value;return i}function dw(e,n,a){var i=n.dir,s=a&&i==="parentNode",l=Nk++;return n.first?function(v,m,g){for(;v=v[i];)if(v.nodeType===1||s)return e(v,m,g)}:function(v,m,g){var E,N,F=[bc,l];if(g){for(;v=v[i];)if((v.nodeType===1||s)&&e(v,m,g))return!0}else for(;v=v[i];)if(v.nodeType===1||s){if(N=v[fu]||(v[fu]={}),(E=N[i])&&E[0]===bc&&E[1]===l)return F[2]=E[2];if(N[i]=F,F[2]=e(v,m,g))return!0}}}function oh(e){return e.length>1?function(n,a,i){for(var s=e.length;s--;)if(!e[s](n,a,i))return!1;return!0}:e[0]}function qM(e,n,a){for(var i=0,s=n.length;i<s;i++)ja(e,n[i],a);return a}function s1(e,n,a,i,s){for(var l,v=[],m=0,g=e.length,E=n!=null;m<g;m++)(l=e[m])&&(!a||a(l,i,s))&&(v.push(l),E&&n.push(m));return v}function lm(e,n,a,i,s,l){return i&&!i[fu]&&(i=lm(i)),s&&!s[fu]&&(s=lm(s,l)),Nl(function(v,m,g,E){var N,F,$,ee=[],ne=[],re=m.length,ie=v||qM(n||"*",g.nodeType?[g]:g,[]),we=e&&(v||!n)?s1(ie,ee,e,g,E):ie,ge=a?s||(v?e:re||i)?[]:m:we;if(a&&a(we,ge,g,E),i)for(N=s1(ge,ne),i(N,[],g,E),F=N.length;F--;)($=N[F])&&(ge[ne[F]]=!(we[ne[F]]=$));if(v){if(s||e){if(s){for(N=[],F=ge.length;F--;)($=ge[F])&&N.push(we[F]=$);s(null,ge=[],N,E)}for(F=ge.length;F--;)($=ge[F])&&(N=s?Rf.call(v,$):ee[F])>-1&&(v[N]=!(m[N]=$))}}else ge=s1(ge===m?ge.splice(re,ge.length):ge),s?s(null,m,ge,E):Pf.apply(m,ge)})}function mw(e){for(var n,a,i,s=e.length,l=Hr.relative[e[0].type],v=l||Hr.relative[" "],m=l?1:0,g=dw(function(F){return F===n},v,!0),E=dw(function(F){return Rf.call(n,F)>-1},v,!0),N=[function(F,$,ee){var ne=!l&&(ee||$!==Tf)||((n=$).nodeType?g(F,$,ee):E(F,$,ee));return n=null,ne}];m<s;m++)if(a=Hr.relative[e[m].type])N=[dw(oh(N),a)];else{if(a=Hr.filter[e[m].type].apply(null,e[m].matches),a[fu]){for(i=++m;i<s&&!Hr.relative[e[i].type];i++);return lm(m>1&&oh(N),m>1&&u1(e.slice(0,m-1).concat({value:e[m-2].type===" "?"*":""})).replace(o1,"$1"),a,m<i&&mw(e.slice(m,i)),i<s&&mw(e=e.slice(i)),i<s&&u1(e))}N.push(a)}return oh(N)}function GM(e,n){var a=n.length>0,i=e.length>0,s=function(l,v,m,g,E){var N,F,$,ee=0,ne="0",re=l&&[],ie=[],we=Tf,ge=l||i&&Hr.find.TAG("*",E),Je=bc+=we==null?1:Math.random()||.1,qe=ge.length;for(E&&(Tf=v!==Js&&v);ne!==qe&&(N=ge[ne])!=null;ne++){if(i&&N){for(F=0;$=e[F++];)if($(N,v,m)){g.push(N);break}E&&(bc=Je)}a&&((N=!$&&N)&&ee--,l&&re.push(N))}if(ee+=ne,a&&ne!==ee){for(F=0;$=n[F++];)$(re,ie,v,m);if(l){if(ee>0)for(;ne--;)re[ne]||ie[ne]||(ie[ne]=ow.call(g));ie=s1(ie)}Pf.apply(g,ie),E&&!l&&ie.length>0&&ee+n.length>1&&ja.uniqueSort(g)}return E&&(bc=Je,Tf=we),re};return a?Nl(s):s}aw=ja.compile=function(e,n){var a,i=[],s=[],l=sm[e+" "];if(!l){for(n||(n=Zs(e)),a=n.length;a--;)l=mw(n[a]),l[fu]?i.push(l):s.push(l);l=sm(e,GM(s,i)),l.selector=e}return l},n1=ja.select=function(e,n,a,i){var s,l,v,m,g,E=typeof e=="function"&&e,N=!i&&Zs(e=E.selector||e);if(a=a||[],N.length===1){if(l=N[0]=N[0].slice(0),l.length>2&&(v=l[0]).type==="ID"&&Uo.getById&&n.nodeType===9&&pc&&Hr.relative[l[1].type]){if(n=(Hr.find.ID(v.matches[0].replace(Nf,Ff),n)||[])[0],n)E&&(n=n.parentNode);else return a;e=e.slice(l.shift().value.length)}for(s=i1.needsContext.test(e)?0:l.length;s--&&(v=l[s],!Hr.relative[m=v.type]);)if((g=Hr.find[m])&&(i=g(v.matches[0].replace(Nf,Ff),cw.test(l[0].type)&&vw(n.parentNode)||n))){if(l.splice(s,1),e=i.length&&u1(l),!e)return Pf.apply(a,i),a;break}}return(E||aw(e,N))(i,n,!pc,a,cw.test(e)&&vw(n.parentNode)||n),a},Uo.sortStable=fu.split("").sort(Mf).join("")===fu,Uo.detectDuplicates=!!im,Of(),Uo.sortDetached=!0;var Hk=document,ri=Array.prototype.push,KM=Array.prototype.slice,Go=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,Cu=om.Event,Rv=Tt.makeMap("children,contents,next,prev"),Os=function(e){return typeof e!="undefined"},gw=function(e){return typeof e=="string"},If=function(e){return e&&e===e.window},cm=function(e,n){n=n||Hk;var a=n.createElement("div"),i=n.createDocumentFragment();a.innerHTML=e;for(var s;s=a.firstChild;)i.appendChild(s);return i},fm=function(e,n,a,i){var s;if(gw(n))n=cm(n,l1(e[0]));else if(n.length&&!n.nodeType){if(n=Vr.makeArray(n),i)for(s=n.length-1;s>=0;s--)fm(e,n[s],a,i);else for(s=0;s<n.length;s++)fm(e,n[s],a,i);return e}if(n.nodeType)for(s=e.length;s--;)a.call(e[s],n);return e},Vk=function(e,n){return e&&n&&(" "+e.className+" ").indexOf(" "+n+" ")!==-1},Uk=function(e,n,a){var i,s;return n=Vr(n)[0],e.each(function(){var l=this;(!a||i!==l.parentNode)&&(i=l.parentNode,s=n.cloneNode(!1),l.parentNode.insertBefore(s,l)),s.appendChild(l)}),e},XM=Tt.makeMap("fillOpacity fontWeight lineHeight opacity orphans widows zIndex zoom"," "),YM=Tt.makeMap("checked compact declare defer disabled ismap multiple nohref noshade nowrap readonly selected"," "),ZM={for:"htmlFor",class:"className",readonly:"readOnly"},JM={float:"cssFloat"},hw={},pw={},Xi=function(e,n){return new Vr.fn.init(e,n)},bw=function(e,n){var a;if(n.indexOf)return n.indexOf(e);for(a=n.length;a--;)if(n[a]===e)return a;return-1},QM=/^\s*|\s*$/g,Wk=function(e){return e==null?"":(""+e).replace(QM,"")},Wo=function(e,n){var a,i,s,l;if(e)if(a=e.length,a===void 0){for(i in e)if(e.hasOwnProperty(i)&&(l=e[i],n.call(l,i,l)===!1))break}else for(s=0;s<a&&(l=e[s],n.call(l,s,l)!==!1);s++);return e},Ds=function(e,n){var a=[];return Wo(e,function(i,s){n(s,i)&&a.push(s)}),a},l1=function(e){return e?e.nodeType===9?e:e.ownerDocument:Hk};Xi.fn=Xi.prototype={constructor:Xi,selector:"",context:null,length:0,init:function(e,n){var a=this,i,s;if(!e)return a;if(e.nodeType)return a.context=a[0]=e,a.length=1,a;if(n&&n.nodeType)a.context=n;else{if(n)return Vr(e).attr(n);a.context=n=document}if(gw(e))if(a.selector=e,e.charAt(0)==="<"&&e.charAt(e.length-1)===">"&&e.length>=3?i=[null,e,null]:i=Go.exec(e),i)if(i[1])for(s=cm(e,l1(n)).firstChild;s;)ri.call(a,s),s=s.nextSibling;else{if(s=l1(n).getElementById(i[2]),!s)return a;if(s.id!==i[2])return a.find(e);a.length=1,a[0]=s}else return Vr(n).find(e);else this.add(e,!1);return a},toArray:function(){return Tt.toArray(this)},add:function(e,n){var a=this,i,s;if(gw(e))return a.add(Vr(e));if(n!==!1)for(i=Vr.unique(a.toArray().concat(Vr.makeArray(e))),a.length=i.length,s=0;s<i.length;s++)a[s]=i[s];else ri.apply(a,Vr.makeArray(e));return a},attr:function(e,n){var a=this,i;if(typeof e=="object")Wo(e,function(s,l){a.attr(s,l)});else if(Os(n))this.each(function(){var s;if(this.nodeType===1){if(s=hw[e],s&&s.set){s.set(this,n);return}n===null?this.removeAttribute(e,2):this.setAttribute(e,n,2)}});else{if(a[0]&&a[0].nodeType===1){if(i=hw[e],i&&i.get)return i.get(a[0],e);if(YM[e])return a.prop(e)?e:void 0;n=a[0].getAttribute(e,2),n===null&&(n=void 0)}return n}return a},removeAttr:function(e){return this.attr(e,null)},prop:function(e,n){var a=this;if(e=ZM[e]||e,typeof e=="object")Wo(e,function(i,s){a.prop(i,s)});else if(Os(n))this.each(function(){this.nodeType===1&&(this[e]=n)});else return a[0]&&a[0].nodeType&&e in a[0]?a[0][e]:n;return a},css:function(e,n){var a=this,i,s,l=function(m){return m.replace(/-(\D)/g,function(g,E){return E.toUpperCase()})},v=function(m){return m.replace(/[A-Z]/g,function(g){return"-"+g})};if(typeof e=="object")Wo(e,function(m,g){a.css(m,g)});else if(Os(n))e=l(e),typeof n=="number"&&!XM[e]&&(n=n.toString()+"px"),a.each(function(){var m=this.style;if(s=pw[e],s&&s.set){s.set(this,n);return}try{this.style[JM[e]||e]=n}catch(g){}(n===null||n==="")&&(m.removeProperty?m.removeProperty(v(e)):m.removeAttribute(e))});else{if(i=a[0],s=pw[e],s&&s.get)return s.get(i);if(i.ownerDocument.defaultView)try{return i.ownerDocument.defaultView.getComputedStyle(i,null).getPropertyValue(v(e))}catch(m){return}else return i.currentStyle?i.currentStyle[l(e)]:""}return a},remove:function(){for(var e=this,n,a=this.length;a--;)n=e[a],Cu.clean(n),n.parentNode&&n.parentNode.removeChild(n);return this},empty:function(){for(var e=this,n,a=this.length;a--;)for(n=e[a];n.firstChild;)n.removeChild(n.firstChild);return this},html:function(e){var n=this,a;if(Os(e)){a=n.length;try{for(;a--;)n[a].innerHTML=e}catch(i){Vr(n[a]).empty().append(e)}return n}return n[0]?n[0].innerHTML:""},text:function(e){var n=this,a;if(Os(e)){for(a=n.length;a--;)"innerText"in n[a]?n[a].innerText=e:n[0].textContent=e;return n}return n[0]?n[0].innerText||n[0].textContent:""},append:function(){return fm(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.appendChild(e)})},prepend:function(){return fm(this,arguments,function(e){(this.nodeType===1||this.host&&this.host.nodeType===1)&&this.insertBefore(e,this.firstChild)},!0)},before:function(){var e=this;return e[0]&&e[0].parentNode?fm(e,arguments,function(n){this.parentNode.insertBefore(n,this)}):e},after:function(){var e=this;return e[0]&&e[0].parentNode?fm(e,arguments,function(n){this.parentNode.insertBefore(n,this.nextSibling)},!0):e},appendTo:function(e){return Vr(e).append(this),this},prependTo:function(e){return Vr(e).prepend(this),this},replaceWith:function(e){return this.before(e).remove()},wrap:function(e){return Uk(this,e)},wrapAll:function(e){return Uk(this,e,!0)},wrapInner:function(e){return this.each(function(){Vr(this).contents().wrapAll(e)}),this},unwrap:function(){return this.parent().each(function(){Vr(this).replaceWith(this.childNodes)})},clone:function(){var e=[];return this.each(function(){e.push(this.cloneNode(!0))}),Vr(e)},addClass:function(e){return this.toggleClass(e,!0)},removeClass:function(e){return this.toggleClass(e,!1)},toggleClass:function(e,n){var a=this;return typeof e!="string"||(e.indexOf(" ")!==-1?Wo(e.split(" "),function(){a.toggleClass(this,n)}):a.each(function(i,s){var l=Vk(s,e);if(l!==n){var v=s.className;l?s.className=Wk((" "+v+" ").replace(" "+e+" "," ")):s.className+=v?" "+e:e}})),a},hasClass:function(e){return Vk(this[0],e)},each:function(e){return Wo(this,e)},on:function(e,n){return this.each(function(){Cu.bind(this,e,n)})},off:function(e,n){return this.each(function(){Cu.unbind(this,e,n)})},trigger:function(e){return this.each(function(){typeof e=="object"?Cu.fire(this,e.type,e):Cu.fire(this,e)})},show:function(){return this.css("display","")},hide:function(){return this.css("display","none")},slice:function(){return Vr(KM.apply(this,arguments))},eq:function(e){return e===-1?this.slice(e):this.slice(e,+e+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},find:function(e){var n,a,i=[];for(n=0,a=this.length;n<a;n++)Vr.find(e,this[n],i);return Vr(i)},filter:function(e){return Vr(typeof e=="function"?Ds(this.toArray(),function(n,a){return e(a,n)}):Vr.filter(e,this.toArray()))},closest:function(e){var n=[];return e instanceof Vr&&(e=e[0]),this.each(function(a,i){for(;i;){if(typeof e=="string"&&Vr(i).is(e)){n.push(i);break}else if(i===e){n.push(i);break}i=i.parentNode}}),Vr(n)},offset:function(e){var n,a,i,s=0,l=0,v;return e?this.css(e):(n=this[0],n&&(a=n.ownerDocument,i=a.documentElement,n.getBoundingClientRect&&(v=n.getBoundingClientRect(),s=v.left+(i.scrollLeft||a.body.scrollLeft)-i.clientLeft,l=v.top+(i.scrollTop||a.body.scrollTop)-i.clientTop)),{left:s,top:l})},push:ri,sort:Array.prototype.sort,splice:Array.prototype.splice},Tt.extend(Xi,{extend:Tt.extend,makeArray:function(e){return If(e)||e.nodeType?[e]:Tt.toArray(e)},inArray:bw,isArray:Tt.isArray,each:Wo,trim:Wk,grep:Ds,find:ja,expr:ja.selectors,unique:ja.uniqueSort,text:ja.getText,contains:ja.contains,filter:function(e,n,a){var i=n.length;for(a&&(e=":not("+e+")");i--;)n[i].nodeType!==1&&n.splice(i,1);return n.length===1?n=Vr.find.matchesSelector(n[0],e)?[n[0]]:[]:n=Vr.find.matches(e,n),n}});var yw=function(e,n,a){var i=[],s=e[n];for(typeof a!="string"&&a instanceof Vr&&(a=a[0]);s&&s.nodeType!==9&&!(a!==void 0&&(s===a||typeof a=="string"&&Vr(s).is(a)));)s.nodeType===1&&i.push(s),s=s[n];return i},c1=function(e,n,a,i){var s=[];for(i instanceof Vr&&(i=i[0]);e;e=e[n])if(e.nodeType===a){if(i!==void 0&&(e===i||typeof i=="string"&&Vr(e).is(i)))break;s.push(e)}return s},jk=function(e,n,a){for(e=e[n];e;e=e[n])if(e.nodeType===a)return e;return null};Wo({parent:function(e){var n=e.parentNode;return n&&n.nodeType!==11?n:null},parents:function(e){return yw(e,"parentNode")},next:function(e){return jk(e,"nextSibling",1)},prev:function(e){return jk(e,"previousSibling",1)},children:function(e){return c1(e.firstChild,"nextSibling",1)},contents:function(e){return Tt.toArray((e.nodeName==="iframe"?e.contentDocument||e.contentWindow.document:e).childNodes)}},function(e,n){Xi.fn[e]=function(a){var i=this,s=[];i.each(function(){var v=n.call(s,this,a,s);v&&(Vr.isArray(v)?s.push.apply(s,v):s.push(v))}),this.length>1&&(Rv[e]||(s=Vr.unique(s)),e.indexOf("parents")===0&&(s=s.reverse()));var l=Vr(s);return a?l.filter(a):l}}),Wo({parentsUntil:function(e,n){return yw(e,"parentNode",n)},nextUntil:function(e,n){return c1(e,"nextSibling",1,n).slice(1)},prevUntil:function(e,n){return c1(e,"previousSibling",1,n).slice(1)}},function(e,n){Xi.fn[e]=function(a,i){var s=this,l=[];s.each(function(){var m=n.call(l,this,a,l);m&&(Vr.isArray(m)?l.push.apply(l,m):l.push(m))}),this.length>1&&(l=Vr.unique(l),(e.indexOf("parents")===0||e==="prevUntil")&&(l=l.reverse()));var v=Vr(l);return i?v.filter(i):v}}),Xi.fn.is=function(e){return!!e&&this.filter(e).length>0},Xi.fn.init.prototype=Xi.fn,Xi.overrideDefaults=function(e){var n,a=function(i,s){return n=n||e(),arguments.length===0&&(i=n.element),s||(s=n.context),new a.fn.init(i,s)};return Vr.extend(a,this),a},Xi.attrHooks=hw,Xi.cssHooks=pw;var Vr=Xi,vm=Tt.each,f1=Tt.grep,ww=an.ie,ai=/^([a-z0-9],?)+$/i,Il=function(e,n,a){var i=n.keep_values,s={set:function(v,m,g){n.url_converter&&m!==null&&(m=n.url_converter.call(n.url_converter_scope||a(),m,g,v[0])),v.attr("data-mce-"+g,m).attr(g,m)},get:function(v,m){return v.attr("data-mce-"+m)||v.attr(m)}},l={style:{set:function(v,m){if(m!==null&&typeof m=="object"){v.css(m);return}i&&v.attr("data-mce-style",m),m!==null&&typeof m=="string"?(v.removeAttr("style"),v.css(e.parse(m))):v.attr("style",m)},get:function(v){var m=v.attr("data-mce-style")||v.attr("style");return m=e.serialize(e.parse(m),v[0].nodeName),m}}};return i&&(l.href=l.src=s),l},qk=function(e,n){var a=n.attr("style"),i=e.serialize(e.parse(a),n[0].nodeName);i||(i=null),n.attr("data-mce-style",i)},Nv=function(e,n){var a=0,i,s;if(e)for(i=e.nodeType,e=e.previousSibling;e;e=e.previousSibling)s=e.nodeType,!(n&&s===3&&(s===i||!e.nodeValue.length))&&(a++,i=s);return a},uo=function(e,n){n===void 0&&(n={});var a={},i=window,s={},l=0,v=!0,m=!0,g=Dl.forElement(w.fromDom(e),{contentCssCors:n.contentCssCors,referrerPolicy:n.referrerPolicy}),E=[],N=n.schema?n.schema:As({}),F=rh({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope},n.schema),$=n.ownEvents?new om:om.Event,ee=N.getBlockElements(),ne=Vr.overrideDefaults(function(){return{context:e,element:wd.getRoot()}}),re=function(Ne){if(typeof Ne=="string")return!!ee[Ne];if(Ne){var ht=Ne.nodeType;if(ht)return!!(ht===1&&ee[Ne.nodeName])}return!1},ie=function(Ne){return Ne&&e&&Ae(Ne)?e.getElementById(Ne):Ne},we=function(Ne){return ne(typeof Ne=="string"?ie(Ne):Ne)},ge=function(Ne,ht,cn){var Sn,Ur,wa=we(Ne);return wa.length&&(Sn=Nc[ht],Sn&&Sn.get?Ur=Sn.get(wa,ht):Ur=wa.attr(ht)),typeof Ur=="undefined"&&(Ur=cn||""),Ur},Je=function(Ne){var ht=ie(Ne);return ht?ht.attributes:[]},qe=function(Ne,ht,cn){cn===""&&(cn=null);var Sn=we(Ne),Ur=Sn.attr(ht);if(Sn.length){var wa=Nc[ht];wa&&wa.set?wa.set(Sn,cn,ht):Sn.attr(ht,cn),Ur!==cn&&n.onSetAttrib&&n.onSetAttrib({attrElm:Sn,attrName:ht,attrValue:cn})}},De=function(Ne,ht){if(!ww||Ne.nodeType!==1||ht)return Ne.cloneNode(ht);var cn=e.createElement(Ne.nodeName);return vm(Je(Ne),function(Sn){qe(cn,Sn.nodeName,ge(Ne,Sn.nodeName))}),cn},nt=function(){return n.root_element||e.body},Rt=function(Ne){var ht=Ev(Ne);return{x:ht.x,y:ht.y,w:ht.width,h:ht.height}},en=function(Ne,ht){return Ry(e.body,ie(Ne),ht)},yr=function(Ne,ht,cn){var Sn=Ae(ht)?we(Ne).css(ht,cn):we(Ne).css(ht);n.update_styles&&qk(F,Sn)},Fn=function(Ne,ht){var cn=we(Ne).css(ht);n.update_styles&&qk(F,cn)},Ft=function(Ne,ht,cn){var Sn=we(Ne);return cn?Sn.css(ht):(ht=ht.replace(/-(\D)/g,function(Ur,wa){return wa.toUpperCase()}),ht==="float"&&(ht=an.browser.isIE()?"styleFloat":"cssFloat"),Sn[0]&&Sn[0].style?Sn[0].style[ht]:void 0)},ar=function(Ne){var ht,cn;return Ne=ie(Ne),ht=Ft(Ne,"width"),cn=Ft(Ne,"height"),ht.indexOf("px")===-1&&(ht=0),cn.indexOf("px")===-1&&(cn=0),{w:parseInt(ht,10)||Ne.offsetWidth||Ne.clientWidth,h:parseInt(cn,10)||Ne.offsetHeight||Ne.clientHeight}},on=function(Ne){Ne=ie(Ne);var ht=en(Ne),cn=ar(Ne);return{x:ht.x,y:ht.y,w:cn.w,h:cn.h}},Pn=function(Ne,ht){var cn;if(!Ne)return!1;if(!Array.isArray(Ne)){if(ht==="*")return Ne.nodeType===1;if(ai.test(ht)){var Sn=ht.toLowerCase().split(/,/),Ur=Ne.nodeName.toLowerCase();for(cn=Sn.length-1;cn>=0;cn--)if(Sn[cn]===Ur)return!0;return!1}if(Ne.nodeType&&Ne.nodeType!==1)return!1}var wa=Array.isArray(Ne)?Ne:[Ne];return ja(ht,wa[0].ownerDocument||wa[0],null,wa).length>0},un=function(Ne,ht,cn,Sn){var Ur=[],wa,lo=ie(Ne);for(Sn=Sn===void 0,cn=cn||(nt().nodeName!=="BODY"?nt().parentNode:null),Tt.is(ht,"string")&&(wa=ht,ht==="*"?ht=function(bv){return bv.nodeType===1}:ht=function(bv){return Pn(bv,wa)});lo&&!(lo===cn||Be(lo.nodeType)||Vg(lo)||jr(lo));){if(!ht||typeof ht=="function"&&ht(lo))if(Sn)Ur.push(lo);else return[lo];lo=lo.parentNode}return Sn?Ur:null},xn=function(Ne,ht,cn){var Sn=un(Ne,ht,cn,!1);return Sn&&Sn.length>0?Sn[0]:null},Vn=function(Ne,ht,cn){var Sn=ht;if(Ne){for(typeof ht=="string"&&(Sn=function(Ur){return Pn(Ur,ht)}),Ne=Ne[cn];Ne;Ne=Ne[cn])if(typeof Sn=="function"&&Sn(Ne))return Ne}return null},Yt=function(Ne,ht){return Vn(Ne,ht,"nextSibling")},zn=function(Ne,ht){return Vn(Ne,ht,"previousSibling")},Gr=function(Ne,ht){return ja(Ne,ie(ht)||n.root_element||e,[])},ma=function(Ne,ht,cn){var Sn,Ur=typeof Ne=="string"?ie(Ne):Ne;if(!Ur)return!1;if(Tt.isArray(Ur)&&(Ur.length||Ur.length===0))return Sn=[],vm(Ur,function(lo,bv){lo&&Sn.push(ht.call(cn,typeof lo=="string"?ie(lo):lo,bv))}),Sn;var wa=cn||this;return ht.call(wa,Ur)},fa=function(Ne,ht){we(Ne).each(function(cn,Sn){vm(ht,function(Ur,wa){qe(Sn,wa,Ur)})})},yi=function(Ne,ht){var cn=we(Ne);ww?cn.each(function(Sn,Ur){if(Ur.canHaveHTML!==!1){for(;Ur.firstChild;)Ur.removeChild(Ur.firstChild);try{Ur.innerHTML="<br>"+ht,Ur.removeChild(Ur.firstChild)}catch(wa){Vr("<div></div>").html("<br>"+ht).contents().slice(1).appendTo(Ur)}return ht}}):cn.html(ht)},go=function(Ne,ht,cn,Sn,Ur){return ma(Ne,function(wa){var lo=typeof ht=="string"?e.createElement(ht):ht;return fa(lo,cn),Sn&&(typeof Sn!="string"&&Sn.nodeType?lo.appendChild(Sn):typeof Sn=="string"&&yi(lo,Sn)),Ur?lo:wa.appendChild(lo)})},vu=function(Ne,ht,cn){return go(e.createElement(Ne),Ne,ht,cn,!0)},cs=Bl.decode,Zt=Bl.encodeAllRaw,hn=function(Ne,ht,cn){var Sn="",Ur;Sn+="<"+Ne;for(Ur in ht)ha(ht,Ur)&&(Sn+=" "+Ur+'="'+Zt(ht[Ur])+'"');return typeof cn!="undefined"?Sn+">"+cn+"</"+Ne+">":Sn+" />"},or=function(Ne){var ht,cn=e.createElement("div"),Sn=e.createDocumentFragment();for(Sn.appendChild(cn),Ne&&(cn.innerHTML=Ne);ht=cn.firstChild;)Sn.appendChild(ht);return Sn.removeChild(cn),Sn},st=function(Ne,ht){var cn=we(Ne);return ht?cn.each(function(){for(var Sn;Sn=this.firstChild;)Sn.nodeType===3&&Sn.data.length===0?this.removeChild(Sn):this.parentNode.insertBefore(Sn,this)}).remove():cn.remove(),cn.length>1?cn.toArray():cn[0]},rn=function(Ne){return ma(Ne,function(ht){var cn,Sn=ht.attributes;for(cn=Sn.length-1;cn>=0;cn--)ht.removeAttributeNode(Sn.item(cn))})},Qt=function(Ne){return F.parse(Ne)},lr=function(Ne,ht){return F.serialize(Ne,ht)},hr=function(Ne){var ht,cn;if(wd!==uo.DOM&&e===document){if(a[Ne])return;a[Ne]=!0}cn=e.getElementById("mceDefaultStyles"),cn||(cn=e.createElement("style"),cn.id="mceDefaultStyles",cn.type="text/css",ht=e.getElementsByTagName("head")[0],ht.firstChild?ht.insertBefore(cn,ht.firstChild):ht.appendChild(cn)),cn.styleSheet?cn.styleSheet.cssText+=Ne:cn.appendChild(e.createTextNode(Ne))},Na=function(Ne){Ne||(Ne=""),vt(Ne.split(","),function(ht){s[ht]=!0,g.load(ht,Ze)})},si=function(Ne,ht,cn){we(Ne).toggleClass(ht,cn).each(function(){this.className===""&&Vr(this).attr("class",null)})},Zo=function(Ne,ht){we(Ne).addClass(ht)},nu=function(Ne,ht){si(Ne,ht,!1)},ru=function(Ne,ht){return we(Ne).hasClass(ht)},Mu=function(Ne){we(Ne).show()},Jo=function(Ne){we(Ne).hide()},Is=function(Ne){return we(Ne).css("display")==="none"},Bu=function(Ne){return(Ne||"mce_")+l++},Rc=function(Ne){var ht=typeof Ne=="string"?ie(Ne):Ne;return Br(ht)?ht.outerHTML:Vr("<div></div>").append(Vr(ht).clone()).html()},ga=function(Ne,ht){we(Ne).each(function(){try{if("outerHTML"in this){this.outerHTML=ht;return}}catch(cn){}st(Vr(this).html(ht),!0)})},ao=function(Ne,ht){var cn=ie(ht);return ma(Ne,function(Sn){var Ur=cn.parentNode,wa=cn.nextSibling;return wa?Ur.insertBefore(Sn,wa):Ur.appendChild(Sn),Sn})},li=function(Ne,ht,cn){return ma(ht,function(Sn){return Tt.is(Sn,"array")&&(Ne=Ne.cloneNode(!0)),cn&&vm(f1(Sn.childNodes),function(Ur){Ne.appendChild(Ur)}),Sn.parentNode.replaceChild(Ne,Sn)})},oc=function(Ne,ht){var cn;return Ne.nodeName!==ht.toUpperCase()&&(cn=vu(ht),vm(Je(Ne),function(Sn){qe(cn,Sn.nodeName,ge(Ne,Sn.nodeName))}),li(cn,Ne,!0)),cn||Ne},ic=function(Ne,ht){for(var cn=Ne,Sn;cn;){for(Sn=ht;Sn&&cn!==Sn;)Sn=Sn.parentNode;if(cn===Sn)break;cn=cn.parentNode}return!cn&&Ne.ownerDocument?Ne.ownerDocument.documentElement:cn},uc=function(Ne){return F.toHex(Tt.trim(Ne))},pv=function(Ne){if(Br(Ne)){var ht=Ne.nodeName.toLowerCase()==="a"&&!ge(Ne,"href")&&ge(Ne,"id");if(ge(Ne,"name")||ge(Ne,"data-mce-bookmark")||ht)return!0}return!1},YS=function(Ne,ht){var cn,Sn,Ur=0;if(pv(Ne))return!1;if(Ne=Ne.firstChild,Ne){var wa=new Wa(Ne,Ne.parentNode),lo=N?N.getWhiteSpaceElements():{};ht=ht||(N?N.getNonEmptyElements():null);do{if(cn=Ne.nodeType,Br(Ne)){var bv=Ne.getAttribute("data-mce-bogus");if(bv){Ne=wa.next(bv==="all");continue}if(Sn=Ne.nodeName.toLowerCase(),ht&&ht[Sn]){if(Sn==="br"){Ur++,Ne=wa.next();continue}return!1}if(pv(Ne))return!1}if(cn===8||cn===3&&!Ml(Ne.nodeValue)||cn===3&&Ne.parentNode&&lo[Ne.parentNode.nodeName]&&Ml(Ne.nodeValue))return!1;Ne=wa.next()}while(Ne)}return Ur<=1},ZS=function(){return e.createRange()},Q8=function(Ne,ht,cn){var Sn=ZS(),Ur,wa,lo;if(Ne&&ht)return Sn.setStart(Ne.parentNode,Nv(Ne)),Sn.setEnd(ht.parentNode,Nv(ht)),Ur=Sn.extractContents(),Sn=ZS(),Sn.setStart(ht.parentNode,Nv(ht)+1),Sn.setEnd(Ne.parentNode,Nv(Ne)+1),wa=Sn.extractContents(),lo=Ne.parentNode,lo.insertBefore(Xy(wd,Ur),Ne),cn?lo.insertBefore(cn,Ne):lo.insertBefore(ht,Ne),lo.insertBefore(Xy(wd,wa),Ne),st(Ne),cn||ht},sy=function(Ne,ht,cn,Sn){if(Tt.isArray(Ne)){for(var Ur=Ne.length,wa=[];Ur--;)wa[Ur]=sy(Ne[Ur],ht,cn,Sn);return wa}n.collect&&(Ne===e||Ne===i)&&E.push([Ne,ht,cn,Sn]);var lo=$.bind(Ne,ht,cn,Sn||wd);return lo},ly=function(Ne,ht,cn){if(Tt.isArray(Ne)){for(var Sn=Ne.length,Ur=[];Sn--;)Ur[Sn]=ly(Ne[Sn],ht,cn);return Ur}else{if(E.length>0&&(Ne===e||Ne===i))for(var Sn=E.length;Sn--;){var wa=E[Sn];Ne===wa[0]&&(!ht||ht===wa[1])&&(!cn||cn===wa[2])&&$.unbind(wa[0],wa[1],wa[2])}return $.unbind(Ne,ht,cn)}},e$=function(Ne,ht,cn){return $.fire(Ne,ht,cn)},N_=function(Ne){if(Ne&&Br(Ne)){var ht=Ne.getAttribute("data-mce-contenteditable");return ht&&ht!=="inherit"?ht:Ne.contentEditable!=="inherit"?Ne.contentEditable:null}else return null},t$=function(Ne){for(var ht=nt(),cn=null;Ne&&Ne!==ht&&(cn=N_(Ne),cn===null);Ne=Ne.parentNode);return cn},n$=function(){if(E.length>0)for(var Ne=E.length;Ne--;){var ht=E[Ne];$.unbind(ht[0],ht[1],ht[2])}vn(s,function(cn,Sn){g.unload(Sn),delete s[Sn]}),ja.setDocument&&ja.setDocument()},r$=function(Ne,ht){if(ww){for(;Ne;){if(ht===Ne)return!0;Ne=Ne.parentNode}return!1}else return Ne===ht||ht.contains(Ne)},a$=function(Ne){return"startContainer: "+Ne.startContainer.nodeName+", startOffset: "+Ne.startOffset+", endContainer: "+Ne.endContainer.nodeName+", endOffset: "+Ne.endOffset},wd={doc:e,settings:n,win:i,files:s,stdMode:v,boxModel:m,styleSheetLoader:g,boundEvents:E,styles:F,schema:N,events:$,isBlock:re,$:ne,$$:we,root:null,clone:De,getRoot:nt,getViewPort:Rt,getRect:on,getSize:ar,getParent:xn,getParents:un,get:ie,getNext:Yt,getPrev:zn,select:Gr,is:Pn,add:go,create:vu,createHTML:hn,createFragment:or,remove:st,setStyle:yr,getStyle:Ft,setStyles:Fn,removeAllAttribs:rn,setAttrib:qe,setAttribs:fa,getAttrib:ge,getPos:en,parseStyle:Qt,serializeStyle:lr,addStyle:hr,loadCSS:Na,addClass:Zo,removeClass:nu,hasClass:ru,toggleClass:si,show:Mu,hide:Jo,isHidden:Is,uniqueId:Bu,setHTML:yi,getOuterHTML:Rc,setOuterHTML:ga,decode:cs,encode:Zt,insertAfter:ao,replace:li,rename:oc,findCommonAncestor:ic,toHex:uc,run:ma,getAttribs:Je,isEmpty:YS,createRng:ZS,nodeIndex:Nv,split:Q8,bind:sy,unbind:ly,fire:e$,getContentEditable:N_,getContentEditableParent:t$,destroy:n$,isChildOf:r$,dumpRng:a$},Nc=Il(F,n,xe(wd));return wd};uo.DOM=uo(document),uo.nodeIndex=Nv;var Fv=uo.DOM,v1=Tt.each,dm=Tt.grep,Cw=0,Gk=1,d1=2,Kk=3,Qc=function(){function e(n){n===void 0&&(n={}),this.states={},this.queue=[],this.scriptLoadedCallbacks={},this.queueLoadedCallbacks=[],this.loading=0,this.settings=n}return e.prototype._setReferrerPolicy=function(n){this.settings.referrerPolicy=n},e.prototype.loadScript=function(n,a,i){var s=Fv,l,v=function(){s.remove(E),l&&(l.onerror=l.onload=l=null)},m=function(){v(),a()},g=function(){v(),Se(i)&&i()},E=s.uniqueId();l=document.createElement("script"),l.id=E,l.type="text/javascript",l.src=Tt._addCacheSuffix(n),this.settings.referrerPolicy&&s.setAttrib(l,"referrerpolicy",this.settings.referrerPolicy),l.onload=m,l.onerror=g,(document.getElementsByTagName("head")[0]||document.body).appendChild(l)},e.prototype.isDone=function(n){return this.states[n]===d1},e.prototype.markDone=function(n){this.states[n]=d1},e.prototype.add=function(n,a,i,s){var l=this.states[n];this.queue.push(n),l===void 0&&(this.states[n]=Cw),a&&(this.scriptLoadedCallbacks[n]||(this.scriptLoadedCallbacks[n]=[]),this.scriptLoadedCallbacks[n].push({success:a,failure:s,scope:i||this}))},e.prototype.load=function(n,a,i,s){return this.add(n,a,i,s)},e.prototype.remove=function(n){delete this.states[n],delete this.scriptLoadedCallbacks[n]},e.prototype.loadQueue=function(n,a,i){this.loadScripts(this.queue,n,a,i)},e.prototype.loadScripts=function(n,a,i,s){var l=this,v=[],m=function(E,N){v1(l.scriptLoadedCallbacks[N],function(F){Se(F[E])&&F[E].call(F.scope)}),l.scriptLoadedCallbacks[N]=void 0};l.queueLoadedCallbacks.push({success:a,failure:s,scope:i||this});var g=function(){var E=dm(n);if(n.length=0,v1(E,function(F){if(l.states[F]===d1){m("success",F);return}if(l.states[F]===Kk){m("failure",F);return}l.states[F]!==Gk&&(l.states[F]=Gk,l.loading++,l.loadScript(F,function(){l.states[F]=d1,l.loading--,m("success",F),g()},function(){l.states[F]=Kk,l.loading--,v.push(F),m("failure",F),g()}))}),!l.loading){var N=l.queueLoadedCallbacks.slice(0);l.queueLoadedCallbacks.length=0,v1(N,function(F){v.length===0?Se(F.success)&&F.success.call(F.scope):Se(F.failure)&&F.failure.call(F.scope,v)})}};g()},e.ScriptLoader=new e,e}(),xu=function(e){var n=e,a=function(){return n},i=function(s){n=s};return{get:a,set:i}},xw=function(e){return Ye(e)&&xr(e,"raw")},eB=function(e){return Ve(e)&&e.length>1},mm={},ih=xu("en"),Xk=function(){return Ar(mm,ih.get())},tB=function(){return Ln(mm,function(e){return Gn({},e)})},nB=function(e){e&&ih.set(e)},m1=function(){return ih.get()},Iv=function(e,n){var a=mm[e];a||(mm[e]=a={}),vn(n,function(i,s){a[s.toLowerCase()]=i})},g1=function(e){var n=Xk().getOr({}),a=function(g){return Se(g)?Object.prototype.toString.call(g):i(g)?"":""+g},i=function(g){return g===""||g===null||g===void 0},s=function(g){var E=a(g);return Ar(n,E.toLowerCase()).map(a).getOr(E)},l=function(g){return g.replace(/{context:\w+}$/,"")};if(i(e))return"";if(xw(e))return a(e.raw);if(eB(e)){var v=e.slice(1),m=s(e[0]).replace(/\{([0-9]+)\}/g,function(g,E){return xr(v,E)?a(v[E]):g});return l(m)}return l(s(e))},ba=function(){return Xk().bind(function(e){return Ar(e,"_dir")}).exists(function(e){return e==="rtl"})},rs=function(e){return xr(mm,e)},Su={getData:tB,setCode:nB,getCode:m1,add:Iv,translate:g1,isRtl:ba,hasCode:rs},Lu=function(){var e=[],n={},a={},i=[],s=function(re,ie){var we=Ce(i,function(ge){return ge.name===re&&ge.state===ie});vt(we,function(ge){return ge.callback()})},l=function(re){if(a[re])return a[re].instance},v=function(re){var ie;return a[re]&&(ie=a[re].dependencies),ie||[]},m=function(re,ie){Lu.languageLoad!==!1&&ne(re,function(){var we=Su.getCode(),ge=","+(ie||"")+",";!we||ie&&ge.indexOf(","+we+",")===-1||Qc.ScriptLoader.add(n[re]+"/langs/"+we+".js")},"loaded")},g=function(re,ie,we){var ge=ie;return e.push(ge),a[re]={instance:ge,dependencies:we},s(re,"added"),ge},E=function(re){delete n[re],delete a[re]},N=function(re,ie){return typeof ie=="object"?ie:typeof re=="string"?{prefix:"",resource:ie,suffix:""}:{prefix:re.prefix,resource:ie,suffix:re.suffix}},F=function(re,ie){var we=n[re];vt(ie,function(ge){Qc.ScriptLoader.add(we+"/"+ge)})},$=function(re,ie,we,ge){var Je=v(re);vt(Je,function(qe){var De=N(ie,qe);ee(De.resource,De,void 0,void 0)}),we&&(ge?we.call(ge):we.call(Qc))},ee=function(re,ie,we,ge,Je){if(!n[re]){var qe=typeof ie=="string"?ie:ie.prefix+ie.resource+ie.suffix;qe.indexOf("/")!==0&&qe.indexOf("://")===-1&&(qe=Lu.baseURL+"/"+qe),n[re]=qe.substring(0,qe.lastIndexOf("/"));var De=function(){s(re,"loaded"),$(re,ie,we,ge)};a[re]?De():Qc.ScriptLoader.add(qe,De,ge,Je)}},ne=function(re,ie,we){we===void 0&&(we="added"),xr(a,re)&&we==="added"||xr(n,re)&&we==="loaded"?ie():i.push({name:re,state:we,callback:ie})};return{items:e,urls:n,lookup:a,_listeners:i,get:l,dependencies:v,requireLangPack:m,add:g,remove:E,createUrl:N,addComponents:F,load:ee,waitFor:ne}};Lu.languageLoad=!0,Lu.baseURL="",Lu.PluginManager=Lu(),Lu.ThemeManager=Lu();var ro=function(e){var n=xu(X.none()),a=function(){return n.get().each(e)},i=function(){a(),n.set(X.none())},s=function(){return n.get().isSome()},l=function(){return n.get()},v=function(m){a(),n.set(X.some(m))};return{clear:i,isSet:s,get:l,set:v}},zv=function(){var e=ro(Ze),n=function(a){return e.get().each(a)};return Gn(Gn({},e),{on:n})},h1=function(e,n){var a=null,i=function(){L(a)||(clearTimeout(a),a=null)},s=function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];L(a)&&(a=setTimeout(function(){a=null,e.apply(null,l)},n))};return{cancel:i,throttle:s}},_i=function(e,n){var a=null,i=function(){L(a)||(clearTimeout(a),a=null)},s=function(){for(var l=[],v=0;v<arguments.length;v++)l[v]=arguments[v];i(),a=setTimeout(function(){a=null,e.apply(null,l)},n)};return{cancel:i,throttle:s}},yc=function(e,n){var a=j(e,n);return a===void 0||a===""?[]:a.split(" ")},rB=function(e,n,a){var i=yc(e,n),s=i.concat([a]);return k(e,n,s.join(" ")),!0},aB=function(e,n,a){var i=Ce(yc(e,n),function(s){return s!==a});return i.length>0?k(e,n,i.join(" ")):Ot(e,n),!1},p1=function(e){return e.dom.classList!==void 0},b1=function(e){return yc(e,"class")},Sw=function(e,n){return rB(e,"class",n)},kw=function(e,n){return aB(e,"class",n)},gm=function(e,n){p1(e)?e.dom.classList.add(n):Sw(e,n)},Yk=function(e){var n=p1(e)?e.dom.classList:b1(e);n.length===0&&Ot(e,"class")},Zk=function(e,n){if(p1(e)){var a=e.dom.classList;a.remove(n)}else kw(e,n);Yk(e)},Ew=function(e,n){return p1(e)&&e.dom.classList.contains(n)},Tw=function(e,n){var a=[];return vt(pu(e),function(i){n(i)&&(a=a.concat([i])),a=a.concat(Tw(i,n))}),a},zi=function(e,n){return Rr(n,e)},as=xe("mce-annotation"),uh=xe("data-mce-annotation"),oi=xe("data-mce-annotation-uid"),Jk=function(e,n){var a=e.selection.getRng(),i=w.fromDom(a.startContainer),s=w.fromDom(e.getBody()),l=n.fold(function(){return"."+as()},function(E){return"["+uh()+'="'+E+'"]'}),v=Vc(i,a.startOffset).getOr(i),m=Vo(v,l,function(E){return Sr(E,s)}),g=function(E,N){return Ge(E,N)?X.some(j(E,N)):X.none()};return m.bind(function(E){return g(E,""+oi()).bind(function(N){return g(E,""+uh()).map(function(F){var $=Qk(e,N);return{uid:N,name:F,elements:$}})})})},zf=function(e){return vo(e)&&Ew(e,as())},Qk=function(e,n){var a=w.fromDom(e.getBody());return zi(a,"["+oi()+'="'+n+'"]')},eE=function(e,n){var a=w.fromDom(e.getBody()),i=zi(a,"["+uh()+'="'+n+'"]'),s={};return vt(i,function(l){var v=j(l,oi()),m=Ar(s,v).getOr([]);s[v]=m.concat([l])}),s},tE=function(e,n){var a=xu({}),i=function(){return{listeners:[],previous:zv()}},s=function(N,F){l(N,function($){return F($),$})},l=function(N,F){var $=a.get(),ee=Ar($,N).getOrThunk(i),ne=F(ee);$[N]=ne,a.set($)},v=function(N,F,$){s(N,function(ee){vt(ee.listeners,function(ne){return ne(!0,N,{uid:F,nodes:zt($,function(re){return re.dom})})})})},m=function(N){s(N,function(F){vt(F.listeners,function($){return $(!1,N)})})},g=_i(function(){var N=a.get(),F=Xe($t(N));vt(F,function($){l($,function(ee){var ne=ee.previous.get();return Jk(e,X.some($)).fold(function(){ne.isSome()&&(m($),ee.previous.clear())},function(re){var ie=re.uid,we=re.name,ge=re.elements;Tv(ne,ie)||(v(we,ie,ge),ee.previous.set(ie))}),{previous:ee.previous,listeners:ee.listeners}})})},30);e.on("remove",function(){g.cancel()}),e.on("NodeChange",function(){g.throttle()});var E=function(N,F){l(N,function($){return{previous:$.previous,listeners:$.listeners.concat([F])}})};return{addListener:E}},Aw=function(e,n){var a=function(i){return X.from(i.attr(uh())).bind(n.lookup)};e.on("init",function(){e.serializer.addNodeFilter("span",function(i){vt(i,function(s){a(s).each(function(l){l.persistent===!1&&s.unwrap()})})})})},Ow=function(){var e={},n=function(i,s){e[i]={name:i,settings:s}},a=function(i){return Ar(e,i).map(function(s){return s.settings})};return{register:n,lookup:a}},Dw=0,nE=function(e){var n=new Date,a=n.getTime(),i=Math.floor(Math.random()*1e9);return Dw++,e+"_"+i+Dw+String(a)},oB=function(e,n){vt(n,function(a){gm(e,a)})},Yi=function(e,n){var a=n||document,i=a.createElement("div");return i.innerHTML=e,pu(w.fromDom(i))},Zi=function(e){return zt(e,w.fromDom)},Hu=function(e){return e.dom.innerHTML},ku=function(e,n){var a=Rd(e),i=a.dom,s=w.fromDom(i.createDocumentFragment()),l=Yi(n,i);Id(s,l),$g(e),Ni(e,s)},Vu=function(e,n){return w.fromDom(e.dom.cloneNode(n))},Ko=function(e){return Vu(e,!1)},y1=function(e){return Vu(e,!0)},w1=function(e,n,a){a===void 0&&(a=Kt);var i=new Wa(e,n),s=function(l){var v;do v=i[l]();while(v&&!Wn(v)&&!a(v));return X.from(v).filter(Wn)};return{current:function(){return X.from(i.current()).filter(Wn)},next:function(){return s("next")},prev:function(){return s("prev")},prev2:function(){return s("prev2")}}},_w=function(e,n){var a=n||function(v){return e.isBlock(v)||za(v)||so(v)},i=function(v,m,g,E){if(Wn(v)){var N=E(v,m,v.data);if(N!==-1)return X.some({container:v,offset:N})}return g().bind(function(F){return i(F.container,F.offset,g,E)})},s=function(v,m,g,E){var N=w1(v,E,a);return i(v,m,function(){return N.prev().map(function(F){return{container:F,offset:F.length}})},g).getOrNull()},l=function(v,m,g,E){var N=w1(v,E,a);return i(v,m,function(){return N.next().map(function(F){return{container:F,offset:0}})},g).getOrNull()};return{backwards:s,forwards:l}},$v=Math.round,$f=function(e){return e?{left:$v(e.left),top:$v(e.top),bottom:$v(e.bottom),right:$v(e.right),width:$v(e.width),height:$v(e.height)}:{left:0,top:0,bottom:0,right:0,width:0,height:0}},Mw=function(e,n){return e=$f(e),n||(e.left=e.left+e.width),e.right=e.left,e.width=0,e},Bw=function(e,n){return e.left===n.left&&e.top===n.top&&e.bottom===n.bottom&&e.right===n.right},C1=function(e,n,a){return e>=0&&e<=Math.min(n.height,a.height)/2},hm=function(e,n){var a=Math.min(n.height/2,e.height/2);return e.bottom-a<n.top?!0:e.top>n.bottom?!1:C1(n.top-e.bottom,e,n)},pm=function(e,n){return e.top>n.bottom?!0:e.bottom<n.top?!1:C1(n.bottom-e.top,e,n)},rE=function(e,n,a){return n>=e.left&&n<=e.right&&a>=e.top&&a<=e.bottom},iB=function(e,n,a){return Math.min(Math.max(e,n),a)},x1=function(e){var n=e.startContainer,a=e.startOffset;return n.hasChildNodes()&&e.endOffset===a+1?n.childNodes[a]:null},wc=function(e,n){if(Br(e)&&e.hasChildNodes()){var a=e.childNodes,i=iB(n,0,a.length-1);return a[i]}else return e},uB=function(e,n){if(!(n<0&&Br(e)&&e.hasChildNodes()))return wc(e,n)},sB=new RegExp("[̀-ͯ҃-҇҈-҉֑-ֽֿׁ-ׂׄ-ׇׅؐ-ًؚ-ٰٟۖ-ۜ۟-ۤۧ-۪ۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ࣣ-ंऺ़ु-ै्॑-ॗॢ-ॣঁ়াু-ৄ্ৗৢ-ৣਁ-ਂ਼ੁ-ੂੇ-ੈੋ-੍ੑੰ-ੱੵઁ-ં઼ુ-ૅે-ૈ્ૢ-ૣଁ଼ାିୁ-ୄ୍ୖୗୢ-ୣஂாீ்ௗఀా-ీె-ైొ-్ౕ-ౖౢ-ౣಁ಼ಿೂೆೌ-್ೕ-ೖೢ-ೣഁാു-ൄ്ൗൢ-ൣ්ාි-ුූෟัิ-ฺ็-๎ັິ-ູົ-ຼ່-ໍ༘-ཱ༹༙༵༷-ཾྀ-྄྆-྇ྍ-ྗྙ-ྼ࿆ိ-ူဲ-့္-်ွ-ှၘ-ၙၞ-ၠၱ-ၴႂႅ-ႆႍႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒ-ᝓᝲ-ᝳ឴-឵ិ-ួំ៉-៓៝᠋-᠍ᢩᤠ-ᤢᤧ-ᤨᤲ᤹-᤻ᨗ-ᨘᨛᩖᩘ-ᩞ᩠ᩢᩥ-ᩬᩳ-᩿᩼᪰-᪽᪾ᬀ-ᬃ᬴ᬶ-ᬺᬼᭂ᭫-᭳ᮀ-ᮁᮢ-ᮥᮨ-ᮩ᮫-ᮭ᯦ᯨ-ᯩᯭᯯ-ᯱᰬ-ᰳᰶ-᰷᳐-᳔᳒-᳢᳠-᳨᳭᳴᳸-᳹᷀-᷵᷼-᷿‌-‍⃐-⃜⃝-⃠⃡⃢-⃤⃥-⃰⳯-⵿⳱ⷠ-〪ⷿ-〭〮-゙〯-゚꙯꙰-꙲ꙴ-꙽ꚞ-ꚟ꛰-꛱ꠂ꠆ꠋꠥ-ꠦ꣄꣠-꣱ꤦ-꤭ꥇ-ꥑꦀ-ꦂ꦳ꦶ-ꦹꦼꧥꨩ-ꨮꨱ-ꨲꨵ-ꨶꩃꩌꩼꪰꪲ-ꪴꪷ-ꪸꪾ-꪿꫁ꫬ-ꫭ꫶ꯥꯨ꯭ﬞ︀-️︠-︯ﾞ-ﾟ]"),aE=function(e){return typeof e=="string"&&e.charCodeAt(0)>=768&&sB.test(e)},lB=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(e[i](a))return!0;return!1}},oE=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];return function(a){for(var i=0;i<e.length;i++)if(!e[i](a))return!1;return!0}},Cn=Br,cB=hc,pi=Vd("display","block table"),fB=Vd("float","left right"),bm=oE(Cn,cB,er(fB)),vB=er(Vd("white-space","pre pre-line pre-wrap")),Uu=Wn,Pw=za,iE=uo.nodeIndex,sh=uB,zl=function(e){return"createRange"in e?e.createRange():uo.DOM.createRng()},Rw=function(e){return e&&/[\r\n\t ]/.test(e)},Nw=function(e){return!!e.setStart&&!!e.setEnd},$l=function(e){var n=e.startContainer,a=e.startOffset;if(Rw(e.toString())&&vB(n.parentNode)&&Wn(n)){var i=n.data;if(Rw(i[a-1])||Rw(i[a+1]))return!0}return!1},Ll=function(e){var n=e.ownerDocument,a=zl(n),i=n.createTextNode(Qu),s=e.parentNode;s.insertBefore(i,e),a.setStart(i,0),a.setEnd(i,1);var l=$f(a.getBoundingClientRect());return s.removeChild(i),l},uE=function(e){var n=e.startContainer,a=e.endContainer,i=e.startOffset,s=e.endOffset;if(n===a&&Wn(a)&&i===0&&s===1){var l=e.cloneRange();return l.setEndAfter(a),Lf(l)}else return null},cl=function(e){return e.left===0&&e.right===0&&e.top===0&&e.bottom===0},Lf=function(e){var n,a=e.getClientRects();return a.length>0?n=$f(a[0]):n=$f(e.getBoundingClientRect()),!Nw(e)&&Pw(e)&&cl(n)?Ll(e):cl(n)&&Nw(e)?uE(e):n},Hf=function(e,n){var a=Mw(e,n);return a.width=1,a.right=a.left+1,a},Fw=function(e){var n=[],a=function(g){g.height!==0&&(n.length>0&&Bw(g,n[n.length-1])||n.push(g))},i=function(g,E){var N=zl(g.ownerDocument);if(E<g.data.length){if(aE(g.data[E]))return n;if(aE(g.data[E-1])&&(N.setStart(g,E),N.setEnd(g,E+1),!$l(N)))return a(Hf(Lf(N),!1)),n}E>0&&(N.setStart(g,E-1),N.setEnd(g,E),$l(N)||a(Hf(Lf(N),!1))),E<g.data.length&&(N.setStart(g,E),N.setEnd(g,E+1),$l(N)||a(Hf(Lf(N),!0)))},s=e.container(),l=e.offset();if(Uu(s))return i(s,l),n;if(Cn(s))if(e.isAtEnd()){var v=sh(s,l);Uu(v)&&i(v,v.data.length),bm(v)&&!Pw(v)&&a(Hf(Lf(v),!1))}else{var v=sh(s,l);if(Uu(v)&&i(v,0),bm(v)&&e.isAtEnd())return a(Hf(Lf(v),!1)),n;var m=sh(e.container(),e.offset()-1);bm(m)&&!Pw(m)&&(pi(m)||pi(v)||!bm(v))&&a(Hf(Lf(m),!1)),bm(v)&&a(Hf(Lf(v),!0))}return n},Et=function(e,n,a){var i=function(){return Uu(e),n===0},s=function(){return Uu(e)?n>=e.data.length:n>=e.childNodes.length},l=function(){var N=zl(e.ownerDocument);return N.setStart(e,n),N.setEnd(e,n),N},v=function(){return a||(a=Fw(Et(e,n))),a},m=function(){return v().length>0},g=function(N){return N&&e===N.container()&&n===N.offset()},E=function(N){return sh(e,N?n-1:n)};return{container:xe(e),offset:xe(n),toRange:l,getClientRects:v,isVisible:m,isAtStart:i,isAtEnd:s,isEqual:g,getNode:E}};Et.fromRangeStart=function(e){return Et(e.startContainer,e.startOffset)},Et.fromRangeEnd=function(e){return Et(e.endContainer,e.endOffset)},Et.after=function(e){return Et(e.parentNode,iE(e)+1)},Et.before=function(e){return Et(e.parentNode,iE(e))},Et.isAbove=function(e,n){return su(Xt(n.getClientRects()),yn(e.getClientRects()),hm).getOr(!1)},Et.isBelow=function(e,n){return su(yn(n.getClientRects()),Xt(e.getClientRects()),pm).getOr(!1)},Et.isAtStart=function(e){return e?e.isAtStart():!1},Et.isAtEnd=function(e){return e?e.isAtEnd():!1},Et.isTextPosition=function(e){return e?Wn(e.container()):!1},Et.isElementPosition=function(e){return Et.isTextPosition(e)===!1};var lh=function(e,n){Wn(n)&&n.data.length===0&&e.remove(n)},Iw=function(e,n,a){n.insertNode(a),lh(e,a.previousSibling),lh(e,a.nextSibling)},dB=function(e,n,a){var i=X.from(a.firstChild),s=X.from(a.lastChild);n.insertNode(a),i.each(function(l){return lh(e,l.previousSibling)}),s.each(function(l){return lh(e,l.nextSibling)})},S1=function(e,n,a){jr(a)?dB(e,n,a):Iw(e,n,a)},Hl=Wn,sE=Kc,lE=uo.nodeIndex,cE=function(e){var n=e.parentNode;return sE(n)?cE(n):n},zw=function(e){return e?po(e.childNodes,function(n,a){return sE(a)&&a.nodeName!=="BR"?n=n.concat(zw(a)):n.push(a),n},[]):[]},$w=function(e,n){for(;(e=e.previousSibling)&&Hl(e);)n+=e.data.length;return n},fE=function(e){return function(n){return e===n}},vE=function(e){var n,a;n=zw(cE(e)),a=zr(n,fE(e),e),n=n.slice(0,a+1);var i=po(n,function(s,l,v){return Hl(l)&&Hl(n[v-1])&&s++,s},0);return n=Qa(n,Cs([e.nodeName])),a=zr(n,fE(e),e),a-i},dE=function(e){var n;return Hl(e)?n="text()":n=e.nodeName.toLowerCase(),n+"["+vE(e)+"]"},k1=function(e,n,a){var i=[];for(n=n.parentNode;n!==e;n=n.parentNode)i.push(n);return i},mE=function(e,n){var a,i,s=[],l,v,m;return a=n.container(),i=n.offset(),Hl(a)?l=$w(a,i):(v=a.childNodes,i>=v.length?(l="after",i=v.length-1):l="before",a=v[i]),s.push(dE(a)),m=k1(e,a),m=Qa(m,er(Kc)),s=s.concat(xo(m,function(g){return dE(g)})),s.reverse().join("/")+","+l},mB=function(e,n,a){var i=zw(e);return i=Qa(i,function(s,l){return!Hl(s)||!Hl(i[l-1])}),i=Qa(i,Cs([n])),i[a]},gB=function(e,n){for(var a=e,i=0,s;Hl(a);){if(s=a.data.length,n>=i&&n<=i+s){e=a,n=n-i;break}if(!Hl(a.nextSibling)){e=a,n=s;break}i+=s,a=a.nextSibling}return Hl(e)&&n>e.data.length&&(n=e.data.length),Et(e,n)},gE=function(e,n){var a;if(!n)return null;var i=n.split(","),s=i[0].split("/");a=i.length>1?i[1]:"before";var l=po(s,function(v,m){var g=/([\w\-\(\)]+)\[([0-9]+)\]/.exec(m);return g?(g[1]==="text()"&&(g[1]="#text"),mB(v,g[1],parseInt(g[2],10))):null},e);return l?Hl(l)?gB(l,parseInt(a,10)):(a==="after"?a=lE(l)+1:a=lE(l),Et(l.parentNode,a)):null},E1=so,Lw=function(e,n,a){var i,s;for(s=e(n.data.slice(0,a)).length,i=n.previousSibling;i&&Wn(i);i=i.previousSibling)s+=e(i.data).length;return s},Hw=function(e,n,a,i,s){var l=i[s?"startContainer":"endContainer"],v=i[s?"startOffset":"endOffset"],m=[],g,E=0,N=e.getRoot();for(Wn(l)?m.push(a?Lw(n,l,v):v):(g=l.childNodes,v>=g.length&&g.length&&(E=1,v=Math.max(0,g.length-1)),m.push(e.nodeIndex(g[v],a)+E));l&&l!==N;l=l.parentNode)m.push(e.nodeIndex(l,a));return m},ym=function(e,n,a,i){var s=n.dom,l={};return l.start=Hw(s,e,a,i,!0),n.isCollapsed()||(l.end=Hw(s,e,a,i,!1)),gc(i)&&(l.isFakeCaret=!0),l},Vw=function(e,n,a){var i=0;return Tt.each(e.select(n),function(s){if(s.getAttribute("data-mce-bogus")!=="all"){if(s===a)return!1;i++}}),i},Bo=function(e,n){var a,i,s,l=n?"start":"end";a=e[l+"Container"],i=e[l+"Offset"],Br(a)&&a.nodeName==="TR"&&(s=a.childNodes,a=s[Math.min(n?i:i-1,s.length-1)],a&&(i=n?0:a.childNodes.length,e["set"+(n?"Start":"End")](a,i)))},Uw=function(e){return Bo(e,!0),Bo(e,!1),e},jo=function(e,n){var a;if(Br(e)&&(e=wc(e,n),E1(e)))return e;if(Gs(e)&&(Wn(e)&&Ao(e)&&(e=e.parentNode),a=e.previousSibling,E1(a)||(a=e.nextSibling,E1(a))))return a},T1=function(e){return jo(e.startContainer,e.startOffset)||jo(e.endContainer,e.endOffset)},Ww=function(e,n,a){var i=a.getNode(),s=i?i.nodeName:null,l=a.getRng();if(E1(i)||s==="IMG")return{name:s,index:Vw(a.dom,s,i)};var v=T1(l);return v?(s=v.tagName,{name:s,index:Vw(a.dom,s,v)}):ym(e,a,n,l)},hE=function(e){var n=e.getRng();return{start:mE(e.dom.getRoot(),Et.fromRangeStart(n)),end:mE(e.dom.getRoot(),Et.fromRangeEnd(n))}},A1=function(e){return{rng:e.getRng()}},pE=function(e,n,a){var i={"data-mce-type":"bookmark",id:n,style:"overflow:hidden;line-height:0px"};return a?e.create("span",i,"&#xFEFF;"):e.create("span",i)},bE=function(e,n){var a=e.dom,i=e.getRng(),s=a.uniqueId(),l=e.isCollapsed(),v=e.getNode(),m=v.nodeName;if(m==="IMG")return{name:m,index:Vw(a,m,v)};var g=Uw(i.cloneRange());if(!l){g.collapse(!1);var E=pE(a,s+"_end",n);S1(a,g,E)}i=Uw(i),i.collapse(!0);var N=pE(a,s+"_start",n);return S1(a,i,N),e.moveToBookmark({id:s,keep:!0}),{id:s}},hB=function(e,n,a){return n===2?Ww(ts,a,e):n===3?hE(e):n?A1(e):bE(e,!1)},yE=bt(Ww,ct,!0),pB=uo.DOM,bB="font-family font-size font-weight font-style text-decoration text-transform color background-color border border-radius outline text-shadow",wE=function(e,n,a){var i=e.getParam(n,a);if(i.indexOf("=")!==-1){var s=e.getParam(n,"","hash");return Ar(s,e.id).getOr(a)}else return i},yB=function(e){return e.getParam("iframe_attrs",{})},wB=function(e){return e.getParam("doctype","<!DOCTYPE html>")},CB=function(e){return e.getParam("document_base_url","")},xB=function(e){return wE(e,"body_id","tinymce")},SB=function(e){return wE(e,"body_class","")},CE=function(e){return e.getParam("content_security_policy","")},kB=function(e){return e.getParam("br_in_pre",!0)},Ji=function(e){if(e.getParam("force_p_newlines",!1))return"p";var n=e.getParam("forced_root_block","p");return n===!1?"":n===!0?"p":n},ch=function(e){return e.getParam("forced_root_block_attrs",{})},fh=function(e){return e.getParam("br_newline_selector",".mce-toc h2,figcaption,caption")},xE=function(e){return e.getParam("no_newline_selector","")},EB=function(e){return e.getParam("keep_styles",!0)},TB=function(e){return e.getParam("end_container_on_empty_block",!1)},AB=function(e){return Tt.explode(e.getParam("font_size_style_values","xx-small,x-small,small,medium,large,x-large,xx-large"))},wm=function(e){return Tt.explode(e.getParam("font_size_classes",""))},O1=function(e){return e.getParam("images_dataimg_filter",Rn,"function")},vh=function(e){return e.getParam("automatic_uploads",!0,"boolean")},jw=function(e){return e.getParam("images_reuse_filename",!1,"boolean")},OB=function(e){return e.getParam("images_replace_blob_uris",!0,"boolean")},Cc=function(e){return e.getParam("icons","","string")},qw=function(e){return e.getParam("icons_url","","string")},DB=function(e){return e.getParam("images_upload_url","","string")},Vf=function(e){return e.getParam("images_upload_base_path","","string")},D1=function(e){return e.getParam("images_upload_credentials",!1,"boolean")},_B=function(e){return e.getParam("images_upload_handler",null,"function")},MB=function(e){return e.getParam("content_css_cors",!1,"boolean")},SE=function(e){return e.getParam("referrer_policy","","string")},kE=function(e){return e.getParam("language","en","string")},EE=function(e){return e.getParam("language_url","","string")},TE=function(e){return e.getParam("indent_use_margin",!1)},BB=function(e){return e.getParam("indentation","40px","string")},AE=function(e){var n=e.getParam("content_css");return Ae(n)?zt(n.split(","),me):Ve(n)?n:n===!1||e.inline?[]:["default"]},OE=function(e){var n=e.getParam("font_css",[]);return Ve(n)?n:zt(n.split(","),me)},DE=function(e){return e.getParam("directionality",Su.isRtl()?"rtl":void 0)},PB=function(e){return e.getParam("inline_boundaries_selector","a[href],code,.mce-annotation","string")},_E=function(e){var n=e.getParam("object_resizing");return n===!1||an.iOS?!1:Ae(n)?n:"table,img,figure.image,div,video,iframe"},RB=function(e){return e.getParam("resize_img_proportional",!0,"boolean")},ME=function(e){return e.getParam("placeholder",pB.getAttrib(e.getElement(),"placeholder"),"string")},Gw=function(e){return e.getParam("event_root")},BE=function(e){return e.getParam("service_message")},dh=function(e){return e.getParam("theme")},NB=function(e){return e.getParam("validate")},mh=function(e){return e.getParam("inline_boundaries")!==!1},FB=function(e){return e.getParam("formats")},IB=function(e){var n=e.getParam("preview_styles",bB);return Ae(n)?n:""},Kw=function(e){return e.getParam("format_empty_lines",!1,"boolean")},Xw=function(e){return e.getParam("custom_ui_selector","","string")},zB=function(e){return e.getParam("theme_url")},$B=function(e){return e.getParam("inline")},LB=function(e){return e.getParam("hidden_input")},HB=function(e){return e.getParam("submit_patch")},VB=function(e){return e.getParam("encoding")==="xml"},UB=function(e){return e.getParam("add_form_submit_trigger")},_1=function(e){return e.getParam("add_unload_trigger")},WB=function(e){return Ji(e)!==""},jB=function(e){return e.getParam("custom_undo_redo_levels",0,"number")},qB=function(e){return e.getParam("disable_nodechange")},GB=function(e){return e.getParam("readonly")},KB=function(e){return e.getParam("content_css_cors")},Yw=function(e){return e.getParam("plugins","","string")},XB=function(e){return e.getParam("external_plugins")},gh=function(e){return e.getParam("block_unsupported_drop",!0,"boolean")},YB=function(e){return e.getParam("visual",!0,"boolean")},ZB=function(e){return e.getParam("visual_table_class","mce-item-table","string")},PE=function(e){return e.getParam("visual_anchor_class","mce-item-anchor","string")},RE=function(e){return e.getParam("iframe_aria_text","Rich Text Area. Press ALT-0 for help.","string")},NE=Br,FE=Wn,IE=function(e){var n=e.parentNode;n&&n.removeChild(e)},Cm=function(e){var n=ts(e);return{count:e.length-n.length,text:n}},Zw=function(e){for(var n;(n=e.data.lastIndexOf($e))!==-1;)e.deleteData(n,1)},zE=function(e,n){return Lv(e),n},JB=function(e,n){var a=Cm(e.data.substr(0,n.offset())),i=Cm(e.data.substr(n.offset())),s=a.text+i.text;return s.length>0?(Zw(e),Et(e,n.offset()-a.count)):n},QB=function(e,n){var a=n.container(),i=Ue(Jt(a.childNodes),e).map(function(s){return s<n.offset()?Et(a,n.offset()-1):n}).getOr(n);return Lv(e),i},$E=function(e,n){return FE(e)&&n.container()===e?JB(e,n):zE(e,n)},eP=function(e,n){return n.container()===e.parentNode?QB(e,n):zE(e,n)},LE=function(e,n){return Et.isTextPosition(n)?$E(e,n):eP(e,n)},Lv=function(e){NE(e)&&Gs(e)&&(Xg(e)?e.removeAttribute("data-mce-caret"):IE(e)),FE(e)&&(Zw(e),e.data.length===0&&IE(e))},M1=Dn().browser,tP=so,nP=zu,rP=Wd,aP="*[contentEditable=false],video,audio,embed,object",HE=function(e,n,a){var i=Mw(n.getBoundingClientRect(),a),s,l;if(e.tagName==="BODY"){var v=e.ownerDocument.documentElement;s=e.scrollLeft||v.scrollLeft,l=e.scrollTop||v.scrollTop}else{var m=e.getBoundingClientRect();s=e.scrollLeft-m.left,l=e.scrollTop-m.top}i.left+=s,i.right+=s,i.top+=l,i.bottom+=l,i.width=1;var g=n.offsetWidth-n.clientWidth;return g>0&&(a&&(g*=-1),i.left+=g,i.right+=g),i},oP=function(e){for(var n=zi(w.fromDom(e),aP),a=0;a<n.length;a++){var i=n[a].dom,s=i.previousSibling;if(Kp(s)){var l=s.data;l.length===1?s.parentNode.removeChild(s):s.deleteData(l.length-1,1)}if(s=i.nextSibling,Gp(s)){var l=s.data;l.length===1?s.parentNode.removeChild(s):s.deleteData(0,1)}}},Eu=function(e,n,a,i){var s=zv(),l,v,m=Ji(e),g=m.length>0?m:"p",E=function(re,ie){var we;if(N(),rP(ie))return null;if(a(ie)){v=EM(g,ie,re);var ge=HE(n,ie,re);Vr(v).css("top",ge.top);var Je=Vr('<div class="mce-visual-caret" data-mce-bogus="all"></div>').css(Gn({},ge)).appendTo(n)[0];s.set({caret:Je,element:ie,before:re}),re&&Vr(Je).addClass("mce-visual-caret-before"),F(),we=ie.ownerDocument.createRange(),we.setStart(v,0),we.setEnd(v,0)}else return v=Hy(ie,re),we=ie.ownerDocument.createRange(),hh(v.nextSibling)?(we.setStart(v,0),we.setEnd(v,0)):(we.setStart(v,1),we.setEnd(v,1)),we;return we},N=function(){oP(n),v&&(Lv(v),v=null),s.on(function(re){Vr(re.caret).remove(),s.clear()}),l&&(Gi.clearInterval(l),l=void 0)},F=function(){l=Gi.setInterval(function(){i()?Vr("div.mce-visual-caret",n).toggleClass("mce-visual-caret-hidden"):Vr("div.mce-visual-caret",n).addClass("mce-visual-caret-hidden")},500)},$=function(){s.on(function(re){var ie=HE(n,re.element,re.before);Vr(re.caret).css(Gn({},ie))})},ee=function(){return Gi.clearInterval(l)},ne=function(){return".mce-visual-caret {position: absolute;background-color: black;background-color: currentcolor;}.mce-visual-caret-hidden {display: none;}*[data-mce-caret] {position: absolute;left: -1000px;right: auto;top: 0;margin: 0;padding: 0;}"};return{show:E,hide:N,getCss:ne,reposition:$,destroy:ee}},VE=function(){return M1.isIE()||M1.isEdge()||M1.isFirefox()},hh=function(e){return tP(e)||nP(e)},Hv=function(e){return hh(e)||gi(e)&&VE()},B1=so,iP=zu,uP=Vd("display","block table table-cell table-caption list-item"),Jw=Gs,UE=Ao,ph=Br,sP=hc,Vv=function(e){return e>0},Uf=function(e){return e<0},P1=function(e,n){for(var a;a=e(n);)if(!UE(a))return a;return null},xm=function(e,n,a,i,s){var l=new Wa(e,i),v=B1(e)||UE(e);if(Uf(n)){if(v&&(e=P1(l.prev.bind(l),!0),a(e)))return e;for(;e=P1(l.prev.bind(l),s);)if(a(e))return e}if(Vv(n)){if(v&&(e=P1(l.next.bind(l),!0),a(e)))return e;for(;e=P1(l.next.bind(l),s);)if(a(e))return e}return null},Vl=function(e,n){for(;e&&e!==n;){if(uP(e))return e;e=e.parentNode}return null},Ul=function(e,n,a){return Vl(e.container(),a)===Vl(n.container(),a)},R1=function(e,n){if(!n)return null;var a=n.container(),i=n.offset();return ph(a)?a.childNodes[i+e]:null},Qw=function(e,n){var a=n.ownerDocument.createRange();return e?(a.setStartBefore(n),a.setEndBefore(n)):(a.setStartAfter(n),a.setEndAfter(n)),a},WE=function(e,n,a){return Vl(n,e)===Vl(a,e)},e2=function(e,n,a){for(var i=e?"previousSibling":"nextSibling";a&&a!==n;){var s=a[i];if(Jw(s)&&(s=s[i]),B1(s)||iP(s)){if(WE(n,s,a))return s;break}if(sP(s))break;a=a.parentNode}return null},Sm=bt(Qw,!0),km=bt(Qw,!1),N1=function(e,n,a){var i,s=bt(e2,!0,n),l=bt(e2,!1,n),v=a.startContainer,m=a.startOffset;if(Ao(v)){ph(v)||(v=v.parentNode);var g=v.getAttribute("data-mce-caret");if(g==="before"&&(i=v.nextSibling,Hv(i)))return Sm(i);if(g==="after"&&(i=v.previousSibling,Hv(i)))return km(i)}if(!a.collapsed)return a;if(Wn(v)){if(Jw(v)){if(e===1){if(i=l(v),i)return Sm(i);if(i=s(v),i)return km(i)}if(e===-1){if(i=s(v),i)return km(i);if(i=l(v),i)return Sm(i)}return a}if(Kp(v)&&m>=v.data.length-1)return e===1&&(i=l(v),i)?Sm(i):a;if(Gp(v)&&m<=1)return e===-1&&(i=s(v),i)?km(i):a;if(m===v.data.length)return i=l(v),i?Sm(i):a;if(m===0)return i=s(v),i?km(i):a}return a},t2=function(e,n){return X.from(R1(e?0:-1,n)).filter(B1)},Em=function(e,n,a){var i=N1(e,n,a);return e===-1?Et.fromRangeStart(i):Et.fromRangeEnd(i)},F1=function(e){return X.from(e.getNode()).map(w.fromDom)},lP=function(e){return X.from(e.getNode(!0)).map(w.fromDom)},n2=function(e,n){for(;n=e(n);)if(n.isVisible())return n;return n},I1=function(e,n){var a=Ul(e,n);return!a&&za(e.getNode())?!0:a},$i;(function(e){e[e.Backwards=-1]="Backwards",e[e.Forwards=1]="Forwards"})($i||($i={}));var cP=so,xc=Wn,jE=Br,r2=za,Tm=hc,a2=BM,bh=ni,fP=function(e,n){for(var a=[];e&&e!==n;)a.push(e),e=e.parentNode;return a},qE=function(e,n){return e.hasChildNodes()&&n<e.childNodes.length?e.childNodes[n]:null},GE=function(e,n){if(Vv(e)){if(Tm(n.previousSibling)&&!xc(n.previousSibling))return Et.before(n);if(xc(n))return Et(n,0)}if(Uf(e)){if(Tm(n.nextSibling)&&!xc(n.nextSibling))return Et.after(n);if(xc(n))return Et(n,n.data.length)}return Uf(e)?r2(n)?Et.before(n):Et.after(n):Et.before(n)},vP=function(e,n){var a=n.nextSibling;return a&&Tm(a)?xc(a)?Et(a,0):Et.before(a):o2($i.Forwards,Et.after(n),e)},o2=function(e,n,a){var i,s,l,v;if(!jE(a)||!n)return null;if(n.isEqual(Et.after(a))&&a.lastChild){if(v=Et.after(a.lastChild),Uf(e)&&Tm(a.lastChild)&&jE(a.lastChild))return r2(a.lastChild)?Et.before(a.lastChild):v}else v=n;var m=v.container(),g=v.offset();if(xc(m)){if(Uf(e)&&g>0)return Et(m,--g);if(Vv(e)&&g<m.length)return Et(m,++g);i=m}else{if(Uf(e)&&g>0&&(s=qE(m,g-1),Tm(s)))return!a2(s)&&(l=xm(s,e,bh,s),l)?xc(l)?Et(l,l.data.length):Et.after(l):xc(s)?Et(s,s.data.length):Et.before(s);if(Vv(e)&&g<m.childNodes.length&&(s=qE(m,g),Tm(s)))return r2(s)?vP(a,s):!a2(s)&&(l=xm(s,e,bh,s),l)?xc(l)?Et(l,0):Et.before(l):xc(s)?Et(s,0):Et.after(s);i=s||v.getNode()}if((Vv(e)&&v.isAtEnd()||Uf(e)&&v.isAtStart())&&(i=xm(i,e,Rn,a,!0),bh(i,a)))return GE(e,i);s=xm(i,e,bh,a);var E=bo(Ce(fP(m,a),cP));return E&&(!s||!E.contains(s))?(Vv(e)?v=Et.after(E):v=Et.before(E),v):s?GE(e,s):null},Po=function(e){return{next:function(n){return o2($i.Forwards,n,e)},prev:function(n){return o2($i.Backwards,n,e)}}},z1=function(e,n,a){var i=e?Et.before(a):Et.after(a);return _s(e,n,i)},$1=function(e){return za(e)?Et.before(e):Et.after(e)},i2=function(e){return Et.isTextPosition(e)?e.offset()===0:hc(e.getNode())},KE=function(e){if(Et.isTextPosition(e)){var n=e.container();return e.offset()===n.data.length}else return hc(e.getNode(!0))},u2=function(e,n){return!Et.isTextPosition(e)&&!Et.isTextPosition(n)&&e.getNode()===n.getNode(!0)},Uv=function(e){return!Et.isTextPosition(e)&&za(e.getNode())},XE=function(e,n,a){return e?!u2(n,a)&&!Uv(n)&&KE(n)&&i2(a):!u2(a,n)&&i2(n)&&KE(a)},_s=function(e,n,a){var i=Po(n);return X.from(e?i.next(a):i.prev(a))},Sc=function(e,n,a){return _s(e,n,a).bind(function(i){return Ul(a,i,n)&&XE(e,a,i)?_s(e,n,i):X.some(i)})},s2=function(e,n,a,i){return Sc(e,n,a).bind(function(s){return i(s)?s2(e,n,s,i):X.some(s)})},Wf=function(e,n){var a=e?n.firstChild:n.lastChild;return Wn(a)?X.some(Et(a,e?0:a.data.length)):a?hc(a)?X.some(e?Et.before(a):$1(a)):z1(e,n,a):X.none()},Wl=bt(_s,!0),jl=bt(_s,!1),Tu=bt(Wf,!0),ql=bt(Wf,!1),l2="_mce_caret",kc=function(e){return Br(e)&&e.id===l2},Wv=function(e,n){for(;n&&n!==e;){if(n.id===l2)return n;n=n.parentNode}return null},YE=function(e){return Ae(e.start)},ZE=function(e){return xr(e,"rng")},dP=function(e){return xr(e,"id")},mP=function(e){return xr(e,"name")},JE=function(e){return Tt.isArray(e.start)},QE=function(e,n){return Br(n)&&e.isBlock(n)&&!n.innerHTML&&!an.ie&&(n.innerHTML='<br data-mce-bogus="1" />'),n},eT=function(e,n){var a,i=e.createRng();return a=gE(e.getRoot(),n.start),i.setStart(a.container(),a.offset()),a=gE(e.getRoot(),n.end),i.setEnd(a.container(),a.offset()),i},gP=function(e,n){var a=e.ownerDocument.createTextNode($e);e.appendChild(a),n.setStart(a,0),n.setEnd(a,0)},tT=function(e){return e.hasChildNodes()===!1},hP=function(e,n){return ql(e).fold(Kt,function(a){return n.setStart(a.container(),a.offset()),n.setEnd(a.container(),a.offset()),!0})},nT=function(e,n,a){return tT(n)&&Wv(e,n)?(gP(n,a),!0):!1},rT=function(e,n,a,i){var s=a[n?"start":"end"],l,v,m,g,E=e.getRoot();if(s){for(m=s[0],v=E,l=s.length-1;l>=1;l--){if(g=v.childNodes,nT(E,v,i))return!0;if(s[l]>g.length-1)return nT(E,v,i)?!0:hP(v,i);v=g[s[l]]}v.nodeType===3&&(m=Math.min(s[0],v.nodeValue.length)),v.nodeType===1&&(m=Math.min(s[0],v.childNodes.length)),n?i.setStart(v,m):i.setEnd(v,m)}return!0},c2=function(e){return Wn(e)&&e.data.length>0},aT=function(e,n,a){var i=e.get(a.id+"_"+n),s,l,v,m,g=a.keep,E,N;if(i){if(s=i.parentNode,n==="start"?(g?i.hasChildNodes()?(s=i.firstChild,l=1):c2(i.nextSibling)?(s=i.nextSibling,l=0):c2(i.previousSibling)?(s=i.previousSibling,l=i.previousSibling.data.length):(s=i.parentNode,l=e.nodeIndex(i)+1):l=e.nodeIndex(i),E=s,N=l):(g?i.hasChildNodes()?(s=i.firstChild,l=1):c2(i.previousSibling)?(s=i.previousSibling,l=i.previousSibling.data.length):(s=i.parentNode,l=e.nodeIndex(i)):l=e.nodeIndex(i),E=s,N=l),!g){for(m=i.previousSibling,v=i.nextSibling,Tt.each(Tt.grep(i.childNodes),function(F){Wn(F)&&(F.nodeValue=F.nodeValue.replace(/\uFEFF/g,""))});i=e.get(a.id+"_"+n);)e.remove(i,!0);m&&v&&m.nodeType===v.nodeType&&Wn(m)&&!an.opera&&(l=m.nodeValue.length,m.appendData(v.nodeValue),e.remove(v),E=m,N=l)}return X.some(Et(E,N))}else return X.none()},pP=function(e,n){var a=e.createRng();return rT(e,!0,n,a)&&rT(e,!1,n,a)?X.some(a):X.none()},ra=function(e,n){var a=aT(e,"start",n),i=aT(e,"end",n);return su(a,i.or(a),function(s,l){var v=e.createRng();return v.setStart(QE(e,s.container()),s.offset()),v.setEnd(QE(e,l.container()),l.offset()),v})},jv=function(e,n){return X.from(e.select(n.name)[n.index]).map(function(a){var i=e.createRng();return i.selectNode(a),i})},Am=function(e,n){var a=e.dom;if(n){if(JE(n))return pP(a,n);if(YE(n))return X.some(eT(a,n));if(dP(n))return ra(a,n);if(mP(n))return jv(a,n);if(ZE(n))return X.some(n.rng)}return X.none()},f2=function(e,n,a){return hB(e,n,a)},bP=function(e,n){Am(e,n).each(function(a){e.setRng(a)})},os=function(e){return Br(e)&&e.tagName==="SPAN"&&e.getAttribute("data-mce-type")==="bookmark"},yP=function(e){return function(n){return e===n}},qv=yP(Qu),jf=function(e){return e!==""&&` \f
\r	\v`.indexOf(e)!==-1},L1=function(e){return!jf(e)&&!qv(e)},H1=function(e){return!!e.nodeType},wP=function(e){return e&&/^(IMG)$/.test(e.nodeName)},oT=function(e,n,a){var i=a.startOffset,s=a.startContainer;if(!(s===a.endContainer&&wP(s.childNodes[i]))&&Br(s)){var l=s.childNodes,v=void 0;i<l.length?(s=l[i],v=new Wa(s,e.getParent(s,e.isBlock))):(s=l[l.length-1],v=new Wa(s,e.getParent(s,e.isBlock)),v.next(!0));for(var m=v.current();m;m=v.next())if(Wn(m)&&!V1(m)){a.setStart(m,0),n.setRng(a);return}}},v2=function(e,n,a){if(e){var i=n?"nextSibling":"previousSibling";for(e=a?e:e[i];e;e=e[i])if(Br(e)||!V1(e))return e}},d2=function(e,n){return H1(n)&&(n=n.nodeName),!!e.schema.getTextBlockElements()[n.toLowerCase()]},Om=function(e,n,a){return e.schema.isValidChild(n,a)},V1=function(e,n){if(n===void 0&&(n=!1),gt(e)&&Wn(e)){var a=n?e.data.replace(/ /g," "):e.data;return Ml(a)}else return!1},CP=function(e){return gt(e)&&Wn(e)&&e.length===0},Ec=function(e,n){return Se(e)?e=e(n):gt(n)&&(e=e.replace(/%(\w+)/g,function(a,i){return n[i]||a})),e},m2=function(e,n){return e=e||"",n=n||"",e=""+(e.nodeName||e),n=""+(n.nodeName||n),e.toLowerCase()===n.toLowerCase()},g2=function(e,n,a){return(a==="color"||a==="backgroundColor")&&(n=e.toHex(n)),a==="fontWeight"&&n===700&&(n="bold"),a==="fontFamily"&&(n=n.replace(/[\'\"]/g,"").replace(/,\s+/g,",")),""+n},yh=function(e,n,a){return g2(e,e.getStyle(n,a),a)},iT=function(e,n){var a;return e.getParent(n,function(i){return a=e.getStyle(i,"text-decoration"),a&&a!=="none"}),a},U1=function(e,n,a){return e.getParents(n,a,e.getRoot())},xP=function(e,n){var a=function(i){var s=function(l){return l.length>1&&l.charAt(0)==="%"};return ft(["styles","attributes"],function(l){return Ar(i,l).exists(function(v){var m=Ve(v)?v:xa(v);return ft(m,s)})})};return ft(e.formatter.get(n),a)},SP=function(e,n,a){var i=["inline","block","selector","attributes","styles","classes"],s=function(l){return Bn(l,function(v,m){return ft(i,function(g){return g===m})})};return ft(e.formatter.get(n),function(l){var v=s(l);return ft(e.formatter.get(a),function(m){var g=s(m);return Ja(v,g)})})},Tc=function(e){return ha(e,"block")},Ms=function(e){return ha(e,"selector")},Li=function(e){return ha(e,"inline")},kP=function(e){return Ms(e)&&Li(e)&&Tv(Ar(e,"mixed"),!0)},h2=function(e){return Ms(e)&&e.expand!==!1&&!Li(e)},Dm=os,uT=U1,sT=V1,EP=d2,TP=function(e){return za(e)&&e.getAttribute("data-mce-bogus")&&!e.nextSibling},_n=function(e,n){for(var a=n;a;){if(Br(a)&&e.getContentEditable(a))return e.getContentEditable(a)==="false"?a:n;a=a.parentNode}return n},ii=function(e,n,a,i){for(var s=n.data,l=a;e?l>=0:l<s.length;e?l--:l++)if(i(s.charAt(l)))return e?l+1:l;return-1},W1=function(e,n,a){return ii(e,n,a,function(i){return qv(i)||jf(i)})},Mi=function(e,n,a){return ii(e,n,a,L1)},Qs=function(e,n,a,i,s,l){var v,m=e.getParent(a,e.isBlock)||n,g=function(N,F,$){var ee=_w(e),ne=s?ee.backwards:ee.forwards;return X.from(ne(N,F,function(re,ie){return Dm(re.parentNode)?-1:(v=re,$(s,re,ie))},m))},E=g(a,i,W1);return E.bind(function(N){return l?g(N.container,N.offset+(s?-1:0),Mi):X.some(N)}).orThunk(function(){return v?X.some({container:v,offset:s?0:v.length}):X.none()})},p2=function(e,n,a,i,s){Wn(i)&&ln(i.data)&&i[s]&&(i=i[s]);for(var l=uT(e,i),v=0;v<l.length;v++)for(var m=0;m<n.length;m++){var g=n[m];if(!(gt(g.collapsed)&&g.collapsed!==a.collapsed)&&Ms(g)&&e.is(l[v],g.selector))return l[v]}return i},wh=function(e,n,a,i){var s=a,l=e.dom,v=l.getRoot(),m=n[0];if(Tc(m)&&(s=m.wrapper?null:l.getParent(a,m.block,v)),!s){var g=l.getParent(a,"LI,TD,TH");s=l.getParent(Wn(a)?a.parentNode:a,function(E){return E!==v&&EP(e,E)},g)}if(s&&Tc(m)&&m.wrapper&&(s=uT(l,s,"ul,ol").reverse()[0]||s),!s)for(s=a;s[i]&&!l.isBlock(s[i])&&(s=s[i],!m2(s,"br")););return s||a},j1=function(e,n,a,i){var s=a.parentNode;return gt(a[i])?!1:s===n||Be(s)||e.isBlock(s)?!0:j1(e,n,s,i)},q1=function(e,n,a,i,s){var l=a,v=s?"previousSibling":"nextSibling",m=e.getRoot();if(Wn(a)&&!sT(a)&&(s?i>0:i<a.data.length))return a;for(;;){if(!n[0].block_expand&&e.isBlock(l))return l;for(var g=l[v];g;g=g[v]){var E=Wn(g)&&!j1(e,m,g,v);if(!Dm(g)&&!TP(g)&&!sT(g,E))return l}if(l===m||l.parentNode===m){a=l;break}l=l.parentNode}return a},lT=function(e){return Dm(e.parentNode)||Dm(e)},Gv=function(e,n,a,i){i===void 0&&(i=!1);var s=n.startContainer,l=n.startOffset,v=n.endContainer,m=n.endOffset,g=e.dom,E=a[0];if(Br(s)&&s.hasChildNodes()&&(s=wc(s,l),Wn(s)&&(l=0)),Br(v)&&v.hasChildNodes()&&(v=wc(v,n.collapsed?m:m-1),Wn(v)&&(m=v.nodeValue.length)),s=_n(g,s),v=_n(g,v),lT(s)&&(s=Dm(s)?s:s.parentNode,n.collapsed?s=s.previousSibling||s:s=s.nextSibling||s,Wn(s)&&(l=n.collapsed?s.length:0)),lT(v)&&(v=Dm(v)?v:v.parentNode,n.collapsed?v=v.nextSibling||v:v=v.previousSibling||v,Wn(v)&&(m=n.collapsed?0:v.length)),n.collapsed){var N=Qs(g,e.getBody(),s,l,!0,i);N.each(function($){var ee=$.container,ne=$.offset;s=ee,l=ne});var F=Qs(g,e.getBody(),v,m,!1,i);F.each(function($){var ee=$.container,ne=$.offset;v=ee,m=ne})}return(Li(E)||E.block_expand)&&((!Li(E)||!Wn(s)||l===0)&&(s=q1(g,a,s,l,!0)),(!Li(E)||!Wn(v)||m===v.nodeValue.length)&&(v=q1(g,a,v,m,!1))),h2(E)&&(s=p2(g,a,n,s,"previousSibling"),v=p2(g,a,n,v,"nextSibling")),(Tc(E)||Ms(E))&&(s=wh(e,a,s,"previousSibling"),v=wh(e,a,v,"nextSibling"),Tc(E)&&(g.isBlock(s)||(s=q1(g,a,s,l,!0)),g.isBlock(v)||(v=q1(g,a,v,m,!1)))),Br(s)&&(l=g.nodeIndex(s),s=s.parentNode),Br(v)&&(m=g.nodeIndex(v)+1,v=v.parentNode),{startContainer:s,startOffset:l,endContainer:v,endOffset:m}},Ch=function(e,n,a){var i=n.startOffset,s=wc(n.startContainer,i),l=n.endOffset,v=wc(n.endContainer,l-1),m=function(re){var ie=re[0];Wn(ie)&&ie===s&&i>=ie.data.length&&re.splice(0,1);var we=re[re.length-1];return l===0&&re.length>0&&we===v&&Wn(we)&&re.splice(re.length-1,1),re},g=function(re,ie,we){for(var ge=[];re&&re!==we;re=re[ie])ge.push(re);return ge},E=function(re,ie){return e.getParent(re,function(we){return we.parentNode===ie},ie)},N=function(re,ie,we){for(var ge=we?"nextSibling":"previousSibling",Je=re,qe=Je.parentNode;Je&&Je!==ie;Je=qe){qe=Je.parentNode;var De=g(Je===re?Je:Je[ge],ge);De.length&&(we||De.reverse(),a(m(De)))}};if(s===v)return a(m([s]));var F=e.findCommonAncestor(s,v);if(e.isChildOf(s,v))return N(s,F,!0);if(e.isChildOf(v,s))return N(v,F);var $=E(s,F)||s,ee=E(v,F)||v;N(s,$,!0);var ne=g($===s?$:$.nextSibling,"nextSibling",ee===v?ee.nextSibling:ee);ne.length&&a(m(ne)),N(v,ee)},b2=function(e){var n=[];if(e)for(var a=0;a<e.rangeCount;a++)n.push(e.getRangeAt(a));return n},AP=function(e){return Xr(e,function(n){var a=x1(n);return a?[w.fromDom(a)]:[]})},cT=function(e){return b2(e).length>1},OP=function(e){return Ce(AP(e),_l)},fT=function(e){return zi(e,"td[data-mce-selected],th[data-mce-selected]")},xh=function(e,n){var a=fT(n);return a.length>0?a:OP(e)},ef=function(e){return xh(b2(e.selection.getSel()),w.fromDom(e.getBody()))},Kv=function(e,n){return Av(e,"table",n)},G1=function(e){var n=e.startContainer,a=e.startOffset;return Wn(n)?a===0?X.some(w.fromDom(n)):X.none():X.from(n.childNodes[a]).map(w.fromDom)},y2=function(e){var n=e.endContainer,a=e.endOffset;return Wn(n)?a===n.data.length?X.some(w.fromDom(n)):X.none():X.from(n.childNodes[a-1]).map(w.fromDom)},vT=function(e){return ti(e).fold(xe([e]),function(n){return[e].concat(vT(n))})},_m=function(e){return bs(e).fold(xe([e]),function(n){return Sa(n)==="br"?Lc(n).map(function(a){return[e].concat(_m(a))}).getOr([]):[e].concat(_m(n))})},Mm=function(e,n){return su(G1(n),y2(n),function(a,i){var s=Hn(vT(e),bt(Sr,a)),l=Hn(_m(e),bt(Sr,i));return s.isSome()&&l.isSome()}).getOr(!1)},w2=function(e,n,a,i){var s=a,l=new Wa(a,s),v=Bn(e.schema.getMoveCaretBeforeOnEnterElements(),function(m,g){return!We(["td","th","table"],g.toLowerCase())});do{if(Wn(a)&&Tt.trim(a.nodeValue).length!==0){i?n.setStart(a,0):n.setEnd(a,a.nodeValue.length);return}if(v[a.nodeName]){i?n.setStartBefore(a):a.nodeName==="BR"?n.setEndBefore(a):n.setEndAfter(a);return}}while(a=i?l.next():l.prev());s.nodeName==="BODY"&&(i?n.setStart(s,0):n.setEnd(s,s.childNodes.length))},K1=function(e){var n=e.selection.getSel();return n&&n.rangeCount>0},C2=function(e,n){var a=ef(e);a.length>0?vt(a,function(i){var s=i.dom,l=e.dom.createRng();l.setStartBefore(s),l.setEndAfter(s),n(l,!0)}):n(e.selection.getRng(),!1)},x2=function(e,n,a){var i=bE(e,n);a(i),e.moveToBookmark(i)},dT=function(e,n){var a=function(l){if(!e(l))throw new Error("Can only get "+n+" value of a "+n+" node");return i(l).getOr("")},i=function(l){return e(l)?X.from(l.dom.nodeValue):X.none()},s=function(l,v){if(!e(l))throw new Error("Can only set raw "+n+" value of a "+n+" node");l.dom.nodeValue=v};return{get:a,getOption:i,set:s}},mT=dT(Ho,"text"),S2=function(e){return mT.get(e)},X1=function(e){return Ho(e)&&S2(e)===$e},Qi=function(e,n,a,i){return Fo(n).fold(function(){return"skipping"},function(s){return i==="br"||X1(n)?"valid":zf(n)?"existing":kc(n.dom)?"caret":!Om(e,a,i)||!Om(e,Sa(s),a)?"invalid-child":"valid"})},fl=function(e,n){var a=Gv(e,n,[{inline:"span"}]);n.setStart(a.startContainer,a.startOffset),n.setEnd(a.endContainer,a.endOffset),e.selection.setRng(n)},vl=function(e,n,a,i){var s=n.uid,l=s===void 0?nE("mce-annotation"):s,v=vi(n,["uid"]),m=w.fromTag("span",e);gm(m,as()),k(m,""+oi(),l),k(m,""+uh(),a);var g=i(l,v),E=g.attributes,N=E===void 0?{}:E,F=g.classes,$=F===void 0?[]:F;return I(m,N),oB(m,$),m},Y1=function(e,n,a,i,s){var l=[],v=vl(e.getDoc(),s,a,i),m=zv(),g=function(){m.clear()},E=function(){return m.get().getOrThunk(function(){var ee=Ko(v);return l.push(ee),m.set(ee),ee})},N=function(ee){vt(ee,F)},F=function(ee){var ne=Qi(e,ee,"span",Sa(ee));switch(ne){case"invalid-child":{g();var re=pu(ee);N(re),g();break}case"valid":{var ie=E();Fd(ee,ie);break}}},$=function(ee){var ne=zt(ee,w.fromDom);N(ne)};return Ch(e.dom,n,function(ee){g(),$(ee)}),l},k2=function(e,n,a,i){e.undoManager.transact(function(){var s=e.selection,l=s.getRng(),v=ef(e).length>0;if(l.collapsed&&!v&&fl(e,l),s.getRng().collapsed&&!v){var m=vl(e.getDoc(),i,n,a.decorate);ku(m,Qu),s.getRng().insertNode(m.dom),s.select(m.dom)}else x2(s,!1,function(){C2(e,function(g){Y1(e,g,n,a.decorate,i)})})})},gT=function(e){var n=Ow();Aw(e,n);var a=tE(e);return{register:function(i,s){n.register(i,s)},annotate:function(i,s){n.lookup(i).each(function(l){k2(e,i,l,s)})},annotationChanged:function(i,s){a.addListener(i,s)},remove:function(i){Jk(e,X.some(i)).each(function(s){var l=s.elements;vt(l,zd)})},getAll:function(i){var s=eE(e,i);return Ln(s,function(l){return zt(l,function(v){return v.dom})})}}},Xv=function(e){return{getBookmark:bt(f2,e),moveToBookmark:bt(bP,e)}};Xv.isBookmarkNode=os;var Bm=function(e,n){for(;n&&n!==e;){if(ul(n)||so(n))return n;n=n.parentNode}return null},Sh=function(e,n,a){if(a.collapsed)return!1;if(an.browser.isIE()&&a.startOffset===a.endOffset-1&&a.startContainer===a.endContainer){var i=a.startContainer.childNodes[a.startOffset];if(Br(i))return ft(i.getClientRects(),function(s){return rE(s,e,n)})}return ft(a.getClientRects(),function(s){return rE(s,e,n)})},DP=function(e,n){return e.fire("PreProcess",n)},E2=function(e,n){return e.fire("PostProcess",n)},hT=function(e){return e.fire("remove")},pT=function(e){return e.fire("detach")},T2=function(e,n){return e.fire("SwitchMode",{mode:n})},A2=function(e,n,a,i,s){e.fire("ObjectResizeStart",{target:n,width:a,height:i,origin:s})},La=function(e,n,a,i,s){e.fire("ObjectResized",{target:n,width:a,height:i,origin:s})},Ac=function(e){return e.fire("PreInit")},bT=function(e){return e.fire("PostRender")},yT=function(e){return e.fire("Init")},wT=function(e,n){return e.fire("PlaceholderToggle",{state:n})},Z1=function(e,n,a){return e.fire(n,a)},O2=function(e,n,a,i){return e.fire("FormatApply",{format:n,node:a,vars:i})},kh=function(e,n,a,i){return e.fire("FormatRemove",{format:n,node:a,vars:i})},kr={BACKSPACE:8,DELETE:46,DOWN:40,ENTER:13,ESC:27,LEFT:37,RIGHT:39,SPACEBAR:32,TAB:9,UP:38,PAGE_UP:33,PAGE_DOWN:34,END:35,HOME:36,modifierPressed:function(e){return e.shiftKey||e.ctrlKey||e.altKey||kr.metaKeyPressed(e)},metaKeyPressed:function(e){return an.mac?e.metaKey:e.ctrlKey&&!e.altKey}},_P=so,D2=function(e,n){var a="data-mce-selected",i=n.dom,s=Tt.each,l,v,m,g,E,N,F,$,ee,ne,re,ie,we,ge,Je,qe=n.getDoc(),De=document,nt=Math.abs,Rt=Math.round,en=n.getBody(),yr,Fn,Ft={nw:[0,0,-1,-1],ne:[1,0,1,-1],se:[1,1,1,1],sw:[0,1,-1,1]},ar=function(st){return st&&(st.nodeName==="IMG"||n.dom.is(st,"figure.image"))},on=function(st){return zu(st)||i.hasClass(st,"mce-preview-object")},Pn=function(st,rn){if(st.type==="longpress"||st.type.indexOf("touch")===0){var Qt=st.touches[0];return ar(st.target)&&!Sh(Qt.clientX,Qt.clientY,rn)}else return ar(st.target)&&!Sh(st.clientX,st.clientY,rn)},un=function(st){var rn=st.target;Pn(st,n.selection.getRng())&&!st.isDefaultPrevented()&&n.selection.select(rn)},xn=function(st){return i.is(st,"figure.image")?[st.querySelector("img")]:i.hasClass(st,"mce-preview-object")&&gt(st.firstElementChild)?[st,st.firstElementChild]:[st]},Vn=function(st){var rn=_E(n);return!rn||st.getAttribute("data-mce-resize")==="false"||st===n.getBody()?!1:i.hasClass(st,"mce-preview-object")?wn(w.fromDom(st.firstElementChild),rn):wn(w.fromDom(st),rn)},Yt=function(st){return on(st)?i.create("img",{src:an.transparentSrc}):st.cloneNode(!0)},zn=function(st,rn,Qt){if(gt(Qt)){var lr=xn(st);vt(lr,function(hr){hr.style[rn]||!n.schema.isValid(hr.nodeName.toLowerCase(),rn)?i.setStyle(hr,rn,Qt):i.setAttrib(hr,rn,""+Qt)})}},Gr=function(st,rn,Qt){zn(st,"width",rn),zn(st,"height",Qt)},ma=function(st){var rn,Qt,lr,hr,Na;rn=st.screenX-N,Qt=st.screenY-F,ge=rn*g[2]+ne,Je=Qt*g[3]+re,ge=ge<5?5:ge,Je=Je<5?5:Je,(ar(l)||on(l))&&RB(n)!==!1?lr=!kr.modifierPressed(st):lr=kr.modifierPressed(st),lr&&(nt(rn)>nt(Qt)?(Je=Rt(ge*ie),ge=Rt(Je/ie)):(ge=Rt(Je/ie),Je=Rt(ge*ie))),Gr(v,ge,Je),hr=g.startPos.x+rn,Na=g.startPos.y+Qt,hr=hr>0?hr:0,Na=Na>0?Na:0,i.setStyles(m,{left:hr,top:Na,display:"block"}),m.innerHTML=ge+" &times; "+Je,g[2]<0&&v.clientWidth<=ge&&i.setStyle(v,"left",$+(ne-ge)),g[3]<0&&v.clientHeight<=Je&&i.setStyle(v,"top",ee+(re-Je)),rn=en.scrollWidth-yr,Qt=en.scrollHeight-Fn,rn+Qt!==0&&i.setStyles(m,{left:hr-rn,top:Na-Qt}),we||(A2(n,l,ne,re,"corner-"+g.name),we=!0)},fa=function(){var st=we;we=!1,st&&(zn(l,"width",ge),zn(l,"height",Je)),i.unbind(qe,"mousemove",ma),i.unbind(qe,"mouseup",fa),De!==qe&&(i.unbind(De,"mousemove",ma),i.unbind(De,"mouseup",fa)),i.remove(v),i.remove(m),i.remove(E),yi(l),st&&(La(n,l,ge,Je,"corner-"+g.name),i.setAttrib(l,"style",i.getAttrib(l,"style"))),n.nodeChanged()},yi=function(st){Zt();var rn=i.getPos(st,en),Qt=rn.x,lr=rn.y,hr=st.getBoundingClientRect(),Na=hr.width||hr.right-hr.left,si=hr.height||hr.bottom-hr.top;l!==st&&(go(),l=st,ge=Je=0);var Zo=n.fire("ObjectSelected",{target:st}),nu=i.getAttrib(l,a,"1");Vn(st)&&!Zo.isDefaultPrevented()?s(Ft,function(ru,Mu){var Jo,Is=function(Bu){var Rc=xn(l)[0];N=Bu.screenX,F=Bu.screenY,ne=Rc.clientWidth,re=Rc.clientHeight,ie=re/ne,g=ru,g.name=Mu,g.startPos={x:Na*ru[0]+Qt,y:si*ru[1]+lr},yr=en.scrollWidth,Fn=en.scrollHeight,E=i.add(en,"div",{class:"mce-resize-backdrop","data-mce-bogus":"all"}),i.setStyles(E,{position:"fixed",left:"0",top:"0",width:"100%",height:"100%"}),v=Yt(l),i.addClass(v,"mce-clonedresizable"),i.setAttrib(v,"data-mce-bogus","all"),v.contentEditable="false",i.setStyles(v,{left:Qt,top:lr,margin:0}),Gr(v,Na,si),v.removeAttribute(a),en.appendChild(v),i.bind(qe,"mousemove",ma),i.bind(qe,"mouseup",fa),De!==qe&&(i.bind(De,"mousemove",ma),i.bind(De,"mouseup",fa)),m=i.add(en,"div",{class:"mce-resize-helper","data-mce-bogus":"all"},ne+" &times; "+re)};Jo=i.get("mceResizeHandle"+Mu),Jo&&i.remove(Jo),Jo=i.add(en,"div",{id:"mceResizeHandle"+Mu,"data-mce-bogus":"all",class:"mce-resizehandle",unselectable:!0,style:"cursor:"+Mu+"-resize; margin:0; padding:0"}),an.ie===11&&(Jo.contentEditable=!1),i.bind(Jo,"mousedown",function(Bu){Bu.stopImmediatePropagation(),Bu.preventDefault(),Is(Bu)}),ru.elm=Jo,i.setStyles(Jo,{left:Na*ru[0]+Qt-Jo.offsetWidth/2,top:si*ru[1]+lr-Jo.offsetHeight/2})}):go(),i.getAttrib(l,a)||l.setAttribute(a,nu)},go=function(){Zt(),l&&l.removeAttribute(a),vn(Ft,function(st,rn){var Qt=i.get("mceResizeHandle"+rn);Qt&&(i.unbind(Qt),i.remove(Qt))})},vu=function(st){var rn,Qt,lr=function(hr,Na){if(hr)do if(hr===Na)return!0;while(hr=hr.parentNode)};if(!(we||n.removed)){if(s(i.select("img[data-mce-selected],hr[data-mce-selected]"),function(hr){hr.removeAttribute(a)}),Qt=st.type==="mousedown"?st.target:e.getNode(),Qt=i.$(Qt).closest("table,img,figure.image,hr,video,span.mce-preview-object")[0],lr(Qt,en)&&(hn(),rn=e.getStart(!0),lr(rn,Qt)&&lr(e.getEnd(!0),Qt))){yi(Qt);return}go()}},cs=function(st){return _P(Bm(n.getBody(),st))},Zt=function(){vn(Ft,function(st){st.elm&&(i.unbind(st.elm),delete st.elm)})},hn=function(){try{n.getDoc().execCommand("enableObjectResizing",!1,"false")}catch(st){}};n.on("init",function(){if(hn(),an.browser.isIE()||an.browser.isEdge()){n.on("mousedown click",function(Qt){var lr=Qt.target,hr=lr.nodeName;!we&&/^(TABLE|IMG|HR)$/.test(hr)&&!cs(lr)&&(Qt.button!==2&&n.selection.select(lr,hr==="TABLE"),Qt.type==="mousedown"&&n.nodeChanged())});var st=function(Qt){var lr=function(hr){Gi.setEditorTimeout(n,function(){return n.selection.select(hr)})};if(cs(Qt.target)||zu(Qt.target)){Qt.preventDefault(),lr(Qt.target);return}/^(TABLE|IMG|HR)$/.test(Qt.target.nodeName)&&(Qt.preventDefault(),Qt.target.tagName==="IMG"&&lr(Qt.target))};i.bind(en,"mscontrolselect",st),n.on("remove",function(){return i.unbind(en,"mscontrolselect",st)})}var rn=Gi.throttle(function(Qt){n.composing||vu(Qt)});n.on("NodeChange ResizeEditor ResizeWindow ResizeContent drop",rn),n.on("keyup compositionend",function(Qt){l&&l.nodeName==="TABLE"&&rn(Qt)}),n.on("hide blur",go),n.on("contextmenu longpress",un,!0)}),n.on("remove",Zt);var or=function(){l=v=E=null};return{isResizable:Vn,showResizeRect:yi,hideResizeRect:go,updateResizeRect:vu,destroy:or}},MP=function(e){return ul(e)||so(e)},_2=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},BP=function(e,n,a){var i,s=a.elementFromPoint(e,n),l=a.body.createTextRange();if((!s||s.tagName==="HTML")&&(s=a.body),l.moveToElementText(s),i=Tt.toArray(l.getClientRects()),i=i.sort(function(v,m){return v=Math.abs(Math.max(v.top-n,v.bottom-n)),m=Math.abs(Math.max(m.top-n,m.bottom-n)),v-m}),i.length>0){n=(i[0].bottom+i[0].top)/2;try{return l.moveToPoint(e,n),l.collapse(!0),l}catch(v){}}return null},CT=function(e,n){var a=e&&e.parentElement?e.parentElement():null;return so(_2(a,n,MP))?null:e},M2=function(e,n,a){var i,s,l=a;if(l.caretPositionFromPoint)s=l.caretPositionFromPoint(e,n),s&&(i=a.createRange(),i.setStart(s.offsetNode,s.offset),i.collapse(!0));else if(l.caretRangeFromPoint)i=l.caretRangeFromPoint(e,n);else if(l.body.createTextRange){i=l.body.createTextRange();try{i.moveToPoint(e,n),i.collapse(!0)}catch(v){i=BP(e,n,a)}return CT(i,a.body)}return i},B2=function(e,n){return e&&n&&e.startContainer===n.startContainer&&e.startOffset===n.startOffset&&e.endContainer===n.endContainer&&e.endOffset===n.endOffset},PP=function(e,n,a){for(;e&&e!==n;){if(a(e))return e;e=e.parentNode}return null},Bs=function(e,n,a){return PP(e,n,a)!==null},Au=function(e,n,a){return Bs(e,n,function(i){return i.nodeName===a})},qf=function(e){return e&&e.nodeName==="TABLE"},RP=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},NP=function(e,n){return Gs(e)&&Bs(e,n,kc)===!1},xT=function(e,n,a){for(var i=new Wa(n,e.getParent(n.parentNode,e.isBlock)||e.getRoot());n=i[a?"prev":"next"]();)if(za(n))return!0},ta=function(e,n){return e.previousSibling&&e.previousSibling.nodeName===n},FP=function(e,n){for(;n&&n!==e;){if(so(n))return!0;n=n.parentNode}return!1},J1=function(e,n,a,i,s){var l,v=e.getRoot(),m,g=e.schema.getNonEmptyElements(),E=e.getParent(s.parentNode,e.isBlock)||v;if(i&&za(s)&&n&&e.isEmpty(E))return X.some(Et(s.parentNode,e.nodeIndex(s)));for(var N=new Wa(s,E);m=N[i?"prev":"next"]();){if(e.getContentEditableParent(m)==="false"||NP(m,v))return X.none();if(Wn(m)&&m.nodeValue.length>0)return Au(m,v,"A")===!1?X.some(Et(m,i?m.nodeValue.length:0)):X.none();if(e.isBlock(m)||g[m.nodeName.toLowerCase()])return X.none();l=m}return a&&l?X.some(Et(l,0)):X.none()},Q1=function(e,n,a,i){var s,l,v=e.getRoot(),m,g,E=!1;s=i[(a?"start":"end")+"Container"],l=i[(a?"start":"end")+"Offset"];var N=Br(s)&&l===s.childNodes.length,F=e.schema.getNonEmptyElements();if(g=a,Gs(s))return X.none();if(Br(s)&&l>s.childNodes.length-1&&(g=!1),Vg(s)&&(s=v,l=0),s===v){if(g&&(m=s.childNodes[l>0?l-1:0],m&&(Gs(m)||F[m.nodeName]||qf(m))))return X.none();if(s.hasChildNodes()){if(l=Math.min(!g&&l>0?l-1:l,s.childNodes.length-1),s=s.childNodes[l],l=Wn(s)&&N?s.data.length:0,!n&&s===v.lastChild&&qf(s)||FP(v,s)||Gs(s))return X.none();if(s.hasChildNodes()&&qf(s)===!1){m=s;var $=new Wa(s,v);do{if(so(m)||Gs(m)){E=!1;break}if(Wn(m)&&m.nodeValue.length>0){l=g?0:m.nodeValue.length,s=m,E=!0;break}if(F[m.nodeName.toLowerCase()]&&!RP(m)){l=e.nodeIndex(m),s=m.parentNode,g||l++,E=!0;break}}while(m=g?$.next():$.prev())}}}return n&&(Wn(s)&&l===0&&J1(e,N,n,!0,s).each(function(ee){s=ee.container(),l=ee.offset(),E=!0}),Br(s)&&(m=s.childNodes[l],m||(m=s.childNodes[l-1]),m&&za(m)&&!ta(m,"A")&&!xT(e,m,!1)&&!xT(e,m,!0)&&J1(e,N,n,!0,m).each(function(ee){s=ee.container(),l=ee.offset(),E=!0}))),g&&!n&&Wn(s)&&l===s.nodeValue.length&&J1(e,N,n,!1,s).each(function(ee){s=ee.container(),l=ee.offset(),E=!0}),E?X.some(Et(s,l)):X.none()},eb=function(e,n){var a=n.collapsed,i=n.cloneRange(),s=Et.fromRangeStart(n);return Q1(e,a,!0,i).each(function(l){(!a||!Et.isAbove(s,l))&&i.setStart(l.container(),l.offset())}),a||Q1(e,a,!1,i).each(function(l){i.setEnd(l.container(),l.offset())}),a&&i.collapse(!0),B2(n,i)?X.none():X.some(i)},tb=function(e,n){return e.splitText(n)},nb=function(e){var n=e.startContainer,a=e.startOffset,i=e.endContainer,s=e.endOffset;return n===i&&Wn(n)?a>0&&a<n.nodeValue.length&&(i=tb(n,a),n=i.previousSibling,s>a?(s=s-a,n=i=tb(i,s).previousSibling,s=i.nodeValue.length,a=0):s=0):(Wn(n)&&a>0&&a<n.nodeValue.length&&(n=tb(n,a),a=0),Wn(i)&&s>0&&s<i.nodeValue.length&&(i=tb(i,s).previousSibling,s=i.nodeValue.length)),{startContainer:n,startOffset:a,endContainer:i,endOffset:s}},Eh=function(e){var n=function(s,l){return Ch(e,s,l)},a=nb,i=function(s){return eb(e,s).fold(Kt,function(l){return s.setStart(l.startContainer,l.startOffset),s.setEnd(l.endContainer,l.endOffset),!0})};return{walk:n,split:a,normalize:i}};Eh.compareRanges=B2,Eh.getCaretRangeFromPoint=M2,Eh.getSelectedNode=x1,Eh.getNode=wc;var IP=function(e,n){var a=function(m,g){if(!je(g)&&!g.match(/^[0-9]+$/))throw new Error(e+".set accepts only positive integer values. Value was "+g);var E=m.dom;mo(E)&&(E.style[e]=g+"px")},i=function(m){var g=n(m);if(g<=0||g===null){var E=Qr(m,e);return parseFloat(E)||0}return g},s=i,l=function(m,g){return pn(g,function(E,N){var F=Qr(m,N),$=F===void 0?0:parseInt(F,10);return isNaN($)?E:E+$},0)},v=function(m,g,E){var N=l(m,E),F=g>N?g-N:0;return F};return{set:a,get:i,getOuter:s,aggregate:l,max:v}},zP=IP("height",function(e){var n=e.dom;return kv(e)?n.getBoundingClientRect().height:n.offsetHeight}),P2=function(e){return zP.get(e)},rb=function(e,n){var a=e.view(n);return a.fold(xe([]),function(i){var s=e.owner(i),l=rb(e,s);return[i].concat(l)})},ST=function(e,n){var a=n.owner(e);return rb(n,a)},$P=function(e){var n,a=e.dom===document?X.none():X.from((n=e.dom.defaultView)===null||n===void 0?void 0:n.frameElement);return a.map(w.fromDom)},LP=function(e){return Mr(e)},HP=Object.freeze({__proto__:null,view:$P,owner:LP}),VP=function(e){var n=w.fromDom(document),a=Lg(n),i=ST(e,HP),s=ys(e),l=pt(i,function(v,m){var g=ys(m);return{left:v.left+g.left,top:v.top+g.top}},{left:0,top:0});return qc(l.left+s.left+a.left,l.top+s.top+a.top)},R2=function(e){return Sa(e)==="textarea"},UP=function(e,n){var a=e.fire("ScrollIntoView",n);return a.isDefaultPrevented()},gr=function(e,n){e.fire("AfterScrollIntoView",n)},kT=function(e,n){var a=pu(e);if(a.length===0||R2(e))return{element:e,offset:n};if(n<a.length&&!R2(a[n]))return{element:a[n],offset:0};var i=a[a.length-1];return R2(i)?{element:e,offset:n}:Sa(i)==="img"?{element:i,offset:1}:Ho(i)?{element:i,offset:S2(i).length}:{element:i,offset:pu(i).length}},ET=function(e,n){var a=$d(e),i=P2(e);return{element:e,bottom:a.top+i,height:i,pos:a,cleanup:n}},WP=function(e,n){var a=kT(e,n),i=w.fromHtml('<span data-mce-bogus="all" style="display: inline-block;">'+$e+"</span>");return Us(a.element,i),ET(i,function(){return Io(i)})},Th=function(e){return ET(w.fromDom(e),Ze)},TT=function(e,n,a,i){N2(e,function(s,l){return jP(e,n,a,i)},a)},AT=function(e,n,a,i,s){var l={elm:i.element.dom,alignToTop:s};if(!UP(e,l)){var v=Lg(n).top;a(n,v,i,s),gr(e,l)}},jP=function(e,n,a,i){var s=w.fromDom(e.getBody()),l=w.fromDom(e.getDoc());dM(s);var v=WP(w.fromDom(a.startContainer),a.startOffset);AT(e,l,n,v,i),v.cleanup()},OT=function(e,n,a,i){var s=w.fromDom(e.getDoc());AT(e,s,a,Th(n),i)},N2=function(e,n,a){var i=a.startContainer,s=a.startOffset,l=a.endContainer,v=a.endOffset;n(w.fromDom(i),w.fromDom(l));var m=e.dom.createRng();m.setStart(i,s),m.setEnd(l,v),e.selection.setRng(a)},F2=function(e,n,a,i){var s=e.pos;if(a)ws(s.left,s.top,i);else{var l=s.top-n+e.height;ws(s.left,l,i)}},DT=function(e,n,a,i,s){var l=a+n,v=i.pos.top,m=i.bottom,g=m-v>=a;if(v<n)F2(i,a,s!==!1,e);else if(v>l){var E=g?s!==!1:s===!0;F2(i,a,E,e)}else m>l&&!g&&F2(i,a,s===!0,e)},I2=function(e,n,a,i){var s=e.dom.defaultView.innerHeight;DT(e,n,s,a,i)},z2=function(e,n,a,i){var s=e.dom.defaultView.innerHeight;DT(e,n,s,a,i);var l=VP(a.element),v=Ev(window);l.top<v.y?Ld(a.element,i!==!1):l.top>v.bottom&&Ld(a.element,i===!0)},_T=function(e,n,a){return TT(e,I2,n,a)},qP=function(e,n,a){return OT(e,n,I2,a)},GP=function(e,n,a){return TT(e,z2,n,a)},MT=function(e,n,a){return OT(e,n,z2,a)},KP=function(e,n,a){var i=e.inline?qP:MT;i(e,n,a)},Ah=function(e,n,a){var i=e.inline?_T:GP;i(e,n,a)},Da=function(){return w.fromDom(document)},XP=function(e){return e.dom.focus()},tf=function(e){var n=bu(e).dom;return e.dom===n.activeElement},dl=function(e){return e===void 0&&(e=Da()),X.from(e.dom.activeElement).map(w.fromDom)},ab=function(e){return dl(bu(e)).filter(function(n){return e.dom.contains(n.dom)})},is=function(e,n,a,i){return{start:e,soffset:n,finish:a,foffset:i}},ob={create:is},Yv=dr.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),ib=function(e,n,a,i){return e.fold(n,a,i)},Pm=function(e){return e.fold(ct,ct,ct)},YP=Yv.before,ZP=Yv.on,JP=Yv.after,QP={before:YP,on:ZP,after:JP,cata:ib,getStart:Pm},Zr=dr.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),Gl=function(e){return Zr.exact(e.start,e.soffset,e.finish,e.foffset)},Rm=function(e){return e.match({domRange:function(n){return w.fromDom(n.startContainer)},relative:function(n,a){return QP.getStart(n)},exact:function(n,a,i,s){return n}})},eR=Zr.domRange,Oh=Zr.relative,ua=Zr.exact,tR=function(e){var n=Rm(e);return vc(n)},BT=ob.create,Dh={domRange:eR,relative:Oh,exact:ua,exactFromRange:Gl,getWin:tR,range:BT},PT=Dn().browser,_h=function(e,n){var a=Ho(n)?S2(n).length:pu(n).length+1;return e>a?a:e<0?0:e},Zv=function(e){return Dh.range(e.start,_h(e.soffset,e.start),e.finish,_h(e.foffset,e.finish))},$2=function(e,n){return!Hd(n.dom)&&(Aa(e,n)||Sr(e,n))},L2=function(e){return function(n){return $2(e,n.start)&&$2(e,n.finish)}},RT=function(e){return e.inline===!0||PT.isIE()},NT=function(e){return Dh.range(w.fromDom(e.startContainer),e.startOffset,w.fromDom(e.endContainer),e.endOffset)},Mh=function(e){var n=e.getSelection(),a=!n||n.rangeCount===0?X.none():X.from(n.getRangeAt(0));return a.map(NT)},Nm=function(e){var n=vc(e);return Mh(n.dom).filter(L2(e))},nR=function(e,n){return X.from(n).filter(L2(e)).map(Zv)},FT=function(e){var n=document.createRange();try{return n.setStart(e.start.dom,e.soffset),n.setEnd(e.finish.dom,e.foffset),X.some(n)}catch(a){return X.none()}},ub=function(e){var n=RT(e)?Nm(w.fromDom(e.getBody())):X.none();e.bookmark=n.isSome()?n:e.bookmark},rR=function(e,n){var a=w.fromDom(e.getBody()),i=RT(e)?X.from(n):X.none(),s=i.map(NT).filter(L2(a));e.bookmark=s.isSome()?s:e.bookmark},H2=function(e){var n=e.bookmark?e.bookmark:X.none();return n.bind(function(a){return nR(w.fromDom(e.getBody()),a)}).bind(FT)},IT=function(e){H2(e).each(function(n){return e.selection.setRng(n)})},aR=function(e){var n=e.className.toString();return n.indexOf("tox-")!==-1||n.indexOf("mce-")!==-1},zT={isEditorUIElement:aR},$T=function(e){return e.type==="nodechange"&&e.selectionChange},V2=function(e,n){var a=function(){n.throttle()};uo.DOM.bind(document,"mouseup",a),e.on("remove",function(){uo.DOM.unbind(document,"mouseup",a)})},U2=function(e){e.on("focusout",function(){ub(e)})},W2=function(e,n){e.on("mouseup touchend",function(a){n.throttle()})},LT=function(e,n){var a=Dn().browser;a.isIE()?U2(e):W2(e,n),e.on("keyup NodeChange",function(i){$T(i)||ub(e)})},HT=function(e){var n=h1(function(){ub(e)},0);e.on("init",function(){e.inline&&V2(e,n),LT(e,n)}),e.on("remove",function(){n.cancel()})},Fm,Im=uo.DOM,oR=function(e){return zT.isEditorUIElement(e)},VT=function(e){var n=e.classList;return n!==void 0?n.contains("tox-edit-area")||n.contains("tox-edit-area__iframe")||n.contains("mce-content-body"):!1},sb=function(e,n){var a=Xw(e),i=Im.getParent(n,function(s){return oR(s)||(a?e.dom.is(s,a):!1)});return i!==null},UT=function(e){try{var n=bu(w.fromDom(e.getElement()));return dl(n).fold(function(){return document.body},function(a){return a.dom})}catch(a){return document.body}},WT=function(e,n){var a=n.editor;HT(a),a.on("focusin",function(){var i=e.focusedEditor;i!==a&&(i&&i.fire("blur",{focusedEditor:a}),e.setActive(a),e.focusedEditor=a,a.fire("focus",{blurredEditor:i}),a.focus(!0))}),a.on("focusout",function(){Gi.setEditorTimeout(a,function(){var i=e.focusedEditor;!sb(a,UT(a))&&i===a&&(a.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})}),Fm||(Fm=function(i){var s=e.activeEditor;s&&uu(i).each(function(l){l.ownerDocument===document&&l!==document.body&&!sb(s,l)&&e.focusedEditor===s&&(s.fire("blur",{focusedEditor:null}),e.focusedEditor=null)})},Im.bind(document,"focusin",Fm))},jT=function(e,n){e.focusedEditor===n.editor&&(e.focusedEditor=null),e.activeEditor||(Im.unbind(document,"focusin",Fm),Fm=null)},qT=function(e){e.on("AddEditor",bt(WT,e)),e.on("RemoveEditor",bt(jT,e))},GT=function(e,n){return e.dom.getParent(n,function(a){return e.dom.getContentEditable(a)==="true"})},iR=function(e){return e.collapsed?X.from(wc(e.startContainer,e.startOffset)).map(w.fromDom):X.none()},uR=function(e,n){return iR(n).bind(function(a){return Oa(a)?X.some(a):Aa(e,a)===!1?X.some(e):X.none()})},KT=function(e,n){uR(w.fromDom(e.getBody()),n).bind(function(a){return Tu(a.dom)}).fold(function(){e.selection.normalize()},function(a){return e.selection.setRng(a.toRange())})},j2=function(e){if(e.setActive)try{e.setActive()}catch(n){e.focus()}else e.focus()},sR=function(e){return tf(e)||ab(e).isSome()},lR=function(e){return e.iframeElement&&tf(w.fromDom(e.iframeElement))},cR=function(e){var n=e.getBody();return n&&sR(w.fromDom(n))},fR=function(e){var n=bu(w.fromDom(e.getElement()));return dl(n).filter(function(a){return!VT(a.dom)&&sb(e,a.dom)}).isSome()},Oc=function(e){return e.inline?cR(e):lR(e)},XT=function(e){return Oc(e)||fR(e)},vR=function(e){var n=e.selection,a=e.getBody(),i=n.getRng();e.quirks.refreshContentEditable(),e.bookmark!==void 0&&Oc(e)===!1&&H2(e).each(function(l){e.selection.setRng(l),i=l});var s=GT(e,n.getNode());if(e.$.contains(a,s)){j2(s),KT(e,i),lb(e);return}e.inline||(an.opera||j2(a),e.getWin().focus()),(an.gecko||e.inline)&&(j2(a),KT(e,i)),lb(e)},lb=function(e){return e.editorManager.setActive(e)},YT=function(e,n){e.removed||(n?lb(e):vR(e))},ZT=function(e,n,a,i,s){var l=a?n.startContainer:n.endContainer,v=a?n.startOffset:n.endOffset;return X.from(l).map(w.fromDom).map(function(m){return!i||!n.collapsed?Vc(m,s(m,v)).getOr(m):m}).bind(function(m){return vo(m)?X.some(m):Fo(m).filter(vo)}).map(function(m){return m.dom}).getOr(e)},JT=function(e,n,a){return ZT(e,n,!0,a,function(i,s){return Math.min(Lp(i),s)})},QT=function(e,n,a){return ZT(e,n,!1,a,function(i,s){return s>0?s-1:s})},eA=function(e,n){for(var a=e;e&&Wn(e)&&e.length===0;)e=n?e.nextSibling:e.previousSibling;return e||a},dR=function(e,n){var a,i,s;if(!n)return e;i=n.startContainer,s=n.endContainer;var l=n.startOffset,v=n.endOffset;return a=n.commonAncestorContainer,!n.collapsed&&(i===s&&v-l<2&&i.hasChildNodes()&&(a=i.childNodes[l]),i.nodeType===3&&s.nodeType===3&&(i.length===l?i=eA(i.nextSibling,!0):i=i.parentNode,v===0?s=eA(s.previousSibling,!1):s=s.parentNode,i&&i===s))?i:a&&a.nodeType===3?a.parentNode:a},cb=function(e,n,a,i){var s,l=[],v=e.getRoot();if(a=e.getParent(a||JT(v,n,n.collapsed),e.isBlock),i=e.getParent(i||QT(v,n,n.collapsed),e.isBlock),a&&a!==v&&l.push(a),a&&i&&a!==i){s=a;for(var m=new Wa(a,v);(s=m.next())&&s!==i;)e.isBlock(s)&&l.push(s)}return i&&a!==i&&i!==v&&l.push(i),l},mR=function(e,n,a){return X.from(n).map(function(i){var s=e.nodeIndex(i),l=e.createRng();return l.setStart(i.parentNode,s),l.setEnd(i.parentNode,s+1),a&&(w2(e,l,i,!0),w2(e,l,i,!1)),l})},q2=function(e,n){return zt(n,function(a){var i=e.fire("GetSelectionRange",{range:a});return i.range!==a?i.range:a})},G2={"#text":3,"#comment":8,"#cdata":4,"#pi":7,"#doctype":10,"#document-fragment":11},fb=function(e,n,a){var i=a?"lastChild":"firstChild",s=a?"prev":"next";if(e[i])return e[i];if(e!==n){var l=e[s];if(l)return l;for(var v=e.parent;v&&v!==n;v=v.parent)if(l=v[s],l)return l}},tA=function(e){if(!Ml(e.value))return!1;var n=e.parent;return!(n&&(n.name!=="span"||n.attr("style"))&&/^[ ]+$/.test(e.value))},K2=function(e){var n=e.name==="a"&&!e.attr("href")&&e.attr("id");return e.attr("name")||e.attr("id")&&!e.firstChild||e.attr("data-mce-bookmark")||n},el=function(){function e(n,a){this.name=n,this.type=a,a===1&&(this.attributes=[],this.attributes.map={})}return e.create=function(n,a){var i=new e(n,G2[n]||1);return a&&vn(a,function(s,l){i.attr(l,s)}),i},e.prototype.replace=function(n){var a=this;return n.parent&&n.remove(),a.insert(n,a),a.remove(),a},e.prototype.attr=function(n,a){var i=this,s;if(typeof n!="string")return n!=null&&vn(n,function(v,m){i.attr(m,v)}),i;if(s=i.attributes){if(a!==void 0){if(a===null){if(n in s.map){delete s.map[n];for(var l=s.length;l--;)if(s[l].name===n)return s.splice(l,1),i}return i}if(n in s.map){for(var l=s.length;l--;)if(s[l].name===n){s[l].value=a;break}}else s.push({name:n,value:a});return s.map[n]=a,i}return s.map[n]}},e.prototype.clone=function(){var n=this,a=new e(n.name,n.type),i;if(i=n.attributes){var s=[];s.map={};for(var l=0,v=i.length;l<v;l++){var m=i[l];m.name!=="id"&&(s[s.length]={name:m.name,value:m.value},s.map[m.name]=m.value)}a.attributes=s}return a.value=n.value,a.shortEnded=n.shortEnded,a},e.prototype.wrap=function(n){var a=this;return a.parent.insert(n,a),n.append(a),a},e.prototype.unwrap=function(){for(var n=this,a=n.firstChild;a;){var i=a.next;n.insert(a,n,!0),a=i}n.remove()},e.prototype.remove=function(){var n=this,a=n.parent,i=n.next,s=n.prev;return a&&(a.firstChild===n?(a.firstChild=i,i&&(i.prev=null)):s.next=i,a.lastChild===n?(a.lastChild=s,s&&(s.next=null)):i.prev=s,n.parent=n.next=n.prev=null),n},e.prototype.append=function(n){var a=this;n.parent&&n.remove();var i=a.lastChild;return i?(i.next=n,n.prev=i,a.lastChild=n):a.lastChild=a.firstChild=n,n.parent=a,n},e.prototype.insert=function(n,a,i){n.parent&&n.remove();var s=a.parent||this;return i?(a===s.firstChild?s.firstChild=n:a.prev.next=n,n.prev=a.prev,n.next=a,a.prev=n):(a===s.lastChild?s.lastChild=n:a.next.prev=n,n.next=a.next,n.prev=a,a.next=n),n.parent=s,n},e.prototype.getAll=function(n){for(var a=this,i=[],s=a.firstChild;s;s=fb(s,a))s.name===n&&i.push(s);return i},e.prototype.children=function(){for(var n=this,a=[],i=n.firstChild;i;i=i.next)a.push(i);return a},e.prototype.empty=function(){var n=this;if(n.firstChild){for(var a=[],i=n.firstChild;i;i=fb(i,n))a.push(i);for(var s=a.length;s--;){var i=a[s];i.parent=i.firstChild=i.lastChild=i.next=i.prev=null}}return n.firstChild=n.lastChild=null,n},e.prototype.isEmpty=function(n,a,i){a===void 0&&(a={});var s=this,l=s.firstChild;if(K2(s))return!1;if(l)do{if(l.type===1){if(l.attr("data-mce-bogus"))continue;if(n[l.name]||K2(l))return!1}if(l.type===8||l.type===3&&!tA(l)||l.type===3&&l.parent&&a[l.parent.name]&&Ml(l.value)||i&&i(l))return!1}while(l=fb(l,s));return!0},e.prototype.walk=function(n){return fb(this,null,n)},e}(),gR=Tt.makeMap("NOSCRIPT STYLE SCRIPT XMP IFRAME NOEMBED NOFRAMES PLAINTEXT"," "),nA=function(e){return Ae(e.nodeValue)&&At(e.nodeValue,$e)},rA=function(e){return(e.length===0?"":zt(e,function(n){return"["+n+"]"}).join(",")+",")+'[data-mce-bogus="all"]'},hR=function(e,n){return n.querySelectorAll(rA(e))},Bh=function(e,n,a){return document.createTreeWalker(e,n,a,!1)},X2=function(e){return Bh(e,NodeFilter.SHOW_COMMENT,function(n){return nA(n)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP})},Y2=function(e){return Bh(e,NodeFilter.SHOW_TEXT,function(n){if(nA(n)){var a=n.parentNode;return a&&xr(gR,a.nodeName)?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}else return NodeFilter.FILTER_SKIP})},aA=function(e){return X2(e).nextNode()!==null},oA=function(e){return Y2(e).nextNode()!==null},pR=function(e,n){return n.querySelector(rA(e))!==null},bR=function(e,n){vt(hR(e,n),function(a){var i=w.fromDom(a);j(i,"data-mce-bogus")==="all"?Io(i):vt(e,function(s){Ge(i,s)&&Ot(i,s)})})},iA=function(e){for(var n=e.nextNode();n!==null;)n.nodeValue=null,n=e.nextNode()},yR=it(iA,X2),wR=it(iA,Y2),uA=function(e,n){var a=[{condition:bt(pR,n),action:bt(bR,n)},{condition:aA,action:yR},{condition:oA,action:wR}],i=e,s=!1;return vt(a,function(l){var v=l.condition,m=l.action;v(i)&&(s||(i=e.cloneNode(!0),s=!0),m(i))}),i},CR=function(e,n){var a=Ji(e),i=new RegExp("^(<"+a+"[^>]*>(&nbsp;|&#160;|\\s| |<br \\/>|)<\\/"+a+`>[\r
]*|<br \\/>[\r
]*)$`);return n.replace(i,"")},xR=function(e,n){return Gn(Gn({},e),{format:n,get:!0,getInner:!0})},SR=function(e,n,a,i){var s=xR(n,a),l=n.no_events?s:e.fire("BeforeGetContent",s),v;return l.format==="raw"?v=Tt.trim(ts(uA(i,e.serializer.getTempAttrs()).innerHTML)):l.format==="text"?v=e.dom.isEmpty(i)?"":ts(i.innerText||i.textContent):l.format==="tree"?v=e.serializer.serialize(i,l):v=CR(e,e.serializer.serialize(i,l)),!We(["text","tree"],l.format)&&!Kg(w.fromDom(i))?l.content=Tt.trim(v):l.content=v,l.no_events?l.content:e.fire("GetContent",l).content},kR=function(e,n,a){return X.from(e.getBody()).fold(xe(n.format==="tree"?new el("body",11):""),function(i){return SR(e,n,a,i)})},ER=Tt.each,sA=function(e){var n=function(a,i){if(a.nodeName!==i.nodeName)return!1;var s=function(v){var m={};return ER(e.getAttribs(v),function(g){var E=g.nodeName.toLowerCase();E.indexOf("_")!==0&&E!=="style"&&E.indexOf("data-")!==0&&(m[E]=e.getAttrib(v,E))}),m},l=function(v,m){var g,E;for(E in v)if(xr(v,E)){if(g=m[E],typeof g=="undefined"||v[E]!==g)return!1;delete m[E]}for(E in m)if(xr(m,E))return!1;return!0};return!l(s(a),s(i))||!l(e.parseStyle(e.getAttrib(a,"style")),e.parseStyle(e.getAttrib(i,"style")))?!1:!os(a)&&!os(i)};return{compare:n}},Ph=Tt.makeMap,Z2=function(e){var n=[];e=e||{};var a=e.indent,i=Ph(e.indent_before||""),s=Ph(e.indent_after||""),l=Bl.getEncodeFunc(e.entity_encoding||"raw",e.entities),v=e.element_format==="html";return{start:function(m,g,E){var N,F,$,ee;if(a&&i[m]&&n.length>0&&(ee=n[n.length-1],ee.length>0&&ee!==`
`&&n.push(`
`)),n.push("<",m),g)for(N=0,F=g.length;N<F;N++)$=g[N],n.push(" ",$.name,'="',l($.value,!0),'"');!E||v?n[n.length]=">":n[n.length]=" />",E&&a&&s[m]&&n.length>0&&(ee=n[n.length-1],ee.length>0&&ee!==`
`&&n.push(`
`))},end:function(m){var g;n.push("</",m,">"),a&&s[m]&&n.length>0&&(g=n[n.length-1],g.length>0&&g!==`
`&&n.push(`
`))},text:function(m,g){m.length>0&&(n[n.length]=g?m:l(m))},cdata:function(m){n.push("<![CDATA[",m,"]]>")},comment:function(m){n.push("<!--",m,"-->")},pi:function(m,g){g?n.push("<?",m," ",l(g),"?>"):n.push("<?",m,"?>"),a&&n.push(`
`)},doctype:function(m){n.push("<!DOCTYPE",m,">",a?`
`:"")},reset:function(){n.length=0},getContent:function(){return n.join("").replace(/\n$/,"")}}},Jv=function(e,n){n===void 0&&(n=As());var a=Z2(e);e=e||{},e.validate="validate"in e?e.validate:!0;var i=function(s){var l=e.validate,v={3:function(g){a.text(g.value,g.raw)},8:function(g){a.comment(g.value)},7:function(g){a.pi(g.name,g.value)},10:function(g){a.doctype(g.value)},4:function(g){a.cdata(g.value)},11:function(g){if(g=g.firstChild)do m(g);while(g=g.next)}};a.reset();var m=function(g){var E=v[g.type];if(E)E(g);else{var N=g.name,F=g.shortEnded,$=g.attributes;if(l&&$&&$.length>1){var ee=[];ee.map={};var ne=n.getElementRule(g.name);if(ne){for(var re=0,ie=ne.attributesOrder.length;re<ie;re++){var we=ne.attributesOrder[re];if(we in $.map){var ge=$.map[we];ee.map[we]=ge,ee.push({name:we,value:ge})}}for(var re=0,ie=$.length;re<ie;re++){var we=$[re].name;if(!(we in ee.map)){var ge=$.map[we];ee.map[we]=ge,ee.push({name:we,value:ge})}}$=ee}}if(a.start(g.name,$,F),!F){if(g=g.firstChild)do m(g);while(g=g.next);a.end(N)}}};return s.type===1&&!e.inner?m(s):v[11](s),a.getContent()};return{serialize:i}},lA=new Set;(function(){var e=["margin","margin-left","margin-right","margin-top","margin-bottom","padding","padding-left","padding-right","padding-top","padding-bottom","border","border-width","border-style","border-color","background","background-attachment","background-clip","background-color","background-image","background-origin","background-position","background-repeat","background-size","float","position","left","right","top","bottom","z-index","display","transform","width","max-width","min-width","height","max-height","min-height","overflow","overflow-x","overflow-y","text-overflow","vertical-align","transition","transition-delay","transition-duration","transition-property","transition-timing-function"];vt(e,function(n){lA.add(n)})})();var cA=["font","text-decoration","text-emphasis"],J2=function(e,n){return $t(e.parseStyle(e.getAttrib(n,"style")))},TR=function(e){return lA.has(e)},AR=function(e,n){return oa(J2(e,n),function(a){return!TR(a)})},OR=function(e){return Ce(e,function(n){return ft(cA,function(a){return R(n,a)})})},fA=function(e,n,a){var i=J2(e,n),s=J2(e,a),l=function(v){var m=e.getStyle(n,v),g=e.getStyle(a,v);return rt(m)&&rt(g)&&m!==g};return ft(i,function(v){var m=function(E){return ft(E,function(N){return N===v})};if(!m(s)&&m(cA)){var g=OR(s);return ft(g,l)}else return l(v)})},vA=function(e,n,a){return X.from(a.container()).filter(Wn).exists(function(i){var s=e?0:-1;return n(i.data.charAt(a.offset()+s))})},vb=bt(vA,!0,jf),db=bt(vA,!1,jf),DR=function(e){var n=e.container();return Wn(n)&&(n.data.length===0||es(n.data)&&Xv.isBookmarkNode(n.parentNode))},Gf=function(e,n){return function(a){return X.from(R1(e?0:-1,a)).filter(n).isSome()}},dA=function(e){return Ug(e)&&Qr(w.fromDom(e),"display")==="block"},mA=function(e){return so(e)&&!mi(e)},_R=Gf(!0,dA),MR=Gf(!1,dA),zm=Gf(!0,zu),$m=Gf(!1,zu),gA=Gf(!0,gi),hA=Gf(!1,gi),Kf=Gf(!0,mA),Xf=Gf(!1,mA),BR=function(e){for(var n=[],a=e.dom;a;)n.push(w.fromDom(a)),a=a.lastChild;return n},PR=function(e){var n=zi(e,"br"),a=Ce(BR(e).slice(-1),Yd);n.length===a.length&&vt(a,Io)},Qv=function(e){$g(e),Ni(e,w.fromHtml('<br data-mce-bogus="1">'))},RR=function(e){bs(e).each(function(n){Lc(n).each(function(a){js(e)&&Yd(n)&&js(a)&&Io(n)})})},NR=function(e){return e.slice(0,-1)},FR=function(e,n,a){return Aa(n,e)?NR($p(e,function(i){return a(i)||Sr(i,n)})):[]},pA=function(e,n){return FR(e,n,Kt)},sr=function(e,n){return[e].concat(pA(e,n))},Q2=function(e,n,a){return s2(e,n,a,DR)},mb=function(e,n){return Hn(sr(w.fromDom(n.container()),e),js)},bA=function(e,n,a){return Q2(e,n.dom,a).forall(function(i){return mb(n,a).fold(function(){return Ul(i,a,n.dom)===!1},function(s){return Ul(i,a,n.dom)===!1&&Aa(s,w.fromDom(i.container()))})})},yA=function(e,n,a){return mb(n,a).fold(function(){return Q2(e,n.dom,a).forall(function(i){return Ul(i,a,n.dom)===!1})},function(i){return Q2(e,i.dom,a).isNone()})},gb=bt(yA,!1),Rh=bt(yA,!0),wA=bt(bA,!1),IR=bt(bA,!0),zR=function(e){return F1(e).exists(Yd)},Dr=function(e,n,a){var i=Ce(sr(w.fromDom(a.container()),n),js),s=Xt(i).getOr(n);return _s(e,s.dom,a).filter(zR)},eC=function(e,n){return F1(n).exists(Yd)||Dr(!0,e,n).isSome()},$r=function(e,n){return lP(n).exists(Yd)||Dr(!1,e,n).isSome()},CA=bt(Dr,!1),$R=bt(Dr,!0),xA=function(e){return Et.isTextPosition(e)&&!e.isAtStart()&&!e.isAtEnd()},SA=function(e,n){var a=Ce(sr(w.fromDom(n.container()),e),js);return Xt(a).getOr(e)},kA=function(e,n){return xA(n)?db(n):db(n)||jl(SA(e,n).dom,n).exists(db)},EA=function(e,n){return xA(n)?vb(n):vb(n)||Wl(SA(e,n).dom,n).exists(vb)},LR=function(e){return We(["pre","pre-wrap"],e)},tC=function(e){return F1(e).bind(function(n){return Wp(n,vo)}).exists(function(n){return LR(Qr(n,"white-space"))})},_r=function(e,n){return jl(e.dom,n).isNone()},HR=function(e,n){return Wl(e.dom,n).isNone()},TA=function(e,n){return _r(e,n)||HR(e,n)||gb(e,n)||Rh(e,n)||$r(e,n)||eC(e,n)},AA=function(e,n){return tC(n)?!1:TA(e,n)||kA(e,n)||EA(e,n)},Nh=function(e,n){return tC(n)?!1:gb(e,n)||wA(e,n)||$r(e,n)||kA(e,n)},OA=function(e){var n=e.container(),a=e.offset();return Wn(n)&&a<n.data.length?Et(n,a+1):e},Fh=function(e,n){return tC(n)?!1:Rh(e,n)||IR(e,n)||eC(e,n)||EA(e,n)},hb=function(e,n){return Nh(e,n)||Fh(e,OA(n))},DA=function(e,n){return qv(e.charAt(n))},_A=function(e){var n=e.container();return Wn(n)&&At(n.data,Qu)},VR=function(e){var n=e.split("");return zt(n,function(a,i){return qv(a)&&i>0&&i<n.length-1&&L1(n[i-1])&&L1(n[i+1])?" ":a}).join("")},UR=function(e,n){var a=n.data,i=Et(n,0);return DA(a,0)&&!hb(e,i)?(n.data=" "+a.slice(1),!0):!1},WR=function(e){var n=e.data,a=VR(n);return a!==n?(e.data=a,!0):!1},jR=function(e,n){var a=n.data,i=Et(n,a.length-1);return DA(a,a.length-1)&&!hb(e,i)?(n.data=a.slice(0,-1)+" ",!0):!1},qR=function(e,n){return X.some(n).filter(_A).bind(function(a){var i=a.container(),s=UR(e,i)||WR(i)||jR(e,i);return s?X.some(a):X.none()})},MA=function(e){var n=w.fromDom(e.getBody());e.selection.isCollapsed()&&qR(n,Et.fromRangeStart(e.selection.getRng())).each(function(a){e.selection.setRng(a.toRange())})},GR=function(e,n,a){var i=pn(e,function(s,l){return jf(l)||qv(l)?s.previousCharIsSpace||s.str===""&&n||s.str.length===e.length-1&&a?{previousCharIsSpace:!1,str:s.str+Qu}:{previousCharIsSpace:!0,str:s.str+" "}:{previousCharIsSpace:!1,str:s.str+l}},{previousCharIsSpace:!1,str:""});return i.str},nC=function(e,n,a){if(a!==0){var i=w.fromDom(e),s=qg(i,js).getOr(i),l=e.data.slice(n,n+a),v=n+a>=e.data.length&&Fh(s,Et(e,e.data.length)),m=n===0&&Nh(s,Et(e,0));e.replaceData(n,a,GR(l,m,v))}},pb=function(e,n){var a=e.data.slice(n),i=a.length-Me(a).length;nC(e,n,i)},na=function(e,n){var a=e.data.slice(0,n),i=a.length-Qe(a).length;nC(e,n-i,i)},bb=function(e,n,a,i){i===void 0&&(i=!0);var s=Qe(e.data).length,l=i?e:n,v=i?n:e;return i?l.appendData(v.data):l.insertData(0,v.data),Io(w.fromDom(v)),a&&pb(l,s),l},yb=function(e,n){var a=e.container(),i=e.offset();return Et.isTextPosition(e)===!1&&a===n.parentNode&&i>Et.before(n).offset()},BA=function(e,n){return yb(n,e)?Et(n.container(),n.offset()-1):n},PA=function(e){return Wn(e)?Et(e,0):Et.before(e)},RA=function(e){return Wn(e)?Et(e,e.data.length):Et.after(e)},rC=function(e){return hc(e.previousSibling)?X.some(RA(e.previousSibling)):e.previousSibling?ql(e.previousSibling):X.none()},aC=function(e){return hc(e.nextSibling)?X.some(PA(e.nextSibling)):e.nextSibling?Tu(e.nextSibling):X.none()},KR=function(e,n){var a=Et.before(n.previousSibling?n.previousSibling:n.parentNode);return jl(e,a).fold(function(){return Wl(e,Et.after(n))},X.some)},XR=function(e,n){return Wl(e,Et.after(n)).fold(function(){return jl(e,Et.before(n))},X.some)},YR=function(e,n){return rC(n).orThunk(function(){return aC(n)}).orThunk(function(){return KR(e,n)})},ZR=function(e,n){return aC(n).orThunk(function(){return rC(n)}).orThunk(function(){return XR(e,n)})},JR=function(e,n,a){return e?ZR(n,a):YR(n,a)},oC=function(e,n,a){return JR(e,n,a).map(bt(BA,a))},wb=function(e,n,a){a.fold(function(){e.focus()},function(i){e.selection.setRng(i.toRange(),n)})},QR=function(e){return function(n){return n.dom===e}},eN=function(e,n){return n&&xr(e.schema.getBlockElements(),Sa(n))},tN=function(e){if(Fi(e)){var n=w.fromHtml('<br data-mce-bogus="1">');return $g(e),Ni(e,n),X.some(Et.before(n.dom))}else return X.none()},nN=function(e,n,a){var i=Lc(e).filter(Ho),s=bf(e).filter(Ho);return Io(e),My(i,s,n,function(l,v,m){var g=l.dom,E=v.dom,N=g.data.length;return bb(g,E,a),m.container()===E?Et(g,N):m}).orThunk(function(){return a&&(i.each(function(l){return na(l.dom,l.dom.length)}),s.each(function(l){return pb(l.dom,0)})),n})},rN=function(e,n){return xr(e.schema.getTextInlineElements(),Sa(n))},ed=function(e,n,a,i){i===void 0&&(i=!0);var s=oC(n,e.getBody(),a.dom),l=qg(a,bt(eN,e),QR(e.getBody())),v=nN(a,s,rN(e,a));e.dom.isEmpty(e.getBody())?(e.setContent(""),e.selection.setCursorLocation()):l.bind(tN).fold(function(){i&&wb(e,n,v)},function(m){i&&wb(e,n,X.some(m))})},aN=function(e){return function(n){return Sr(e,n)}},iC=function(e){return zi(e,"td,th")},NA=function(e,n){var a=function(E){return Kv(w.fromDom(E),n)},i=a(e.startContainer),s=a(e.endContainer),l=i.isSome(),v=s.isSome(),m=su(i,s,Sr).getOr(!1),g=!m&&l&&v;return{startTable:i,endTable:s,isStartInTable:l,isEndInTable:v,isSameTable:m,isMultiTable:g}},uC=function(e,n){return{start:e,end:n}},Yf=function(e,n,a){return{rng:e,table:n,cells:a}},Ih=dr.generate([{singleCellTable:["rng","cell"]},{fullTable:["table"]},{partialTable:["cells","outsideDetails"]},{multiTable:["startTableCells","endTableCells","betweenRng"]}]),zh=function(e,n){return Vo(w.fromDom(e),"td,th",n)},FA=function(e){return!Sr(e.start,e.end)},IA=function(e,n){return Kv(e.start,n).bind(function(a){return Kv(e.end,n).bind(function(i){return By(Sr(a,i),a)})})},zA=function(e,n){return!FA(e)&&IA(e,n).exists(function(a){var i=a.dom.rows;return i.length===1&&i[0].cells.length===1})},$A=function(e,n){var a=zh(e.startContainer,n),i=zh(e.endContainer,n);return su(a,i,uC)},oN=function(e){return function(n){return Kv(n,e).bind(function(a){return yn(iC(a)).map(function(i){return uC(n,i)})})}},iN=function(e){return function(n){return Kv(n,e).bind(function(a){return Xt(iC(a)).map(function(i){return uC(i,n)})})}},sC=function(e){return function(n){return IA(n,e).map(function(a){return Yf(n,a,iC(a))})}},LA=function(e,n,a,i){if(a.collapsed||!e.forall(FA))return X.none();if(n.isSameTable){var s=e.bind(sC(i));return X.some({start:s,end:s})}else{var l=zh(a.startContainer,i),v=zh(a.endContainer,i),m=l.bind(oN(i)).bind(sC(i)),g=v.bind(iN(i)).bind(sC(i));return X.some({start:m,end:g})}},HA=function(e,n){return tr(e,function(a){return Sr(a,n)})},nf=function(e){return su(HA(e.cells,e.rng.start),HA(e.cells,e.rng.end),function(n,a){return e.cells.slice(n,a+1)})},uN=function(e,n,a){return e.exists(function(i){return zA(i,a)&&Mm(i.start,n)})},VA=function(e,n){var a=n.startTable,i=n.endTable,s=e.cloneRange();return a.each(function(l){return s.setStartAfter(l.dom)}),i.each(function(l){return s.setEndBefore(l.dom)}),s},wo=function(e,n,a,i){return LA(e,n,a,i).bind(function(s){var l=s.start,v=s.end;return l.or(v)}).bind(function(s){var l=n.isSameTable,v=nf(s).getOr([]);if(l&&s.cells.length===v.length)return X.some(Ih.fullTable(s.table));if(v.length>0){if(l)return X.some(Ih.partialTable(v,X.none()));var m=VA(a,n);return X.some(Ih.partialTable(v,X.some(Gn(Gn({},n),{rng:m}))))}else return X.none()})},Zf=function(e,n,a,i){return LA(e,n,a,i).bind(function(s){var l=s.start,v=s.end,m=l.bind(nf).getOr([]),g=v.bind(nf).getOr([]);if(m.length>0&&g.length>0){var E=VA(a,n);return X.some(Ih.multiTable(m,g,E))}else return X.none()})},lC=function(e,n){var a=aN(e),i=$A(n,a),s=NA(n,a);return uN(i,n,a)?i.map(function(l){return Ih.singleCellTable(n,l.start)}):s.isMultiTable?Zf(i,s,n,a):wo(i,s,n,a)},cC=function(e){var n=Pd(e)?Lc(e):bs(e);return n.bind(cC).orThunk(function(){return X.some(e)})},Cb=function(e){return vt(e,function(n){Ot(n,"contenteditable"),Qv(n)})},fC=function(e,n){return X.from(e.dom.getParent(n,e.dom.isBlock)).map(w.fromDom)},vC=function(e,n,a){a.each(function(i){n?Io(i):(Qv(i),e.selection.setCursorLocation(i.dom,0))})},xb=function(e,n,a,i){var s=a.cloneRange();i?(s.setStart(a.startContainer,a.startOffset),s.setEndAfter(n.dom.lastChild)):(s.setStartBefore(n.dom.firstChild),s.setEnd(a.endContainer,a.endOffset)),td(e,s,n,!1)},$h=function(e){var n=ef(e),a=w.fromDom(e.selection.getNode());Wd(a.dom)&&Fi(a)?e.selection.setCursorLocation(a.dom,0):e.selection.collapse(!0),n.length>1&&ft(n,function(i){return Sr(i,a)})&&k(a,"data-mce-selected","1")},Lh=function(e,n,a){var i=e.selection.getRng(),s=a.bind(function(l){var v=l.rng,m=l.isStartInTable,g=fC(e,m?v.endContainer:v.startContainer);v.deleteContents(),vC(e,m,g.filter(Fi));var E=m?n[0]:n[n.length-1];return xb(e,E,i,m),Fi(E)?X.none():X.some(m?n.slice(1):n.slice(0,-1))}).getOr(n);return Cb(s),$h(e),!0},Hh=function(e,n,a,i){var s=e.selection.getRng(),l=n[0],v=a[a.length-1];xb(e,l,s,!0),xb(e,v,s,!1);var m=Fi(l)?n:n.slice(1),g=Fi(v)?a:a.slice(0,-1);return Cb(m.concat(g)),i.deleteContents(),$h(e),!0},td=function(e,n,a,i){i===void 0&&(i=!0),n.deleteContents();var s=cC(a).getOr(a),l=w.fromDom(e.dom.getParent(s.dom,e.dom.isBlock));if(Fi(l)&&(Qv(l),i&&e.selection.setCursorLocation(l.dom,0)),!Sr(a,l)){var v=Tv(Fo(l),a)?[]:Oi(l);vt(v.concat(pu(a)),function(m){!Sr(m,l)&&!Aa(m,l)&&Fi(m)&&Io(m)})}return!0},Kl=function(e,n){return ed(e,!1,n),!0},Lm=function(e,n,a){return lC(n,a).map(function(i){return i.fold(bt(td,e),bt(Kl,e),bt(Lh,e),bt(Hh,e))})},UA=function(e,n){return Xl(e,n)},WA=function(e,n,a,i){return mC(n,i).fold(function(){return Lm(e,n,a)},function(s){return UA(e,s)}).getOr(!1)},sN=function(e,n,a){var i=w.fromDom(e.getBody()),s=e.selection.getRng();return a.length!==0?Lh(e,a,X.none()):WA(e,i,s,n)},dC=function(e,n){return Hn(sr(n,e),_l)},mC=function(e,n){return Hn(sr(n,e),Ig("caption"))},lN=function(e,n,a,i,s){return Sc(a,e.getBody(),s).bind(function(l){return dC(n,w.fromDom(l.getNode())).map(function(v){return Sr(v,i)===!1})})},Xl=function(e,n){return Qv(n),e.selection.setCursorLocation(n.dom,0),X.some(!0)},cN=function(e,n,a,i){return Tu(e.dom).bind(function(s){return ql(e.dom).map(function(l){return n?a.isEqual(s)&&i.isEqual(l):a.isEqual(l)&&i.isEqual(s)})}).getOr(!0)},Ou=function(e,n){return Xl(e,n)},fN=function(e,n,a){return mC(e,w.fromDom(a.getNode())).map(function(i){return Sr(i,n)===!1})},vN=function(e,n,a,i,s){return Sc(a,e.getBody(),s).bind(function(l){return cN(i,a,s,l)?Ou(e,i):fN(n,i,l)}).or(X.some(!0))},rf=function(e,n,a,i){var s=Et.fromRangeStart(e.selection.getRng());return dC(a,i).bind(function(l){return Fi(l)?Xl(e,l):lN(e,a,n,l,s)}).getOr(!1)},ya=function(e,n,a,i){var s=Et.fromRangeStart(e.selection.getRng());return Fi(i)?Xl(e,i):vN(e,a,n,i,s)},Jf=function(e,n){return e?gA(n):hA(n)},gC=function(e,n){var a=Et.fromRangeStart(e.selection.getRng());return Jf(n,a)||_s(n,e.getBody(),a).exists(function(i){return Jf(n,i)})},dN=function(e,n,a){var i=w.fromDom(e.getBody());return mC(i,a).fold(function(){return rf(e,n,i,a)||gC(e,n)},function(s){return ya(e,n,i,s).getOr(!1)})},nd=function(e,n){var a=w.fromDom(e.selection.getStart(!0)),i=ef(e);return e.selection.isCollapsed()&&i.length===0?dN(e,n,a):sN(e,a,i)},Yl=function(e,n,a,i){var s=document.createRange();return s.setStart(e,n),s.setEnd(a,i),s},mN=function(e){var n=Et.fromRangeStart(e),a=Et.fromRangeEnd(e),i=e.commonAncestorContainer;return _s(!1,i,a).map(function(s){return!Ul(n,a,i)&&Ul(n,s,i)?Yl(n.container(),n.offset(),s.container(),s.offset()):e}).getOr(e)},hC=function(e){return e.collapsed?e:mN(e)},gN=function(e){return e.firstChild&&e.firstChild===e.lastChild},pC=function(e){return e.name==="br"||e.value===Qu},hN=function(e,n){var a=e.getBlockElements();return a[n.name]&&gN(n)&&pC(n.firstChild)},pN=function(e,n){var a=e.getNonEmptyElements();return n&&(n.isEmpty(a)||hN(e,n))},jA=function(e,n){var a=n.firstChild,i=n.lastChild;return a&&a.name==="meta"&&(a=a.next),i&&i.attr("id")==="mce_marker"&&(i=i.prev),pN(e,i)&&(i=i.prev),!a||a!==i?!1:a.name==="ul"||a.name==="ol"},bN=function(e){var n=e.firstChild,a=e.lastChild;return n&&n.nodeName==="META"&&n.parentNode.removeChild(n),a&&a.id==="mce_marker"&&a.parentNode.removeChild(a),e},yN=function(e,n,a){var i=n.serialize(a),s=e.createFragment(i);return bN(s)},wN=function(e){return Ce(e.childNodes,function(n){return n.nodeName==="LI"})},us=function(e){return e.data===Qu||za(e)},Dc=function(e){return e&&e.firstChild&&e.firstChild===e.lastChild&&us(e.firstChild)},CN=function(e){return!e.firstChild||Dc(e)},qA=function(e){return e.length>0&&CN(e[e.length-1])?e.slice(0,-1):e},Hm=function(e,n){var a=e.getParent(n,e.isBlock);return a&&a.nodeName==="LI"?a:null},bC=function(e,n){return!!Hm(e,n)},xN=function(e,n){var a=n.cloneRange(),i=n.cloneRange();return a.setStartBefore(e),i.setEndAfter(e),[a.cloneContents(),i.cloneContents()]},GA=function(e,n){var a=Et.before(e),i=Po(n),s=i.next(a);return s?s.toRange():null},Vm=function(e,n){var a=Et.after(e),i=Po(n),s=i.prev(a);return s?s.toRange():null},Sb=function(e,n,a,i){var s=xN(e,i),l=e.parentNode;return l.insertBefore(s[0],e),Tt.each(n,function(v){l.insertBefore(v,e)}),l.insertBefore(s[1],e),l.removeChild(e),Vm(n[n.length-1],a)},SN=function(e,n,a){var i=e.parentNode;return Tt.each(n,function(s){i.insertBefore(s,e)}),GA(e,a)},Qf=function(e,n,a,i){return i.insertAfter(n.reverse(),e),Vm(n[0],a)},kN=function(e,n,a,i){var s=yN(n,e,i),l=Hm(n,a.startContainer),v=qA(wN(s.firstChild)),m=1,g=2,E=n.getRoot(),N=function(F){var $=Et.fromRangeStart(a),ee=Po(n.getRoot()),ne=F===m?ee.prev($):ee.next($);return ne?Hm(n,ne.getNode())!==l:!0};return N(m)?SN(l,v,E):N(g)?Qf(l,v,E,n):Sb(l,v,E,a)},EN=function(e,n,a){var i=w.fromDom(e.getRoot());return Nh(i,Et.fromRangeStart(n))?a=a.replace(/^ /,"&nbsp;"):a=a.replace(/^&nbsp;/," "),Fh(i,Et.fromRangeEnd(n))?a=a.replace(/(&nbsp;| )(<br( \/)>)?$/,"&nbsp;"):a=a.replace(/&nbsp;(<br( \/)?>)?$/," "),a},Du=Wd,yC=function(e,n,a){if(a!==null){var i=e.getParent(n.endContainer,Du);return a===i&&Mm(w.fromDom(a),n)}else return!1},Zl=function(e,n,a){if(a.getAttribute("data-mce-bogus")==="all")a.parentNode.insertBefore(e.dom.createFragment(n),a);else{var i=a.firstChild,s=a.lastChild;!i||i===s&&i.nodeName==="BR"?e.dom.setHTML(a,n):e.selection.setContent(n)}},TN=function(e,n){X.from(e.getParent(n,"td,th")).map(w.fromDom).each(RR)},Ba=function(e,n){var a=e.schema.getTextInlineElements(),i=e.dom;if(n){var s=e.getBody(),l=sA(i);Tt.each(i.select("*[data-mce-fragment]"),function(v){var m=gt(a[v.nodeName.toLowerCase()]);if(m&&AR(i,v))for(var g=v.parentNode;gt(g)&&g!==s;g=g.parentNode){var E=fA(i,v,g);if(E)break;if(l.compare(g,v)){i.remove(v,!0);break}}})}},rd=function(e){for(var n=e;n=n.walk();)n.type===1&&n.attr("data-mce-fragment","1")},kb=function(e){Tt.each(e.getElementsByTagName("*"),function(n){n.removeAttribute("data-mce-fragment")})},KA=function(e){return!!e.getAttribute("data-mce-fragment")},wC=function(e,n){return n&&!e.schema.getShortEndedElements()[n.nodeName]},CC=function(e,n){var a,i=e.dom,s=e.selection;if(n){s.scrollIntoView(n);var l=Bm(e.getBody(),n);if(i.getContentEditable(l)==="false"){i.remove(n),s.select(l);return}var v=i.createRng(),m=n.previousSibling;if(Wn(m)){if(v.setStart(m,m.nodeValue.length),!an.ie){var g=n.nextSibling;Wn(g)&&(m.appendData(g.data),g.parentNode.removeChild(g))}}else v.setStartBefore(n),v.setEndBefore(n);var E=function(F){var $=Et.fromRangeStart(F),ee=Po(e.getBody());if($=ee.next($),$)return $.toRange()},N=i.getParent(n,i.isBlock);i.remove(n),N&&i.isEmpty(N)&&(e.$(N).empty(),v.setStart(N,0),v.setEnd(N,0),!Du(N)&&!KA(N)&&(a=E(v))?(v=a,i.remove(N)):i.add(N,i.create("br",{"data-mce-bogus":"1"}))),s.setRng(v)}},AN=function(e){var n=e.dom,a=hC(e.selection.getRng());e.selection.setRng(a);var i=n.getParent(a.startContainer,Du);yC(n,a,i)?td(e,a,w.fromDom(i)):e.getDoc().execCommand("Delete",!1,null)},xC=function(e,n,a){var i,s,l,v=e.selection,m=e.dom;/^ | $/.test(n)&&(n=EN(m,v.getRng(),n));var g=e.parser,E=a.merge,N=Jv({validate:NB(e)},e.schema),F='<span id="mce_marker" data-mce-type="bookmark">&#xFEFF;</span>',$=e.fire("BeforeSetContent",{content:n,format:"html",selection:!0,paste:a.paste});if($.isDefaultPrevented()){e.fire("SetContent",{content:$.content,format:"html",selection:!0,paste:a.paste});return}n=$.content,a.preserve_zwsp||(n=ts(n)),n.indexOf("{$caret}")===-1&&(n+="{$caret}"),n=n.replace(/\{\$caret\}/,F),s=v.getRng();var ee=s.startContainer||(s.parentElement?s.parentElement():null),ne=e.getBody();ee===ne&&v.isCollapsed()&&m.isBlock(ne.firstChild)&&wC(e,ne.firstChild)&&m.isEmpty(ne.firstChild)&&(s=m.createRng(),s.setStart(ne.firstChild,0),s.setEnd(ne.firstChild,0),v.setRng(s)),v.isCollapsed()||AN(e),i=v.getNode();var re={context:i.nodeName.toLowerCase(),data:a.data,insert:!0},ie=g.parse(n,re);if(a.paste===!0&&jA(e.schema,ie)&&bC(m,i)){s=kN(N,m,v.getRng(),ie),v.setRng(s),e.fire("SetContent",$);return}if(rd(ie),l=ie.lastChild,l.attr("id")==="mce_marker"){var we=l;for(l=l.prev;l;l=l.walk(!0))if(l.type===3||!m.isBlock(l.name)){e.schema.isValidChild(l.parent.name,"span")&&l.parent.insert(we,l,l.name==="br");break}}if(e._selectionOverrides.showBlockCaretContainer(i),!re.invalid)n=N.serialize(ie),Zl(e,n,i);else{e.selection.setContent(F),i=v.getNode();var ge=e.getBody();for(i.nodeType===9?i=l=ge:l=i;l!==ge;)i=l,l=l.parentNode;n=i===ge?ge.innerHTML:m.getOuterHTML(i),n=N.serialize(g.parse(n.replace(/<span (id="mce_marker"|id=mce_marker).+?<\/span>/i,function(){return N.serialize(ie)}))),i===ge?m.setHTML(ge,n):m.setOuterHTML(i,n)}Ba(e,E),CC(e,m.get("mce_marker")),kb(e.getBody()),TN(m,v.getStart()),e.fire("SetContent",$),e.addVisual()},SC=function(e,n){n(e),e.firstChild&&SC(e.firstChild,n),e.next&&SC(e.next,n)},XA=function(e,n,a){var i={},s={},l=[];a.firstChild&&SC(a.firstChild,function(g){vt(e,function(E){E.name===g.name&&(i[E.name]?i[E.name].nodes.push(g):i[E.name]={filter:E,nodes:[g]})}),vt(n,function(E){typeof g.attr(E.name)=="string"&&(s[E.name]?s[E.name].nodes.push(g):s[E.name]={filter:E,nodes:[g]})})});for(var v in i)xr(i,v)&&l.push(i[v]);for(var m in s)xr(s,m)&&l.push(s[m]);return l},YA=function(e,n,a){var i=XA(e,n,a);vt(i,function(s){vt(s.filter.callbacks,function(l){l(s.nodes,s.filter.name,{})})})},kC="html",Eb=function(e){return e instanceof el},Tb=function(e){Oc(e)&&Tu(e.getBody()).each(function(n){var a=n.getNode(),i=gi(a)?Tu(a).getOr(n):n;e.selection.setRng(i.toRange())})},EC=function(e,n,a){e.dom.setHTML(e.getBody(),n),a!==!0&&Tb(e)},ON=function(e,n,a,i){if(a=ts(a),a.length===0||/^\s+$/.test(a)){var s='<br data-mce-bogus="1">';n.nodeName==="TABLE"?a="<tr><td>"+s+"</td></tr>":/^(UL|OL)$/.test(n.nodeName)&&(a="<li>"+s+"</li>");var l=Ji(e);l&&e.schema.isValidChild(n.nodeName.toLowerCase(),l.toLowerCase())?(a=s,a=e.dom.createHTML(l,ch(e),a)):a||(a='<br data-mce-bogus="1">'),EC(e,a,i.no_selection),e.fire("SetContent",i)}else i.format!=="raw"&&(a=Jv({validate:e.validate},e.schema).serialize(e.parser.parse(a,{isRootContent:!0,insert:!0}))),i.content=Kg(w.fromDom(n))?a:Tt.trim(a),EC(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i);return i.content},DN=function(e,n,a,i){YA(e.parser.getNodeFilters(),e.parser.getAttributeFilters(),a);var s=Jv({validate:e.validate},e.schema).serialize(a);return i.content=ts(Kg(w.fromDom(n))?s:Tt.trim(s)),EC(e,i.content,i.no_selection),i.no_events||e.fire("SetContent",i),a},_N=function(e,n){return Gn(Gn({format:kC},e),{set:!0,content:Eb(n)?"":n})},MN=function(e,n,a){var i=_N(a,n),s=a.no_events?i:e.fire("BeforeSetContent",i);return Eb(n)||(n=s.content),X.from(e.getBody()).fold(xe(n),function(l){return Eb(n)?DN(e,l,n,s):ON(e,l,n,s)})},BN=function(e,n){return $y(e,n).isSome()},ZA=function(e){return Se(e)?e:Kt},PN=function(e,n,a){for(var i=e.dom,s=ZA(a);i.parentNode;){i=i.parentNode;var l=w.fromDom(i),v=n(l);if(v.isSome())return v;if(s(l))break}return X.none()},TC=function(e,n,a){var i=n(e),s=ZA(a);return i.orThunk(function(){return s(e)?X.none():PN(e,n,s)})},AC=m2,OC=function(e,n,a){var i=e.formatter.get(a);if(i)for(var s=0;s<i.length;s++){var l=i[s];if(Ms(l)&&l.inherit===!1&&e.dom.is(n,l.selector))return!0}return!1},DC=function(e,n,a,i,s){var l=e.dom.getRoot();return n===l?!1:(n=e.dom.getParent(n,function(v){return OC(e,v,a)?!0:v.parentNode===l||!!_c(e,v,a,i,!0)}),!!_c(e,n,a,i,s))},Ab=function(e,n,a){if(AC(n,a.inline)||AC(n,a.block))return!0;if(a.selector)return n.nodeType===1&&e.is(n,a.selector)},ml=function(e,n,a,i,s,l){var v=a[i];if(Se(a.onmatch))return a.onmatch(n,a,i);if(v){if(Te(v.length)){for(var m in v)if(xr(v,m)){var g=i==="attributes"?e.getAttrib(n,m):yh(e,n,m),E=Ec(v[m],l),N=Be(g)||ln(g);if(N&&Be(E))continue;if(s&&N&&!a.exact||(!s||a.exact)&&!AC(g,g2(e,E,m)))return!1}}else for(var F=0;F<v.length;F++)if(i==="attributes"?e.getAttrib(n,v[F]):yh(e,n,v[F]))return!0}return!0},_c=function(e,n,a,i,s){var l=e.formatter.get(a),v=e.dom;if(l&&n)for(var m=0;m<l.length;m++){var g=l[m];if(Ab(e.dom,n,g)&&ml(v,n,g,"attributes",s,i)&&ml(v,n,g,"styles",s,i)){var E=g.classes;if(E){for(var N=0;N<E.length;N++)if(!e.dom.hasClass(n,Ec(E[N],i)))return}return g}}},Ob=function(e,n,a,i,s){if(i)return DC(e,i,n,a,s);if(i=e.selection.getNode(),DC(e,i,n,a,s))return!0;var l=e.selection.getStart();return!!(l!==i&&DC(e,l,n,a,s))},_C=function(e,n,a){var i=[],s={},l=e.selection.getStart();return e.dom.getParent(l,function(v){for(var m=0;m<n.length;m++){var g=n[m];!s[g]&&_c(e,v,g,a)&&(s[g]=!0,i.push(g))}},e.dom.getRoot()),i},MC=function(e,n){var a=function(s){return Sr(s,w.fromDom(e.getBody()))},i=function(s,l){return _c(e,s.dom,l)?X.some(l):X.none()};return X.from(e.selection.getStart(!0)).bind(function(s){return TC(w.fromDom(s),function(l){return ze(n,function(v){return i(l,v)})},a)}).getOrNull()},JA=function(e,n){var a=e.formatter.get(n),i=e.dom;if(a)for(var s=e.selection.getStart(),l=U1(i,s),v=a.length-1;v>=0;v--){var m=a[v];if(!Ms(m)||gt(m.defaultBlock))return!0;for(var g=l.length-1;g>=0;g--)if(i.is(l[g],m.selector))return!0}return!1},QA=function(e,n,a){return pn(a,function(i,s){var l=xP(e,s);return e.formatter.matchNode(n,s,{},l)?i.concat([s]):i},[])},Um=$e,e3="_mce_caret",BC=function(e,n){return e.importNode(n,!0)},t3=function(e){for(var n=[];e;){if(e.nodeType===3&&e.nodeValue!==Um||e.childNodes.length>1)return[];e.nodeType===1&&n.push(e),e=e.firstChild}return n},gl=function(e){return t3(e).length>0},n3=function(e){if(e){var n=new Wa(e,e);for(e=n.current();e;e=n.next())if(Wn(e))return e}return null},PC=function(e){var n=w.fromTag("span");return I(n,{id:e3,"data-mce-bogus":"1","data-mce-type":"format-caret"}),e&&Ni(n,w.fromText(Um)),n},RN=function(e){var n=n3(e);return n&&n.nodeValue.charAt(0)===Um&&n.deleteData(0,1),n},Vh=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,s=e.selection;if(gl(n))ed(e,!1,w.fromDom(n),a);else{var l=s.getRng(),v=i.getParent(n,i.isBlock),m=l.startContainer,g=l.startOffset,E=l.endContainer,N=l.endOffset,F=RN(n);i.remove(n,!0),m===F&&g>0&&l.setStart(F,g-1),E===F&&N>0&&l.setEnd(F,N-1),v&&i.isEmpty(v)&&Qv(w.fromDom(v)),s.setRng(l)}},RC=function(e,n,a){a===void 0&&(a=!0);var i=e.dom,s=e.selection;if(n)Vh(e,n,a);else if(n=Wv(e.getBody(),s.getStart()),!n)for(;n=i.get(e3);)Vh(e,n,!1)},NN=function(e,n,a){var i=e.dom,s=i.getParent(a,bt(d2,e));s&&i.isEmpty(s)?a.parentNode.replaceChild(n,a):(PR(w.fromDom(a)),i.isEmpty(a)?a.parentNode.replaceChild(n,a):i.insertAfter(n,a))},Db=function(e,n){return e.appendChild(n),n},r3=function(e,n){var a=pt(e,function(i,s){return Db(i,s.cloneNode(!1))},n);return Db(a,a.ownerDocument.createTextNode(Um))},FN=function(e,n,a,i,s,l){var v=e.formatter,m=e.dom,g=Ce($t(v.get()),function($){return $!==i&&!At($,"removeformat")}),E=QA(e,a,g),N=Ce(E,function($){return!SP(e,$,i)});if(N.length>0){var F=a.cloneNode(!1);return m.add(n,F),v.remove(i,s,F,l),m.remove(F),X.some(F)}else return X.none()},a3=function(e,n,a){var i,s,l=e.selection,v=l.getRng(),m=v.startOffset,g=v.startContainer,E=g.nodeValue;i=Wv(e.getBody(),l.getStart()),i&&(s=n3(i));var N=/[^\s\u00a0\u00ad\u200b\ufeff]/;if(E&&m>0&&m<E.length&&N.test(E.charAt(m))&&N.test(E.charAt(m-1))){var F=l.getBookmark();v.collapse(!0);var $=Gv(e,v,e.formatter.get(n));$=nb($),e.formatter.apply(n,a,$),l.moveToBookmark(F)}else(!i||s.nodeValue!==Um)&&(i=BC(e.getDoc(),PC(!0).dom),s=i.firstChild,v.insertNode(i),m=1),e.formatter.apply(n,a,i),l.setCursorLocation(s,m)},IN=function(e,n,a,i){var s=e.dom,l=e.selection,v,m,g,E=[],N=l.getRng(),F=N.startContainer,$=N.startOffset;for(m=F,F.nodeType===3&&($!==F.nodeValue.length&&(v=!0),m=m.parentNode);m;){if(_c(e,m,n,a,i)){g=m;break}m.nextSibling&&(v=!0),E.push(m),m=m.parentNode}if(g)if(v){var ee=l.getBookmark();N.collapse(!0);var ne=Gv(e,N,e.formatter.get(n),!0);ne=nb(ne),e.formatter.remove(n,a,ne,i),l.moveToBookmark(ee)}else{var re=Wv(e.getBody(),g),ie=PC(!1).dom;NN(e,ie,re!==null?re:g);var we=FN(e,ie,g,n,a,i),ge=r3(E.concat(we.toArray()),ie);Vh(e,re,!1),l.setCursorLocation(ge,1),s.isEmpty(g)&&s.remove(g)}},zN=function(e,n){var a=e.selection,i=e.getBody();RC(e,null,!1),(n===8||n===46)&&a.isCollapsed()&&a.getStart().innerHTML===Um&&RC(e,Wv(i,a.getStart())),(n===37||n===39)&&RC(e,Wv(i,a.getStart()))},_b=function(e){e.on("mouseup keydown",function(n){zN(e,n.keyCode)})},$N=function(e,n){var a=PC(!1),i=r3(n,a.dom);return Us(w.fromDom(e),a),Io(w.fromDom(e)),Et(i,0)},o3=function(e,n){var a=e.schema.getTextInlineElements();return xr(a,Sa(n))&&!kc(n.dom)&&!Kc(n.dom)},i3=function(e){return kc(e.dom)&&gl(e.dom)},Wm={},u3=Qa,s3=Ga,NC=function(e,n){var a=Wm[e];a||(Wm[e]=[]),Wm[e].push(n)},LN=function(e,n){s3(Wm[e],function(a){a(n)})};NC("pre",function(e){var n=e.selection.getRng(),a,i=function(v){return l(v.previousSibling)&&Pa(a,v.previousSibling)!==-1},s=function(v,m){Vr(m).remove(),Vr(v).append("<br><br>").append(m.childNodes)},l=Cs(["pre"]);n.collapsed||(a=e.selection.getSelectedBlocks(),s3(u3(u3(a,l),i),function(v){s(v.previousSibling,v)}))});var FC=Tt.each,ad=function(e){return Br(e)&&!os(e)&&!kc(e)&&!Kc(e)},Mb=function(e,n){for(var a=e;a;a=a[n]){if(Wn(a)&&rt(a.data))return e;if(Br(a)&&!os(a))return a}return e},l3=function(e,n,a){var i=sA(e);if(n&&a&&(n=Mb(n,"previousSibling"),a=Mb(a,"nextSibling"),i.compare(n,a))){for(var s=n.nextSibling;s&&s!==a;){var l=s;s=s.nextSibling,n.appendChild(l)}return e.remove(a),Tt.each(Tt.grep(a.childNodes),function(v){n.appendChild(v)}),n}return a},c3=function(e,n,a,i){if(i&&n.merge_siblings!==!1){var s=l3(e,v2(i),i);l3(e,s,v2(s,!0))}},f3=function(e,n,a){if(n.clear_child_styles){var i=n.links?"*:not(a)":"*";FC(e.select(i,a),function(s){ad(s)&&FC(n.styles,function(l,v){e.setStyle(s,v,"")})})}},Bb=function(e,n,a){FC(e.childNodes,function(i){ad(i)&&(n(i)&&a(i),i.hasChildNodes()&&Bb(i,n,a))})},HN=function(e,n){n.nodeName==="SPAN"&&e.getAttribs(n).length===0&&e.remove(n,!0)},v3=function(e,n){return function(a){return!!(a&&yh(e,a,n))}},d3=function(e,n,a){return function(i){e.setStyle(i,n,a),i.getAttribute("style")===""&&i.removeAttribute("style"),HN(e,i)}},Uh=dr.generate([{keep:[]},{rename:["name"]},{removed:[]}]),m3=/^(src|href|style)$/,Pb=Tt.each,jm=m2,VN=function(e){return/^(TR|TH|TD)$/.test(e.nodeName)},g3=function(e,n,a){return e.isChildOf(n,a)&&n!==a&&!e.isBlock(a)},h3=function(e,n,a){var i=n[a?"startContainer":"endContainer"],s=n[a?"startOffset":"endOffset"];if(Br(i)){var l=i.childNodes.length-1;!a&&s&&s--,i=i.childNodes[s>l?l:s]}return Wn(i)&&a&&s>=i.nodeValue.length&&(i=new Wa(i,e.getBody()).next()||i),Wn(i)&&!a&&s===0&&(i=new Wa(i,e.getBody()).prev()||i),i},p3=function(e,n){var a=n?"firstChild":"lastChild";if(VN(e)&&e[a]){var i=e[a];return e.nodeName==="TR"&&i[a]||i}return e},IC=function(e,n,a,i){var s=e.create(a,i);return n.parentNode.insertBefore(s,n),s.appendChild(n),s},qm=function(e,n,a,i,s){var l=w.fromDom(n),v=w.fromDom(e.create(i,s)),m=a?Hc(l):Ia(l);return Id(v,m),a?(Us(l,v),zg(v,l)):(wf(l,v),Ni(v,l)),v.dom},UN=function(e,n,a){if(Li(a)&&jm(n,a.inline)||Tc(a)&&jm(n,a.block))return!0;if(Ms(a))return Br(n)&&e.is(n,a.selector)},b3=function(e,n){return n.links&&e.nodeName==="A"},Gm=function(e,n,a,i){var s=v2(n,a,i);return Be(s)||s.nodeName==="BR"||e.isBlock(s)},WN=function(e,n,a){var i=n.parentNode,s,l=e.dom,v=Ji(e);Tc(a)&&(v?i===l.getRoot()&&(!a.list_block||!jm(n,a.list_block))&&vt(Jt(n.childNodes),function(m){Om(e,v,m.nodeName.toLowerCase())?s?s.appendChild(m):(s=IC(l,m,v),l.setAttribs(s,e.settings.forced_root_block_attrs)):s=null}):l.isBlock(n)&&!l.isBlock(i)&&(!Gm(l,n,!1)&&!Gm(l,n.firstChild,!0,!0)&&n.insertBefore(l.create("br"),n.firstChild),!Gm(l,n,!0)&&!Gm(l,n.lastChild,!1,!0)&&n.appendChild(l.create("br")))),!(kP(a)&&!jm(a.inline,n))&&l.remove(n,!0)},zC=function(e,n,a,i,s){var l,v=e.dom;if(!UN(v,i,n)&&!b3(i,n))return Uh.keep();var m=i;if(Li(n)&&n.remove==="all"&&Ve(n.preserve_attributes)){var g=Ce(v.getAttribs(m),function($){return We(n.preserve_attributes,$.name.toLowerCase())});if(v.removeAllAttribs(m),vt(g,function($){return v.setAttrib(m,$.name,$.value)}),g.length>0)return Uh.rename("span")}if(n.remove!=="all"){Pb(n.styles,function($,ee){$=g2(v,Ec($,a),ee+""),je(ee)&&(ee=$,s=null),(n.remove_similar||!s||jm(yh(v,s,ee),$))&&v.setStyle(m,ee,""),l=!0}),l&&v.getAttrib(m,"style")===""&&(m.removeAttribute("style"),m.removeAttribute("data-mce-style")),Pb(n.attributes,function($,ee){var ne;if($=Ec($,a),je(ee)&&(ee=$,s=null),n.remove_similar||!s||jm(v.getAttrib(s,ee),$)){if(ee==="class"&&($=v.getAttrib(m,ee),$&&(ne="",vt($.split(/\s+/),function(re){/mce\-\w+/.test(re)&&(ne+=(ne?" ":"")+re)}),ne))){v.setAttrib(m,ee,ne);return}if(m3.test(ee)&&m.removeAttribute("data-mce-"+ee),ee==="style"&&Cs(["li"])(m)&&v.getStyle(m,"list-style-type")==="none"){m.removeAttribute(ee),v.setStyle(m,"list-style-type","none");return}ee==="class"&&m.removeAttribute("className"),m.removeAttribute(ee)}}),Pb(n.classes,function($){$=Ec($,a),(!s||v.hasClass(s,$))&&v.removeClass(m,$)});for(var E=v.getAttribs(m),N=0;N<E.length;N++){var F=E[N].nodeName;if(F.indexOf("_")!==0&&F.indexOf("data-")!==0)return Uh.keep()}}return n.remove!=="none"?(WN(e,m,n),Uh.removed()):Uh.keep()},od=function(e,n,a,i,s){return zC(e,n,a,i,s).fold(Kt,function(l){return e.dom.rename(i,l),!0},Rn)},jN=function(e,n,a,i,s){var l;return vt(U1(e.dom,n.parentNode).reverse(),function(v){if(!l&&v.id!=="_start"&&v.id!=="_end"){var m=_c(e,v,a,i,s);m&&m.split!==!1&&(l=v)}}),l},qN=function(e,n,a,i){return zC(e,n,a,i,i).fold(xe(i),function(s){var l=e.dom.createFragment();return l.appendChild(i),e.dom.rename(i,s)},xe(null))},GN=function(e,n,a,i,s,l,v,m){var g,E,N,F=e.dom;if(a){for(var $=a.parentNode,ee=i.parentNode;ee&&ee!==$;ee=ee.parentNode){g=F.clone(ee,!1);for(var ne=0;ne<n.length&&(g=qN(e,n[ne],m,g),g!==null);ne++);g&&(E&&g.appendChild(E),N||(N=g),E=g)}(!v.mixed||!F.isBlock(a))&&(i=F.split(a,i)),E&&(s.parentNode.insertBefore(E,s),N.appendChild(s),Li(v)&&c3(F,v,m,E))}return i},y3=function(e,n,a,i,s){var l=e.formatter.get(n),v=l[0],m=!0,g=e.dom,E=e.selection,N=function(ge){var Je=jN(e,ge,n,a,s);return GN(e,l,Je,ge,ge,!0,v,a)},F=function(ge){return os(ge)&&Br(ge)&&(ge.id==="_start"||ge.id==="_end")},$=function(ge){return ft(l,function(Je){return od(e,Je,a,ge,ge)})},ee=function(ge){var Je=!0,qe=!1;Br(ge)&&g.getContentEditable(ge)&&(Je=m,m=g.getContentEditable(ge)==="true",qe=!0);var De=Jt(ge.childNodes);if(m&&!qe){var nt=$(ge),Rt=nt||ft(l,function(Ft){return Ab(g,ge,Ft)}),en=ge.parentNode;!Rt&&gt(en)&&h2(v)&&$(en)}if(v.deep&&De.length){for(var yr=0;yr<De.length;yr++)ee(De[yr]);qe&&(m=Je)}var Fn=["underline","line-through","overline"];vt(Fn,function(Ft){Br(ge)&&e.dom.getStyle(ge,"text-decoration")===Ft&&ge.parentNode&&iT(g,ge.parentNode)===Ft&&od(e,{deep:!1,exact:!0,inline:"span",styles:{textDecoration:Ft}},null,ge)})},ne=function(ge){var Je=g.get(ge?"_start":"_end"),qe=Je[ge?"firstChild":"lastChild"];return F(qe)&&(qe=qe[ge?"firstChild":"lastChild"]),Wn(qe)&&qe.data.length===0&&(qe=ge?Je.previousSibling||Je.nextSibling:Je.nextSibling||Je.previousSibling),g.remove(Je,!0),qe},re=function(ge){var Je,qe,De=Gv(e,ge,l,ge.collapsed);if(v.split){if(De=nb(De),Je=h3(e,De,!0),qe=h3(e,De),Je!==qe){if(Je=p3(Je,!0),qe=p3(qe,!1),g3(g,Je,qe)){var nt=X.from(Je.firstChild).getOr(Je);N(qm(g,nt,!0,"span",{id:"_start","data-mce-type":"bookmark"})),ne(!0);return}if(g3(g,qe,Je)){var nt=X.from(qe.lastChild).getOr(qe);N(qm(g,nt,!1,"span",{id:"_end","data-mce-type":"bookmark"})),ne(!1);return}Je=IC(g,Je,"span",{id:"_start","data-mce-type":"bookmark"}),qe=IC(g,qe,"span",{id:"_end","data-mce-type":"bookmark"});var Rt=g.createRng();Rt.setStartAfter(Je),Rt.setEndBefore(qe),Ch(g,Rt,function(en){vt(en,function(yr){!os(yr)&&!os(yr.parentNode)&&N(yr)})}),N(Je),N(qe),Je=ne(!0),qe=ne()}else Je=qe=N(Je);De.startContainer=Je.parentNode?Je.parentNode:Je,De.startOffset=g.nodeIndex(Je),De.endContainer=qe.parentNode?qe.parentNode:qe,De.endOffset=g.nodeIndex(qe)+1}Ch(g,De,function(en){vt(en,ee)})};if(i){if(H1(i)){var ie=g.createRng();ie.setStartBefore(i),ie.setEndAfter(i),re(ie)}else re(i);kh(e,n,i,a);return}if(g.getContentEditable(E.getNode())==="false"){i=E.getNode();for(var we=0;we<l.length&&!(l[we].ceFalseOverride&&od(e,l[we],a,i,i));we++);kh(e,n,i,a);return}!E.isCollapsed()||!Li(v)||ef(e).length?(x2(E,!0,function(){C2(e,re)}),Li(v)&&Ob(e,n,a,E.getStart())&&oT(g,E,E.getRng()),e.nodeChanged()):IN(e,n,a,s),kh(e,n,i,a)},w3=Tt.each,KN=function(e,n,a,i){var s=function(l){if(l.nodeType===1&&l.parentNode&&l.parentNode.nodeType===1){var v=iT(e,l.parentNode);e.getStyle(l,"color")&&v?e.setStyle(l,"text-decoration",v):e.getStyle(l,"text-decoration")===v&&e.setStyle(l,"text-decoration",null)}};n.styles&&(n.styles.color||n.styles.textDecoration)&&(Tt.walk(i,s,"childNodes"),s(i))},XN=function(e,n,a,i){n.styles&&n.styles.backgroundColor&&Bb(i,v3(e,"fontSize"),d3(e,"backgroundColor",Ec(n.styles.backgroundColor,a)))},YN=function(e,n,a,i){Li(n)&&(n.inline==="sub"||n.inline==="sup")&&(Bb(i,v3(e,"fontSize"),d3(e,"fontSize","")),e.remove(e.select(n.inline==="sup"?"sub":"sup",i),!0))},ZN=function(e,n,a,i){w3(n,function(s){Li(s)&&w3(e.dom.select(s.inline,i),function(l){ad(l)&&od(e,s,a,l,s.exact?l:null)}),f3(e.dom,s,i)})},JN=function(e,n,a,i,s){_c(e,s.parentNode,a,i)&&od(e,n,i,s)||n.merge_with_parents&&e.dom.getParent(s.parentNode,function(l){if(_c(e,l,a,i))return od(e,n,i,s),!0})},Rb=Tt.each,$C=function(e){return Br(e)&&!os(e)&&!kc(e)&&!Kc(e)},Jl=function(e,n,a,i){if(Kw(e)&&Li(n)){var s=Qp(e.schema),l=BN(w.fromDom(a),function(v){return kc(v.dom)});return ha(s,i)&&Fi(w.fromDom(a.parentNode),!1)&&!l}else return!1},Wh=function(e,n,a,i){var s=e.formatter.get(n),l=s[0],v=!i&&e.selection.isCollapsed(),m=e.dom,g=e.selection,E=function(Je,qe){if(qe===void 0&&(qe=l),Se(qe.onformat)&&qe.onformat(Je,qe,a,i),Rb(qe.styles,function(nt,Rt){m.setStyle(Je,Rt,Ec(nt,a))}),qe.styles){var De=m.getAttrib(Je,"style");De&&m.setAttrib(Je,"data-mce-style",De)}Rb(qe.attributes,function(nt,Rt){m.setAttrib(Je,Rt,Ec(nt,a))}),Rb(qe.classes,function(nt){nt=Ec(nt,a),m.hasClass(Je,nt)||m.addClass(Je,nt)})},N=function(Je,qe){var De=!1;return Rb(Je,function(nt){if(!Ms(nt))return!1;if(!(gt(nt.collapsed)&&nt.collapsed!==v)&&m.is(qe,nt.selector)&&!kc(qe))return E(qe,nt),De=!0,!1}),De},F=function(Je){if(Ae(Je)){var qe=m.create(Je);return E(qe),qe}else return null},$=function(Je,qe,De){var nt=[],Rt=!0,en=l.inline||l.block,yr=F(en);Ch(Je,qe,function(Fn){var Ft,ar=function(on){var Pn=!1,un=Rt,xn=on.nodeName.toLowerCase(),Vn=on.parentNode,Yt=Vn.nodeName.toLowerCase();if(Br(on)&&Je.getContentEditable(on)&&(un=Rt,Rt=Je.getContentEditable(on)==="true",Pn=!0),za(on)&&!Jl(e,l,on,Yt)){Ft=null,Tc(l)&&Je.remove(on);return}if(Tc(l)&&l.wrapper&&_c(e,on,n,a)){Ft=null;return}if(Rt&&!Pn&&Tc(l)&&!l.wrapper&&d2(e,xn)&&Om(e,Yt,en)){var zn=Je.rename(on,en);E(zn),nt.push(zn),Ft=null;return}if(Ms(l)){var Gr=N(s,on);if(!Gr&&gt(Vn)&&h2(l)&&(Gr=N(s,Vn)),!Li(l)||Gr){Ft=null;return}}Rt&&!Pn&&Om(e,en,xn)&&Om(e,Yt,en)&&!(!De&&Wn(on)&&es(on.data))&&!kc(on)&&(!Li(l)||!Je.isBlock(on))?(Ft||(Ft=Je.clone(yr,!1),on.parentNode.insertBefore(Ft,on),nt.push(Ft)),Ft.appendChild(on)):(Ft=null,vt(Jt(on.childNodes),ar),Pn&&(Rt=un),Ft=null)};vt(Fn,ar)}),l.links===!0&&vt(nt,function(Fn){var Ft=function(ar){ar.nodeName==="A"&&E(ar,l),vt(Jt(ar.childNodes),Ft)};Ft(Fn)}),vt(nt,function(Fn){var Ft=function(Pn){var un=0;return vt(Pn.childNodes,function(xn){!CP(xn)&&!os(xn)&&un++}),un},ar=function(Pn){var un=Hn(Pn.childNodes,$C).filter(function(xn){return Ab(Je,xn,l)});return un.map(function(xn){var Vn=Je.clone(xn,!1);return E(Vn),Je.replace(Vn,Pn,!0),Je.remove(xn,!0),Vn}).getOr(Pn)},on=Ft(Fn);if((nt.length>1||!Je.isBlock(Fn))&&on===0){Je.remove(Fn,!0);return}(Li(l)||Tc(l)&&l.wrapper)&&(!l.exact&&on===1&&(Fn=ar(Fn)),ZN(e,s,a,Fn),JN(e,l,n,a,Fn),XN(Je,l,a,Fn),KN(Je,l,a,Fn),YN(Je,l,a,Fn),c3(Je,l,a,Fn))})};if(m.getContentEditable(g.getNode())==="false"){i=g.getNode();for(var ee=0,ne=s.length;ee<ne;ee++){var re=s[ee];if(re.ceFalseOverride&&Ms(re)&&m.is(i,re.selector)){E(i,re);break}}O2(e,n,i,a);return}if(l){if(i)if(H1(i)){if(!N(s,i)){var ie=m.createRng();ie.setStartBefore(i),ie.setEndAfter(i),$(m,Gv(e,ie,s),!0)}}else $(m,i,!0);else if(!v||!Li(l)||ef(e).length){var we=g.getNode(),ge=s[0];!e.settings.forced_root_block&&ge.defaultBlock&&!m.getParent(we,m.isBlock)&&Wh(e,ge.defaultBlock),g.setRng(hC(g.getRng())),x2(g,!0,function(){C2(e,function(Je,qe){var De=qe?Je:Gv(e,Je,s);$(m,De,!1)})}),oT(m,g,g.getRng()),e.nodeChanged()}else a3(e,n,a);LN(n,e)}O2(e,n,i,a)},Nb=function(e){return xr(e,"vars")},LC=function(e,n){e.set({}),n.on("NodeChange",function(a){VC(n,a.element,e.get())}),n.on("FormatApply FormatRemove",function(a){var i=X.from(a.node).map(function(s){return H1(s)?s:s.startContainer}).bind(function(s){return Br(s)?X.some(s):X.from(s.parentElement)}).getOrThunk(function(){return C3(n)});VC(n,i,e.get())})},C3=function(e){return e.selection.getStart()},HC=function(e,n,a,i,s){var l=function(m){var g=e.formatter.matchNode(m,a,s!=null?s:{},i);return!Te(g)},v=function(m){return OC(e,m,a)?!0:i?!1:gt(e.formatter.matchNode(m,a,s,!0))};return Nn(n,l,v)},x3=function(e,n){var a=n!=null?n:C3(e);return Ce(U1(e.dom,a),function(i){return Br(i)&&!Kc(i)})},VC=function(e,n,a){var i=x3(e,n);vn(a,function(s,l){var v=function(m){var g=HC(e,i,l,m.similar,Nb(m)?m.vars:void 0),E=g.isSome();if(m.state.get()!==E){m.state.set(E);var N=g.getOr(n);Nb(m)?m.callback(E,{node:N,format:l,parents:i}):vt(m.callbacks,function(F){return F(E,{node:N,format:l,parents:i})})}};vt([s.withSimilar,s.withoutSimilar],v),vt(s.withVars,v)})},UC=function(e,n,a,i,s,l){var v=n.get();vt(a.split(","),function(m){var g=Ar(v,m).getOrThunk(function(){var F={withSimilar:{state:xu(!1),similar:!0,callbacks:[]},withoutSimilar:{state:xu(!1),similar:!1,callbacks:[]},withVars:[]};return v[m]=F,F}),E=function(){var F=x3(e);return HC(e,F,m,s,l).isSome()};if(Te(l)){var N=s?g.withSimilar:g.withoutSimilar;N.callbacks.push(i),N.callbacks.length===1&&N.state.set(E())}else g.withVars.push({state:xu(E()),similar:s,vars:l,callback:i})}),n.set(v)},QN=function(e,n,a){var i=e.get();vt(n.split(","),function(s){return Ar(i,s).each(function(l){i[s]={withSimilar:Gn(Gn({},l.withSimilar),{callbacks:Ce(l.withSimilar.callbacks,function(v){return v!==a})}),withoutSimilar:Gn(Gn({},l.withoutSimilar),{callbacks:Ce(l.withoutSimilar.callbacks,function(v){return v!==a})}),withVars:Ce(l.withVars,function(v){return v.callback!==a})}})}),e.set(i)},S3=function(e,n,a,i,s,l){return n.get()===null&&LC(n,e),UC(e,n,a,i,s,l),{unbind:function(){return QN(n,a,i)}}},e5=function(e,n,a,i){var s=e.formatter.get(n);Ob(e,n,a,i)&&(!("toggle"in s[0])||s[0].toggle)?y3(e,n,a,i):Wh(e,n,a,i)},id=function(e,n){var a=document,i=a.createDocumentFragment();return vt(e,function(s){i.appendChild(s.dom)}),w.fromDom(i)},Fb=function(e,n,a){return{element:e,width:n,rows:a}},k3=function(e,n){return{element:e,cells:n}},E3=function(e,n){return{x:e,y:n}},T3=function(e,n){var a=parseInt(j(e,n),10);return isNaN(a)?1:a},t5=function(e,n,a,i,s){for(var l=T3(s,"rowspan"),v=T3(s,"colspan"),m=e.rows,g=a;g<a+l;g++){m[g]||(m[g]=k3(y1(i),[]));for(var E=n;E<n+v;E++){var N=m[g].cells;N[E]=g===a&&E===n?s:Ko(s)}}},n5=function(e,n,a){var i=e.rows,s=i[a]?i[a].cells:[];return!!s[n]},r5=function(e,n,a){for(;n5(e,n,a);)n++;return n},A3=function(e){return pn(e,function(n,a){return a.cells.length>n?a.cells.length:n},0)},WC=function(e,n){for(var a=e.rows,i=0;i<a.length;i++)for(var s=a[i].cells,l=0;l<s.length;l++)if(Sr(s[l],n))return X.some(E3(l,i));return X.none()},O3=function(e,n,a,i,s){for(var l=[],v=e.rows,m=a;m<=s;m++){var g=v[m].cells,E=n<i?g.slice(n,i+1):g.slice(i,n+1);l.push(k3(v[m].element,E))}return l},jC=function(e,n,a){var i=n.x,s=n.y,l=a.x,v=a.y,m=s<v?O3(e,i,s,l,v):O3(e,i,v,l,s);return Fb(e.element,A3(m),m)},Km=function(e,n){var a=Ko(e.element),i=w.fromTag("tbody");return Id(i,n),Ni(a,i),a},a5=function(e){return zt(e.rows,function(n){var a=zt(n.cells,function(s){var l=y1(s);return Ot(l,"colspan"),Ot(l,"rowspan"),l}),i=Ko(n.element);return Id(i,a),i})},o5=function(e){var n=Fb(Ko(e),0,[]);return vt(zi(e,"tr"),function(a,i){vt(zi(a,"td,th"),function(s,l){t5(n,r5(n,l,i),i,a,s)})}),Fb(n.element,A3(n.rows),n.rows)},Ib=function(e){return Km(e,a5(e))},qC=function(e,n,a){return WC(e,n).bind(function(i){return WC(e,a).map(function(s){return jC(e,i,s)})})},i5=function(e){return Hn(e,function(n){return Sa(n)==="ul"||Sa(n)==="ol"})},u5=function(e,n){return Hn(e,function(a){return Sa(a)==="li"&&Mm(a,n)}).fold(xe([]),function(a){return i5(e).map(function(i){var s=w.fromTag(Sa(i)),l=Bn(Up(i),function(v,m){return R(m,"list-style")});return la(s,l),[w.fromTag("li"),s]}).getOr([])})},D3=function(e,n){var a=pn(n,function(i,s){return Ni(s,i),s},e);return n.length>0?id([a]):a},GC=function(e){return yu(e)?Fo(e).filter(qp).fold(xe([]),function(n){return[e,n]}):qp(e)?[e]:[]},s5=function(e,n){var a=w.fromDom(n.commonAncestorContainer),i=sr(a,e),s=Ce(i,function(m){return cu(m)||Or(m)}),l=u5(i,n),v=s.concat(l.length?l:GC(a));return zt(v,Ko)},jh=function(){return id([])},af=function(e,n){return D3(w.fromDom(n.cloneContents()),s5(e,n))},l5=function(e,n){return Av(n,"table",bt(Sr,e))},KC=function(e,n){return l5(e,n[0]).bind(function(a){var i=n[0],s=n[n.length-1],l=o5(a);return qC(l,i,s).map(function(v){return id([Ib(v)])})}).getOrThunk(jh)},c5=function(e,n){return n.length>0&&n[0].collapsed?jh():af(e,n[0])},f5=function(e,n){var a=xh(n,e);return a.length>0?KC(e,a):c5(e,n)},v5=function(e){return e.replace(/^[ \f\n\r\t\v]+/,"")},zb=function(e,n){return n>=0&&n<e.length&&jf(e.charAt(n))},XC=function(e,n){var a=ts(e.innerText);return n?v5(a):a},d5=function(e){return e.map(function(n){return n.nodeName}).getOr("div").toLowerCase()},Xm=function(e){return X.from(e.selection.getRng()).map(function(n){var a=X.from(e.dom.getParent(n.commonAncestorContainer,e.dom.isBlock)),i=e.getBody(),s=d5(a),l=an.browser.isIE()&&s!=="pre",v=e.dom.add(i,s,{"data-mce-bogus":"all",style:"overflow: hidden; opacity: 0;"},n.cloneContents()),m=XC(v,l),g=ts(v.textContent);if(e.dom.remove(v),zb(g,0)||zb(g,g.length-1)){var E=a.getOr(i),N=XC(E,l),F=N.indexOf(m);if(F===-1)return m;var $=zb(N,F-1),ee=zb(N,F+m.length);return($?" ":"")+m+(ee?" ":"")}else return m}).getOr("")},m5=function(e,n){var a=e.selection.getRng(),i=e.dom.create("body"),s=e.selection.getSel(),l=q2(e,b2(s)),v=n.contextual?f5(w.fromDom(e.getBody()),l).dom:a.cloneContents();return v&&i.appendChild(v),e.selection.serializer.serialize(i,n)},g5=function(e,n){return Gn(Gn({},e),{format:n,get:!0,selection:!0})},h5=function(e,n,a){a===void 0&&(a={});var i=g5(a,n),s=e.fire("BeforeGetContent",i);if(s.isDefaultPrevented())return e.fire("GetContent",s),s.content;if(s.format==="text")return Xm(e);s.getInner=!0;var l=m5(e,s);return s.format==="tree"?l:(s.content=e.selection.isCollapsed()?"":l,e.fire("GetContent",s),s.content)},YC=0,ZC=1,_3=2,p5=function(e,n){var a=e.length+n.length+2,i=new Array(a),s=new Array(a),l=function(N,F,$){return{start:N,end:F,diag:$}},v=function(N,F,$,ee,ne){var re=g(N,F,$,ee);if(re===null||re.start===F&&re.diag===F-ee||re.end===N&&re.diag===N-$)for(var ie=N,we=$;ie<F||we<ee;)ie<F&&we<ee&&e[ie]===n[we]?(ne.push([YC,e[ie]]),++ie,++we):F-N>ee-$?(ne.push([_3,e[ie]]),++ie):(ne.push([ZC,n[we]]),++we);else{v(N,re.start,$,re.start-re.diag,ne);for(var ge=re.start;ge<re.end;++ge)ne.push([YC,e[ge]]);v(re.end,F,re.end-re.diag,ee,ne)}},m=function(N,F,$,ee){for(var ne=N;ne-F<ee&&ne<$&&e[ne]===n[ne-F];)++ne;return l(N,ne,F)},g=function(N,F,$,ee){var ne=F-N,re=ee-$;if(ne===0||re===0)return null;var ie=ne-re,we=re+ne,ge=(we%2===0?we:we+1)/2;i[1+ge]=N,s[1+ge]=F+1;var Je,qe,De,nt,Rt;for(Je=0;Je<=ge;++Je){for(qe=-Je;qe<=Je;qe+=2){for(De=qe+ge,qe===-Je||qe!==Je&&i[De-1]<i[De+1]?i[De]=i[De+1]:i[De]=i[De-1]+1,nt=i[De],Rt=nt-N+$-qe;nt<F&&Rt<ee&&e[nt]===n[Rt];)i[De]=++nt,++Rt;if(ie%2!==0&&ie-Je<=qe&&qe<=ie+Je&&s[De-ie]<=i[De])return m(s[De-ie],qe+N-$,F,ee)}for(qe=ie-Je;qe<=ie+Je;qe+=2){for(De=qe+ge-ie,qe===ie-Je||qe!==ie+Je&&s[De+1]<=s[De-1]?s[De]=s[De+1]-1:s[De]=s[De-1],nt=s[De]-1,Rt=nt-N+$-qe;nt>=N&&Rt>=$&&e[nt]===n[Rt];)s[De]=nt--,Rt--;if(ie%2===0&&-Je<=qe&&qe<=Je&&s[De]<=i[De+ie])return m(s[De],qe+N-$,F,ee)}}},E=[];return v(0,e.length,0,n.length,E),E},M3=function(e){return Br(e)?e.outerHTML:Wn(e)?Bl.encodeRaw(e.data,!1):Xc(e)?"<!--"+e.data+"-->":""},b5=function(e){var n,a=document.createElement("div"),i=document.createDocumentFragment();for(e&&(a.innerHTML=e);n=a.firstChild;)i.appendChild(n);return i},y5=function(e,n,a){var i=b5(n);if(e.hasChildNodes()&&a<e.childNodes.length){var s=e.childNodes[a];s.parentNode.insertBefore(i,s)}else e.appendChild(i)},w5=function(e,n){if(e.hasChildNodes()&&n<e.childNodes.length){var a=e.childNodes[n];a.parentNode.removeChild(a)}},C5=function(e,n){var a=0;vt(e,function(i){i[0]===YC?a++:i[0]===ZC?(y5(n,i[1],a),a++):i[0]===_3&&w5(n,a)})},x5=function(e,n){return Ce(zt(Jt(e.childNodes),it(ts,M3)),function(a){return a.length>0})},S5=function(e,n){var a=zt(Jt(n.childNodes),M3);return C5(p5(a,e),n),n},k5=So(function(){return document.implementation.createHTMLDocument("undo")}),JC=function(e){return e.querySelector("iframe")!==null},B3=function(e){return{type:"fragmented",fragments:e,content:"",bookmark:null,beforeBookmark:null}},E5=function(e){return{type:"complete",fragments:null,content:e,bookmark:null,beforeBookmark:null}},Ym=function(e){var n=e.serializer.getTempAttrs(),a=uA(e.getBody(),n);return JC(a)?B3(x5(a)):E5(ts(a.innerHTML))},$b=function(e,n,a){var i=a?n.beforeBookmark:n.bookmark;n.type==="fragmented"?S5(n.fragments,e.getBody()):e.setContent(n.content,{format:"raw",no_selection:gt(i)&&JE(i)?!i.isFakeCaret:!0}),e.selection.moveToBookmark(i)},ud=function(e){return e.type==="fragmented"?e.fragments.join(""):e.content},Zm=function(e){var n=w.fromTag("body",k5());return ku(n,ud(e)),vt(zi(n,"*[data-mce-bogus]"),zd),Hu(n)},P3=function(e,n){return ud(e)===ud(n)},T5=function(e,n){return Zm(e)===Zm(n)},Lb=function(e,n){return!e||!n?!1:P3(e,n)?!0:T5(e,n)},QC=function(e){return e.get()===0},Hb=function(e,n,a){QC(a)&&(e.typing=n)},R3=function(e,n){e.typing&&(Hb(e,!1,n),e.add())},A5=function(e){e.typing&&(e.typing=!1,e.add())},O5=function(e,n,a){QC(n)&&a.set(yE(e.selection))},N3=function(e,n,a,i,s,l,v){var m=Ym(e);if(l=l||{},l=Tt.extend(l,m),QC(i)===!1||e.removed)return null;var g=n.data[a.get()];if(e.fire("BeforeAddUndo",{level:l,lastLevel:g,originalEvent:v}).isDefaultPrevented()||g&&Lb(g,l))return null;n.data[a.get()]&&s.get().each(function($){n.data[a.get()].beforeBookmark=$});var E=jB(e);if(E&&n.data.length>E){for(var N=0;N<n.data.length-1;N++)n.data[N]=n.data[N+1];n.data.length--,a.set(n.data.length)}l.bookmark=yE(e.selection),a.get()<n.data.length-1&&(n.data.length=a.get()+1),n.data.push(l),a.set(n.data.length-1);var F={level:l,lastLevel:g,originalEvent:v};return a.get()>0?(e.setDirty(!0),e.fire("AddUndo",F),e.fire("change",F)):e.fire("AddUndo",F),l},D5=function(e,n,a){n.data=[],a.set(0),n.typing=!1,e.fire("ClearUndos")},qh=function(e,n,a,i,s){if(n.transact(i)){var l=n.data[a.get()].bookmark,v=n.data[a.get()-1];$b(e,v,!0),n.transact(s)&&(n.data[a.get()-1].beforeBookmark=l)}},_5=function(e,n,a){var i;return n.get()<a.length-1&&(n.set(n.get()+1),i=a[n.get()],$b(e,i,!1),e.setDirty(!0),e.fire("Redo",{level:i})),i},M5=function(e,n,a,i){var s;return n.typing&&(n.add(),n.typing=!1,Hb(n,!1,a)),i.get()>0&&(i.set(i.get()-1),s=n.data[i.get()],$b(e,s,!0),e.setDirty(!0),e.fire("Undo",{level:s})),s},B5=function(e){e.clear(),e.add()},P5=function(e,n,a){return a.get()>0||n.typing&&n.data[0]&&!Lb(Ym(e),n.data[0])},F3=function(e,n){return n.get()<e.data.length-1&&!e.typing},I3=function(e,n,a){return R3(e,n),e.beforeChange(),e.ignore(a),e.add()},z3=function(e,n){try{e.set(e.get()+1),n()}finally{e.set(e.get()-1)}},$3=function(e,n){var a=e.dom,i=gt(n)?n:e.getBody();Te(e.hasVisual)&&(e.hasVisual=YB(e)),vt(a.select("table,a",i),function(s){switch(s.nodeName){case"TABLE":var l=ZB(e),v=a.getAttrib(s,"border");(!v||v==="0")&&e.hasVisual?a.addClass(s,l):a.removeClass(s,l);break;case"A":if(!a.getAttrib(s,"href")){var m=a.getAttrib(s,"name")||s.id,g=PE(e);m&&e.hasVisual?a.addClass(s,g):a.removeClass(s,g)}break}}),e.fire("VisualAid",{element:n,hasVisual:e.hasVisual})},Vb=function(e){return{undoManager:{beforeChange:function(n,a){return O5(e,n,a)},add:function(n,a,i,s,l,v){return N3(e,n,a,i,s,l,v)},undo:function(n,a,i){return M5(e,n,a,i)},redo:function(n,a){return _5(e,n,a)},clear:function(n,a){return D5(e,n,a)},reset:function(n){return B5(n)},hasUndo:function(n,a){return P5(e,n,a)},hasRedo:function(n,a){return F3(n,a)},transact:function(n,a,i){return I3(n,a,i)},ignore:function(n,a){return z3(n,a)},extra:function(n,a,i,s){return qh(e,n,a,i,s)}},formatter:{match:function(n,a,i,s){return Ob(e,n,a,i,s)},matchAll:function(n,a){return _C(e,n,a)},matchNode:function(n,a,i,s){return _c(e,n,a,i,s)},canApply:function(n){return JA(e,n)},closest:function(n){return MC(e,n)},apply:function(n,a,i){return Wh(e,n,a,i)},remove:function(n,a,i,s){return y3(e,n,a,i,s)},toggle:function(n,a,i){return e5(e,n,a,i)},formatChanged:function(n,a,i,s,l){return S3(e,n,a,i,s,l)}},editor:{getContent:function(n,a){return kR(e,n,a)},setContent:function(n,a){return MN(e,n,a)},insertContent:function(n,a){return xC(e,n,a)},addVisual:function(n){return $3(e,n)}},selection:{getContent:function(n,a){return h5(e,n,a)}},raw:{getModel:function(){return X.none()}}}},L3=function(e){var n=function(m){return Ye(m)?m:{}},a=e.undoManager,i=e.formatter,s=e.editor,l=e.selection,v=e.raw;return{undoManager:{beforeChange:a.beforeChange,add:a.add,undo:a.undo,redo:a.redo,clear:a.clear,reset:a.reset,hasUndo:a.hasUndo,hasRedo:a.hasRedo,transact:function(m,g,E){return a.transact(E)},ignore:function(m,g){return a.ignore(g)},extra:function(m,g,E,N){return a.extra(E,N)}},formatter:{match:function(m,g,E,N){return i.match(m,n(g),N)},matchAll:i.matchAll,matchNode:i.matchNode,canApply:function(m){return i.canApply(m)},closest:function(m){return i.closest(m)},apply:function(m,g,E){return i.apply(m,n(g))},remove:function(m,g,E,N){return i.remove(m,n(g))},toggle:function(m,g,E){return i.toggle(m,n(g))},formatChanged:function(m,g,E,N,F){return i.formatChanged(g,E,N,F)}},editor:{getContent:function(m,g){return s.getContent(m)},setContent:function(m,g){return s.setContent(m,g)},insertContent:function(m,g){return s.insertContent(m)},addVisual:s.addVisual},selection:{getContent:function(m,g){return l.getContent(g)}},raw:{getModel:function(){return X.some(v.getRawModel())}}}},R5=function(){var e=xe(null),n=xe("");return{undoManager:{beforeChange:Ze,add:e,undo:e,redo:e,clear:Ze,reset:Ze,hasUndo:Kt,hasRedo:Kt,transact:e,ignore:Ze,extra:Ze},formatter:{match:Kt,matchAll:xe([]),matchNode:xe(void 0),canApply:Kt,closest:n,apply:Ze,remove:Ze,toggle:Ze,formatChanged:xe({unbind:Ze})},editor:{getContent:n,setContent:n,insertContent:Ze,addVisual:Ze},selection:{getContent:n},raw:{getModel:xe(X.none())}}},of=function(e){return xr(e.plugins,"rtc")},N5=function(e){return Ar(e.plugins,"rtc").bind(function(n){return X.from(n.setup)})},F5=function(e){var n=e;return N5(e).fold(function(){return n.rtcInstance=Vb(e),X.none()},function(a){return n.rtcInstance=R5(),X.some(function(){return a().then(function(i){return n.rtcInstance=L3(i),i.rtc.isRemote})})})},ex=function(e){return e.rtcInstance?e.rtcInstance:Vb(e)},Xo=function(e){var n=e.rtcInstance;if(n)return n;throw new Error("Failed to get RTC instance not yet initialized.")},tx=function(e,n,a){Xo(e).undoManager.beforeChange(n,a)},H3=function(e,n,a,i,s,l,v){return Xo(e).undoManager.add(n,a,i,s,l,v)},Ub=function(e,n,a,i){return Xo(e).undoManager.undo(n,a,i)},Ps=function(e,n,a){return Xo(e).undoManager.redo(n,a)},Gh=function(e,n,a){Xo(e).undoManager.clear(n,a)},sd=function(e,n){Xo(e).undoManager.reset(n)},I5=function(e,n,a){return Xo(e).undoManager.hasUndo(n,a)},V3=function(e,n,a){return Xo(e).undoManager.hasRedo(n,a)},U3=function(e,n,a,i){return Xo(e).undoManager.transact(n,a,i)},z5=function(e,n,a){Xo(e).undoManager.ignore(n,a)},$5=function(e,n,a,i,s){Xo(e).undoManager.extra(n,a,i,s)},L5=function(e,n,a,i,s){return Xo(e).formatter.match(n,a,i,s)},W3=function(e,n,a){return Xo(e).formatter.matchAll(n,a)},Wb=function(e,n,a,i,s){return Xo(e).formatter.matchNode(n,a,i,s)},j3=function(e,n){return Xo(e).formatter.canApply(n)},q3=function(e,n){return Xo(e).formatter.closest(n)},jb=function(e,n,a,i){Xo(e).formatter.apply(n,a,i)},H5=function(e,n,a,i,s){Xo(e).formatter.remove(n,a,i,s)},V5=function(e,n,a,i){Xo(e).formatter.toggle(n,a,i)},U5=function(e,n,a,i,s,l){return Xo(e).formatter.formatChanged(n,a,i,s,l)},W5=function(e,n,a){return ex(e).editor.getContent(n,a)},j5=function(e,n,a){return ex(e).editor.setContent(n,a)},q5=function(e,n,a){return ex(e).editor.insertContent(n,a)},G5=function(e,n,a){return Xo(e).selection.getContent(n,a)},K5=function(e,n){return Xo(e).editor.addVisual(n)},X5=function(e,n){n===void 0&&(n={});var a=n.format?n.format:"html";return G5(e,a,n)},G3=function(e){return e.dom.length===0?(Io(e),X.none()):X.some(e)},Y5=function(e,n){return e.filter(function(a){return Xv.isBookmarkNode(a.dom)}).bind(n?bf:Lc)},Z5=function(e,n,a,i){var s=e.dom,l=n.dom,v=i?s.length:l.length;i?(bb(s,l,!1,!i),a.setStart(l,v)):(bb(l,s,!1,!i),a.setEnd(l,v))},nx=function(e,n){Fo(e).each(function(a){var i=e.dom;n&&Nh(a,Et(i,0))?pb(i,0):!n&&Fh(a,Et(i,i.length))&&na(i,i.length)})},K3=function(e,n,a,i){e.bind(function(s){var l=i?na:pb;return l(s.dom,i?s.dom.length:0),n.filter(Ho).map(function(v){return Z5(s,v,a,i)})}).orThunk(function(){var s=Y5(n,i).or(n).filter(Ho);return s.map(function(l){return nx(l,i)})})},Jm=function(e,n){var a=X.from(n.firstChild).map(w.fromDom),i=X.from(n.lastChild).map(w.fromDom);e.deleteContents(),e.insertNode(n);var s=a.bind(Lc).filter(Ho).bind(G3),l=i.bind(bf).filter(Ho).bind(G3);K3(s,a,e,!0),K3(l,i,e,!1),e.collapse(!1)},X3=function(e,n){return Gn(Gn({format:"html"},e),{set:!0,selection:!0,content:n})},Yo=function(e,n){if(n.format!=="raw"){var a=e.selection.getRng(),i=e.dom.getParent(a.commonAncestorContainer,e.dom.isBlock),s=i?{context:i.nodeName.toLowerCase()}:{},l=e.parser.parse(n.content,Gn(Gn({isRootContent:!0,forced_root_block:!1},s),n));return Jv({validate:e.validate},e.schema).serialize(l)}else return n.content},J5=function(e,n,a){a===void 0&&(a={});var i=X3(a,n),s=i;if(!i.no_events){var l=e.fire("BeforeSetContent",i);if(l.isDefaultPrevented()){e.fire("SetContent",l);return}else s=l}s.content=Yo(e,s);var v=e.selection.getRng();Jm(v,v.createContextualFragment(s.content)),e.selection.setRng(v),Ah(e,v),s.no_events||e.fire("SetContent",s)},Y3=function(e,n,a){if(e&&xr(e,n)){var i=Ce(e[n],function(s){return s!==a});i.length===0?delete e[n]:e[n]=i}};function Q5(e,n){var a,i,s=function(v,m){return Hn(m,function(g){return e.is(g,v)})},l=function(v){return e.getParents(v,null,e.getRoot())};return{selectorChangedWithUnbind:function(v,m){return a||(a={},i={},n.on("NodeChange",function(g){var E=g.element,N=l(E),F={};Tt.each(a,function($,ee){s(ee,N).each(function(ne){i[ee]||(vt($,function(re){re(!0,{node:ne,selector:ee,parents:N})}),i[ee]=$),F[ee]=$})}),Tt.each(i,function($,ee){F[ee]||(delete i[ee],Tt.each($,function(ne){ne(!1,{node:E,selector:ee,parents:N})}))})})),a[v]||(a[v]=[]),a[v].push(m),s(v,l(n.selection.getStart())).each(function(){i[v]=a[v]}),{unbind:function(){Y3(a,v,m),Y3(i,v,m)}}}}}var Z3=function(e){return!!e.select},tl=function(e){return!!(e&&e.ownerDocument)&&Aa(w.fromDom(e.ownerDocument),w.fromDom(e))},qb=function(e){return e?Z3(e)?!0:tl(e.startContainer)&&tl(e.endContainer):!1},Qm=function(e,n,a,i){var s,l,v=Q5(e,i).selectorChangedWithUnbind,m=function(Yt,zn){var Gr=e.createRng();gt(Yt)&&gt(zn)?(Gr.setStart(Yt,zn),Gr.setEnd(Yt,zn),Je(Gr),ie(!1)):(w2(e,Gr,i.getBody(),!0),Je(Gr))},g=function(Yt){return X5(i,Yt)},E=function(Yt,zn){return J5(i,Yt,zn)},N=function(Yt){return JT(i.getBody(),ge(),Yt)},F=function(Yt){return QT(i.getBody(),ge(),Yt)},$=function(Yt,zn){return xn.getBookmark(Yt,zn)},ee=function(Yt){return xn.moveToBookmark(Yt)},ne=function(Yt,zn){return mR(e,Yt,zn).each(Je),Yt},re=function(){var Yt=ge(),zn=we();return!Yt||Yt.item?!1:Yt.compareEndPoints?Yt.compareEndPoints("StartToEnd",Yt)===0:!zn||Yt.collapsed},ie=function(Yt){var zn=ge();zn.collapse(!!Yt),Je(zn)},we=function(){return n.getSelection?n.getSelection():n.document.selection},ge=function(){var Yt,zn,Gr,ma=function(go,vu,cs){try{return vu.compareBoundaryPoints(go,cs)}catch(Zt){return-1}},fa=n.document;if(i.bookmark!==void 0&&Oc(i)===!1){var yi=H2(i);if(yi.isSome())return yi.map(function(go){return q2(i,[go])[0]}).getOr(fa.createRange())}try{(Yt=we())&&!Hd(Yt.anchorNode)&&(Yt.rangeCount>0?zn=Yt.getRangeAt(0):zn=Yt.createRange?Yt.createRange():fa.createRange(),zn=q2(i,[zn])[0])}catch(go){}return zn||(zn=fa.createRange?fa.createRange():fa.body.createTextRange()),zn.setStart&&zn.startContainer.nodeType===9&&zn.collapsed&&(Gr=e.getRoot(),zn.setStart(Gr,0),zn.setEnd(Gr,0)),s&&l&&(ma(zn.START_TO_START,zn,s)===0&&ma(zn.END_TO_END,zn,s)===0?zn=l:(s=null,l=null)),zn},Je=function(Yt,zn){var Gr;if(qb(Yt)){var ma=Z3(Yt)?Yt:null;if(ma){l=null;try{ma.select()}catch(go){}return}var fa=we(),yi=i.fire("SetSelectionRange",{range:Yt,forward:zn});if(Yt=yi.range,fa){l=Yt;try{fa.removeAllRanges(),fa.addRange(Yt)}catch(go){}zn===!1&&fa.extend&&(fa.collapse(Yt.endContainer,Yt.endOffset),fa.extend(Yt.startContainer,Yt.startOffset)),s=fa.rangeCount>0?fa.getRangeAt(0):null}!Yt.collapsed&&Yt.startContainer===Yt.endContainer&&fa.setBaseAndExtent&&!an.ie&&Yt.endOffset-Yt.startOffset<2&&Yt.startContainer.hasChildNodes()&&(Gr=Yt.startContainer.childNodes[Yt.startOffset],Gr&&Gr.tagName==="IMG"&&(fa.setBaseAndExtent(Yt.startContainer,Yt.startOffset,Yt.endContainer,Yt.endOffset),(fa.anchorNode!==Yt.startContainer||fa.focusNode!==Yt.endContainer)&&fa.setBaseAndExtent(Gr,0,Gr,1))),i.fire("AfterSetSelectionRange",{range:Yt,forward:zn})}},qe=function(Yt){return E(e.getOuterHTML(Yt)),Yt},De=function(){return dR(i.getBody(),ge())},nt=function(Yt,zn){return cb(e,ge(),Yt,zn)},Rt=function(){var Yt=we(),zn=Yt==null?void 0:Yt.anchorNode,Gr=Yt==null?void 0:Yt.focusNode;if(!Yt||!zn||!Gr||Hd(zn)||Hd(Gr))return!0;var ma=e.createRng();ma.setStart(zn,Yt.anchorOffset),ma.collapse(!0);var fa=e.createRng();return fa.setStart(Gr,Yt.focusOffset),fa.collapse(!0),ma.compareBoundaryPoints(ma.START_TO_START,fa)<=0},en=function(){var Yt=ge(),zn=we();if(!cT(zn)&&K1(i)){var Gr=eb(e,Yt);return Gr.each(function(ma){Je(ma,Rt())}),Gr.getOr(Yt)}return Yt},yr=function(Yt,zn){return v(Yt,zn),un},Fn=function(){for(var Yt,zn=e.getRoot();zn&&zn.nodeName!=="BODY";){if(zn.scrollHeight>zn.clientHeight){Yt=zn;break}zn=zn.parentNode}return Yt},Ft=function(Yt,zn){gt(Yt)?KP(i,Yt,zn):Ah(i,ge(),zn)},ar=function(Yt,zn){return Je(M2(Yt,zn,i.getDoc()))},on=function(){var Yt=ge();return Yt.collapsed?Et.fromRangeStart(Yt).getClientRects()[0]:Yt.getBoundingClientRect()},Pn=function(){n=s=l=null,Vn.destroy()},un={bookmarkManager:null,controlSelection:null,dom:e,win:n,serializer:a,editor:i,collapse:ie,setCursorLocation:m,getContent:g,setContent:E,getBookmark:$,moveToBookmark:ee,select:ne,isCollapsed:re,isForward:Rt,setNode:qe,getNode:De,getSel:we,setRng:Je,getRng:ge,getStart:N,getEnd:F,getSelectedBlocks:nt,normalize:en,selectorChanged:yr,selectorChangedWithUnbind:v,getScrollContainer:Fn,scrollIntoView:Ft,placeCaretAt:ar,getBoundingClientRect:on,destroy:Pn},xn=Xv(un),Vn=D2(un,i);return un.bookmarkManager=xn,un.controlSelection=Vn,un},Kh=function(e,n){vt(n,function(a){e.attr(a,null)})},rx=function(e,n,a){e.addNodeFilter("font",function(i){vt(i,function(s){var l=n.parse(s.attr("style")),v=s.attr("color"),m=s.attr("face"),g=s.attr("size");v&&(l.color=v),m&&(l["font-family"]=m),g&&(l["font-size"]=a[parseInt(s.attr("size"),10)-1]),s.name="span",s.attr("style",n.serialize(l)),Kh(s,["color","face","size"])})})},eF=function(e,n){e.addNodeFilter("strike",function(a){vt(a,function(i){var s=n.parse(i.attr("style"));s["text-decoration"]="line-through",i.name="span",i.attr("style",n.serialize(s))})})},tF=function(e,n){var a=rh();n.convert_fonts_to_spans&&rx(e,a,Tt.explode(n.font_size_legacy_values)),eF(e,a)},eg=function(e,n){n.inline_styles&&tF(e,n)},tg=function(e){return new Di(function(n,a){var i=function(){a("Cannot convert "+e+" to Blob. Resource might not exist or is inaccessible.")};try{var s=new XMLHttpRequest;s.open("GET",e,!0),s.responseType="blob",s.onload=function(){s.status===200?n(s.response):i()},s.onerror=i,s.send()}catch(l){i()}})},ev=function(e){var n,a=decodeURIComponent(e).split(","),i=/data:([^;]+)/.exec(a[0]);return i&&(n=i[1]),{type:n,data:a[1]}},Gb=function(e,n){var a;try{a=atob(n)}catch(l){return X.none()}for(var i=new Uint8Array(a.length),s=0;s<i.length;s++)i[s]=a.charCodeAt(s);return X.some(new Blob([i],{type:e}))},nF=function(e){return new Di(function(n){var a=ev(e),i=a.type,s=a.data;Gb(i,s).fold(function(){return n(new Blob([]))},n)})},Kb=function(e){return e.indexOf("blob:")===0?tg(e):e.indexOf("data:")===0?nF(e):null},J3=function(e){return new Di(function(n){var a=new FileReader;a.onloadend=function(){n(a.result)},a.readAsDataURL(e)})},Q3=0,ax=function(e){return"blobid"+Q3++},rF=function(e,n,a,i){var s,l;if(n.src.indexOf("blob:")===0){l=e.getByUri(n.src),l?a({image:n,blobInfo:l}):Kb(n.src).then(function(E){J3(E).then(function(N){s=ev(N).data,l=e.create(ax(),E,s),e.add(l),a({image:n,blobInfo:l})})},function(E){i(E)});return}var v=ev(n.src),m=v.data,g=v.type;s=m,l=e.getByData(s,g),l?a({image:n,blobInfo:l}):Kb(n.src).then(function(E){l=e.create(ax(),E,s),e.add(l),a({image:n,blobInfo:l})},function(E){i(E)})},e4=function(e){return e?Jt(e.getElementsByTagName("img")):[]},aF=function(e,n){var a={},i=function(s,l){l||(l=Rn);var v=Ce(e4(s),function(g){var E=g.src;return!an.fileApi||g.hasAttribute("data-mce-bogus")||g.hasAttribute("data-mce-placeholder")||!E||E===an.transparentSrc?!1:E.indexOf("blob:")===0?!e.isUploaded(E)&&l(g):E.indexOf("data:")===0?l(g):!1}),m=zt(v,function(g){if(a[g.src]!==void 0)return new Di(function(N){a[g.src].then(function(F){if(typeof F=="string")return F;N({image:g,blobInfo:F.blobInfo})})});var E=new Di(function(N,F){rF(n,g,N,F)}).then(function(N){return delete a[N.image.src],N}).catch(function(N){return delete a[g.src],N});return a[g.src]=E,E});return Di.all(m)};return{findAll:i}},oF=function(e){for(var n=/data:[^;<"'\s]+;base64,([a-z0-9\+\/=\s]+)/gi,a=[],i={},s=nE("img"),l,v=0,m=0;l=n.exec(e);){var g=l[0],E=s+"_"+m++;i[E]=g,v<l.index&&a.push(e.substr(v,l.index-v)),a.push(E),v=l.index+g.length}var N=new RegExp(s+"_[0-9]+","g");return v===0?{prefix:s,uris:i,html:e,re:N}:(v<e.length&&a.push(e.substr(v)),{prefix:s,uris:i,html:a.join(""),re:N})},ox=function(e,n){return e.replace(n.re,function(a){return Ar(n.uris,a).getOr(a)})},iF=function(e){var n=/data:([^;]+);base64,([a-z0-9\+\/=\s]+)/i.exec(e);return n?X.some({type:n[1],data:decodeURIComponent(n[2])}):X.none()},ix=function(e,n,a,i){var s=e.padd_empty_with_br||n.insert;s&&a[i.name]?i.empty().append(new el("br",1)).shortEnded=!0:i.empty().append(new el("#text",3)).value=Qu},t4=function(e){return n4(e,"#text")&&e.firstChild.value===Qu},n4=function(e,n){return e&&e.firstChild&&e.firstChild===e.lastChild&&e.firstChild.name===n},Xh=function(e,n){var a=e.getElementRule(n.name);return a&&a.paddEmpty},ng=function(e,n,a,i){return i.isEmpty(n,a,function(s){return Xh(e,s)})},uF=function(e,n){return e&&(xr(n,e.name)||e.name==="br")},r4=function(e){return gt(e.attr("data-mce-bogus"))},sF=function(e){return e.attr("src")===an.transparentSrc||gt(e.attr("data-mce-placeholder"))},a4=function(e,n){if(n.images_dataimg_filter){var a=new Image;return a.src=e.attr("src"),vn(e.attributes.map,function(i,s){a.setAttribute(s,i)}),n.images_dataimg_filter(a)}else return!0},lF=function(e,n){var a=n.blob_cache,i=function(s){var l=s.attr("src");sF(s)||r4(s)||iF(l).filter(function(){return a4(s,n)}).bind(function(v){var m=v.type,g=v.data;return X.from(a.getByData(g,m)).orThunk(function(){return Gb(m,g).map(function(E){var N=a.create(ax(),E,g);return a.add(N),N})})}).each(function(v){s.attr("src",v.blobUri())})};a&&e.addAttributeFilter("src",function(s){return vt(s,i)})},cF=function(e,n){var a=e.schema;n.remove_trailing_brs&&e.addNodeFilter("br",function(i,s,l){var v,m=i.length,g,E=Tt.extend({},a.getBlockElements()),N=a.getNonEmptyElements(),F,$,ee,ne,re=a.getWhiteSpaceElements(),ie,we;for(E.body=1,v=0;v<m;v++)if(g=i[v],F=g.parent,E[g.parent.name]&&g===F.lastChild){for(ee=g.prev;ee;){if(ne=ee.name,ne!=="span"||ee.attr("data-mce-type")!=="bookmark"){ne==="br"&&(g=null);break}ee=ee.prev}g&&(g.remove(),ng(a,N,re,F)&&(ie=a.getElementRule(F.name),ie&&(ie.removeEmpty?F.remove():ie.paddEmpty&&ix(n,l,E,F))))}else{for($=g;F&&F.firstChild===$&&F.lastChild===$&&($=F,!E[F.name]);)F=F.parent;$===F&&n.padd_empty_with_br!==!0&&(we=new el("#text",3),we.value=Qu,g.replace(we))}}),e.addAttributeFilter("href",function(i){var s=i.length,l=function(g){var E=g.split(" ").filter(function(N){return N.length>0});return E.concat(["noopener"]).sort().join(" ")},v=function(g){var E=g?Tt.trim(g):"";return/\b(noopener)\b/g.test(E)?E:l(E)};if(!n.allow_unsafe_link_target)for(;s--;){var m=i[s];m.name==="a"&&m.attr("target")==="_blank"&&m.attr("rel",v(m.attr("rel")))}}),n.allow_html_in_named_anchor||e.addAttributeFilter("id,name",function(i){for(var s=i.length,l,v,m,g;s--;)if(g=i[s],g.name==="a"&&g.firstChild&&!g.attr("href")){m=g.parent,l=g.lastChild;do v=l.prev,m.insert(l,g),l=v;while(l)}}),n.fix_list_elements&&e.addNodeFilter("ul,ol",function(i){for(var s=i.length,l,v;s--;)if(l=i[s],v=l.parent,v.name==="ul"||v.name==="ol")if(l.prev&&l.prev.name==="li")l.prev.append(l);else{var m=new el("li",1);m.attr("style","list-style-type: none"),l.wrap(m)}}),n.validate&&a.getValidClasses()&&e.addAttributeFilter("class",function(i){for(var s=a.getValidClasses(),l=i.length;l--;){for(var v=i[l],m=v.attr("class").split(" "),g="",E=0;E<m.length;E++){var N=m[E],F=!1,$=s["*"];$&&$[N]&&(F=!0),$=s[v.name],!F&&$&&$[N]&&(F=!0),F&&(g&&(g+=" "),g+=N)}g.length||(g=null),v.attr("class",g)}}),lF(e,n)},ux=Tt.each,o4=Tt.trim,i4="source protocol authority userInfo user password host port relative path directory file query anchor".split(" "),u4={ftp:21,http:80,https:443,mailto:25},s4=["img","video"],fF=function(e,n){return gt(e)?!e:gt(n)?!We(s4,n):!0},vF=function(e,n,a){return e.allow_html_data_urls?!1:/^data:image\//i.test(n)?fF(e.allow_svg_data_urls,a)&&/^data:image\/svg\+xml/i.test(n):/^data:/i.test(n)},tv=function(){function e(n,a){n=o4(n),this.settings=a||{};var i=this.settings.base_uri,s=this;if(/^([\w\-]+):([^\/]{2})/i.test(n)||/^\s*#/.test(n)){s.source=n;return}var l=n.indexOf("//")===0;if(n.indexOf("/")===0&&!l&&(n=(i&&i.protocol||"http")+"://mce_host"+n),!/^[\w\-]*:?\/\//.test(n)){var v=this.settings.base_uri?this.settings.base_uri.path:new e(document.location.href).directory;if(this.settings.base_uri&&this.settings.base_uri.protocol=="")n="//mce_host"+s.toAbsPath(v,n);else{var m=/([^#?]*)([#?]?.*)/.exec(n);n=(i&&i.protocol||"http")+"://mce_host"+s.toAbsPath(v,m[1])+m[2]}}n=n.replace(/@@/g,"(mce_at)");var g=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@\/]*):?([^:@\/]*))?@)?(\[[a-zA-Z0-9:.%]+\]|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/.exec(n);ux(i4,function(E,N){var F=g[N];F&&(F=F.replace(/\(mce_at\)/g,"@@")),s[E]=F}),i&&(s.protocol||(s.protocol=i.protocol),s.userInfo||(s.userInfo=i.userInfo),!s.port&&s.host==="mce_host"&&(s.port=i.port),(!s.host||s.host==="mce_host")&&(s.host=i.host),s.source=""),l&&(s.protocol="")}return e.parseDataUri=function(n){var a,i=decodeURIComponent(n).split(","),s=/data:([^;]+)/.exec(i[0]);return s&&(a=s[1]),{type:a,data:i[1]}},e.isDomSafe=function(n,a,i){if(i===void 0&&(i={}),i.allow_script_urls)return!0;var s=Bl.decode(n).replace(/[\s\u0000-\u001F]+/g,"");try{s=decodeURIComponent(s)}catch(l){s=unescape(s)}return/((java|vb)script|mhtml):/i.test(s)?!1:!vF(i,s,a)},e.getDocumentBaseUrl=function(n){var a;return n.protocol.indexOf("http")!==0&&n.protocol!=="file:"?a=n.href:a=n.protocol+"//"+n.host+n.pathname,/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/")),a},e.prototype.setPath=function(n){var a=/^(.*?)\/?(\w+)?$/.exec(n);this.path=a[0],this.directory=a[1],this.file=a[2],this.source="",this.getURI()},e.prototype.toRelative=function(n){var a;if(n==="./")return n;var i=new e(n,{base_uri:this});if(i.host!=="mce_host"&&this.host!==i.host&&i.host||this.port!==i.port||this.protocol!==i.protocol&&i.protocol!=="")return i.getURI();var s=this.getURI(),l=i.getURI();return s===l||s.charAt(s.length-1)==="/"&&s.substr(0,s.length-1)===l?s:(a=this.toRelPath(this.path,i.path),i.query&&(a+="?"+i.query),i.anchor&&(a+="#"+i.anchor),a)},e.prototype.toAbsolute=function(n,a){var i=new e(n,{base_uri:this});return i.getURI(a&&this.isSameOrigin(i))},e.prototype.isSameOrigin=function(n){if(this.host==n.host&&this.protocol==n.protocol){if(this.port==n.port)return!0;var a=u4[this.protocol];if(a&&(this.port||a)==(n.port||a))return!0}return!1},e.prototype.toRelPath=function(n,a){var i=0,s="",l,v,m=n.substring(0,n.lastIndexOf("/")).split("/"),g=a.split("/");if(m.length>=g.length){for(l=0,v=m.length;l<v;l++)if(l>=g.length||m[l]!==g[l]){i=l+1;break}}if(m.length<g.length){for(l=0,v=g.length;l<v;l++)if(l>=m.length||m[l]!==g[l]){i=l+1;break}}if(i===1)return a;for(l=0,v=m.length-(i-1);l<v;l++)s+="../";for(l=i-1,v=g.length;l<v;l++)l!==i-1?s+="/"+g[l]:s+=g[l];return s},e.prototype.toAbsPath=function(n,a){var i,s=0,l=[],v,m=/\/$/.test(a)?"/":"",g=n.split("/"),E=a.split("/");for(ux(g,function(N){N&&l.push(N)}),g=l,i=E.length-1,l=[];i>=0;i--)if(!(E[i].length===0||E[i]===".")){if(E[i]===".."){s++;continue}if(s>0){s--;continue}l.push(E[i])}return i=g.length-s,i<=0?v=Vt(l).join("/"):v=g.slice(0,i).join("/")+"/"+Vt(l).join("/"),v.indexOf("/")!==0&&(v="/"+v),m&&v.lastIndexOf("/")!==v.length-1&&(v+=m),v},e.prototype.getURI=function(n){n===void 0&&(n=!1);var a;return(!this.source||n)&&(a="",n||(this.protocol?a+=this.protocol+"://":a+="//",this.userInfo&&(a+=this.userInfo+"@"),this.host&&(a+=this.host),this.port&&(a+=":"+this.port)),this.path&&(a+=this.path),this.query&&(a+="?"+this.query),this.anchor&&(a+="#"+this.anchor),this.source=a),this.source},e}(),dF=Tt.makeMap("button,fieldset,form,iframe,img,image,input,object,output,select,textarea"),sx=function(e){return e.indexOf("data-")===0||e.indexOf("aria-")===0},Yh=So(function(){return document.implementation.createHTMLDocument("parser")}),Xb=function(e,n,a){for(var i=/<([!?\/])?([A-Za-z0-9\-_:.]+)/g,s=/(?:\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\s*|\/)>/g,l=e.getShortEndedElements(),v=1,m=a;v!==0;)for(i.lastIndex=m;;){var g=i.exec(n);if(g===null)return m;if(g[1]==="!"){R(g[2],"--")?m=rg(n,!1,g.index+3):m=rg(n,!0,g.index+1);break}else{s.lastIndex=i.lastIndex;var E=s.exec(n);if(L(E)||E.index!==i.lastIndex)continue;g[1]==="/"?v-=1:xr(l,g[2])||(v+=1),m=i.lastIndex+E[0].length;break}}return m},l4=function(e,n){return/^\s*\[if [\w\W]+\]>.*<!\[endif\](--!?)?>/.test(e.substr(n))},rg=function(e,n,a){a===void 0&&(a=0);var i=e.toLowerCase();if(i.indexOf("[if ",a)!==-1&&l4(i,a)){var s=i.indexOf("[endif]",a);return i.indexOf(">",s)}else if(n){var l=i.indexOf(">",a);return l!==-1?l:i.length}else{var v=/--!?>/g;v.lastIndex=a;var m=v.exec(e);return m?m.index+m[0].length:i.length}},mF=function(e,n){var a=e.exec(n);if(a){var i=a[1],s=a[2];return typeof i=="string"&&i.toLowerCase()==="data-mce-bogus"?s:null}else return null},lx=function(e,n){n===void 0&&(n=As()),e=e||{};var a=Yh(),i=a.createElement("form");e.fix_self_closing!==!1&&(e.fix_self_closing=!0);var s=e.comment?e.comment:Ze,l=e.cdata?e.cdata:Ze,v=e.text?e.text:Ze,m=e.start?e.start:Ze,g=e.end?e.end:Ze,E=e.pi?e.pi:Ze,N=e.doctype?e.doctype:Ze,F=function(ee,ne){ne===void 0&&(ne="html");for(var re=ee.html,ie,we=0,ge,Je,qe=[],De,nt,Rt,en,yr,Fn,Ft,ar,on,Pn,un,xn,Vn,Yt,zn,Gr,ma,fa=0,yi=Bl.decode,go=Tt.makeMap("src,href,data,background,action,formaction,poster,xlink:href"),vu=ne==="html"?0:1,cs=function(ga){var ao,li;for(ao=qe.length;ao--&&qe[ao].name!==ga;);if(ao>=0){for(li=qe.length-1;li>=ao;li--)ga=qe[li],ga.valid&&g(ga.name);qe.length=ao}},Zt=function(ga,ao){return v(ox(ga,ee),ao)},hn=function(ga){ga!==""&&(ga.charAt(0)===">"&&(ga=" "+ga),!e.allow_conditional_comments&&ga.substr(0,3).toLowerCase()==="[if"&&(ga=" "+ga),s(ox(ga,ee)))},or=function(ga){return ox(ga,ee)},st=function(ga,ao){var li=ga||"",oc=!R(li,"--"),ic=rg(re,oc,ao);return ga=re.substr(ao,ic-ao),hn(oc?li+ga:ga),ic+1},rn=function(ga,ao,li,oc,ic){if(ao=ao.toLowerCase(),li=or(ao in si?ao:yi(li||oc||ic||"")),Zo&&!yr&&sx(ao)===!1){var uc=un[ao];if(!uc&&xn){for(var pv=xn.length;pv--&&(uc=xn[pv],!uc.pattern.test(ao)););pv===-1&&(uc=null)}if(!uc||uc.validValues&&!(li in uc.validValues))return}var YS=ao==="name"||ao==="id";YS&&ga in dF&&(li in a||li in i)||go[ao]&&!tv.isDomSafe(li,ga,e)||yr&&(ao in go||ao.indexOf("on")===0)||(De.map[ao]=li,De.push({name:ao,value:li}))},Qt=new RegExp(`<(?:(?:!--([\\w\\W]*?)--!?>)|(?:!\\[CDATA\\[([\\w\\W]*?)\\]\\]>)|(?:![Dd][Oo][Cc][Tt][Yy][Pp][Ee]([\\w\\W]*?)>)|(?:!(--)?)|(?:\\?([^\\s\\/<>]+) ?([\\w\\W]*?)[?/]>)|(?:\\/([A-Za-z][A-Za-z0-9\\-_\\:\\.]*)>)|(?:([A-Za-z][A-Za-z0-9\\-_:.]*)(\\s(?:[^'">]+(?:"[^"]*"|'[^']*'))*[^"'>]*(?:"[^">]*|'[^'>]*)?|\\s*|\\/)>))`,"g"),lr=/([\w:\-]+)(?:\s*=\s*(?:(?:\"((?:[^\"])*)\")|(?:\'((?:[^\'])*)\')|([^>\s]+)))?/g,hr=n.getShortEndedElements(),Na=e.self_closing_elements||n.getSelfClosingElements(),si=n.getBoolAttrs(),Zo=e.validate,nu=e.remove_internals,ru=e.fix_self_closing,Mu=n.getSpecialElements(),Jo=re+">";ie=Qt.exec(Jo);){var Is=ie[0];if(we<ie.index&&Zt(yi(re.substr(we,ie.index-we))),ge=ie[7])ge=ge.toLowerCase(),ge.charAt(0)===":"&&(ge=ge.substr(1)),cs(ge);else if(ge=ie[8]){if(ie.index+Is.length>re.length){Zt(yi(re.substr(ie.index))),we=ie.index+Is.length;continue}ge=ge.toLowerCase(),ge.charAt(0)===":"&&(ge=ge.substr(1)),Fn=ge in hr,ru&&Na[ge]&&qe.length>0&&qe[qe.length-1].name===ge&&cs(ge);var Bu=mF(lr,ie[9]);if(Bu!==null){if(Bu==="all"){we=Xb(n,re,Qt.lastIndex),Qt.lastIndex=we;continue}ar=!1}if(!Zo||(Ft=n.getElementRule(ge))){if(ar=!0,Zo&&(un=Ft.attributes,xn=Ft.attributePatterns),(Pn=ie[9])?(yr=Pn.indexOf("data-mce-type")!==-1,yr&&nu&&(ar=!1),De=[],De.map={},Pn.replace(lr,function(ga,ao,li,oc,ic){return rn(ge,ao,li,oc,ic),""})):(De=[],De.map={}),Zo&&!yr){if(Vn=Ft.attributesRequired,Yt=Ft.attributesDefault,zn=Ft.attributesForced,Gr=Ft.removeEmptyAttrs,Gr&&!De.length&&(ar=!1),zn)for(nt=zn.length;nt--;)on=zn[nt],en=on.name,ma=on.value,ma==="{$uid}"&&(ma="mce_"+fa++),De.map[en]=ma,De.push({name:en,value:ma});if(Yt)for(nt=Yt.length;nt--;)on=Yt[nt],en=on.name,en in De.map||(ma=on.value,ma==="{$uid}"&&(ma="mce_"+fa++),De.map[en]=ma,De.push({name:en,value:ma}));if(Vn){for(nt=Vn.length;nt--&&!(Vn[nt]in De.map););nt===-1&&(ar=!1)}if(on=De.map["data-mce-bogus"]){if(on==="all"){we=Xb(n,re,Qt.lastIndex),Qt.lastIndex=we;continue}ar=!1}}ar&&m(ge,De,Fn)}else ar=!1;if(Je=Mu[ge]){Je.lastIndex=we=ie.index+Is.length,(ie=Je.exec(re))?(ar&&(Rt=re.substr(we,ie.index-we)),we=ie.index+ie[0].length):(Rt=re.substr(we),we=re.length),ar&&(Rt.length>0&&Zt(Rt,!0),g(ge)),Qt.lastIndex=we;continue}Fn||(!Pn||Pn.indexOf("/")!==Pn.length-1?qe.push({name:ge,valid:ar}):ar&&g(ge))}else if(ge=ie[1])hn(ge);else if(ge=ie[2]){var Rc=vu===1||e.preserve_cdata||qe.length>0&&n.isValidChild(qe[qe.length-1].name,"#cdata");if(Rc)l(ge);else{we=st("",ie.index+2),Qt.lastIndex=we;continue}}else if(ge=ie[3])N(ge);else if((ge=ie[4])||Is==="<!"){we=st(ge,ie.index+Is.length),Qt.lastIndex=we;continue}else if(ge=ie[5])if(vu===1)E(ge,ie[6]);else{we=st("?",ie.index+2),Qt.lastIndex=we;continue}we=ie.index+Is.length}for(we<re.length&&Zt(yi(re.substr(we))),nt=qe.length-1;nt>=0;nt--)ge=qe[nt],ge.valid&&g(ge.name)},$=function(ee,ne){ne===void 0&&(ne="html"),F(oF(ee),ne)};return{parse:$}};lx.findEndTag=Xb;var uf=Tt.makeMap,Yb=Tt.each,cx=Tt.explode,Zh=Tt.extend,Zb=function(e,n){n===void 0&&(n=As());var a={},i=[],s={},l={};e=e||{},e.validate="validate"in e?e.validate:!0,e.root_name=e.root_name||"body";var v=function(ne){for(var re=uf("tr,td,th,tbody,thead,tfoot,table"),ie=n.getNonEmptyElements(),we=n.getWhiteSpaceElements(),ge=n.getTextBlockElements(),Je=n.getSpecialElements(),qe=function(xn,Vn){if(Vn===void 0&&(Vn=xn.parent),Je[xn.name])xn.empty().remove();else{for(var Yt=xn.children(),zn=0,Gr=Yt;zn<Gr.length;zn++){var ma=Gr[zn];n.isValidChild(Vn.name,ma.name)||qe(ma,Vn)}xn.unwrap()}},De=0;De<ne.length;De++){var nt=ne[De],Rt=void 0,en=void 0,yr=void 0;if(!(!nt.parent||nt.fixed)){if(ge[nt.name]&&nt.parent.name==="li"){for(var Fn=nt.next;Fn&&ge[Fn.name];){Fn.name="li",Fn.fixed=!0,nt.parent.insert(Fn,nt.parent);Fn=Fn.next}nt.unwrap();continue}var Ft=[nt];for(Rt=nt.parent;Rt&&!n.isValidChild(Rt.name,nt.name)&&!re[Rt.name];Rt=Rt.parent)Ft.push(Rt);if(Rt&&Ft.length>1)if(n.isValidChild(Rt.name,nt.name)){Ft.reverse(),en=m(Ft[0].clone());for(var ar=en,on=0;on<Ft.length-1;on++){n.isValidChild(ar.name,Ft[on].name)?(yr=m(Ft[on].clone()),ar.append(yr)):yr=ar;for(var Pn=Ft[on].firstChild;Pn&&Pn!==Ft[on+1];){var un=Pn.next;yr.append(Pn),Pn=un}ar=yr}ng(n,ie,we,en)?Rt.insert(nt,Ft[0],!0):(Rt.insert(en,Ft[0],!0),Rt.insert(nt,en)),Rt=Ft[0],(ng(n,ie,we,Rt)||n4(Rt,"br"))&&Rt.empty().remove()}else qe(nt);else if(nt.parent){if(nt.name==="li"){var Fn=nt.prev;if(Fn&&(Fn.name==="ul"||Fn.name==="ol")){Fn.append(nt);continue}if(Fn=nt.next,Fn&&(Fn.name==="ul"||Fn.name==="ol")){Fn.insert(nt,Fn.firstChild,!0);continue}nt.wrap(m(new el("ul",1)));continue}n.isValidChild(nt.parent.name,"div")&&n.isValidChild("div",nt.name)?nt.wrap(m(new el("div",1))):qe(nt)}}}},m=function(ne){var re=ne.name;if(re in a){var ie=s[re];ie?ie.push(ne):s[re]=[ne]}for(var we=i.length;we--;){var ge=i[we].name;if(ge in ne.attributes.map){var ie=l[ge];ie?ie.push(ne):l[ge]=[ne]}}return ne},g=function(ne,re){Yb(cx(ne),function(ie){var we=a[ie];we||(a[ie]=we=[]),we.push(re)})},E=function(){var ne=[];for(var re in a)xr(a,re)&&ne.push({name:re,callbacks:a[re]});return ne},N=function(ne,re){Yb(cx(ne),function(ie){var we;for(we=0;we<i.length;we++)if(i[we].name===ie){i[we].callbacks.push(re);return}i.push({name:ie,callbacks:[re]})})},F=function(){return[].concat(i)},$=function(ne,re){var ie,we,ge,Je,qe,De,nt,Rt=[],en,yr=function(st){return st===!1?"":st===!0?"p":st};re=re||{},s={},l={};var Fn=Zh(uf("script,style,head,html,body,title,meta,param"),n.getBlockElements()),Ft=Qp(n),ar=n.getNonEmptyElements(),on=n.children,Pn=e.validate,un="forced_root_block"in re?re.forced_root_block:e.forced_root_block,xn=yr(un),Vn=n.getWhiteSpaceElements(),Yt=/^[ \t\r\n]+/,zn=/[ \t\r\n]+$/,Gr=/[ \t\r\n]+/g,ma=/^[ \t\r\n]+$/,fa=xr(Vn,re.context)||xr(Vn,e.root_name),yi=function(){var st=or.firstChild,rn=null,Qt=function(hr){hr&&(st=hr.firstChild,st&&st.type===3&&(st.value=st.value.replace(Yt,"")),st=hr.lastChild,st&&st.type===3&&(st.value=st.value.replace(zn,"")))};if(n.isValidChild(or.name,xn.toLowerCase())){for(;st;){var lr=st.next;st.type===3||st.type===1&&st.name!=="p"&&!Fn[st.name]&&!st.attr("data-mce-type")?(rn||(rn=go(xn,1),rn.attr(e.forced_root_block_attrs),or.insert(rn,st)),rn.append(st)):(Qt(rn),rn=null),st=lr}Qt(rn)}},go=function(st,rn){var Qt=new el(st,rn),lr;return st in a&&(lr=s[st],lr?lr.push(Qt):s[st]=[Qt]),Qt},vu=function(st){for(var rn=n.getBlockElements(),Qt=st.prev;Qt&&Qt.type===3;){var lr=Qt.value.replace(zn,"");if(lr.length>0){Qt.value=lr;return}var hr=Qt.next;if(hr){if(hr.type===3&&hr.value.length){Qt=Qt.prev;continue}if(!rn[hr.name]&&hr.name!=="script"&&hr.name!=="style"){Qt=Qt.prev;continue}}var Na=Qt.prev;Qt.remove(),Qt=Na}},cs=function(st){var rn={};for(var Qt in st)Qt!=="li"&&Qt!=="p"&&(rn[Qt]=st[Qt]);return rn},Zt=function(st){for(var rn=st;gt(rn);){if(rn.name in Ft)return ng(n,ar,Vn,rn);rn=rn.parent}return!1},hn=lx({validate:Pn,document:e.document,allow_html_data_urls:e.allow_html_data_urls,allow_svg_data_urls:e.allow_svg_data_urls,allow_script_urls:e.allow_script_urls,allow_conditional_comments:e.allow_conditional_comments,preserve_cdata:e.preserve_cdata,self_closing_elements:cs(n.getSelfClosingElements()),cdata:function(st){en.append(go("#cdata",4)).value=st},text:function(st,rn){var Qt;fa||(st=st.replace(Gr," "),uF(en.lastChild,Fn)&&(st=st.replace(Yt,""))),st.length!==0&&(Qt=go("#text",3),Qt.raw=!!rn,en.append(Qt).value=st)},comment:function(st){en.append(go("#comment",8)).value=st},pi:function(st,rn){en.append(go(st,7)).value=rn,vu(en)},doctype:function(st){var rn=en.append(go("#doctype",10));rn.value=st,vu(en)},start:function(st,rn,Qt){var lr=Pn?n.getElementRule(st):{};if(lr){var hr=go(lr.outputName||st,1);hr.attributes=rn,hr.shortEnded=Qt,en.append(hr);var Na=on[en.name];Na&&on[hr.name]&&!Na[hr.name]&&Rt.push(hr);for(var si=i.length;si--;){var Zo=i[si].name;Zo in rn.map&&(De=l[Zo],De?De.push(hr):l[Zo]=[hr])}Fn[st]&&vu(hr),Qt||(en=hr),!fa&&Vn[st]&&(fa=!0)}},end:function(st){var rn,Qt,lr,hr=Pn?n.getElementRule(st):{};if(hr){if(Fn[st]&&!fa){if(rn=en.firstChild,rn&&rn.type===3)if(Qt=rn.value.replace(Yt,""),Qt.length>0)rn.value=Qt,rn=rn.next;else for(lr=rn.next,rn.remove(),rn=lr;rn&&rn.type===3;)Qt=rn.value,lr=rn.next,(Qt.length===0||ma.test(Qt))&&(rn.remove(),rn=lr),rn=lr;if(rn=en.lastChild,rn&&rn.type===3)if(Qt=rn.value.replace(zn,""),Qt.length>0)rn.value=Qt,rn=rn.prev;else for(lr=rn.prev,rn.remove(),rn=lr;rn&&rn.type===3;)Qt=rn.value,lr=rn.prev,(Qt.length===0||ma.test(Qt))&&(rn.remove(),rn=lr),rn=lr}fa&&Vn[st]&&(fa=!1);var Na=ng(n,ar,Vn,en),si=en.parent;hr.paddInEmptyBlock&&Na&&Zt(en)?ix(e,re,Fn,en):hr.removeEmpty&&Na?Fn[en.name]?en.empty().remove():en.unwrap():hr.paddEmpty&&(t4(en)||Na)&&ix(e,re,Fn,en),en=si}}},n),or=en=new el(re.context||e.root_name,11);if(hn.parse(ne,re.format),Pn&&Rt.length&&(re.context?re.invalid=!0:v(Rt)),xn&&(or.name==="body"||re.isRootContent)&&yi(),!re.invalid){for(nt in s)if(xr(s,nt)){for(De=a[nt],ie=s[nt],Je=ie.length;Je--;)ie[Je].parent||ie.splice(Je,1);for(we=0,ge=De.length;we<ge;we++)De[we](ie,nt,re)}for(we=0,ge=i.length;we<ge;we++)if(De=i[we],De.name in l){for(ie=l[De.name],Je=ie.length;Je--;)ie[Je].parent||ie.splice(Je,1);for(Je=0,qe=De.callbacks.length;Je<qe;Je++)De.callbacks[Je](ie,De.name,re)}}return or},ee={schema:n,addAttributeFilter:N,getAttributeFilters:F,addNodeFilter:g,getNodeFilters:E,filterNode:m,parse:$};return cF(ee,e),eg(ee,e),ee},c4=function(e,n,a){e.addAttributeFilter("data-mce-tabindex",function(i,s){for(var l=i.length;l--;){var v=i[l];v.attr("tabindex",v.attr("data-mce-tabindex")),v.attr(s,null)}}),e.addAttributeFilter("src,href,style",function(i,s){for(var l="data-mce-"+s,v=n.url_converter,m=n.url_converter_scope,g=i.length;g--;){var E=i[g],N=E.attr(l);N!==void 0?(E.attr(s,N.length>0?N:null),E.attr(l,null)):(N=E.attr(s),s==="style"?N=a.serializeStyle(a.parseStyle(N),E.name):v&&(N=v.call(m,N,s,E.name)),E.attr(s,N.length>0?N:null))}}),e.addAttributeFilter("class",function(i){for(var s=i.length;s--;){var l=i[s],v=l.attr("class");v&&(v=l.attr("class").replace(/(?:^|\s)mce-item-\w+(?!\S)/g,""),l.attr("class",v.length>0?v:null))}}),e.addAttributeFilter("data-mce-type",function(i,s,l){for(var v=i.length;v--;){var m=i[v];if(m.attr("data-mce-type")==="bookmark"&&!l.cleanup){var g=X.from(m.firstChild).exists(function(E){return!es(E.value)});g?m.unwrap():m.remove()}}}),e.addNodeFilter("noscript",function(i){for(var s=i.length;s--;){var l=i[s].firstChild;l&&(l.value=Bl.decode(l.value))}}),e.addNodeFilter("script,style",function(i,s){for(var l=function(N){return N.replace(/(<!--\[CDATA\[|\]\]-->)/g,`
`).replace(/^[\r\n]*|[\r\n]*$/g,"").replace(/^\s*((<!--)?(\s*\/\/)?\s*<!\[CDATA\[|(<!--\s*)?\/\*\s*<!\[CDATA\[\s*\*\/|(\/\/)?\s*<!--|\/\*\s*<!--\s*\*\/)\s*[\r\n]*/gi,"").replace(/\s*(\/\*\s*\]\]>\s*\*\/(-->)?|\s*\/\/\s*\]\]>(-->)?|\/\/\s*(-->)?|\]\]>|\/\*\s*-->\s*\*\/|\s*-->\s*)\s*$/g,"")},v=i.length;v--;){var m=i[v],g=m.firstChild?m.firstChild.value:"";if(s==="script"){var E=m.attr("type");E&&m.attr("type",E==="mce-no/type"?null:E.replace(/^mce\-/,"")),n.element_format==="xhtml"&&g.length>0&&(m.firstChild.value=`// <![CDATA[
`+l(g)+`
// ]]>`)}else n.element_format==="xhtml"&&g.length>0&&(m.firstChild.value=`<!--
`+l(g)+`
-->`)}}),e.addNodeFilter("#comment",function(i){for(var s=i.length;s--;){var l=i[s];n.preserve_cdata&&l.value.indexOf("[CDATA[")===0?(l.name="#cdata",l.type=4,l.value=a.decode(l.value.replace(/^\[CDATA\[|\]\]$/g,""))):l.value.indexOf("mce:protected ")===0&&(l.name="#text",l.type=3,l.raw=!0,l.value=unescape(l.value).substr(14))}}),e.addNodeFilter("xml:namespace,input",function(i,s){for(var l=i.length;l--;){var v=i[l];v.type===7?v.remove():v.type===1&&s==="input"&&!v.attr("type")&&v.attr("type","text")}}),e.addAttributeFilter("data-mce-type",function(i){vt(i,function(s){s.attr("data-mce-type")==="format-caret"&&(s.isEmpty(e.schema.getNonEmptyElements())?s.remove():s.unwrap())})}),e.addAttributeFilter("data-mce-src,data-mce-href,data-mce-style,data-mce-selected,data-mce-expando,data-mce-type,data-mce-resize,data-mce-placeholder",function(i,s){for(var l=i.length;l--;)i[l].attr(s,null)})},f4=function(e){var n=function(s){return s&&s.name==="br"},a=e.lastChild;if(n(a)){var i=a.prev;n(i)&&(a.remove(),i.remove())}},v4=function(e,n,a){var i,s=e.dom,l=n.cloneNode(!0),v=document.implementation;if(v.createHTMLDocument){var m=v.createHTMLDocument("");Tt.each(l.nodeName==="BODY"?l.childNodes:[l],function(g){m.body.appendChild(m.importNode(g,!0))}),l.nodeName!=="BODY"?l=m.body.firstChild:l=m.body,i=s.doc,s.doc=m}return DP(e,Gn(Gn({},a),{node:l})),i&&(s.doc=i),l},gF=function(e,n){return e&&e.hasEventListeners("PreProcess")&&!n.no_events},hF=function(e,n,a){return gF(e,a)?v4(e,n,a):n},pF=function(e,n,a){Tt.inArray(n,a)===-1&&(e.addAttributeFilter(a,function(i,s){for(var l=i.length;l--;)i[l].attr(s,null)}),n.push(a))},fx=function(e,n,a){if(!n.no_events&&e){var i=E2(e,Gn(Gn({},n),{content:a}));return i.content}else return a},bF=function(e,n,a){var i=ts(a.getInner?n.innerHTML:e.getOuterHTML(n));return a.selection||Kg(w.fromDom(n))?i:Tt.trim(i)},yF=function(e,n,a){var i=a.selection?Gn({forced_root_block:!1},a):a,s=e.parse(n,i);return f4(s),s},Jh=function(e,n,a){var i=Jv(e,n);return i.serialize(a)},vx=function(e,n,a,i,s){var l=Jh(n,a,i);return fx(e,s,l)},wF=function(e,n){var a=["data-mce-selected"],i=n&&n.dom?n.dom:uo.DOM,s=n&&n.schema?n.schema:As(e);e.entity_encoding=e.entity_encoding||"named",e.remove_trailing_brs="remove_trailing_brs"in e?e.remove_trailing_brs:!0;var l=Zb(e,s);c4(l,e,i);var v=function(m,g){g===void 0&&(g={});var E=Gn({format:"html"},g),N=hF(n,m,E),F=bF(i,N,E),$=yF(l,F,E);return E.format==="tree"?$:vx(n,e,s,$,E)};return{schema:s,addNodeFilter:l.addNodeFilter,addAttributeFilter:l.addAttributeFilter,serialize:v,addRules:s.addValidElements,setRules:s.setValidElements,addTempAttr:bt(pF,l,a),getTempAttrs:xe(a),getNodeFilters:l.getNodeFilters,getAttributeFilters:l.getAttributeFilters}},dx=function(e,n){var a=wF(e,n);return{schema:a.schema,addNodeFilter:a.addNodeFilter,addAttributeFilter:a.addAttributeFilter,serialize:a.serialize,addRules:a.addRules,setRules:a.setRules,addTempAttr:a.addTempAttr,getTempAttrs:a.getTempAttrs,getNodeFilters:a.getNodeFilters,getAttributeFilters:a.getAttributeFilters}},CF="html",Jb=function(e,n){n===void 0&&(n={});var a=n.format?n.format:CF;return W5(e,n,a)},Qb=function(e,n,a){return a===void 0&&(a={}),j5(e,n,a)},e0=uo.DOM,ui=function(e){e0.setStyle(e.id,"display",e.orgDisplay)},t0=function(e){return X.from(e).each(function(n){return n.destroy()})},d4=function(e){e.contentAreaContainer=e.formElement=e.container=e.editorContainer=null,e.bodyElement=e.contentDocument=e.contentWindow=null,e.iframeElement=e.targetElm=null,e.selection&&(e.selection=e.selection.win=e.selection.dom=e.selection.dom.doc=null)},xF=function(e){var n=e.formElement;n&&(n._mceOldSubmit&&(n.submit=n._mceOldSubmit,n._mceOldSubmit=null),e0.unbind(n,"submit reset",e.formEventDelegate))},SF=function(e){if(!e.removed){var n=e._selectionOverrides,a=e.editorUpload,i=e.getBody(),s=e.getElement();i&&e.save({is_removing:!0}),e.removed=!0,e.unbindAllNativeEvents(),e.hasHiddenInput&&s&&e0.remove(s.nextSibling),hT(e),e.editorManager.remove(e),!e.inline&&i&&ui(e),pT(e),e0.remove(e.getContainer()),t0(n),t0(a),e.destroy()}},m4=function(e,n){var a=e.selection,i=e.dom;if(!e.destroyed){if(!n&&!e.removed){e.remove();return}n||(e.editorManager.off("beforeunload",e._beforeUnload),e.theme&&e.theme.destroy&&e.theme.destroy(),t0(a),t0(i)),xF(e),d4(e),e.destroyed=!0}},kF=function(e,n){var a=Ye(e)&&Ye(n);return a?g4(e,n):n},mx=function(e){return function(){for(var n=[],a=0;a<arguments.length;a++)n[a]=arguments[a];if(n.length===0)throw new Error("Can't merge zero objects");for(var i={},s=0;s<n.length;s++){var l=n[s];for(var v in l)xr(l,v)&&(i[v]=e(i[v],l[v]))}return i}},g4=mx(kF),h4="autoresize_on_init,content_editable_state,convert_fonts_to_spans,inline_styles,padd_empty_with_br,block_elements,boolean_attributes,editor_deselector,editor_selector,elements,file_browser_callback_types,filepicker_validator_handler,force_hex_style_colors,force_p_newlines,gecko_spellcheck,images_dataimg_filter,media_scripts,mode,move_caret_before_on_enter_elements,non_empty_elements,self_closing_elements,short_ended_elements,special,spellchecker_select_languages,spellchecker_whitelist,tab_focus,table_responsive_width,text_block_elements,text_inline_elements,toolbar_drawer,types,validate,whitespace_elements,paste_word_valid_elements,paste_retain_style_properties,paste_convert_word_fake_lists".split(","),gx="bbcode,colorpicker,contextmenu,fullpage,legacyoutput,spellchecker,textcolor".split(","),EF="imagetools,toc".split(","),TF=function(e){var n=Ce(h4,function(i){return xr(e,i)}),a=e.forced_root_block;return(a===!1||a==="")&&n.push("forced_root_block (false only)"),Xe(n)},AF=function(e){var n=Tt.makeMap(e.plugins," "),a=function(s){return xr(n,s)},i=fo(fo([],Ce(gx,a),!0),Xr(EF,function(s){return a(s)?[s+" (moving to premium)"]:[]}),!0);return Xe(i)},OF=function(e,n){var a=TF(e),i=AF(n),s=i.length>0,l=a.length>0,v=n.theme==="mobile";if(s||l||v)var m=`
- `,g=v?`

Themes:`+m+"mobile":"",E=s?`

Plugins:`+m+i.join(m):"",N=l?`

Settings:`+m+a.join(m):""},DF=function(e,n){return{sections:xe(e),settings:xe(n)}},n0=Dn().deviceType,p4=n0.isTouch(),r0=n0.isPhone(),b4=n0.isTablet(),y4=["lists","autolink","autosave"],hx={table_grid:!1,object_resizing:!1,resize:!1},ag=function(e){var n=Ve(e)?e.join(" "):e,a=zt(Ae(n)?n.split(" "):[],me);return Ce(a,function(i){return i.length>0})},w4=function(e){return Ce(e,bt(We,y4))},C4=function(e,n){var a=Wt(n,function(i,s){return We(e,s)});return DF(a.t,a.f)},_F=function(e,n,a){a===void 0&&(a={});var i=e.sections(),s=Ar(i,n).getOr({});return Tt.extend({},a,s)},og=function(e,n){return xr(e.sections(),n)},MF=function(e,n,a){var i=e.sections();return og(e,n)&&i[n].theme===a},a0=function(e,n){return og(e,n)?e.sections()[n]:{}},x4=function(e,n){return Ar(e,"toolbar_mode").orThunk(function(){return Ar(e,"toolbar_drawer").map(function(a){return a===!1?"wrap":a})}).getOr(n)},BF=function(e,n,a,i,s){var l={id:n,theme:"silver",toolbar_mode:x4(e,"floating"),plugins:"",document_base_url:a,add_form_submit_trigger:!0,submit_patch:!0,add_unload_trigger:!0,convert_urls:!0,relative_urls:!0,remove_script_host:!0,object_resizing:!0,doctype:"<!DOCTYPE html>",visual:!0,font_size_legacy_values:"xx-small,small,medium,large,x-large,xx-large,300%",forced_root_block:"p",hidden_input:!0,inline_styles:!0,convert_fonts_to_spans:!0,indent:!0,indent_before:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",indent_after:"p,h1,h2,h3,h4,h5,h6,blockquote,div,title,style,pre,script,td,th,ul,ol,li,dl,dt,dd,area,table,thead,tfoot,tbody,tr,section,summary,article,hgroup,aside,figure,figcaption,option,optgroup,datalist",entity_encoding:"named",url_converter:s.convertURL,url_converter_scope:s};return Gn(Gn({},l),i?hx:{})},PF=function(e,n){var a={resize:!1,toolbar_mode:x4(e,"scrolling"),toolbar_sticky:!1},i={menubar:!1};return Gn(Gn(Gn({},hx),a),n?i:{})},S4=function(e,n){var a=n.external_plugins?n.external_plugins:{};return e&&e.external_plugins?Tt.extend({},e.external_plugins,a):a},k4=function(e,n){return[].concat(ag(e)).concat(ag(n))},RF=function(e,n,a,i){return e&&MF(n,"mobile","mobile")?w4(i):e&&og(n,"mobile")?i:a},NF=function(e,n,a,i){var s=ag(a.forced_plugins),l=ag(i.plugins),v=a0(n,"mobile"),m=v.plugins?ag(v.plugins):l,g=RF(e,n,l,m),E=k4(s,g);if(an.browser.isIE()&&We(E,"rtc"))throw new Error("RTC plugin is not supported on IE 11.");return Tt.extend(i,{plugins:E.join(" ")})},FF=function(e,n){return e&&og(n,"mobile")},IF=function(e,n,a,i,s){var l=e?{mobile:PF(s.mobile||{},n)}:{},v=C4(["mobile"],g4(l,s)),m=Tt.extend(a,i,v.settings(),FF(e,v)?_F(v,"mobile"):{},{validate:!0,external_plugins:S4(i,v.settings())});return NF(e,v,i,m)},E4=function(e,n,a,i,s){var l=BF(s,n,a,p4,e),v=IF(r0||b4,r0,l,i,s);return v.deprecation_warnings!==!1&&OF(s,v),v},ld=function(e,n,a){return X.from(n.settings[a]).filter(e)},zF=function(e){var n={};return typeof e=="string"?vt(e.indexOf("=")>0?e.split(/[;,](?![^=;,]*(?:[;,]|$))/):e.split(","),function(a){var i=a.split("=");i.length>1?n[Tt.trim(i[0])]=Tt.trim(i[1]):n[Tt.trim(i[0])]=Tt.trim(i[0])}):n=e,n},$F=function(e){return function(n){return Ve(n)&&oa(n,e)}},LF=function(e,n,a,i){var s=n in e.settings?e.settings[n]:a;return i==="hash"?zF(s):i==="string"?ld(Ae,e,n).getOr(a):i==="number"?ld(je,e,n).getOr(a):i==="boolean"?ld(_e,e,n).getOr(a):i==="object"?ld(Ye,e,n).getOr(a):i==="array"?ld(Ve,e,n).getOr(a):i==="string[]"?ld($F(Ae),e,n).getOr(a):i==="function"?ld(Se,e,n).getOr(a):s},HF=function(){var e={},n=function(s,l){e[s]=l},a=function(s){return e[s]?e[s]:{icons:{}}},i=function(s){return xr(e,s)};return{add:n,get:a,has:i}},o0=HF(),T4=function(e,n){var a=n.dom;return a[e]},A4=function(e,n){return parseInt(Qr(n,e),10)},O4=bt(T4,"clientWidth"),VF=bt(T4,"clientHeight"),UF=bt(A4,"margin-top"),WF=bt(A4,"margin-left"),jF=function(e){return e.dom.getBoundingClientRect()},qF=function(e,n,a){var i=O4(e),s=VF(e);return n>=0&&a>=0&&n<=i&&a<=s},Qh=function(e,n,a,i){var s=jF(n),l=e?s.left+n.dom.clientLeft+WF(n):0,v=e?s.top+n.dom.clientTop+UF(n):0,m=a-l,g=i-v;return{x:m,y:g}},D4=function(e,n,a){var i=w.fromDom(e.getBody()),s=e.inline?i:Tl(i),l=Qh(e.inline,s,n,a);return qF(s,l.x,l.y)},GF=function(e){return X.from(e).map(w.fromDom)},_4=function(e){var n=e.inline?e.getBody():e.getContentAreaContainer();return GF(n).map(kv).getOr(!1)},M4=function(){var e=function(){throw new Error("Theme did not provide a NotificationManager implementation.")};return{open:e,close:e,reposition:e,getArgs:e}},B4=function(e){var n=[],a=function(){var $=e.theme;return $&&$.getNotificationManagerImpl?$.getNotificationManagerImpl():M4()},i=function(){return X.from(n[0])},s=function($,ee){return $.type===ee.type&&$.text===ee.text&&!$.progressBar&&!$.timeout&&!ee.progressBar&&!ee.timeout},l=function(){n.length>0&&a().reposition(n)},v=function($){n.push($)},m=function($){tr(n,function(ee){return ee===$}).each(function(ee){n.splice(ee,1)})},g=function($,ee){if(ee===void 0&&(ee=!0),!(e.removed||!_4(e)))return ee&&e.fire("BeforeOpenNotification",{notification:$}),Hn(n,function(ne){return s(a().getArgs(ne),$)}).getOrThunk(function(){e.editorManager.setActive(e);var ne=a().open($,function(){m(ne),l(),i().fold(function(){return e.focus()},function(re){return XP(w.fromDom(re.getEl()))})});return v(ne),l(),e.fire("OpenNotification",{notification:Gn({},ne)}),ne})},E=function(){i().each(function($){a().close($),m($),l()})},N=xe(n),F=function($){$.on("SkinLoaded",function(){var ee=BE($);ee&&g({text:ee,type:"warning",timeout:0},!1),l()}),$.on("show ResizeEditor ResizeWindow NodeChange",function(){Gi.requestAnimationFrame(l)}),$.on("remove",function(){vt(n.slice(),function(ee){a().close(ee)})})};return F(e),{open:g,close:E,getNotifications:N}},Ql=Lu.PluginManager,nv=Lu.ThemeManager;function ep(){var e=function(){throw new Error("Theme did not provide a WindowManager implementation.")};return{open:e,openUrl:e,alert:e,confirm:e,close:e,getParams:e,setParams:e}}var px=function(e){var n=[],a=function(){var re=e.theme;return re&&re.getWindowManagerImpl?re.getWindowManagerImpl():ep()},i=function(re,ie){return function(){for(var we=[],ge=0;ge<arguments.length;ge++)we[ge]=arguments[ge];return ie?ie.apply(re,we):void 0}},s=function(re){e.fire("OpenWindow",{dialog:re})},l=function(re){e.fire("CloseWindow",{dialog:re})},v=function(re){n.push(re),s(re)},m=function(re){l(re),n=Ce(n,function(ie){return ie!==re}),n.length===0&&e.focus()},g=function(){return X.from(n[n.length-1])},E=function(re){e.editorManager.setActive(e),ub(e);var ie=re();return v(ie),ie},N=function(re,ie){return E(function(){return a().open(re,ie,m)})},F=function(re){return E(function(){return a().openUrl(re,m)})},$=function(re,ie,we){var ge=a();ge.alert(re,i(we||ge,ie))},ee=function(re,ie,we){var ge=a();ge.confirm(re,i(we||ge,ie))},ne=function(){g().each(function(re){a().close(re),m(re)})};return e.on("remove",function(){vt(n,function(re){a().close(re)})}),{open:N,openUrl:F,alert:$,confirm:ee,close:ne}},bx=function(e,n){e.notificationManager.open({type:"error",text:n})},i0=function(e,n){e._skinLoaded?bx(e,n):e.on("SkinLoaded",function(){bx(e,n)})},P4=function(e,n){i0(e,Su.translate(["Failed to upload image: {0}",n]))},yx=function(e,n,a){Z1(e,n,{message:a})},wx=function(e,n,a){return a?"Failed to load "+e+": "+a+" from url "+n:"Failed to load "+e+" url: "+n},Cx=function(e,n,a){yx(e,"PluginLoadError",wx("plugin",n,a))},R4=function(e,n,a){yx(e,"IconsLoadError",wx("icons",n,a))},KF=function(e,n,a){yx(e,"LanguageLoadError",wx("language",n,a))},XF=function(e,n,a){var i=Su.translate(["Failed to initialize plugin: {0}",n]);Z1(e,"PluginLoadError",{message:i}),u0(i,a),i0(e,i)},u0=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];var i=window.console;i&&(i.error?i.error.apply(i,fo([e],n,!1)):i.log.apply(i,fo([e],n,!1)))},N4=function(e){return/^[a-z0-9\-]+$/i.test(e)},YF=function(e){return ig(e,AE(e))},ZF=function(e){return ig(e,OE(e))},ig=function(e,n){var a=e.editorManager.baseURL+"/skins/content",i=e.editorManager.suffix,s="content"+i+".css",l=e.inline===!0;return zt(n,function(v){return N4(v)&&!l?a+"/"+v+"/"+s:e.documentBaseURI.toAbsolute(v)})},F4=function(e){e.contentCSS=e.contentCSS.concat(YF(e),ZF(e))},xx=function(){var e=1,n=2,a={},i=function($,ee){return{status:$,resultUri:ee}},s=function($){return $ in a},l=function($){var ee=a[$];return ee?ee.resultUri:null},v=function($){return s($)?a[$].status===e:!1},m=function($){return s($)?a[$].status===n:!1},g=function($){a[$]=i(e,null)},E=function($,ee){a[$]=i(n,ee)},N=function($){delete a[$]},F=function(){a={}};return{hasBlobUri:s,getResultUri:l,isPending:v,isUploaded:m,markPending:g,markUploaded:E,removeFailed:N,destroy:F}},JF=0,QF=function(){var e=function(){return Math.round(Math.random()*4294967295).toString(36)},n=new Date().getTime();return"s"+n.toString(36)+e()+e()+e()},I4=function(e){return e+JF+++QF()},z4=function(){var e=[],n=function(F){var $={"image/jpeg":"jpg","image/jpg":"jpg","image/gif":"gif","image/png":"png","image/apng":"apng","image/avif":"avif","image/svg+xml":"svg","image/webp":"webp","image/bmp":"bmp","image/tiff":"tiff"};return $[F.toLowerCase()]||"dat"},a=function(F,$,ee,ne,re){if(Ae(F)){var ie=F;return i({id:ie,name:ne,filename:re,blob:$,base64:ee})}else{if(Ye(F))return i(F);throw new Error("Unknown input type")}},i=function(F){if(!F.blob||!F.base64)throw new Error("blob and base64 representations of the image are required for BlobInfo to be created");var $=F.id||I4("blobid"),ee=F.name||$,ne=F.blob;return{id:xe($),name:xe(ee),filename:xe(F.filename||ee+"."+n(ne.type)),blob:xe(ne),base64:xe(F.base64),blobUri:xe(F.blobUri||URL.createObjectURL(ne)),uri:xe(F.uri)}},s=function(F){v(F.id())||e.push(F)},l=function(F){return Hn(e,F).getOrUndefined()},v=function(F){return l(function($){return $.id()===F})},m=function(F){return l(function($){return $.blobUri()===F})},g=function(F,$){return l(function(ee){return ee.base64()===F&&ee.blob().type===$})},E=function(F){e=Ce(e,function($){return $.blobUri()===F?(URL.revokeObjectURL($.blobUri()),!1):!0})},N=function(){vt(e,function(F){URL.revokeObjectURL(F.blobUri())}),e=[]};return{create:a,add:s,get:v,getByUri:m,getByData:g,findFirst:l,removeByUri:E,destroy:N}},eI=function(e,n){var a={},i=function(ne,re){return ne?ne.replace(/\/$/,"")+"/"+re.replace(/^\//,""):re},s=function(ne,re,ie,we){var ge=new XMLHttpRequest;ge.open("POST",n.url),ge.withCredentials=n.credentials,ge.upload.onprogress=function(qe){we(qe.loaded/qe.total*100)},ge.onerror=function(){ie("Image upload failed due to a XHR Transport error. Code: "+ge.status)},ge.onload=function(){if(ge.status<200||ge.status>=300){ie("HTTP Error: "+ge.status);return}var qe=JSON.parse(ge.responseText);if(!qe||typeof qe.location!="string"){ie("Invalid JSON: "+ge.responseText);return}re(i(n.basePath,qe.location))};var Je=new FormData;Je.append("file",ne.blob(),ne.filename()),ge.send(Je)},l=function(){return new Di(function(ne){ne([])})},v=function(ne,re){return{url:re,blobInfo:ne,status:!0}},m=function(ne,re,ie){return{url:"",blobInfo:ne,status:!1,error:{message:re,options:ie}}},g=function(ne,re){Tt.each(a[ne],function(ie){ie(re)}),delete a[ne]},E=function(ne,re,ie){return e.markPending(ne.blobUri()),new Di(function(we){var ge,Je;try{var qe=function(){ge&&(ge.close(),Je=Ze)},De=function(Rt){qe(),e.markUploaded(ne.blobUri(),Rt),g(ne.blobUri(),v(ne,Rt)),we(v(ne,Rt))},nt=function(Rt,en){var yr=en||{};qe(),e.removeFailed(ne.blobUri()),g(ne.blobUri(),m(ne,Rt,yr)),we(m(ne,Rt,yr))};Je=function(Rt){Rt<0||Rt>100||X.from(ge).orThunk(function(){return X.from(ie).map(A)}).each(function(en){ge=en,en.progressBar.value(Rt)})},re(ne,De,nt,Je)}catch(Rt){we(m(ne,Rt.message,{}))}})},N=function(ne){return ne===s},F=function(ne){var re=ne.blobUri();return new Di(function(ie){a[re]=a[re]||[],a[re].push(ie)})},$=function(ne,re){return ne=Tt.grep(ne,function(ie){return!e.isUploaded(ie.blobUri())}),Di.all(Tt.map(ne,function(ie){return e.isPending(ie.blobUri())?F(ie):E(ie,n.handler,re)}))},ee=function(ne,re){return!n.url&&N(n.handler)?l():$(ne,re)};return Se(n.handler)===!1&&(n.handler=s),{upload:ee}},$4=function(e){return function(){return e.notificationManager.open({text:e.translate("Image uploading..."),type:"info",timeout:-1,progressBar:!0})}},L4=function(e,n){return eI(n,{url:DB(e),basePath:Vf(e),credentials:D1(e),handler:_B(e)})},tI=function(e){var n=xx(),a=L4(e,n);return{upload:function(i,s){return s===void 0&&(s=!0),a.upload(i,s?$4(e):void 0)}}},nI=function(e){var n=xu(null);e.on("change AddUndo",function(i){n.set(Gn({},i.level))});var a=function(){var i=e.undoManager.data;yn(i).filter(function(s){return!Lb(n.get(),s)}).each(function(s){e.setDirty(!0),e.fire("change",{level:s,lastLevel:ot(i,i.length-2).getOrNull()})})};return{fireIfChanged:a}},eu=function(e){var n=z4(),a,i,s=xx(),l=[],v=nI(e),m=function(qe){return function(De){return e.selection?qe(De):[]}},g=function(qe){return qe+(qe.indexOf("?")===-1?"?":"&")+new Date().getTime()},E=function(qe,De,nt){var Rt=0;do Rt=qe.indexOf(De,Rt),Rt!==-1&&(qe=qe.substring(0,Rt)+nt+qe.substr(Rt+De.length),Rt+=nt.length-De.length+1);while(Rt!==-1);return qe},N=function(qe,De,nt){var Rt='src="'+nt+'"'+(nt===an.transparentSrc?' data-mce-placeholder="1"':"");return qe=E(qe,'src="'+De+'"',Rt),qe=E(qe,'data-mce-src="'+De+'"','data-mce-src="'+nt+'"'),qe},F=function(qe,De){vt(e.undoManager.data,function(nt){nt.type==="fragmented"?nt.fragments=zt(nt.fragments,function(Rt){return N(Rt,qe,De)}):nt.content=N(nt.content,qe,De)})},$=function(qe,De){var nt=e.convertURL(De,"src");F(qe.src,De),e.$(qe).attr({src:jw(e)?g(De):De,"data-mce-src":nt})},ee=function(qe){return a||(a=L4(e,s)),we().then(m(function(De){var nt=zt(De,function(Rt){return Rt.blobInfo});return a.upload(nt,$4(e)).then(m(function(Rt){var en=[],yr=zt(Rt,function(Fn,Ft){var ar=De[Ft].blobInfo,on=De[Ft].image;return Fn.status&&OB(e)?(n.removeByUri(on.src),of(e)||$(on,Fn.url)):Fn.error&&(Fn.error.options.remove&&(F(on.getAttribute("src"),an.transparentSrc),en.push(on)),P4(e,Fn.error.message)),{element:on,status:Fn.status,uploadUri:Fn.url,blobInfo:ar}});return yr.length>0&&v.fireIfChanged(),en.length>0&&(of(e)||e.undoManager.transact(function(){vt(en,function(Fn){e.dom.remove(Fn),n.removeByUri(Fn.src)})})),qe&&qe(yr),yr}))}))},ne=function(qe){if(vh(e))return ee(qe)},re=function(qe){if(oa(l,function(nt){return nt(qe)})===!1)return!1;if(qe.getAttribute("src").indexOf("data:")===0){var De=O1(e);return De(qe)}return!0},ie=function(qe){l.push(qe)},we=function(){return i||(i=aF(s,n)),i.findAll(e.getBody(),re).then(m(function(qe){return qe=Ce(qe,function(De){return typeof De=="string"?(i0(e,De),!1):!0}),of(e)||vt(qe,function(De){F(De.image.src,De.blobInfo.blobUri()),De.image.src=De.blobInfo.blobUri(),De.image.removeAttribute("data-mce-src")}),qe}))},ge=function(){n.destroy(),s.destroy(),i=a=null},Je=function(qe){return qe.replace(/src="(blob:[^"]+)"/g,function(De,nt){var Rt=s.getResultUri(nt);if(Rt)return'src="'+Rt+'"';var en=n.getByUri(nt);if(en||(en=pn(e.editorManager.get(),function(Fn,Ft){return Fn||Ft.editorUpload&&Ft.editorUpload.blobCache.getByUri(nt)},null)),en){var yr=en.blob();return'src="data:'+yr.type+";base64,"+en.base64()+'"'}return De})};return e.on("SetContent",function(){vh(e)?ne():we()}),e.on("RawSaveContent",function(qe){qe.content=Je(qe.content)}),e.on("GetContent",function(qe){qe.source_view||qe.format==="raw"||qe.format==="tree"||(qe.content=Je(qe.content))}),e.on("PostRender",function(){e.parser.addNodeFilter("img",function(qe){vt(qe,function(De){var nt=De.attr("src");if(!n.getByUri(nt)){var Rt=s.getResultUri(nt);Rt&&De.attr("src",Rt)}})})}),{blobCache:n,addFilter:ie,uploadImages:ee,uploadImagesAuto:ne,scanForImages:we,destroy:ge}},H4=function(e){var n={valigntop:[{selector:"td,th",styles:{verticalAlign:"top"}}],valignmiddle:[{selector:"td,th",styles:{verticalAlign:"middle"}}],valignbottom:[{selector:"td,th",styles:{verticalAlign:"bottom"}}],alignleft:[{selector:"figure.image",collapsed:!1,classes:"align-left",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"left"},inherit:!1,preview:!1,defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"left"},preview:"font-family font-size"}],aligncenter:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"center"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"figure.image",collapsed:!1,classes:"align-center",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"img,audio,video",collapsed:!1,styles:{display:"block",marginLeft:"auto",marginRight:"auto"},preview:!1},{selector:"table",collapsed:!1,styles:{marginLeft:"auto",marginRight:"auto"},preview:"font-family font-size"}],alignright:[{selector:"figure.image",collapsed:!1,classes:"align-right",ceFalseOverride:!0,preview:"font-family font-size"},{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"right"},inherit:!1,preview:"font-family font-size",defaultBlock:"div"},{selector:"img,table,audio,video",collapsed:!1,styles:{float:"right"},preview:"font-family font-size"}],alignjustify:[{selector:"figure,p,h1,h2,h3,h4,h5,h6,td,th,tr,div,ul,ol,li",styles:{textAlign:"justify"},inherit:!1,defaultBlock:"div",preview:"font-family font-size"}],bold:[{inline:"strong",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontWeight:"bold"}},{inline:"b",remove:"all",preserve_attributes:["class","style"]}],italic:[{inline:"em",remove:"all",preserve_attributes:["class","style"]},{inline:"span",styles:{fontStyle:"italic"}},{inline:"i",remove:"all",preserve_attributes:["class","style"]}],underline:[{inline:"span",styles:{textDecoration:"underline"},exact:!0},{inline:"u",remove:"all",preserve_attributes:["class","style"]}],strikethrough:[{inline:"span",styles:{textDecoration:"line-through"},exact:!0},{inline:"strike",remove:"all",preserve_attributes:["class","style"]},{inline:"s",remove:"all",preserve_attributes:["class","style"]}],forecolor:{inline:"span",styles:{color:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},hilitecolor:{inline:"span",styles:{backgroundColor:"%value"},links:!0,remove_similar:!0,clear_child_styles:!0},fontname:{inline:"span",toggle:!1,styles:{fontFamily:"%value"},clear_child_styles:!0},fontsize:{inline:"span",toggle:!1,styles:{fontSize:"%value"},clear_child_styles:!0},lineheight:{selector:"h1,h2,h3,h4,h5,h6,p,li,td,th,div",defaultBlock:"p",styles:{lineHeight:"%value"}},fontsize_class:{inline:"span",attributes:{class:"%value"}},blockquote:{block:"blockquote",wrapper:!0,remove:"all"},subscript:{inline:"sub"},superscript:{inline:"sup"},code:{inline:"code"},link:{inline:"a",selector:"a",remove:"all",split:!0,deep:!0,onmatch:function(a,i,s){return Br(a)&&a.hasAttribute("href")},onformat:function(a,i,s){Tt.each(s,function(l,v){e.setAttrib(a,v,l)})}},lang:{inline:"span",clear_child_styles:!0,remove_similar:!0,attributes:{lang:"%value","data-mce-lang":function(a){var i;return(i=a==null?void 0:a.customValue)!==null&&i!==void 0?i:null}}},removeformat:[{selector:"b,strong,em,i,font,u,strike,s,sub,sup,dfn,code,samp,kbd,var,cite,mark,q,del,ins,small",remove:"all",split:!0,expand:!1,block_expand:!0,deep:!0},{selector:"span",attributes:["style","class"],remove:"empty",split:!0,expand:!1,deep:!0},{selector:"*",attributes:["style","class"],split:!1,expand:!1,deep:!0}]};return Tt.each("p h1 h2 h3 h4 h5 h6 div address pre dt dd samp".split(/\s/),function(a){n[a]={block:a,remove:"all"}}),n},rI=function(e){var n={},a=function(v){return gt(v)?n[v]:n},i=function(v){return xr(n,v)},s=function(v,m){v&&(Ae(v)?(Ve(m)||(m=[m]),vt(m,function(g){Te(g.deep)&&(g.deep=!Ms(g)),Te(g.split)&&(g.split=!Ms(g)||Li(g)),Te(g.remove)&&Ms(g)&&!Li(g)&&(g.remove="none"),Ms(g)&&Li(g)&&(g.mixed=!0,g.block_expand=!0),Ae(g.classes)&&(g.classes=g.classes.split(/\s+/))}),n[v]=m):vn(v,function(g,E){s(E,g)}))},l=function(v){return v&&n[v]&&delete n[v],n};return s(H4(e.dom)),s(FB(e)),{get:a,has:i,register:s,unregister:l}},s0=Tt.each,_u=uo.DOM,V4=function(e,n){var a,i,s,l=n&&n.schema||As({}),v=function(N,F){F.classes.length&&_u.addClass(N,F.classes.join(" ")),_u.setAttribs(N,F.attrs)},m=function(N){i=typeof N=="string"?{name:N,classes:[],attrs:{}}:N;var F=_u.create(i.name);return v(F,i),F},g=function(N,F){var $=typeof N!="string"?N.nodeName.toLowerCase():N,ee=l.getElementRule($),ne=ee&&ee.parentsRequired;return ne&&ne.length?F&&Tt.inArray(ne,F)!==-1?F:ne[0]:!1},E=function(N,F,$){var ee,ne,re=F.length>0&&F[0],ie=re&&re.name,we=g(N,ie);if(we)ie===we?(ne=F[0],F=F.slice(1)):ne=we;else if(re)ne=F[0],F=F.slice(1);else if(!$)return N;return ne&&(ee=m(ne),ee.appendChild(N)),$&&(ee||(ee=_u.create("div"),ee.appendChild(N)),Tt.each($,function(ge){var Je=m(ge);ee.insertBefore(Je,N)})),E(ee,F,ne&&ne.siblings)};return e&&e.length?(i=e[0],a=m(i),s=_u.create("div"),s.appendChild(E(a,e.slice(1),i.siblings)),s):""},ca=function(e){var n,a={classes:[],attrs:{}};return e=a.selector=Tt.trim(e),e!=="*"&&(n=e.replace(/(?:([#\.]|::?)([\w\-]+)|(\[)([^\]]+)\]?)/g,function(i,s,l,v,m){switch(s){case"#":a.attrs.id=l;break;case".":a.classes.push(l);break;case":":Tt.inArray("checked disabled enabled read-only required".split(" "),l)!==-1&&(a.attrs[l]=l);break}if(v==="["){var g=m.match(/([\w\-]+)(?:\=\"([^\"]+))?/);g&&(a.attrs[g[1]]=g[2])}return""})),a.name=n||"div",a},aI=function(e){return!e||typeof e!="string"?[]:(e=e.split(/\s*,\s*/)[0],e=e.replace(/\s*(~\+|~|\+|>)\s*/g,"$1"),Tt.map(e.split(/(?:>|\s+(?![^\[\]]+\]))/),function(n){var a=Tt.map(n.split(/(?:~\+|~|\+)/),ca),i=a.pop();return a.length&&(i.siblings=a),i}).reverse())},oI=function(e,n){var a,i,s="",l,v=IB(e);if(v==="")return"";var m=function(F){return F.replace(/%(\w+)/g,"")};if(typeof n=="string"){if(n=e.formatter.get(n),!n)return;n=n[0]}if("preview"in n){var g=Ar(n,"preview");if(Tv(g,!1))return"";v=g.getOr(v)}a=n.block||n.inline||"span";var E=aI(n.selector);E.length?(E[0].name||(E[0].name=a),a=n.selector,i=V4(E,e)):i=V4([a],e);var N=_u.select(a,i)[0]||i.firstChild;return s0(n.styles,function(F,$){var ee=m(F);ee&&_u.setStyle(N,$,ee)}),s0(n.attributes,function(F,$){var ee=m(F);ee&&_u.setAttrib(N,$,ee)}),s0(n.classes,function(F){var $=m(F);_u.hasClass(N,$)||_u.addClass(N,$)}),e.fire("PreviewFormats"),_u.setStyles(i,{position:"absolute",left:-65535}),e.getBody().appendChild(i),l=_u.getStyle(e.getBody(),"fontSize",!0),l=/px$/.test(l)?parseInt(l,10):0,s0(v.split(" "),function(F){var $=_u.getStyle(N,F,!0);if(!(F==="background-color"&&/transparent|rgba\s*\([^)]+,\s*0\)/.test($)&&($=_u.getStyle(e.getBody(),F,!0),_u.toHex($).toLowerCase()==="#ffffff"))&&!(F==="color"&&_u.toHex($).toLowerCase()==="#000000")){if(F==="font-size"&&/em|%$/.test($)){if(l===0)return;var ee=parseFloat($)/(/%$/.test($)?100:1);$=ee*l+"px"}F==="border"&&$&&(s+="padding:0 2px;"),s+=F+":"+$+";"}}),e.fire("AfterPreviewFormats"),_u.remove(i),s},iI=function(e){e.addShortcut("meta+b","","Bold"),e.addShortcut("meta+i","","Italic"),e.addShortcut("meta+u","","Underline");for(var n=1;n<=6;n++)e.addShortcut("access+"+n,"",["FormatBlock",!1,"h"+n]);e.addShortcut("access+7","",["FormatBlock",!1,"p"]),e.addShortcut("access+8","",["FormatBlock",!1,"div"]),e.addShortcut("access+9","",["FormatBlock",!1,"address"])},Do=function(e){var n=rI(e),a=xu(null);return iI(e),_b(e),{get:n.get,has:n.has,register:n.register,unregister:n.unregister,apply:function(i,s,l){jb(e,i,s,l)},remove:function(i,s,l,v){H5(e,i,s,l,v)},toggle:function(i,s,l){V5(e,i,s,l)},match:function(i,s,l,v){return L5(e,i,s,l,v)},closest:function(i){return q3(e,i)},matchAll:function(i,s){return W3(e,i,s)},matchNode:function(i,s,l,v){return Wb(e,i,s,l,v)},canApply:function(i){return j3(e,i)},formatChanged:function(i,s,l,v){return U5(e,a,i,s,l,v)},getCssText:bt(oI,e)}},U4=function(e){switch(e.toLowerCase()){case"undo":case"redo":case"mcerepaint":case"mcefocus":return!0;default:return!1}},tp=function(e,n,a){var i=xu(!1),s=function(g){Hb(n,!1,a),n.add({},g)};e.on("init",function(){n.add()}),e.on("BeforeExecCommand",function(g){var E=g.command;U4(E)||(R3(n,a),n.beforeChange())}),e.on("ExecCommand",function(g){var E=g.command;U4(E)||s(g)}),e.on("ObjectResizeStart cut",function(){n.beforeChange()}),e.on("SaveContent ObjectResized blur",s),e.on("dragend",s),e.on("keyup",function(g){var E=g.keyCode;g.isDefaultPrevented()||((E>=33&&E<=36||E>=37&&E<=40||E===45||g.ctrlKey)&&(s(),e.nodeChanged()),(E===46||E===8)&&e.nodeChanged(),i.get()&&n.typing&&Lb(Ym(e),n.data[0])===!1&&(e.isDirty()===!1&&(e.setDirty(!0),e.fire("change",{level:n.data[0],lastLevel:null})),e.fire("TypingUndo"),i.set(!1),e.nodeChanged()))}),e.on("keydown",function(g){var E=g.keyCode;if(!g.isDefaultPrevented()){if(E>=33&&E<=36||E>=37&&E<=40||E===45){n.typing&&s(g);return}var N=g.ctrlKey&&!g.altKey||g.metaKey;(E<16||E>20)&&E!==224&&E!==91&&!n.typing&&!N&&(n.beforeChange(),Hb(n,!0,a),n.add({},g),i.set(!0))}}),e.on("mousedown",function(g){n.typing&&s(g)});var l=function(g){return g.inputType==="insertReplacementText"},v=function(g){return g.inputType==="insertText"&&g.data===null},m=function(g){return g.inputType==="insertFromPaste"||g.inputType==="insertFromDrop"};e.on("input",function(g){g.inputType&&(l(g)||v(g)||m(g))&&s(g)}),e.on("AddUndo Undo Redo ClearUndos",function(g){g.isDefaultPrevented()||e.nodeChanged()})},uI=function(e){e.addShortcut("meta+z","","Undo"),e.addShortcut("meta+y,meta+shift+z","","Redo")},W4=function(e){var n=zv(),a=xu(0),i=xu(0),s={data:[],typing:!1,beforeChange:function(){tx(e,a,n)},add:function(l,v){return H3(e,s,i,a,n,l,v)},undo:function(){return Ub(e,s,a,i)},redo:function(){return Ps(e,i,s.data)},clear:function(){Gh(e,s,i)},reset:function(){sd(e,s)},hasUndo:function(){return I5(e,s,i)},hasRedo:function(){return V3(e,s,i)},transact:function(l){return U3(e,s,a,l)},ignore:function(l){z5(e,a,l)},extra:function(l,v){$5(e,s,i,l,v)}};return of(e)||tp(e,s,a),uI(e),s},sI=[9,27,kr.HOME,kr.END,19,20,44,144,145,33,34,45,16,17,18,91,92,93,kr.DOWN,kr.UP,kr.LEFT,kr.RIGHT].concat(an.browser.isFirefox()?[224]:[]),Sx="data-mce-placeholder",sf=function(e){return e.type==="keydown"||e.type==="keyup"},ss=function(e){var n=e.keyCode;return n===kr.BACKSPACE||n===kr.DELETE},np=function(e){if(sf(e)){var n=e.keyCode;return!ss(e)&&(kr.metaKeyPressed(e)||e.altKey||n>=112&&n<=123||We(sI,n))}else return!1},cd=function(e){return sf(e)&&!(ss(e)||e.type==="keyup"&&e.keyCode===229)},Mc=function(e,n,a){if(Fi(w.fromDom(n),!1)){var i=a==="",s=n.firstElementChild;return s?e.getStyle(n.firstElementChild,"padding-left")||e.getStyle(n.firstElementChild,"padding-right")?!1:i?!e.isBlock(s):a===s.nodeName.toLowerCase():!0}else return!1},rp=function(e){var n=e.dom,a=Ji(e),i=ME(e),s=function(l,v){if(!np(l)){var m=e.getBody(),g=cd(l)?!1:Mc(n,m,a),E=n.getAttrib(m,Sx)!=="";(E!==g||v)&&(n.setAttrib(m,Sx,g?i:null),n.setAttrib(m,"aria-placeholder",g?i:null),wT(e,g),e.on(g?"keydown":"keyup",s),e.off(g?"keyup":"keydown",s))}};i&&e.on("init",function(l){s(l,!0),e.on("change SetContent ExecCommand",s),e.on("paste",function(v){return Gi.setEditorTimeout(e,function(){return s(v)})})})},kx=/[\u0591-\u07FF\uFB1D-\uFDFF\uFE70-\uFEFC]/,Ex=function(e){return kx.test(e)},rv=function(e,n){return wn(w.fromDom(n),PB(e))},j4=function(e){return uo.DOM.getStyle(e,"direction",!0)==="rtl"||Ex(e.textContent)},lI=function(e,n,a){return Ce(uo.DOM.getParents(a.container(),"*",n),e)},lf=function(e,n,a){var i=lI(e,n,a);return X.from(i[i.length-1])},q4=function(e,n,a){var i=Vl(n,e),s=Vl(a,e);return i&&i===s},cI=function(e){return Cr(e)||Vy(e)},Rs=function(e,n){if(!n)return n;var a=n.container(),i=n.offset();return e?Xa(a)?Wn(a.nextSibling)?Et(a.nextSibling,0):Et.after(a):Cr(n)?Et(a,i+1):n:Xa(a)?Wn(a.previousSibling)?Et(a.previousSibling,a.previousSibling.data.length):Et.before(a):Vy(n)?Et(a,i-1):n},G4=bt(Rs,!0),ug=bt(Rs,!1),K4=function(e){return function(n){return Sr(e,w.fromDom(n.dom.parentNode))}},X4=function(e){return Zc(e)||yu(e)},hl=function(e,n){return Aa(e,n)?Wp(n,X4,K4(e)):X.none()},Tx=function(e){var n=e.getBody(),a=n.firstChild&&e.dom.isBlock(n.firstChild)?n.firstChild:n;e.selection.setCursorLocation(a,0)},Y4=function(e){e.dom.isEmpty(e.getBody())&&(e.setContent(""),Tx(e))},fI=function(e,n,a){return su(Tu(a),ql(a),function(i,s){var l=Rs(!0,i),v=Rs(!1,s),m=Rs(!1,n);return e?Wl(a,m).exists(function(g){return g.isEqual(v)&&n.isEqual(l)}):jl(a,m).exists(function(g){return g.isEqual(l)&&n.isEqual(v)})}).getOr(!0)},vI=function(e,n){return{block:e,position:n}},sg=function(e,n){return{from:e,to:n}},Ax=function(e,n){var a=w.fromDom(e),i=w.fromDom(n.container());return hl(a,i).map(function(s){return vI(s,n)})},dI=function(e){return Sr(e.from.block,e.to.block)===!1},Hi=function(e){return Fo(e.from.block).bind(function(n){return Fo(e.to.block).filter(function(a){return Sr(n,a)})}).isSome()},mI=function(e){return so(e.from.block.dom)===!1&&so(e.to.block.dom)===!1},Z4=function(e,n,a){return za(a.position.getNode())&&Fi(a.block)===!1?Wf(!1,a.block.dom).bind(function(i){return i.isEqual(a.position)?_s(n,e,i).bind(function(s){return Ax(e,s)}):X.some(a)}).getOr(a):a},J4=function(e,n,a){var i=Ax(e,Et.fromRangeStart(a)),s=i.bind(function(l){return _s(n,e,l.position).bind(function(v){return Ax(e,v).map(function(m){return Z4(e,n,m)})})});return su(i,s,sg).filter(function(l){return dI(l)&&Hi(l)&&mI(l)})},Q4=function(e,n,a){return a.collapsed?J4(e,n,a):X.none()},eO=function(e){var n=pu(e);return tr(n,js).fold(xe(n),function(a){return n.slice(0,a)})},l0=function(e){var n=eO(e);return vt(n,Io),n},tO=function(e,n){var a=sr(n,e);return Hn(a.reverse(),function(i){return Fi(i)}).each(Io)},gI=function(e){return Ce(Ia(e),function(n){return!Fi(n)}).length===0},hI=function(e,n,a,i){if(Fi(a))return Qv(a),Tu(a.dom);gI(i)&&Fi(n)&&Us(i,w.fromTag("br"));var s=jl(a.dom,Et.before(i.dom));return vt(l0(n),function(l){Us(i,l)}),tO(e,n),s},pI=function(e,n,a){if(Fi(a))return Io(a),Fi(n)&&Qv(n),Tu(n.dom);var i=ql(a.dom);return vt(l0(n),function(s){Ni(a,s)}),tO(e,n),i},bI=function(e,n){var a=sr(n,e);return X.from(a[a.length-1])},Bc=function(e,n){return Aa(n,e)?bI(n,e):X.none()},nO=function(e,n){Wf(e,n.dom).map(function(a){return a.getNode()}).map(w.fromDom).filter(Yd).each(Io)},rO=function(e,n,a){return nO(!0,n),nO(!1,a),Bc(n,a).fold(bt(pI,e,n,a),bt(hI,e,n,a))},aO=function(e,n,a,i){return n?rO(e,i,a):rO(e,a,i)},c0=function(e,n){var a=w.fromDom(e.getBody()),i=Q4(a.dom,n,e.selection.getRng()).bind(function(s){return aO(a,n,s.from.block,s.to.block)});return i.each(function(s){e.selection.setRng(s.toRange())}),i.isSome()},yI=function(e,n){var a=n.getRng();return su(hl(e,w.fromDom(a.startContainer)),hl(e,w.fromDom(a.endContainer)),function(i,s){return Sr(i,s)===!1?(a.deleteContents(),aO(e,!0,i,s).each(function(l){n.setRng(l.toRange())}),!0):!1}).getOr(!1)},Ro=function(e,n){var a=w.fromDom(n),i=bt(Sr,e);return qg(a,_l,i).isSome()},oO=function(e,n){return Ro(e,n.startContainer)||Ro(e,n.endContainer)},iO=function(e,n){var a=jl(e.dom,Et.fromRangeStart(n)).isNone(),i=Wl(e.dom,Et.fromRangeEnd(n)).isNone();return!oO(e,n)&&a&&i},ec=function(e){return e.setContent(""),e.selection.setCursorLocation(),!0},uO=function(e){var n=w.fromDom(e.getBody()),a=e.selection.getRng();return iO(n,a)?ec(e):yI(n,e.selection)},f0=function(e,n){return e.selection.isCollapsed()?!1:uO(e)},wI=ul,Ox=so,cf=function(e,n,a,i,s){return X.from(n._selectionOverrides.showCaret(e,a,i,s))},lg=function(e){var n=e.ownerDocument.createRange();return n.selectNode(e),n},cg=function(e,n){var a=e.fire("BeforeObjectSelected",{target:n});return a.isDefaultPrevented()?X.none():X.some(lg(n))},Dx=function(e,n,a){var i=N1(1,e.getBody(),n),s=Et.fromRangeStart(i),l=s.getNode();if(hh(l))return cf(1,e,l,!s.isAtEnd(),!1);var v=s.getNode(!0);if(hh(v))return cf(1,e,v,!1,!1);var m=e.dom.getParent(s.getNode(),function(g){return Ox(g)||wI(g)});return hh(m)?cf(1,e,m,!1,a):X.none()},v0=function(e,n,a){return n.collapsed?Dx(e,n,a).getOr(n):n},_x=function(e){return Kf(e)||zm(e)},sO=function(e){return Xf(e)||$m(e)},Mx=function(e,n){Wn(n)&&n.data.length===0&&e.remove(n)},lO=function(e,n,a,i,s,l){return cf(i,e,l.getNode(!s),s,!0).each(function(v){if(n.collapsed){var m=n.cloneRange();s?m.setEnd(v.startContainer,v.startOffset):m.setStart(v.endContainer,v.endOffset),m.deleteContents()}else n.deleteContents();e.selection.setRng(v)}),Mx(e.dom,a),!0},CI=function(e,n){var a=e.selection.getRng();if(!Wn(a.commonAncestorContainer))return!1;var i=n?$i.Forwards:$i.Backwards,s=Po(e.getBody()),l=bt(n2,n?s.next:s.prev),v=n?_x:sO,m=Em(i,e.getBody(),a),g=Rs(n,l(m));if(!g||!I1(m,g))return!1;if(v(g))return lO(e,a,m.getNode(),i,n,g);var E=l(g);return E&&v(E)&&I1(g,E)?lO(e,a,m.getNode(),i,n,E):!1},d0=function(e,n){return CI(e,n)},pl=function(e){return _l(w.fromDom(e))||yu(w.fromDom(e))},Ns=dr.generate([{remove:["element"]},{moveToElement:["element"]},{moveToPosition:["position"]}]),xI=function(e,n){var a=n.getNode(e===!1),i=e?"after":"before";return Br(a)&&a.getAttribute("data-mce-caret")===i},SI=function(e,n,a,i){var s=function(l){return cu(w.fromDom(l))&&!Ul(a,i,e)};return t2(!n,a).fold(function(){return t2(n,i).fold(Kt,s)},s)},fg=function(e,n,a,i){var s=i.getNode(n===!1);return hl(w.fromDom(e),w.fromDom(a.getNode())).map(function(l){return Fi(l)?Ns.remove(l.dom):Ns.moveToElement(s)}).orThunk(function(){return X.some(Ns.moveToElement(s))})},cO=function(e,n,a){return _s(n,e,a).bind(function(i){return pl(i.getNode())||SI(e,n,a,i)?X.none():n&&so(i.getNode())||n===!1&&so(i.getNode(!0))?fg(e,n,a,i):n&&Xf(a)||n===!1&&Kf(a)?X.some(Ns.moveToPosition(i)):X.none()})},fO=function(e,n){return e&&so(n.nextSibling)?X.some(Ns.moveToElement(n.nextSibling)):e===!1&&so(n.previousSibling)?X.some(Ns.moveToElement(n.previousSibling)):X.none()},vO=function(e,n,a){return a.fold(function(i){return X.some(Ns.remove(i))},function(i){return X.some(Ns.moveToElement(i))},function(i){return Ul(n,i,e)?X.none():X.some(Ns.moveToPosition(i))})},dO=function(e,n,a){return xI(n,a)?fO(n,a.getNode(n===!1)).fold(function(){return cO(e,n,a)},X.some):cO(e,n,a).bind(function(i){return vO(e,a,i)})},kI=function(e,n,a){var i=N1(n?1:-1,e,a),s=Et.fromRangeStart(i),l=w.fromDom(e);return n===!1&&Xf(s)?X.some(Ns.remove(s.getNode(!0))):n&&Kf(s)?X.some(Ns.remove(s.getNode())):n===!1&&Kf(s)&&$r(l,s)?CA(l,s).map(function(v){return Ns.remove(v.getNode())}):n&&Xf(s)&&eC(l,s)?$R(l,s).map(function(v){return Ns.remove(v.getNode())}):dO(e,n,s)},EI=function(e,n){return function(a){return e._selectionOverrides.hideFakeCaret(),ed(e,n,w.fromDom(a)),!0}},av=function(e,n){return function(a){var i=n?Et.before(a):Et.after(a);return e.selection.setRng(i.toRange()),!0}},TI=function(e){return function(n){return e.selection.setRng(n.toRange()),!0}},mO=function(e,n){return X.from(Bm(e.getBody(),n))},AI=function(e,n){var a=e.selection.getNode();return mO(e,a).filter(so).fold(function(){return kI(e.getBody(),n,e.selection.getRng()).exists(function(i){return i.fold(EI(e,n),av(e,n),TI(e))})},Rn)},OI=function(e){vt(zi(e,".mce-offscreen-selection"),Io)},DI=function(e,n){var a=e.selection.getNode();if(so(a)&&!Wd(a)){var i=mO(e,a.parentNode).filter(so);return i.fold(function(){return OI(w.fromDom(e.getBody())),ed(e,n,w.fromDom(e.selection.getNode())),Y4(e),!0},Rn)}return!1},gO=function(e){var n=e.dom,a=e.selection,i=Bm(e.getBody(),a.getNode());if(ul(i)&&n.isBlock(i)&&n.isEmpty(i)){var s=n.create("br",{"data-mce-bogus":"1"});n.setHTML(i,""),i.appendChild(s),a.setRng(Et.before(s).toRange())}return!0},m0=function(e,n){return e.selection.isCollapsed()?AI(e,n):DI(e,n)},_I=function(e,n){var a=Et.fromRangeStart(e.selection.getRng());return _s(n,e.getBody(),a).filter(function(i){return n?_R(i):MR(i)}).bind(function(i){return X.from(R1(n?0:-1,i))}).exists(function(i){return e.selection.select(i),!0})},g0=function(e,n){return e.selection.isCollapsed()?_I(e,n):!1},vg=Wn,hO=function(e){return vg(e)&&e.data[0]===$e},pO=function(e){return vg(e)&&e.data[e.data.length-1]===$e},dg=function(e){return e.ownerDocument.createTextNode($e)},MI=function(e){if(vg(e.previousSibling))return pO(e.previousSibling)||e.previousSibling.appendData($e),e.previousSibling;if(vg(e))return hO(e)||e.insertData(0,$e),e;var n=dg(e);return e.parentNode.insertBefore(n,e),n},Bx=function(e){if(vg(e.nextSibling))return hO(e.nextSibling)||e.nextSibling.insertData(0,$e),e.nextSibling;if(vg(e))return pO(e)||e.appendData($e),e;var n=dg(e);return e.nextSibling?e.parentNode.insertBefore(n,e.nextSibling):e.parentNode.appendChild(n),n},h0=function(e,n){return e?MI(n):Bx(n)},BI=bt(h0,!0),PI=bt(h0,!1),bO=function(e,n){return Wn(e.container())?h0(n,e.container()):h0(n,e.getNode())},ov=function(e,n){var a=n.get();return a&&e.container()===a&&Xa(a)},ff=function(e,n){return n.fold(function(a){Lv(e.get());var i=BI(a);return e.set(i),X.some(Et(i,i.length-1))},function(a){return Tu(a).map(function(i){if(ov(i,e))return Et(e.get(),1);Lv(e.get());var s=bO(i,!0);return e.set(s),Et(s,1)})},function(a){return ql(a).map(function(i){if(ov(i,e))return Et(e.get(),e.get().length-1);Lv(e.get());var s=bO(i,!1);return e.set(s),Et(s,s.length-1)})},function(a){Lv(e.get());var i=PI(a);return e.set(i),X.some(Et(i,1))})},ap=function(e,n){for(var a=0;a<e.length;a++){var i=e[a].apply(null,n);if(i.isSome())return i}return X.none()},Vi=dr.generate([{before:["element"]},{start:["element"]},{end:["element"]},{after:["element"]}]),iv=function(e,n){var a=Vl(n,e);return a||e},fd=function(e,n,a){var i=G4(a),s=iv(n,i.container());return lf(e,s,i).fold(function(){return Wl(s,i).bind(bt(lf,e,s)).map(function(l){return Vi.before(l)})},X.none)},p0=function(e,n){return Wv(e,n)===null},op=function(e,n,a){return lf(e,n,a).filter(bt(p0,n))},yO=function(e,n,a){var i=ug(a);return op(e,n,i).bind(function(s){var l=jl(s,i);return l.isNone()?X.some(Vi.start(s)):X.none()})},Px=function(e,n,a){var i=G4(a);return op(e,n,i).bind(function(s){var l=Wl(s,i);return l.isNone()?X.some(Vi.end(s)):X.none()})},Rx=function(e,n,a){var i=ug(a),s=iv(n,i.container());return lf(e,s,i).fold(function(){return jl(s,i).bind(bt(lf,e,s)).map(function(l){return Vi.after(l)})},X.none)},Nx=function(e){return j4(uv(e))===!1},tc=function(e,n,a){var i=ap([fd,yO,Px,Rx],[e,n,a]);return i.filter(Nx)},uv=function(e){return e.fold(ct,ct,ct,ct)},Fx=function(e){return e.fold(xe("before"),xe("start"),xe("end"),xe("after"))},ip=function(e){return e.fold(Vi.before,Vi.before,Vi.after,Vi.after)},b0=function(e){return e.fold(Vi.start,Vi.start,Vi.end,Vi.end)},y0=function(e,n){return Fx(e)===Fx(n)&&uv(e)===uv(n)},wO=function(e,n,a,i,s,l){return su(lf(n,a,i),lf(n,a,s),function(v,m){return v!==m&&q4(a,v,m)?Vi.after(e?v:m):l}).getOr(l)},CO=function(e,n){return e.fold(Rn,function(a){return!y0(a,n)})},xO=function(e,n,a,i,s){var l=Rs(e,s),v=_s(e,a,l).map(bt(Rs,e)),m=v.fold(function(){return i.map(ip)},function(g){return tc(n,a,g).map(bt(wO,e,n,a,l,g)).filter(bt(CO,i))});return m.filter(Nx)},SO=function(e,n){return e?n.fold(it(X.some,Vi.start),X.none,it(X.some,Vi.after),X.none):n.fold(X.none,it(X.some,Vi.before),X.none,it(X.some,Vi.end))},nc=function(e,n,a,i){var s=Rs(e,i),l=tc(n,a,s);return tc(n,a,s).bind(bt(SO,e)).orThunk(function(){return xO(e,n,a,l,i)})};bt(nc,!1),bt(nc,!0);var kO=function(e){return Se(e.selection.getSel().modify)},Ix=function(e,n,a){var i=e?1:-1;return n.setRng(Et(a.container(),a.offset()+i).toRange()),n.getSel().modify("move",e?"forward":"backward","word"),!0},sv=function(e,n){var a=n.selection.getRng(),i=e?Et.fromRangeEnd(a):Et.fromRangeStart(a);return kO(n)?e&&Cr(i)?Ix(!0,n.selection,i):!e&&Vy(i)?Ix(!1,n.selection,i):!1:!1},Bi;(function(e){e[e.Br=0]="Br",e[e.Block=1]="Block",e[e.Wrap=2]="Wrap",e[e.Eol=3]="Eol"})(Bi||(Bi={}));var w0=function(e,n){return e===$i.Backwards?Vt(n):n},RI=function(e,n,a){return e===$i.Forwards?n.next(a):n.prev(a)},NI=function(e,n,a,i){return za(i.getNode(n===$i.Forwards))?Bi.Br:Ul(a,i)===!1?Bi.Block:Bi.Wrap},EO=function(e,n,a,i){for(var s=Po(a),l=i,v=[];l;){var m=RI(n,s,l);if(!m)break;if(za(m.getNode(!1)))return n===$i.Forwards?{positions:w0(n,v).concat([m]),breakType:Bi.Br,breakAt:X.some(m)}:{positions:w0(n,v),breakType:Bi.Br,breakAt:X.some(m)};if(!m.isVisible()){l=m;continue}if(e(l,m)){var g=NI(a,n,l,m);return{positions:w0(n,v),breakType:g,breakAt:X.some(m)}}v.push(m),l=m}return{positions:w0(n,v),breakType:Bi.Eol,breakAt:X.none()}},TO=function(e,n,a,i){return n(a,i).breakAt.map(function(s){var l=n(a,s).positions;return e===$i.Backwards?l.concat(s):[s].concat(l)}).getOr([])},zx=function(e,n){return pn(e,function(a,i){return a.fold(function(){return X.some(i)},function(s){return su(Xt(s.getClientRects()),Xt(i.getClientRects()),function(l,v){var m=Math.abs(n-l.left),g=Math.abs(n-v.left);return g<=m?i:s}).or(a)})},X.none())},AO=function(e,n){return Xt(n.getClientRects()).bind(function(a){return zx(e,a.left)})},up=bt(EO,Et.isAbove,-1),sp=bt(EO,Et.isBelow,1),FI=bt(TO,-1,up),II=bt(TO,1,sp),zI=function(e,n){return up(e,n).breakAt.isNone()},$x=function(e,n){return sp(e,n).breakAt.isNone()},Lx=function(e){return Tu(e).map(function(n){return[n].concat(sp(e,n).positions)}).getOr([])},OO=function(e){return ql(e).map(function(n){return up(e,n).positions.concat(n)}).getOr([])},$I=function(e){var n=function(i){return zt(i,function(s){var l=$f(s);return l.node=e,l})};if(Br(e))return n(e.getClientRects());if(Wn(e)){var a=e.ownerDocument.createRange();return a.setStart(e,0),a.setEnd(e,e.data.length),n(a.getClientRects())}},Hx=function(e){return Xr(e,$I)},lv;(function(e){e[e.Up=-1]="Up",e[e.Down=1]="Down"})(lv||(lv={}));var DO=function(e,n,a,i){for(;i=xm(i,e,ni,n);)if(a(i))return},C0=function(e,n,a,i,s,l){var v=0,m=[],g=function(F){var $=Hx([F]);e===-1&&($=$.reverse());for(var ee=0;ee<$.length;ee++){var ne=$[ee];if(!a(ne,E)){if(m.length>0&&n(ne,bo(m))&&v++,ne.line=v,s(ne))return!0;m.push(ne)}}},E=bo(l.getClientRects());if(!E)return m;var N=l.getNode();return g(N),DO(e,i,g,N),m},_O=function(e,n){return n.line>e},MO=function(e,n){return n.line===e},Vx=bt(C0,lv.Up,hm,pm),LI=bt(C0,lv.Down,pm,hm),HI=function(e,n,a,i){var s=Po(n),l,v,m,g,E=[],N=0,F=function(re){return bo(re.getClientRects())};e===1?(l=s.next,v=pm,m=hm,g=Et.after(i)):(l=s.prev,v=hm,m=pm,g=Et.before(i));var $=F(g);do if(g.isVisible()){var ee=F(g);if(!m(ee,$)){E.length>0&&v(ee,bo(E))&&N++;var ne=$f(ee);if(ne.position=g,ne.line=N,a(ne))return E;E.push(ne)}}while(g=l(g));return E},rc=function(e){return function(n){return _O(e,n)}},Fs=function(e){return function(n){return MO(e,n)}},x0=so,Ux=xm,mg=function(e,n){return Math.abs(e.left-n)},S0=function(e,n){return Math.abs(e.right-n)},Wx=function(e,n){return e>=n.left&&e<=n.right},BO=function(e,n){return e>=n.top&&e<=n.bottom},PO=function(e){return ha(e,"node")},lp=function(e,n,a){return a===void 0&&(a=Rn),po(e,function(i,s){if(Wx(n,s))return a(s)?s:i;if(Wx(n,i))return a(i)?i:s;var l=Math.min(mg(i,n),S0(i,n)),v=Math.min(mg(s,n),S0(s,n));return v===l&&PO(s)&&x0(s.node)||v<l?s:i})},jx=function(e,n,a,i,s){var l=Ux(i,e,ni,n,!s);do if(!l||a(l))return;while(l=Ux(l,e,ni,n))},k0=function(e,n,a){a===void 0&&(a=!0);var i=[],s=function(l,v){var m=Ce(Hx([v]),function(g){return!l(g,n)});return i=i.concat(m),m.length===0};return i.push(n),jx(lv.Up,e,bt(s,hm),n.node,a),jx(lv.Down,e,bt(s,pm),n.node,a),i},E0=function(e){return Ce(Jt(e.getElementsByTagName("*")),Hv)},qx=function(e,n){return{node:e.node,before:mg(e,n)<S0(e,n)}},VI=function(e,n,a){var i=Hx(E0(e)),s=Ce(i,bt(BO,a)),l=function(g){return!gi(g.node)&&!zu(g.node)},v=lp(s,n,l);if(v){var m=l(v);if(v=lp(k0(e,v,m),n,l),v&&Hv(v.node))return qx(v,n)}return null},vf=function(e,n){e.selection.setRng(n),Ah(e,e.selection.getRng())},Gx=function(e,n,a){return X.some(v0(e,n,a))},RO=function(e,n,a,i,s,l){var v=n===$i.Forwards,m=Po(e.getBody()),g=bt(n2,v?m.next:m.prev),E=v?i:s;if(!a.collapsed){var N=x1(a);if(l(N))return cf(n,e,N,n===$i.Backwards,!1)}var F=Em(n,e.getBody(),a);if(E(F))return cg(e,F.getNode(!v));var $=Rs(v,g(F)),ee=gc(a);if(!$)return ee?X.some(a):X.none();if(E($))return cf(n,e,$.getNode(!v),v,!1);var ne=g($);return ne&&E(ne)&&I1($,ne)?cf(n,e,ne.getNode(!v),v,!1):ee?Gx(e,$.toRange(),!1):X.none()},Kx=function(e,n,a,i,s,l){var v=Em(n,e.getBody(),a),m=bo(v.getClientRects()),g=n===lv.Down;if(!m)return X.none();var E=g?LI:Vx,N=E(e.getBody(),rc(1),v),F=Ce(N,Fs(1)),$=m.left,ee=lp(F,$);if(ee&&l(ee.node)){var ne=Math.abs($-ee.left),re=Math.abs($-ee.right);return cf(n,e,ee.node,ne<re,!1)}var ie;if(i(v)?ie=v.getNode():s(v)?ie=v.getNode(!0):ie=x1(a),ie){var we=HI(n,e.getBody(),rc(1),ie),ge=lp(Ce(we,Fs(1)),$);if(ge||(ge=bo(Ce(we,Fs(0))),ge))return Gx(e,ge.position.toRange(),!1)}return F.length===0?Xx(e,g).filter(g?s:i).map(function(Je){return v0(e,Je.toRange(),!1)}):X.none()},Xx=function(e,n){var a=e.selection.getRng(),i=e.getBody();if(n){var s=Et.fromRangeEnd(a),l=sp(i,s);return yn(l.positions)}else{var s=Et.fromRangeStart(a),l=up(i,s);return Xt(l.positions)}},NO=function(e,n,a){return Xx(e,n).filter(a).exists(function(i){return e.selection.setRng(i.toRange()),!0})},gg=function(e,n){var a=e.dom.createRng();a.setStart(n.container(),n.offset()),a.setEnd(n.container(),n.offset()),e.selection.setRng(a)},FO=function(e,n){e?n.setAttribute("data-mce-selected","inline-boundary"):n.removeAttribute("data-mce-selected")},IO=function(e,n,a){return ff(n,a).map(function(i){return gg(e,i),a})},UI=function(e,n,a){var i=e.getBody(),s=Et.fromRangeStart(e.selection.getRng()),l=bt(rv,e),v=nc(a,l,i,s);return v.bind(function(m){return IO(e,n,m)})},WI=function(e,n,a){var i=zt(zi(w.fromDom(n.getRoot()),'*[data-mce-selected="inline-boundary"]'),function(v){return v.dom}),s=Ce(i,e),l=Ce(a,e);vt(Ut(s,l),bt(FO,!1)),vt(Ut(l,s),bt(FO,!0))},jI=function(e,n){if(e.selection.isCollapsed()&&e.composing!==!0&&n.get()){var a=Et.fromRangeStart(e.selection.getRng());Et.isTextPosition(a)&&cI(a)===!1&&(gg(e,LE(n.get(),a)),n.set(null))}},qI=function(e,n,a,i){if(n.selection.isCollapsed()){var s=Ce(i,e);vt(s,function(l){var v=Et.fromRangeStart(n.selection.getRng());tc(e,n.getBody(),v).bind(function(m){return IO(n,a,m)})})}},zO=function(e,n,a){return mh(e)?UI(e,n,a).isSome():!1},cp=function(e,n,a){return mh(n)?sv(e,n):!1},T0=function(e){var n=xu(null),a=bt(rv,e);return e.on("NodeChange",function(i){mh(e)&&!(an.browser.isIE()&&i.initial)&&(WI(a,e.dom,i.parents),jI(e,n),qI(a,e,n,i.parents))}),n},Yx=bt(cp,!0),GI=bt(cp,!1),A0=function(e,n,a){if(mh(e)){var i=Xx(e,n).getOrThunk(function(){var s=e.selection.getRng();return n?Et.fromRangeEnd(s):Et.fromRangeStart(s)});return tc(bt(rv,e),e.getBody(),i).exists(function(s){var l=ip(s);return ff(a,l).exists(function(v){return gg(e,v),!0})})}else return!1},KI=function(e,n){var a=document.createRange();return a.setStart(e.container(),e.offset()),a.setEnd(n.container(),n.offset()),a},XI=function(e){return su(Tu(e),ql(e),function(n,a){var i=Rs(!0,n),s=Rs(!1,a);return Wl(e,i).forall(function(l){return l.isEqual(s)})}).getOr(!0)},Zx=function(e,n){return function(a){return ff(n,a).exists(function(i){return gg(e,i),!0})}},$O=function(e,n,a,i){var s=e.getBody(),l=bt(rv,e);e.undoManager.ignore(function(){e.selection.setRng(KI(a,i)),e.execCommand("Delete"),tc(l,s,Et.fromRangeStart(e.selection.getRng())).map(b0).map(Zx(e,n))}),e.nodeChanged()},YI=function(e,n){var a=Vl(n,e);return a||e},Jx=function(e,n,a,i){var s=YI(e.getBody(),i.container()),l=bt(rv,e),v=tc(l,s,i);return v.bind(function(m){return a?m.fold(xe(X.some(b0(m))),X.none,xe(X.some(ip(m))),X.none):m.fold(X.none,xe(X.some(ip(m))),X.none,xe(X.some(b0(m))))}).map(Zx(e,n)).getOrThunk(function(){var m=Sc(a,s,i),g=m.bind(function(E){return tc(l,s,E)});return su(v,g,function(){return lf(l,s,i).exists(function(E){return XI(E)?(ed(e,a,w.fromDom(E)),!0):!1})}).orThunk(function(){return g.bind(function(E){return m.map(function(N){return a?$O(e,n,i,N):$O(e,n,N,i),!0})})}).getOr(!1)})},O0=function(e,n,a){if(e.selection.isCollapsed()&&mh(e)){var i=Et.fromRangeStart(e.selection.getRng());return Jx(e,n,a,i)}return!1},ZI=function(e,n){var a=sr(n,e);return tr(a,js).fold(xe(a),function(i){return a.slice(0,i)})},JI=function(e){return Lp(e)===1},QI=function(e,n,a,i){var s=bt(o3,n),l=zt(Ce(i,s),function(m){return m.dom});if(l.length===0)ed(n,e,a);else{var v=$N(a.dom,l);n.selection.setRng(v.toRange())}},e6=function(e,n){var a=w.fromDom(e.getBody()),i=w.fromDom(e.selection.getStart()),s=Ce(ZI(a,i),JI);return yn(s).exists(function(l){var v=Et.fromRangeStart(e.selection.getRng());return fI(n,v,l.dom)&&!i3(l)?(QI(n,e,l,s),!0):!1})},D0=function(e,n){return e.selection.isCollapsed()?e6(e,n):!1},Qx=function(e,n,a){return e._selectionOverrides.hideFakeCaret(),ed(e,n,w.fromDom(a)),!0},_0=function(e,n){var a=n?zm:$m,i=n?$i.Forwards:$i.Backwards,s=Em(i,e.getBody(),e.selection.getRng());return a(s)?Qx(e,n,s.getNode(!n)):X.from(Rs(n,s)).filter(function(l){return a(l)&&I1(s,l)}).exists(function(l){return Qx(e,n,l.getNode(!n))})},M0=function(e,n){var a=e.selection.getNode();return zu(a)?Qx(e,n,a):!1},B0=function(e,n){return e.selection.isCollapsed()?_0(e,n):M0(e,n)},t6=function(e){return Wp(e,function(n){return ul(n.dom)||so(n.dom)}).exists(function(n){return ul(n.dom)})},hg=function(e){var n=parseInt(e,10);return isNaN(n)?0:n},LO=function(e,n){var a=e||SM(n)?"margin":"padding",i=Qr(n,"direction")==="rtl"?"-right":"-left";return a+i},n6=function(e,n,a,i,s,l){var v=LO(a,w.fromDom(l));if(n==="outdent"){var m=Math.max(0,hg(l.style[v])-i);e.setStyle(l,v,m?m+s:"")}else{var m=hg(l.style[v])+i+s;e.setStyle(l,v,m)}},r6=function(e,n){return oa(n,function(a){var i=LO(TE(e),a),s=lu(a,i).map(hg).getOr(0),l=e.dom.getContentEditable(a.dom);return l!=="false"&&s>0})},HO=function(e){var n=UO(e);return!e.mode.isReadOnly()&&(n.length>1||r6(e,n))},VO=function(e){return qp(e)||yu(e)},a6=function(e){return Fo(e).exists(VO)},UO=function(e){return Ce(Zi(e.selection.getSelectedBlocks()),function(n){return!VO(n)&&!a6(n)&&t6(n)})},WO=function(e,n){var a=e.dom,i=e.selection,s=e.formatter,l=BB(e),v=/[a-z%]+$/i.exec(l)[0],m=parseInt(l,10),g=TE(e),E=Ji(e);!e.queryCommandState("InsertUnorderedList")&&!e.queryCommandState("InsertOrderedList")&&E===""&&!a.getParent(i.getNode(),a.isBlock)&&s.apply("div"),vt(UO(e),function(N){n6(a,n,g,m,v,N.dom)})},jO=function(e,n){if(e.selection.isCollapsed()&&HO(e)){var a=e.dom,i=e.selection.getRng(),s=Et.fromRangeStart(i),l=a.getParent(i.startContainer,a.isBlock);if(l!==null&&gb(w.fromDom(l),s))return WO(e,"outdent"),!0}return!1},qO=function(e,n){e.getDoc().execCommand(n,!1,null)},o6=function(e,n){if(!jO(e)){if(m0(e,!1))return;if(d0(e,!1))return;if(O0(e,n,!1))return;if(c0(e,!1))return;if(nd(e))return;if(g0(e,!1))return;if(B0(e,!1))return;if(f0(e))return;if(D0(e,!1))return;qO(e,"Delete"),Y4(e)}},i6=function(e,n){if(!m0(e,!0)){if(d0(e,!0))return;if(O0(e,n,!0))return;if(c0(e,!0))return;if(nd(e))return;if(g0(e,!0))return;if(B0(e,!0))return;if(f0(e))return;if(D0(e,!0))return;qO(e,"ForwardDelete")}},bl=function(e,n){e.addCommand("delete",function(){o6(e,n)}),e.addCommand("forwardDelete",function(){i6(e,n)})},P0=5,GO=400,eS=function(e){return e.touches===void 0||e.touches.length!==1?X.none():X.some(e.touches[0])},u6=function(e,n){var a=Math.abs(e.clientX-n.x),i=Math.abs(e.clientY-n.y);return a>P0||i>P0},KO=function(e){var n=zv(),a=xu(!1),i=_i(function(s){e.fire("longpress",Gn(Gn({},s),{type:"longpress"})),a.set(!0)},GO);e.on("touchstart",function(s){eS(s).each(function(l){i.cancel();var v={x:l.clientX,y:l.clientY,target:s.target};i.throttle(s),a.set(!1),n.set(v)})},!0),e.on("touchmove",function(s){i.cancel(),eS(s).each(function(l){n.on(function(v){u6(l,v)&&(n.clear(),a.set(!1),e.fire("longpresscancel"))})})},!0),e.on("touchend touchcancel",function(s){i.cancel(),s.type!=="touchcancel"&&n.get().filter(function(l){return l.target.isEqualNode(s.target)}).each(function(){a.get()?s.preventDefault():e.fire("tap",Gn(Gn({},s),{type:"tap"}))})},!0)},tS=function(e,n){return xr(e,n.nodeName)},XO=function(e,n){return Wn(n)?!0:Br(n)?!tS(e,n)&&!os(n):!1},s6=function(e,n,a){return ft(pA(w.fromDom(a),w.fromDom(n)),function(i){return tS(e,i.dom)})},l6=function(e,n){if(Wn(n)){if(n.nodeValue.length===0)return!0;if(/^\s+$/.test(n.nodeValue)&&(!n.nextSibling||tS(e,n.nextSibling)))return!0}return!1},c6=function(e){var n=e.dom,a=e.selection,i=e.schema,s=i.getBlockElements(),l=a.getStart(),v=e.getBody(),m,g,E,N=Ji(e);if(!(!l||!Br(l)||!N)){var F=v.nodeName.toLowerCase();if(!(!i.isValidChild(F,N.toLowerCase())||s6(s,v,l))){var $=a.getRng(),ee=$.startContainer,ne=$.startOffset,re=$.endContainer,ie=$.endOffset,we=Oc(e);for(l=v.firstChild;l;)if(XO(s,l)){if(l6(s,l)){g=l,l=l.nextSibling,n.remove(g);continue}m||(m=n.create(N,ch(e)),l.parentNode.insertBefore(m,l),E=!0),g=l,l=l.nextSibling,m.appendChild(g)}else m=null,l=l.nextSibling;E&&we&&($.setStart(ee,ne),$.setEnd(re,ie),a.setRng($),e.nodeChanged())}}},pg=function(e){Ji(e)&&e.on("NodeChange",bt(c6,e))},YO=function(e){return Gd(w.fromDom(e.getBody()),"*[data-mce-caret]").map(function(n){return n.dom}).getOrNull()},ZO=function(e){e.selection.setRng(e.selection.getRng())},nS=function(e,n){n.hasAttribute("data-mce-caret")&&(Uy(n),ZO(e),e.selection.scrollIntoView(n))},rS=function(e,n){var a=YO(e);if(a){if(n.type==="compositionstart"){n.preventDefault(),n.stopPropagation(),nS(e,a);return}Xg(a)&&(nS(e,a),e.undoManager.add())}},f6=function(e){e.on("keyup compositionstart",bt(rS,e))},JO=so,v6=function(e,n,a){return RO(n,e,a,Kf,Xf,JO)},d6=function(e,n,a){var i=function(l){return Kf(l)||gA(l)},s=function(l){return Xf(l)||hA(l)};return Kx(n,e,a,i,s,JO)},m6=function(e){var n=e.dom.create(Ji(e));return(!an.ie||an.ie>=11)&&(n.innerHTML='<br data-mce-bogus="1">'),n},QO=function(e,n,a){var i=Po(e.getBody()),s=bt(n2,n===1?i.next:i.prev);if(a.collapsed&&WB(e)){var l=e.dom.getParent(a.startContainer,"PRE");if(!l)return;var v=s(Et.fromRangeStart(a));if(!v){var m=m6(e);n===1?e.$(l).after(m):e.$(l).before(m),e.selection.select(m,!0),e.selection.collapse()}}},ac=function(e,n){var a=n?$i.Forwards:$i.Backwards,i=e.selection.getRng();return v6(a,e,i).orThunk(function(){return QO(e,a,i),X.none()})},g6=function(e,n){var a=n?1:-1,i=e.selection.getRng();return d6(a,e,i).orThunk(function(){return QO(e,a,i),X.none()})},eD=function(e,n){return ac(e,n).exists(function(a){return vf(e,a),!0})},tD=function(e,n){return g6(e,n).exists(function(a){return vf(e,a),!0})},nD=function(e,n){var a=n?Xf:Kf;return NO(e,n,a)},h6=function(e){return We(["figcaption"],Sa(e))},rD=function(e){var n=document.createRange();return n.setStartBefore(e.dom),n.setEndBefore(e.dom),n},aD=function(e,n,a){a?Ni(e,n):zg(e,n)},cv=function(e,n){var a=w.fromTag("br");return aD(e,a,n),rD(a)},p6=function(e,n,a,i){var s=w.fromTag(a),l=w.fromTag("br");return I(s,i),Ni(s,l),aD(e,s,n),rD(l)},b6=function(e,n,a,i){return n===""?cv(e,i):p6(e,i,n,a)},oD=function(e,n){var a=bt(Sr,n);return Wp(w.fromDom(e.container()),js,a).filter(h6)},aS=function(e,n,a){return n?$x(e.dom,a):zI(e.dom,a)},y6=function(e,n){var a=w.fromDom(e.getBody()),i=Et.fromRangeStart(e.selection.getRng()),s=Ji(e),l=ch(e);return oD(i,a).exists(function(){if(aS(a,n,i)){var v=b6(a,s,l,n);return e.selection.setRng(v),!0}else return!1})},iD=function(e,n){return e.selection.isCollapsed()?y6(e,n):!1},w6=function(e){return zt(e,function(n){return Gn({shiftKey:!1,altKey:!1,ctrlKey:!1,metaKey:!1,keyCode:0,action:Ze},n)})},vd=function(e,n){return n.keyCode===e.keyCode&&n.shiftKey===e.shiftKey&&n.altKey===e.altKey&&n.ctrlKey===e.ctrlKey&&n.metaKey===e.metaKey},C6=function(e,n){return Xr(w6(e),function(a){return vd(a,n)?[a]:[]})},aa=function(e){for(var n=[],a=1;a<arguments.length;a++)n[a-1]=arguments[a];return function(){return e.apply(null,n)}},bg=function(e,n){return Hn(C6(e,n),function(a){return a.action()})},uD=function(e,n){var a=n?$i.Forwards:$i.Backwards,i=e.selection.getRng();return RO(e,a,i,zm,$m,zu).exists(function(s){return vf(e,s),!0})},R0=function(e,n){var a=n?1:-1,i=e.selection.getRng();return Kx(e,a,i,zm,$m,zu).exists(function(s){return vf(e,s),!0})},N0=function(e,n){var a=n?$m:zm;return NO(e,n,a)},sD=function(e,n){return{left:e.left-n,top:e.top-n,right:e.right+n*2,bottom:e.bottom+n*2,width:e.width+n,height:e.height+n}},lD=function(e,n){return Xr(n,function(a){var i=sD($f(a.getBoundingClientRect()),-1);return[{x:i.left,y:e(i),cell:a},{x:i.right,y:e(i),cell:a}]})},cD=function(e,n,a){return pn(e,function(i,s){return i.fold(function(){return X.some(s)},function(l){var v=Math.sqrt(Math.abs(l.x-n)+Math.abs(l.y-a)),m=Math.sqrt(Math.abs(s.x-n)+Math.abs(s.y-a));return X.some(m<v?s:l)})},X.none())},fD=function(e,n,a,i,s){var l=zi(w.fromDom(a),"td,th,caption").map(function(m){return m.dom}),v=Ce(lD(e,l),function(m){return n(m,s)});return cD(v,i,s).map(function(m){return m.cell})},fp=function(e){return e.bottom},x6=function(e){return e.top},S6=function(e,n){return e.y<n},k6=function(e,n){return e.y>n},yg=bt(fD,fp,S6),E6=bt(fD,x6,k6),df=function(e,n){return Xt(n.getClientRects()).bind(function(a){return yg(e,a.left,a.top)}).bind(function(a){return AO(OO(a),n)})},T6=function(e,n){return yn(n.getClientRects()).bind(function(a){return E6(e,a.left,a.top)}).bind(function(a){return AO(Lx(a),n)})},oS=function(e,n,a){return a.breakAt.exists(function(i){return e(n,i).breakAt.isSome()})},iS=function(e){return e.breakType===Bi.Wrap&&e.positions.length===0},A6=function(e){return e.breakType===Bi.Br&&e.positions.length===1},vD=function(e,n,a){var i=e(n,a);return iS(i)||!za(a.getNode())&&A6(i)?!oS(e,n,i):i.breakAt.isNone()},O6=bt(vD,up),dD=bt(vD,sp),D6=function(e,n,a){var i=Et.fromRangeStart(n);return Wf(!e,a).exists(function(s){return s.isEqual(i)})},_6=function(e,n,a,i){var s=e.selection.getRng(),l=n?1:-1;return VE()&&D6(n,s,a)?(cf(l,e,a,!n,!1).each(function(v){vf(e,v)}),!0):!1},M6=function(e,n,a){return df(n,a).orThunk(function(){return Xt(a.getClientRects()).bind(function(i){return zx(FI(e,Et.before(n)),i.left)})}).getOr(Et.before(n))},B6=function(e,n,a){return T6(n,a).orThunk(function(){return Xt(a.getClientRects()).bind(function(i){return zx(II(e,Et.after(n)),i.left)})}).getOr(Et.after(n))},uS=function(e,n){var a=n.getNode(e);return Br(a)&&a.nodeName==="TABLE"?X.some(a):X.none()},P6=function(e,n,a,i){var s=Ji(n);s?n.undoManager.transact(function(){var l=w.fromTag(s);I(l,ch(n)),Ni(l,w.fromTag("br")),e?wf(w.fromDom(a),l):Us(w.fromDom(a),l);var v=n.dom.createRng();v.setStart(l.dom,0),v.setEnd(l.dom,0),vf(n,v)}):vf(n,i.toRange())},fv=function(e,n,a){var i=uS(!!n,a),s=n===!1;i.fold(function(){return vf(e,a.toRange())},function(l){return Wf(s,e.getBody()).filter(function(v){return v.isEqual(a)}).fold(function(){return vf(e,a.toRange())},function(v){return P6(n,e,l,a)})})},R6=function(e,n,a,i){var s=e.selection.getRng(),l=Et.fromRangeStart(s),v=e.getBody();if(!n&&O6(i,l)){var m=M6(v,a,l);return fv(e,n,m),!0}else if(n&&dD(i,l)){var m=B6(v,a,l);return fv(e,n,m),!0}else return!1},wg=function(e,n,a){return X.from(e.dom.getParent(e.selection.getNode(),"td,th")).bind(function(i){return X.from(e.dom.getParent(i,"table")).map(function(s){return a(e,n,s,i)})}).getOr(!1)},sS=function(e,n){return wg(e,n,_6)},F0=function(e,n){return wg(e,n,R6)},lS=function(e,n,a){var i=Dn().os;bg([{keyCode:kr.RIGHT,action:aa(eD,e,!0)},{keyCode:kr.LEFT,action:aa(eD,e,!1)},{keyCode:kr.UP,action:aa(tD,e,!1)},{keyCode:kr.DOWN,action:aa(tD,e,!0)},{keyCode:kr.RIGHT,action:aa(sS,e,!0)},{keyCode:kr.LEFT,action:aa(sS,e,!1)},{keyCode:kr.UP,action:aa(F0,e,!1)},{keyCode:kr.DOWN,action:aa(F0,e,!0)},{keyCode:kr.RIGHT,action:aa(uD,e,!0)},{keyCode:kr.LEFT,action:aa(uD,e,!1)},{keyCode:kr.UP,action:aa(R0,e,!1)},{keyCode:kr.DOWN,action:aa(R0,e,!0)},{keyCode:kr.RIGHT,action:aa(zO,e,n,!0)},{keyCode:kr.LEFT,action:aa(zO,e,n,!1)},{keyCode:kr.RIGHT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:aa(Yx,e,n)},{keyCode:kr.LEFT,ctrlKey:!i.isOSX(),altKey:i.isOSX(),action:aa(GI,e,n)},{keyCode:kr.UP,action:aa(iD,e,!1)},{keyCode:kr.DOWN,action:aa(iD,e,!0)}],a).each(function(s){a.preventDefault()})},N6=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&lS(e,n,a)})},F6=function(e,n,a){bg([{keyCode:kr.BACKSPACE,action:aa(jO,e,!1)},{keyCode:kr.BACKSPACE,action:aa(m0,e,!1)},{keyCode:kr.DELETE,action:aa(m0,e,!0)},{keyCode:kr.BACKSPACE,action:aa(d0,e,!1)},{keyCode:kr.DELETE,action:aa(d0,e,!0)},{keyCode:kr.BACKSPACE,action:aa(O0,e,n,!1)},{keyCode:kr.DELETE,action:aa(O0,e,n,!0)},{keyCode:kr.BACKSPACE,action:aa(nd,e,!1)},{keyCode:kr.DELETE,action:aa(nd,e,!0)},{keyCode:kr.BACKSPACE,action:aa(g0,e,!1)},{keyCode:kr.DELETE,action:aa(g0,e,!0)},{keyCode:kr.BACKSPACE,action:aa(B0,e,!1)},{keyCode:kr.DELETE,action:aa(B0,e,!0)},{keyCode:kr.BACKSPACE,action:aa(f0,e,!1)},{keyCode:kr.DELETE,action:aa(f0,e,!0)},{keyCode:kr.BACKSPACE,action:aa(c0,e,!1)},{keyCode:kr.DELETE,action:aa(c0,e,!0)},{keyCode:kr.BACKSPACE,action:aa(D0,e,!1)},{keyCode:kr.DELETE,action:aa(D0,e,!0)}],a).each(function(i){a.preventDefault()})},I6=function(e,n){bg([{keyCode:kr.BACKSPACE,action:aa(gO,e)},{keyCode:kr.DELETE,action:aa(gO,e)}],n)},cS=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&F6(e,n,a)}),e.on("keyup",function(a){a.isDefaultPrevented()===!1&&I6(e,a)})},z6=function(e){for(;e;){if(e.nodeType===1||e.nodeType===3&&e.data&&/[\r\n\s]/.test(e.data))return e;e=e.nextSibling}},vp=function(e,n){var a,i=n,s=e.dom,l=e.schema.getMoveCaretBeforeOnEnterElements();if(n){if(/^(LI|DT|DD)$/.test(n.nodeName)){var v=z6(n.firstChild);v&&/^(UL|OL|DL)$/.test(v.nodeName)&&n.insertBefore(s.doc.createTextNode(Qu),n.firstChild)}var m=s.createRng();if(n.normalize(),n.hasChildNodes()){for(var g=new Wa(n,n);a=g.current();){if(Wn(a)){m.setStart(a,0),m.setEnd(a,0);break}if(l[a.nodeName.toLowerCase()]){m.setStartBefore(a),m.setEndBefore(a);break}i=a,a=g.next()}a||(m.setStart(i,0),m.setEnd(i,0))}else za(n)?n.nextSibling&&s.isBlock(n.nextSibling)?(m.setStartBefore(n),m.setEndBefore(n)):(m.setStartAfter(n),m.setEndAfter(n)):(m.setStart(n,0),m.setEnd(n,0));e.selection.setRng(m),Ah(e,m)}},$6=function(e,n){var a=e.getRoot(),i,s;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(s=i),i=i.parentNode;return i!==a?s:a},fS=function(e){return X.from(e.dom.getParent(e.selection.getStart(!0),e.dom.isBlock))},mD=function(e){return fS(e).fold(xe(""),function(n){return n.nodeName.toUpperCase()})},L6=function(e){return fS(e).filter(function(n){return yu(w.fromDom(n))}).isSome()},H6=function(e,n){return e.firstChild&&e.firstChild.nodeName===n},V6=function(e){var n;return((n=e.parentNode)===null||n===void 0?void 0:n.firstChild)===e},gD=function(e,n){return e&&e.parentNode&&e.parentNode.nodeName===n},hD=function(e){return e&&/^(OL|UL|LI)$/.test(e.nodeName)},U6=function(e){return hD(e)&&hD(e.parentNode)},I0=function(e){var n=e.parentNode;return/^(LI|DT|DD)$/.test(n.nodeName)?n:e},z0=function(e,n,a){for(var i=e[a?"firstChild":"lastChild"];i&&!Br(i);)i=i[a?"nextSibling":"previousSibling"];return i===n},pD=function(e,n,a,i,s){var l=e.dom,v=e.selection.getRng();if(a!==e.getBody()){U6(a)&&(s="LI");var m=s?n(s):l.create("BR");if(z0(a,i,!0)&&z0(a,i,!1))if(gD(a,"LI")){var g=I0(a);l.insertAfter(m,g),V6(a)?l.remove(g):l.remove(a)}else l.replace(m,a);else if(z0(a,i,!0))gD(a,"LI")?(l.insertAfter(m,I0(a)),m.appendChild(l.doc.createTextNode(" ")),m.appendChild(a)):a.parentNode.insertBefore(m,a),l.remove(i);else if(z0(a,i,!1))l.insertAfter(m,I0(a)),l.remove(i);else{a=I0(a);var E=v.cloneRange();E.setStartAfter(i),E.setEndAfter(a);var N=E.extractContents();s==="LI"&&H6(N,"LI")?(m=N.firstChild,l.insertAfter(N,a)):(l.insertAfter(N,a),l.insertAfter(m,a)),l.remove(i)}vp(e,m)}},W6=function(e){vt(Tw(w.fromDom(e),Ho),function(n){var a=n.dom;a.nodeValue=ts(a.nodeValue)})},bD=function(e,n){return n&&n.nodeName==="A"&&e.isEmpty(n)},j6=function(e){return e&&/^(TD|TH|CAPTION)$/.test(e.nodeName)},vS=function(e){e.innerHTML='<br data-mce-bogus="1">'},dS=function(e,n){return e.nodeName===n||e.previousSibling&&e.previousSibling.nodeName===n},yD=function(e,n){return n&&e.isBlock(n)&&!/^(TD|TH|CAPTION|FORM)$/.test(n.nodeName)&&!/^(fixed|absolute)/i.test(n.style.position)&&e.getContentEditable(n)!=="true"},q6=function(e,n,a){var i=a,s=[],l;if(i){for(;i=i.firstChild;){if(e.isBlock(i))return;Br(i)&&!n[i.nodeName.toLowerCase()]&&s.push(i)}for(l=s.length;l--;)i=s[l],(!i.hasChildNodes()||i.firstChild===i.lastChild&&i.firstChild.nodeValue===""||bD(e,i))&&e.remove(i)}},mS=function(e,n,a){return Wn(n)===!1?a:e?a===1&&n.data.charAt(a-1)===$e?0:a:a===n.data.length-1&&n.data.charAt(a)===$e?n.data.length:a},G6=function(e){var n=e.cloneRange();return n.setStart(e.startContainer,mS(!0,e.startContainer,e.startOffset)),n.setEnd(e.endContainer,mS(!1,e.endContainer,e.endOffset)),n},K6=function(e){do Wn(e)&&(e.nodeValue=e.nodeValue.replace(/^[\r\n]+/,"")),e=e.firstChild;while(e)},wD=function(e,n){var a=e.getRoot(),i,s;for(i=n;i!==a&&e.getContentEditable(i)!=="false";)e.getContentEditable(i)==="true"&&(s=i),i=i.parentNode;return i!==a?s:a},X6=function(e,n,a){var i=e.dom;X.from(a.style).map(i.parseStyle).each(function(g){var E=Up(w.fromDom(n)),N=Gn(Gn({},E),g);i.setStyles(n,N)});var s=X.from(a.class).map(function(g){return g.split(/\s+/)}),l=X.from(n.className).map(function(g){return Ce(g.split(/\s+/),function(E){return E!==""})});su(s,l,function(g,E){var N=Ce(E,function($){return!We(g,$)}),F=fo(fo([],g,!0),N,!0);i.setAttrib(n,"class",F.join(" "))});var v=["style","class"],m=Bn(a,function(g,E){return!We(v,E)});i.setAttribs(n,m)},dp=function(e,n){var a=Ji(e);if(a&&a.toLowerCase()===n.tagName.toLowerCase()){var i=ch(e);X6(e,n,i)}},Y6=function(e,n,a,i,s){var l,v,m,g,E,N,F=n||"P",$=e.dom,ee=wD($,i);if(v=$.getParent(i,$.isBlock),!v||!yD($,v)){if(v=v||ee,v===e.getBody()||j6(v)?N=v.nodeName.toLowerCase():N=v.parentNode.nodeName.toLowerCase(),!v.hasChildNodes())return l=$.create(F),dp(e,l),v.appendChild(l),a.setStart(l,0),a.setEnd(l,0),l;for(g=i;g.parentNode!==v;)g=g.parentNode;for(;g&&!$.isBlock(g);)m=g,g=g.previousSibling;if(m&&e.schema.isValidChild(N,F.toLowerCase())){for(l=$.create(F),dp(e,l),m.parentNode.insertBefore(l,m),g=m;g&&!$.isBlock(g);)E=g.nextSibling,l.appendChild(g),g=E;a.setStart(i,s),a.setEnd(i,s)}}return i},Z6=function(e,n){n.normalize();var a=n.lastChild;(!a||/^(left|right)$/gi.test(e.getStyle(a,"float",!0)))&&e.add(n,"br")},CD=function(e,n){var a,i,s,l,v,m,g,E,N,F,$=e.dom,ee=e.schema,ne=ee.getNonEmptyElements(),re=e.selection.getRng(),ie=function(Rt){var en=i,yr,Fn,Ft,ar=ee.getTextInlineElements();if(Rt||E==="TABLE"||E==="HR"?yr=$.create(Rt||N):yr=l.cloneNode(!1),Ft=yr,EB(e)===!1)$.setAttrib(yr,"style",null),$.setAttrib(yr,"class",null);else do if(ar[en.nodeName]){if(kc(en)||os(en))continue;Fn=en.cloneNode(!1),$.setAttrib(Fn,"id",""),yr.hasChildNodes()?(Fn.appendChild(yr.firstChild),yr.appendChild(Fn)):(Ft=Fn,yr.appendChild(Fn))}while((en=en.parentNode)&&en!==De);return dp(e,yr),vS(Ft),yr},we=function(Rt){var en,yr,Fn=mS(Rt,i,s);if(Wn(i)&&(Rt?Fn>0:Fn<i.nodeValue.length))return!1;if(i.parentNode===l&&F&&!Rt||Rt&&Br(i)&&i===l.firstChild)return!0;if(dS(i,"TABLE")||dS(i,"HR"))return F&&!Rt||!F&&Rt;var Ft=new Wa(i,l);for(Wn(i)&&(Rt&&Fn===0?Ft.prev():!Rt&&Fn===i.nodeValue.length&&Ft.next());en=Ft.current();){if(Br(en)){if(!en.getAttribute("data-mce-bogus")&&(yr=en.nodeName.toLowerCase(),ne[yr]&&yr!=="br"))return!1}else if(Wn(en)&&!Ml(en.nodeValue))return!1;Rt?Ft.prev():Ft.next()}return!0},ge=function(){/^(H[1-6]|PRE|FIGURE)$/.test(E)&&nt!=="HGROUP"?v=ie(N):v=ie(),TB(e)&&yD($,g)&&$.isEmpty(l)?v=$.split(g,l):$.insertAfter(v,l),vp(e,v)};eb($,re).each(function(Rt){re.setStart(Rt.startContainer,Rt.startOffset),re.setEnd(Rt.endContainer,Rt.endOffset)}),i=re.startContainer,s=re.startOffset,N=Ji(e);var Je=!!(n&&n.shiftKey),qe=!!(n&&n.ctrlKey);Br(i)&&i.hasChildNodes()&&(F=s>i.childNodes.length-1,i=i.childNodes[Math.min(s,i.childNodes.length-1)]||i,F&&Wn(i)?s=i.nodeValue.length:s=0);var De=wD($,i);if(De){(N&&!Je||!N&&Je)&&(i=Y6(e,N,re,i,s)),l=$.getParent(i,$.isBlock),g=l?$.getParent(l.parentNode,$.isBlock):null,E=l?l.nodeName.toUpperCase():"";var nt=g?g.nodeName.toUpperCase():"";if(nt==="LI"&&!qe&&(l=g,g=g.parentNode,E=nt),/^(LI|DT|DD)$/.test(E)&&$.isEmpty(l)){pD(e,ie,g,l,N);return}N&&l===e.getBody()||(N=N||"P",Ao(l)?(v=Uy(l),$.isEmpty(l)&&vS(l),dp(e,v),vp(e,v)):we()?ge():we(!0)?(v=l.parentNode.insertBefore(ie(),l),vp(e,dS(l,"HR")?v:l)):(a=G6(re).cloneRange(),a.setEndAfter(l),m=a.extractContents(),W6(m),K6(m),v=m.firstChild,$.insertAfter(m,l),q6($,ne,v),Z6($,l),$.isEmpty(l)&&vS(l),v.normalize(),$.isEmpty(v)?($.remove(v),ge()):(dp(e,v),vp(e,v))),$.setAttrib(v,"id",""),e.fire("NewBlock",{newBlock:v}))}},J6=function(e,n,a){for(var i=new Wa(n,a),s,l=e.getNonEmptyElements();s=i.next();)if(l[s.nodeName.toLowerCase()]||s.length>0)return!0},xD=function(e,n,a){var i=e.dom.createRng();a?(i.setStartBefore(n),i.setEndBefore(n)):(i.setStartAfter(n),i.setEndAfter(n)),e.selection.setRng(i),Ah(e,i)},SD=function(e,n){var a=e.selection,i=e.dom,s=a.getRng(),l,v;eb(i,s).each(function(ne){s.setStart(ne.startContainer,ne.startOffset),s.setEnd(ne.endContainer,ne.endOffset)});var m=s.startOffset,g=s.startContainer;if(g.nodeType===1&&g.hasChildNodes()){var E=m>g.childNodes.length-1;g=g.childNodes[Math.min(m,g.childNodes.length-1)]||g,E&&g.nodeType===3?m=g.nodeValue.length:m=0}var N=i.getParent(g,i.isBlock),F=N?i.getParent(N.parentNode,i.isBlock):null,$=F?F.nodeName.toUpperCase():"",ee=!!(n&&n.ctrlKey);$==="LI"&&!ee&&(N=F),g&&g.nodeType===3&&m>=g.nodeValue.length&&(J6(e.schema,g,N)||(l=i.create("br"),s.insertNode(l),s.setStartAfter(l),s.setEndAfter(l),v=!0)),l=i.create("br"),S1(i,s,l),xD(e,l,v),e.undoManager.add()},kD=function(e,n){var a=w.fromTag("br");Us(w.fromDom(n),a),e.undoManager.add()},$0=function(e,n){gS(e.getBody(),n)||wf(w.fromDom(n),w.fromTag("br"));var a=w.fromTag("br");wf(w.fromDom(n),a),xD(e,a.dom,!1),e.undoManager.add()},ED=function(e){return za(e.getNode())},gS=function(e,n){return ED(Et.after(n))?!0:Wl(e,Et.after(n)).map(function(a){return za(a.getNode())}).getOr(!1)},L0=function(e){return e&&e.nodeName==="A"&&"href"in e},TD=function(e){return e.fold(Kt,L0,L0,Kt)},Q6=function(e){var n=bt(rv,e),a=Et.fromRangeStart(e.selection.getRng());return tc(n,e.getBody(),a).filter(TD)},AD=function(e,n){n.fold(Ze,bt(kD,e),bt($0,e),Ze)},dd=function(e,n){var a=Q6(e);a.isSome()?a.each(bt(AD,e)):SD(e,n)},hS=function(e,n){return fS(e).filter(function(a){return n.length>0&&wn(w.fromDom(a),n)}).isSome()},pS=function(e){return hS(e,fh(e))},ez=function(e){return hS(e,xE(e))},Wu=dr.generate([{br:[]},{block:[]},{none:[]}]),tz=function(e,n){return ez(e)},bS=function(e){return function(n,a){var i=Ji(n)==="";return i===e}},OD=function(e){return function(n,a){return L6(n)===e}},DD=function(e,n){return function(a,i){var s=mD(a)===e.toUpperCase();return s===n}},H0=function(e){return DD("pre",e)},nz=function(){return DD("summary",!0)},mp=function(e){return function(n,a){return kB(n)===e}},Cg=function(e,n){return pS(e)},gp=function(e,n){return n},V0=function(e){var n=Ji(e),a=$6(e.dom,e.selection.getStart());return a&&e.schema.isValidChild(a.nodeName,n||"P")},nl=function(e,n){return function(a,i){var s=pn(e,function(l,v){return l&&v(a,i)},!0);return s?X.some(n):X.none()}},_D=function(e,n){return ap([nl([tz],Wu.none()),nl([nz()],Wu.br()),nl([H0(!0),mp(!1),gp],Wu.br()),nl([H0(!0),mp(!1)],Wu.block()),nl([H0(!0),mp(!0),gp],Wu.block()),nl([H0(!0),mp(!0)],Wu.br()),nl([OD(!0),gp],Wu.br()),nl([OD(!0)],Wu.block()),nl([bS(!0),gp,V0],Wu.block()),nl([bS(!0)],Wu.br()),nl([Cg],Wu.br()),nl([bS(!1),gp],Wu.br()),nl([V0],Wu.block())],[e,!!(n&&n.shiftKey)]).getOr(Wu.none())},yS=function(e,n){_D(e,n).fold(function(){dd(e,n)},function(){CD(e,n)},Ze)},MD=function(e,n){n.isDefaultPrevented()||(n.preventDefault(),A5(e.undoManager),e.undoManager.transact(function(){e.selection.isCollapsed()===!1&&e.execCommand("Delete"),yS(e,n)}))},BD=function(e){e.on("keydown",function(n){n.keyCode===kr.ENTER&&MD(e,n)})},wS=function(e,n,a){bg([{keyCode:kr.END,action:aa(nD,e,!0)},{keyCode:kr.HOME,action:aa(nD,e,!1)},{keyCode:kr.END,action:aa(N0,e,!0)},{keyCode:kr.HOME,action:aa(N0,e,!1)},{keyCode:kr.END,action:aa(A0,e,!0,n)},{keyCode:kr.HOME,action:aa(A0,e,!1,n)}],a).each(function(i){a.preventDefault()})},PD=function(e,n){e.on("keydown",function(a){a.isDefaultPrevented()===!1&&wS(e,n,a)})},rz=Dn().browser,az=function(e){var n=h1(function(){e.composing||MA(e)},0);rz.isIE()&&(e.on("keypress",function(a){n.throttle()}),e.on("remove",function(a){n.cancel()}))},U0=function(e){az(e),e.on("input",function(n){n.isComposing===!1&&MA(e)})},oz=Dn(),iz=function(e,n,a){bg([{keyCode:kr.PAGE_UP,action:aa(A0,e,!1,n)},{keyCode:kr.PAGE_DOWN,action:aa(A0,e,!0,n)}],a)},RD=function(e){return e.stopImmediatePropagation()},CS=function(e){return e.keyCode===kr.PAGE_UP||e.keyCode===kr.PAGE_DOWN},ND=function(e,n,a){a&&!e.get()?n.on("NodeChange",RD,!0):!a&&e.get()&&n.off("NodeChange",RD),e.set(a)},uz=function(e,n){if(!oz.os.isOSX()){var a=xu(!1);e.on("keydown",function(i){CS(i)&&ND(a,e,!0)}),e.on("keyup",function(i){i.isDefaultPrevented()===!1&&iz(e,n,i),CS(i)&&a.get()&&(ND(a,e,!1),e.nodeChanged())})}},ls=function(e,n){var a=n.container(),i=n.offset();return Wn(a)?(a.insertData(i,e),X.some(Et(a,i+e.length))):F1(n).map(function(s){var l=w.fromText(e);return n.isAtEnd()?wf(s,l):Us(s,l),Et(l.dom,e.length)})},sz=bt(ls,Qu),xS=bt(ls," "),FD=function(e){return function(n){return n.fold(function(a){return jl(e.dom,Et.before(a))},function(a){return Tu(a)},function(a){return ql(a)},function(a){return Wl(e.dom,Et.after(a))})}},SS=function(e,n){return function(a){return AA(e,a)?sz(n):xS(n)}},lz=function(e){return function(n){return e.selection.setRng(n.toRange()),e.nodeChanged(),!0}},cz=function(e){var n=Et.fromRangeStart(e.selection.getRng()),a=w.fromDom(e.getBody());if(e.selection.isCollapsed()){var i=bt(rv,e),s=Et.fromRangeStart(e.selection.getRng());return tc(i,e.getBody(),s).bind(FD(a)).bind(SS(a,n)).exists(lz(e))}else return!1},ID=function(e,n){bg([{keyCode:kr.SPACEBAR,action:aa(cz,e)}],n).each(function(a){n.preventDefault()})},fz=function(e){e.on("keydown",function(n){n.isDefaultPrevented()===!1&&ID(e,n)})},vz=function(e){var n=T0(e);return f6(e),N6(e,n),cS(e,n),BD(e),fz(e),U0(e),PD(e,n),uz(e,n),n},dz=function(e){return of(e)?xu(null):vz(e)},mz=function(){function e(n){this.lastPath=[],this.editor=n;var a,i=this;"onselectionchange"in n.getDoc()||n.on("NodeChange click mouseup keyup focus",function(s){var l=n.selection.getRng(),v={startContainer:l.startContainer,startOffset:l.startOffset,endContainer:l.endContainer,endOffset:l.endOffset};(s.type==="nodechange"||!B2(v,a))&&n.fire("SelectionChange"),a=v}),n.on("contextmenu",function(){n.fire("SelectionChange")}),n.on("SelectionChange",function(){var s=n.selection.getStart(!0);!s||!an.range&&n.selection.isCollapsed()||K1(n)&&!i.isSameElementPath(s)&&n.dom.isChildOf(s,n.getBody())&&n.nodeChanged({selectionChange:!0})}),n.on("mouseup",function(s){!s.isDefaultPrevented()&&K1(n)&&(n.selection.getNode().nodeName==="IMG"?Gi.setEditorTimeout(n,function(){n.nodeChanged()}):n.nodeChanged())})}return e.prototype.nodeChanged=function(n){var a=this.editor.selection,i,s,l;this.editor.initialized&&a&&!qB(this.editor)&&!this.editor.mode.isReadOnly()&&(l=this.editor.getBody(),i=a.getStart(!0)||l,(i.ownerDocument!==this.editor.getDoc()||!this.editor.dom.isChildOf(i,l))&&(i=l),s=[],this.editor.dom.getParent(i,function(v){if(v===l)return!0;s.push(v)}),n=n||{},n.element=i,n.parents=s,this.editor.fire("NodeChange",n))},e.prototype.isSameElementPath=function(n){var a,i=this.editor.$(n).parentsUntil(this.editor.getBody()).add(n);if(i.length===this.lastPath.length){for(a=i.length;a>=0&&i[a]===this.lastPath[a];a--);if(a===-1)return this.lastPath=i,!0}return this.lastPath=i,!1},e}(),gz=function(e){e.on("click",function(n){e.dom.getParent(n.target,"details")&&n.preventDefault()})},hz=function(e){e.parser.addNodeFilter("details",function(n){vt(n,function(a){a.attr("data-mce-open",a.attr("open")),a.attr("open","open")})}),e.serializer.addNodeFilter("details",function(n){vt(n,function(a){var i=a.attr("data-mce-open");a.attr("open",Ae(i)?i:null),a.attr("data-mce-open",null)})})},pz=function(e){gz(e),hz(e)},zD=function(e){return Br(e)&&Zc(w.fromDom(e))},bz=function(e){var n=e.selection.getRng(),a=Et.fromRangeStart(n),i=Et.fromRangeEnd(n);if(Et.isElementPosition(a)){var s=a.container();zD(s)&&Tu(s).each(function(l){return n.setStart(l.container(),l.offset())})}if(Et.isElementPosition(i)){var s=a.container();zD(s)&&ql(s).each(function(v){return n.setEnd(v.container(),v.offset())})}e.selection.setRng(hC(n))},tu=function(e){e.on("click",function(n){n.detail>=3&&bz(e)})},$D=function(e){var n=e.getBoundingClientRect(),a=e.ownerDocument,i=a.documentElement,s=a.defaultView;return{top:n.top+s.pageYOffset-i.clientTop,left:n.left+s.pageXOffset-i.clientLeft}},yz=function(e){return e.inline?$D(e.getBody()):{left:0,top:0}},wz=function(e){var n=e.getBody();return e.inline?{left:n.scrollLeft,top:n.scrollTop}:{left:0,top:0}},ju=function(e){var n=e.getBody(),a=e.getDoc().documentElement,i={left:n.scrollLeft,top:n.scrollTop},s={left:n.scrollLeft||a.scrollLeft,top:n.scrollTop||a.scrollTop};return e.inline?i:s},Cz=function(e,n){if(n.target.ownerDocument!==e.getDoc()){var a=$D(e.getContentAreaContainer()),i=ju(e);return{left:n.pageX-a.left+i.left,top:n.pageY-a.top+i.top}}return{left:n.pageX,top:n.pageY}},LD=function(e,n,a){return{pageX:a.left-e.left+n.left,pageY:a.top-e.top+n.top}},xz=function(e,n){return LD(yz(e),wz(e),Cz(e,n))},mf=so,Sz=ul,kz=function(e,n){return mf(n)&&n!==e},kS=function(e,n,a){return n===a||e.dom.isChildOf(n,a)?!1:!mf(n)},Ez=function(e){var n=e.cloneNode(!0);return n.removeAttribute("data-mce-selected"),n},Tz=function(e,n,a,i){var s=e.dom,l=n.cloneNode(!0);s.setStyles(l,{width:a,height:i}),s.setAttrib(l,"data-mce-selected",null);var v=s.create("div",{class:"mce-drag-container","data-mce-bogus":"all",unselectable:"on",contenteditable:"false"});return s.setStyles(v,{position:"absolute",opacity:.5,overflow:"hidden",border:0,padding:0,margin:0,width:a,height:i}),s.setStyles(l,{margin:0,boxSizing:"border-box"}),v.appendChild(l),v},Az=function(e,n){e.parentNode!==n&&n.appendChild(e)},Oz=function(e,n,a,i,s,l){var v=0,m=0;e.style.left=n.pageX+"px",e.style.top=n.pageY+"px",n.pageX+a>s&&(v=n.pageX+a-s),n.pageY+i>l&&(m=n.pageY+i-l),e.style.width=a-v+"px",e.style.height=i-m+"px"},HD=function(e){e&&e.parentNode&&e.parentNode.removeChild(e)},Dz=function(e){return e.button===0},W0=function(e,n){return{pageX:n.pageX-e.relX,pageY:n.pageY+5}},VD=function(e,n){return function(a){if(Dz(a)){var i=Hn(n.dom.getParents(a.target),lB(mf,Sz)).getOr(null);if(kz(n.getBody(),i)){var s=n.dom.getPos(i),l=n.getBody(),v=n.getDoc().documentElement;e.set({element:i,dragging:!1,screenX:a.screenX,screenY:a.screenY,maxX:(n.inline?l.scrollWidth:v.offsetWidth)-2,maxY:(n.inline?l.scrollHeight:v.offsetHeight)-2,relX:a.pageX-s.x,relY:a.pageY-s.y,width:i.offsetWidth,height:i.offsetHeight,ghost:Tz(n,i,i.offsetWidth,i.offsetHeight)})}}}},_z=function(e,n){var a=Gi.throttle(function(i,s){n._selectionOverrides.hideFakeCaret(),n.selection.placeCaretAt(i,s)},0);return n.on("remove",a.stop),function(i){return e.on(function(s){var l=Math.max(Math.abs(i.screenX-s.screenX),Math.abs(i.screenY-s.screenY));if(!s.dragging&&l>10){var v=n.fire("dragstart",{target:s.element});if(v.isDefaultPrevented())return;s.dragging=!0,n.focus()}if(s.dragging){var m=W0(s,xz(n,i));Az(s.ghost,n.getBody()),Oz(s.ghost,m,s.width,s.height,s.maxX,s.maxY),a(i.clientX,i.clientY)}})}},Mz=function(e){var n=e.getSel().getRangeAt(0),a=n.startContainer;return a.nodeType===3?a.parentNode:a},Bz=function(e,n){return function(a){e.on(function(i){if(i.dragging){if(kS(n,Mz(n.selection),i.element)){var s=Ez(i.element),l=n.fire("drop",{clientX:a.clientX,clientY:a.clientY});l.isDefaultPrevented()||n.undoManager.transact(function(){HD(i.element),n.insertContent(n.dom.getOuterHTML(s)),n._selectionOverrides.hideFakeCaret()})}n.fire("dragend")}}),UD(e)}},Pz=function(e,n){return function(){e.on(function(a){a.dragging&&n.fire("dragend")}),UD(e)}},UD=function(e){e.on(function(n){HD(n.ghost)}),e.clear()},ES=function(e){var n=zv(),a=uo.DOM,i=document,s=VD(n,e),l=_z(n,e),v=Bz(n,e),m=Pz(n,e);e.on("mousedown",s),e.on("mousemove",l),e.on("mouseup",v),a.bind(i,"mousemove",l),a.bind(i,"mouseup",m),e.on("remove",function(){a.unbind(i,"mousemove",l),a.unbind(i,"mouseup",m)}),e.on("keydown",function(g){g.keyCode===kr.ESC&&m()})},WD=function(e){e.on("drop",function(n){var a=typeof n.clientX!="undefined"?e.getDoc().elementFromPoint(n.clientX,n.clientY):null;(mf(a)||e.dom.getContentEditableParent(a)==="false")&&n.preventDefault()})},jD=function(e){var n=function(s){if(!s.isDefaultPrevented()){var l=s.dataTransfer;l&&(We(l.types,"Files")||l.files.length>0)&&(s.preventDefault(),s.type==="drop"&&i0(e,"Dropped file type is not supported"))}},a=function(s){sb(e,s.target)&&n(s)},i=function(){var s=uo.DOM,l=e.dom,v=document,m=e.inline?e.getBody():e.getDoc(),g=["drop","dragover"];vt(g,function(E){s.bind(v,E,a),l.bind(m,E,n)}),e.on("remove",function(){vt(g,function(E){s.unbind(v,E,a),l.unbind(m,E,n)})})};e.on("init",function(){Gi.setEditorTimeout(e,i,0)})},qD=function(e){ES(e),WD(e),gh(e)&&jD(e)},Rz=function(e){var n=h1(function(){if(!e.removed&&e.getBody().contains(document.activeElement)){var a=e.selection.getRng();if(a.collapsed){var i=v0(e,a,!1);e.selection.setRng(i)}}},0);e.on("focus",function(){n.throttle()}),e.on("blur",function(){n.cancel()})},Nz=function(e){e.on("init",function(){e.on("focusin",function(n){var a=n.target;if(zu(a)){var i=Bm(e.getBody(),a),s=so(i)?i:a;e.selection.getNode()!==s&&cg(e,s).each(function(l){return e.selection.setRng(l)})}})})},GD=ul,md=so,j0=function(e,n){return Bm(e.getBody(),n)},Fz=function(e){var n=e.selection,a=e.dom,i=a.isBlock,s=e.getBody(),l=Eu(e,s,i,function(){return Oc(e)}),v="sel-"+a.uniqueId(),m="data-mce-selected",g,E=function(Ft){return a.hasClass(Ft,"mce-offscreen-selection")},N=function(Ft){return Ft!==s&&(md(Ft)||zu(Ft))&&a.isChildOf(Ft,s)},F=function(Ft){return Kf(Ft)||Xf(Ft)||zm(Ft)||$m(Ft)},$=function(){var Ft=a.get(v);return Ft&&Ft.getElementsByTagName("*")[0]},ee=function(Ft){Ft&&n.setRng(Ft)},ne=n.getRng,re=function(Ft,ar,on,Pn){Pn===void 0&&(Pn=!0);var un=e.fire("ShowCaret",{target:ar,direction:Ft,before:on});return un.isDefaultPrevented()?null:(Pn&&n.scrollIntoView(ar,Ft===-1),l.show(on,ar))},ie=function(Ft){Ft.hasAttribute("data-mce-caret")&&(Uy(Ft),ee(ne()),n.scrollIntoView(Ft))},we=function(){e.on("mouseup",function(un){var xn=ne();xn.collapsed&&D4(e,un.clientX,un.clientY)&&Dx(e,xn,!1).each(ee)}),e.on("click",function(un){var xn=j0(e,un.target);xn&&(md(xn)&&(un.preventDefault(),e.focus()),GD(xn)&&a.isChildOf(xn,n.getNode())&&en())}),e.on("blur NewBlock",en),e.on("ResizeWindow FullscreenStateChanged",l.reposition);var Ft=function(un){var xn=un.firstChild;if(Be(xn))return!1;var Vn=Et.before(xn);if(za(Vn.getNode())&&un.childNodes.length===1)return!F(Vn);var Yt=Po(un),zn=Yt.next(Vn);return zn&&!F(zn)},ar=function(un,xn){var Vn=a.getParent(un,i),Yt=a.getParent(xn,i);return Vn===Yt},on=function(un,xn){var Vn=a.getParent(un,i),Yt=a.getParent(xn,i);return Be(Vn)?!1:un!==Yt&&a.isChildOf(Vn,Yt)&&md(j0(e,Vn))===!1?!0:!a.isChildOf(Yt,Vn)&&!ar(Vn,Yt)&&Ft(Vn)};e.on("tap",function(un){var xn=un.target,Vn=j0(e,xn);md(Vn)?(un.preventDefault(),cg(e,Vn).each(Rt)):N(xn)&&cg(e,xn).each(Rt)},!0),e.on("mousedown",function(un){var xn=un.target;if(!(xn!==s&&xn.nodeName!=="HTML"&&!a.isChildOf(xn,s))&&D4(e,un.clientX,un.clientY)!==!1){var Vn=j0(e,xn);if(Vn)md(Vn)?(un.preventDefault(),cg(e,Vn).each(Rt)):(en(),!(GD(Vn)&&un.shiftKey)&&!Sh(un.clientX,un.clientY,n.getRng())&&(Fn(),n.placeCaretAt(un.clientX,un.clientY)));else if(N(xn))cg(e,xn).each(Rt);else if(Hv(xn)===!1){en(),Fn();var Yt=VI(s,un.clientX,un.clientY);if(Yt&&!on(xn,Yt.node)){un.preventDefault();var zn=re(1,Yt.node,Yt.before,!1);ee(zn),e.getBody().focus()}}}}),e.on("keypress",function(un){kr.modifierPressed(un)||md(n.getNode())&&un.preventDefault()}),e.on("GetSelectionRange",function(un){var xn=un.range;if(g){if(!g.parentNode){g=null;return}xn=xn.cloneRange(),xn.selectNode(g),un.range=xn}}),e.on("SetSelectionRange",function(un){un.range=qe(un.range);var xn=Rt(un.range,un.forward);xn&&(un.range=xn)});var Pn=function(un){return un.id==="mcepastebin"};e.on("AfterSetSelectionRange",function(un){var xn=un.range,Vn=xn.startContainer.parentNode;!Je(xn)&&!Pn(Vn)&&Fn(),E(Vn)||en()}),e.on("copy",function(un){var xn=un.clipboardData;if(!un.isDefaultPrevented()&&un.clipboardData&&!an.ie){var Vn=$();Vn&&(un.preventDefault(),xn.clearData(),xn.setData("text/html",Vn.outerHTML),xn.setData("text/plain",Vn.outerText||Vn.innerText))}}),qD(e),Rz(e),Nz(e)},ge=function(Ft){return Gs(Ft)||Gp(Ft)||Kp(Ft)},Je=function(Ft){return ge(Ft.startContainer)||ge(Ft.endContainer)},qe=function(Ft){var ar=e.schema.getShortEndedElements(),on=a.createRng(),Pn=Ft.startContainer,un=Ft.startOffset,xn=Ft.endContainer,Vn=Ft.endOffset;return xr(ar,Pn.nodeName.toLowerCase())?un===0?on.setStartBefore(Pn):on.setStartAfter(Pn):on.setStart(Pn,un),xr(ar,xn.nodeName.toLowerCase())?Vn===0?on.setEndBefore(xn):on.setEndAfter(xn):on.setEnd(xn,Vn),on},De=function(Ft,ar,on){var Pn=e.$,un=Gd(w.fromDom(e.getBody()),"#"+v).fold(function(){return Pn([])},function(Yt){return Pn([Yt.dom])});un.length===0&&(un=Pn('<div data-mce-bogus="all" class="mce-offscreen-selection"></div>').attr("id",v),un.appendTo(e.getBody()));var xn=a.createRng();ar===on&&an.ie?(un.empty().append('<p style="font-size: 0" data-mce-bogus="all"> </p>').append(ar),xn.setStartAfter(un[0].firstChild.firstChild),xn.setEndAfter(ar)):(un.empty().append(Qu).append(ar).append(Qu),xn.setStart(un[0].firstChild,1),xn.setEnd(un[0].lastChild,0)),un.css({top:a.getPos(Ft,e.getBody()).y}),un[0].focus();var Vn=n.getSel();return Vn.removeAllRanges(),Vn.addRange(xn),xn},nt=function(Ft){var ar=Ft.cloneNode(!0),on=e.fire("ObjectSelected",{target:Ft,targetClone:ar});if(on.isDefaultPrevented())return null;var Pn=De(Ft,on.targetClone,ar),un=w.fromDom(Ft);return vt(zi(w.fromDom(e.getBody()),"*[data-mce-selected]"),function(xn){Sr(un,xn)||Ot(xn,m)}),a.getAttrib(Ft,m)||Ft.setAttribute(m,"1"),g=Ft,Fn(),Pn},Rt=function(Ft,ar){if(!Ft)return null;if(Ft.collapsed){if(!Je(Ft)){var on=ar?1:-1,Pn=Em(on,s,Ft),un=Pn.getNode(!ar);if(Hv(un))return re(on,un,ar?!Pn.isAtEnd():!1,!1);var xn=Pn.getNode(ar);if(Hv(xn))return re(on,xn,ar?!1:!Pn.isAtEnd(),!1)}return null}var Vn=Ft.startContainer,Yt=Ft.startOffset,zn=Ft.endOffset;if(Vn.nodeType===3&&Yt===0&&md(Vn.parentNode)&&(Vn=Vn.parentNode,Yt=a.nodeIndex(Vn),Vn=Vn.parentNode),Vn.nodeType!==1)return null;if(zn===Yt+1&&Vn===Ft.endContainer){var Gr=Vn.childNodes[Yt];if(N(Gr))return nt(Gr)}return null},en=function(){g&&g.removeAttribute(m),Gd(w.fromDom(e.getBody()),"#"+v).each(Io),g=null},yr=function(){l.destroy(),g=null},Fn=function(){l.hide()};return an.ceFalse&&!of(e)&&we(),{showCaret:re,showBlockCaretContainer:ie,hideFakeCaret:Fn,destroy:yr}},KD=function(e){var n=Tt.each,a=kr.BACKSPACE,i=kr.DELETE,s=e.dom,l=e.selection,v=e.parser,m=an.gecko,g=an.ie,E=an.webkit,N="data:text/mce-internal,",F=g?"Text":"URL",$=function(Zt,hn){try{e.getDoc().execCommand(Zt,!1,hn)}catch(or){}},ee=function(Zt){return Zt.isDefaultPrevented()},ne=function(Zt){var hn,or;Zt.dataTransfer&&(e.selection.isCollapsed()&&Zt.target.tagName==="IMG"&&l.select(Zt.target),hn=e.selection.getContent(),hn.length>0&&(or=N+escape(e.id)+","+escape(hn),Zt.dataTransfer.setData(F,or)))},re=function(Zt){var hn;return Zt.dataTransfer&&(hn=Zt.dataTransfer.getData(F),hn&&hn.indexOf(N)>=0)?(hn=hn.substr(N.length).split(","),{id:unescape(hn[0]),html:unescape(hn[1])}):null},ie=function(Zt,hn){e.queryCommandSupported("mceInsertClipboardContent")?e.execCommand("mceInsertClipboardContent",!1,{content:Zt,internal:hn}):e.execCommand("mceInsertContent",!1,Zt)},we=function(){var Zt=function(or){var st=s.create("body"),rn=or.cloneContents();return st.appendChild(rn),l.serializer.serialize(st,{format:"html"})},hn=function(or){var st=Zt(or),rn=s.createRng();rn.selectNode(e.getBody());var Qt=Zt(rn);return st===Qt};e.on("keydown",function(or){var st=or.keyCode,rn,Qt;if(!ee(or)&&(st===i||st===a)){if(rn=e.selection.isCollapsed(),Qt=e.getBody(),rn&&!s.isEmpty(Qt)||!rn&&!hn(e.selection.getRng()))return;or.preventDefault(),e.setContent(""),Qt.firstChild&&s.isBlock(Qt.firstChild)?e.selection.setCursorLocation(Qt.firstChild,0):e.selection.setCursorLocation(Qt,0),e.nodeChanged()}})},ge=function(){e.shortcuts.add("meta+a",null,"SelectAll")},Je=function(){e.inline||s.bind(e.getDoc(),"mousedown mouseup",function(Zt){var hn;if(Zt.target===e.getDoc().documentElement)if(hn=l.getRng(),e.getBody().focus(),Zt.type==="mousedown"){if(Gs(hn.startContainer))return;l.placeCaretAt(Zt.clientX,Zt.clientY)}else l.setRng(hn)})},qe=function(){e.on("keydown",function(Zt){if(!ee(Zt)&&Zt.keyCode===a){if(!e.getBody().getElementsByTagName("hr").length)return;if(l.isCollapsed()&&l.getRng().startOffset===0){var hn=l.getNode(),or=hn.previousSibling;if(hn.nodeName==="HR"){s.remove(hn),Zt.preventDefault();return}or&&or.nodeName&&or.nodeName.toLowerCase()==="hr"&&(s.remove(or),Zt.preventDefault())}}})},De=function(){Range.prototype.getClientRects||e.on("mousedown",function(Zt){if(!ee(Zt)&&Zt.target.nodeName==="HTML"){var hn=e.getBody();hn.blur(),Gi.setEditorTimeout(e,function(){hn.focus()})}})},nt=function(){e.on("click",function(Zt){var hn=Zt.target;/^(IMG|HR)$/.test(hn.nodeName)&&s.getContentEditableParent(hn)!=="false"&&(Zt.preventDefault(),e.selection.select(hn),e.nodeChanged()),hn.nodeName==="A"&&s.hasClass(hn,"mce-item-anchor")&&(Zt.preventDefault(),l.select(hn))})},Rt=function(){var Zt=function(){var or=s.getAttribs(l.getStart().cloneNode(!1));return function(){var st=l.getStart();st!==e.getBody()&&(s.setAttrib(st,"style",null),n(or,function(rn){st.setAttributeNode(rn.cloneNode(!0))}))}},hn=function(){return!l.isCollapsed()&&s.getParent(l.getStart(),s.isBlock)!==s.getParent(l.getEnd(),s.isBlock)};e.on("keypress",function(or){var st;if(!ee(or)&&(or.keyCode===8||or.keyCode===46)&&hn())return st=Zt(),e.getDoc().execCommand("delete",!1,null),st(),or.preventDefault(),!1}),s.bind(e.getDoc(),"cut",function(or){var st;!ee(or)&&hn()&&(st=Zt(),Gi.setEditorTimeout(e,function(){st()}))})},en=function(){e.on("keydown",function(Zt){if(!ee(Zt)&&Zt.keyCode===a&&l.isCollapsed()&&l.getRng().startOffset===0){var hn=l.getNode().previousSibling;if(hn&&hn.nodeName&&hn.nodeName.toLowerCase()==="table")return Zt.preventDefault(),!1}})},yr=function(){e.on("keydown",function(Zt){var hn,or;if(!(ee(Zt)||Zt.keyCode!==kr.BACKSPACE)){hn=l.getRng();var st=hn.startContainer,rn=hn.startOffset,Qt=s.getRoot();if(or=st,!(!hn.collapsed||rn!==0)){for(;or&&or.parentNode&&or.parentNode.firstChild===or&&or.parentNode!==Qt;)or=or.parentNode;or.tagName==="BLOCKQUOTE"&&(e.formatter.toggle("blockquote",null,or),hn=s.createRng(),hn.setStart(st,0),hn.setEnd(st,0),l.setRng(hn))}}})},Fn=function(){var Zt=function(){$("StyleWithCSS",!1),$("enableInlineTableEditing",!1),_E(e)||$("enableObjectResizing",!1)};GB(e)||e.on("BeforeExecCommand mousedown",Zt)},Ft=function(){var Zt=function(){n(s.select("a"),function(hn){var or=hn.parentNode,st=s.getRoot();if(or.lastChild===hn){for(;or&&!s.isBlock(or);){if(or.parentNode.lastChild!==or||or===st)return;or=or.parentNode}s.add(or,"br",{"data-mce-bogus":1})}})};e.on("SetContent ExecCommand",function(hn){(hn.type==="setcontent"||hn.command==="mceInsertLink")&&Zt()})},ar=function(){Ji(e)&&e.on("init",function(){$("DefaultParagraphSeparator",Ji(e))})},on=function(){e.on("keyup focusin mouseup",function(Zt){kr.modifierPressed(Zt)||l.normalize()},!0)},Pn=function(){e.contentStyles.push("img:-moz-broken {-moz-force-broken-image-icon:1;min-width:24px;min-height:24px}")},un=function(){e.inline||e.on("keydown",function(){document.activeElement===document.body&&e.getWin().focus()})},xn=function(){e.inline||(e.contentStyles.push("body {min-height: 150px}"),e.on("click",function(Zt){var hn;if(Zt.target.nodeName==="HTML"){if(an.ie>11){e.getBody().focus();return}hn=e.selection.getRng(),e.getBody().focus(),e.selection.setRng(hn),e.selection.normalize(),e.nodeChanged()}}))},Vn=function(){an.mac&&e.on("keydown",function(Zt){if(kr.metaKeyPressed(Zt)&&!Zt.shiftKey&&(Zt.keyCode===37||Zt.keyCode===39)){Zt.preventDefault();var hn=e.selection.getSel();hn.modify("move",Zt.keyCode===37?"backward":"forward","lineboundary")}})},Yt=function(){$("AutoUrlDetect",!1)},zn=function(){e.on("click",function(Zt){var hn=Zt.target;do if(hn.tagName==="A"){Zt.preventDefault();return}while(hn=hn.parentNode)}),e.contentStyles.push(".mce-content-body {-webkit-touch-callout: none}")},Gr=function(){e.on("init",function(){e.dom.bind(e.getBody(),"submit",function(Zt){Zt.preventDefault()})})},ma=function(){v.addNodeFilter("br",function(Zt){for(var hn=Zt.length;hn--;)Zt[hn].attr("class")==="Apple-interchange-newline"&&Zt[hn].remove()})},fa=function(){e.on("dragstart",function(Zt){ne(Zt)}),e.on("drop",function(Zt){if(!ee(Zt)){var hn=re(Zt);if(hn&&hn.id!==e.id){Zt.preventDefault();var or=M2(Zt.x,Zt.y,e.getDoc());l.setRng(or),ie(hn.html,!0)}}})},yi=Ze,go=function(){if(!m||e.removed)return!1;var Zt=e.selection.getSel();return!Zt||!Zt.rangeCount||Zt.rangeCount===0},vu=function(){E&&(Je(),nt(),Gr(),ge(),an.iOS&&(un(),xn(),zn())),m&&(De(),Fn(),Pn(),Vn())},cs=function(){yr(),we(),an.windowsPhone||on(),E&&(Je(),nt(),ar(),Gr(),en(),ma(),an.iOS?(un(),xn(),zn()):ge()),an.ie>=11&&(xn(),en()),an.ie&&(ge(),Yt(),fa()),m&&(qe(),De(),Rt(),Fn(),Ft(),Pn(),Vn(),en())};return of(e)?vu():cs(),{refreshContentEditable:yi,isHidden:go}},TS=uo.DOM,Iz=function(e,n){var a=w.fromDom(e.getBody()),i=jc(bu(a)),s=w.fromTag("style");k(s,"type","text/css"),Ni(s,w.fromText(n)),Ni(i,s),e.on("remove",function(){Io(s)})},zz=function(e){return e.inline?e.getElement().nodeName.toLowerCase():void 0},AS=function(e){return Bn(e,function(n){return Te(n)===!1})},OS=function(e){var n=e.settings;return AS({block_elements:n.block_elements,boolean_attributes:n.boolean_attributes,custom_elements:n.custom_elements,extended_valid_elements:n.extended_valid_elements,invalid_elements:n.invalid_elements,invalid_styles:n.invalid_styles,move_caret_before_on_enter_elements:n.move_caret_before_on_enter_elements,non_empty_elements:n.non_empty_elements,schema:n.schema,self_closing_elements:n.self_closing_elements,short_ended_elements:n.short_ended_elements,special:n.special,text_block_elements:n.text_block_elements,text_inline_elements:n.text_inline_elements,valid_children:n.valid_children,valid_classes:n.valid_classes,valid_elements:n.valid_elements,valid_styles:n.valid_styles,verify_html:n.verify_html,whitespace_elements:n.whitespace_elements,padd_empty_block_inline_children:n.format_empty_lines})},XD=function(e){var n=e.settings,a=e.editorUpload.blobCache;return AS({allow_conditional_comments:n.allow_conditional_comments,allow_html_data_urls:n.allow_html_data_urls,allow_svg_data_urls:n.allow_svg_data_urls,allow_html_in_named_anchor:n.allow_html_in_named_anchor,allow_script_urls:n.allow_script_urls,allow_unsafe_link_target:n.allow_unsafe_link_target,convert_fonts_to_spans:n.convert_fonts_to_spans,fix_list_elements:n.fix_list_elements,font_size_legacy_values:n.font_size_legacy_values,forced_root_block:n.forced_root_block,forced_root_block_attrs:n.forced_root_block_attrs,padd_empty_with_br:n.padd_empty_with_br,preserve_cdata:n.preserve_cdata,remove_trailing_brs:n.remove_trailing_brs,inline_styles:n.inline_styles,root_name:zz(e),validate:!0,blob_cache:a,document:e.getDoc(),images_dataimg_filter:n.images_dataimg_filter})},$z=function(e){var n=e.settings;return Gn(Gn(Gn({},XD(e)),OS(e)),AS({url_converter:n.url_converter,url_converter_scope:n.url_converter_scope,element_format:n.element_format,entities:n.entities,entity_encoding:n.entity_encoding,indent:n.indent,indent_after:n.indent_after,indent_before:n.indent_before}))},Lz=function(e){var n=Zb(XD(e),e.schema);return n.addAttributeFilter("src,href,style,tabindex",function(a,i){for(var s=a.length,l,v,m=e.dom,g="data-mce-"+i;s--;)if(l=a[s],v=l.attr(i),v&&!l.attr(g)){if(v.indexOf("data:")===0||v.indexOf("blob:")===0)continue;i==="style"?(v=m.serializeStyle(m.parseStyle(v),l.name),v.length||(v=null),l.attr(g,v),l.attr(i,v)):i==="tabindex"?(l.attr(g,v),l.attr(i,null)):l.attr(g,e.convertURL(v,i,l.name))}}),n.addNodeFilter("script",function(a){for(var i=a.length;i--;){var s=a[i],l=s.attr("type")||"no/type";l.indexOf("mce-")!==0&&s.attr("type","mce-"+l)}}),e.settings.preserve_cdata&&n.addNodeFilter("#cdata",function(a){for(var i=a.length;i--;){var s=a[i];s.type=8,s.name="#comment",s.value="[CDATA["+e.dom.encode(s.value)+"]]"}}),n.addNodeFilter("p,h1,h2,h3,h4,h5,h6,div",function(a){for(var i=a.length,s=e.schema.getNonEmptyElements();i--;){var l=a[i];l.isEmpty(s)&&l.getAll("br").length===0&&(l.append(new el("br",1)).shortEnded=!0)}}),n},Hz=function(e){e.settings.auto_focus&&Gi.setEditorTimeout(e,function(){var n;e.settings.auto_focus===!0?n=e:n=e.editorManager.get(e.settings.auto_focus),n.destroyed||n.focus()},100)},YD=function(e){var n=e.dom.getRoot();!e.inline&&(!K1(e)||e.selection.getStart(!0)===n)&&Tu(n).each(function(a){var i=a.getNode(),s=gi(i)?Tu(i).getOr(a):a;an.browser.isIE()?rR(e,s.toRange()):e.selection.setRng(s.toRange())})},q0=function(e){e.bindPendingEventDelegates(),e.initialized=!0,yT(e),e.focus(!0),YD(e),e.nodeChanged({initial:!0}),e.execCallback("init_instance_callback",e),Hz(e)},DS=function(e){return e.inline?e.ui.styleSheetLoader:e.dom.styleSheetLoader},ZD=function(e,n,a){var i=[new Di(function(s,l){return DS(e).loadAll(n,s,l)})];return e.inline?i:i.concat([new Di(function(s,l){return e.ui.styleSheetLoader.loadAll(a,s,l)})])},JD=function(e){var n=DS(e),a=OE(e),i=e.contentCSS,s=function(){n.unloadAll(i),e.inline||e.ui.styleSheetLoader.unloadAll(a)},l=function(){e.removed?s():e.on("remove",s)};if(e.contentStyles.length>0){var v="";Tt.each(e.contentStyles,function(g){v+=g+`\r
`}),e.dom.addStyle(v)}var m=Di.all(ZD(e,i,a)).then(l).catch(l);return e.settings.content_style&&Iz(e,e.settings.content_style),m},Vz=function(e){var n=e.settings,a=e.getDoc(),i=e.getBody();Ac(e),!n.browser_spellcheck&&!n.gecko_spellcheck&&(a.body.spellcheck=!1,TS.setAttrib(i,"spellcheck","false")),e.quirks=KD(e),bT(e);var s=DE(e);s!==void 0&&(i.dir=s),n.protect&&e.on("BeforeSetContent",function(l){Tt.each(n.protect,function(v){l.content=l.content.replace(v,function(m){return"<!--mce:protected "+escape(m)+"-->"})})}),e.on("SetContent",function(){e.addVisual(e.getBody())}),e.on("compositionstart compositionend",function(l){e.composing=l.type==="compositionstart"})},_S=function(e){of(e)||e.load({initial:!0,format:"html"}),e.startContent=e.getContent({format:"raw"})},MS=function(e){e.removed!==!0&&(_S(e),q0(e))},BS=function(e,n){var a=e.settings,i=e.getElement(),s=e.getDoc();a.inline||(e.getElement().style.visibility=e.orgVisibility),e.inline||(s.open(),s.write(e.iframeHTML),s.close()),e.inline&&(TS.addClass(i,"mce-content-body"),e.contentDocument=s=document,e.contentWindow=window,e.bodyElement=i,e.contentAreaContainer=i);var l=e.getBody();l.disabled=!0,e.readonly=!!a.readonly,e.readonly||(e.inline&&TS.getStyle(l,"position",!0)==="static"&&(l.style.position="relative"),l.contentEditable=e.getParam("content_editable_state",!0)),l.disabled=!1,e.editorUpload=eu(e),e.schema=As(OS(e)),e.dom=uo(s,{keep_values:!0,url_converter:e.convertURL,url_converter_scope:e,hex_colors:a.force_hex_style_colors,update_styles:!0,root_element:e.inline?e.getBody():null,collect:function(){return e.inline},schema:e.schema,contentCssCors:MB(e),referrerPolicy:SE(e),onSetAttrib:function(g){e.fire("SetAttrib",g)}}),e.parser=Lz(e),e.serializer=dx($z(e),e),e.selection=Qm(e.dom,e.getWin(),e.serializer,e),e.annotator=gT(e),e.formatter=Do(e),e.undoManager=W4(e),e._nodeChangeDispatcher=new mz(e),e._selectionOverrides=Fz(e),KO(e),pz(e),of(e)||tu(e);var v=dz(e);bl(e,v),pg(e),rp(e);var m=F5(e);Vz(e),m.fold(function(){JD(e).then(function(){return MS(e)})},function(g){e.setProgressState(!0),JD(e).then(function(){g().then(function(E){e.setProgressState(!1),MS(e)},function(E){e.notificationManager.open({type:"error",text:String(E)}),MS(e)})})})},hp=uo.DOM,Uz=function(e,n){if(document.domain!==window.location.hostname&&an.browser.isIE()){var a=I4("mce");e[a]=function(){BS(e)};var i='javascript:(function(){document.open();document.domain="'+document.domain+'";var ed = window.parent.tinymce.get("'+e.id+'");document.write(ed.iframeHTML);document.close();ed.'+a+"(true);})()";return hp.setAttrib(n,"src",i),!0}return!1},yl=function(e,n,a,i){var s=w.fromTag("iframe");return I(s,i),I(s,{id:e+"_ifr",frameBorder:"0",allowTransparency:"true",title:n}),gm(s,"tox-edit-area__iframe"),s},QD=function(e){var n=wB(e)+"<html><head>";CB(e)!==e.documentBaseUrl&&(n+='<base href="'+e.documentBaseURI.getURI()+'" />'),n+='<meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />';var a=xB(e),i=SB(e),s=e.translate(RE(e));return CE(e)&&(n+='<meta http-equiv="Content-Security-Policy" content="'+CE(e)+'" />'),n+="</head>"+('<body id="'+a+'" class="mce-content-body '+i+'" data-id="'+e.id+'" aria-label="'+s+'">')+"<br></body></html>",n},e_=function(e,n){var a=e.translate("Rich Text Area"),i=yl(e.id,a,n.height,yB(e)).dom;i.onload=function(){i.onload=null,e.fire("load")};var s=Uz(e,i);return e.contentAreaContainer=n.iframeContainer,e.iframeElement=i,e.iframeHTML=QD(e),hp.add(n.iframeContainer,i),s},Wz=function(e,n){var a=e_(e,n);n.editorContainer&&(hp.get(n.editorContainer).style.display=e.orgDisplay,e.hidden=hp.isHidden(n.editorContainer)),e.getElement().style.display="none",hp.setAttrib(e.id,"aria-hidden","true"),a||BS(e)},t_=uo.DOM,n_=function(e,n,a){var i=Ql.get(a),s=Ql.urls[a]||e.documentBaseUrl.replace(/\/$/,"");if(a=Tt.trim(a),i&&Tt.inArray(n,a)===-1){if(Tt.each(Ql.dependencies(a),function(v){n_(e,n,v)}),e.plugins[a])return;try{var l=new i(e,s,e.$);e.plugins[a]=l,l.init&&(l.init(e,s),n.push(a))}catch(v){XF(e,a,v)}}},r_=function(e){return e.replace(/^\-/,"")},jz=function(e){var n=[];Tt.each(Yw(e).split(/[ ,]/),function(a){n_(e,n,r_(a))})},qz=function(e){var n=Tt.trim(Cc(e)),a=e.ui.registry.getAll().icons,i=Gn(Gn({},o0.get("default").icons),o0.get(n).icons);vn(i,function(s,l){xr(a,l)||e.ui.registry.addIcon(l,s)})},Gz=function(e){var n=dh(e);if(Ae(n)){e.settings.theme=r_(n);var a=nv.get(n);e.theme=new a(e,nv.urls[n]),e.theme.init&&e.theme.init(e,nv.urls[n]||e.documentBaseUrl.replace(/\/$/,""),e.$)}else e.theme={}},PS=function(e){return e.theme.renderUI()},Kz=function(e){var n=e.getElement(),a=dh(e),i=a(e,n);return i.editorContainer.nodeType&&(i.editorContainer.id=i.editorContainer.id||e.id+"_parent"),i.iframeContainer&&i.iframeContainer.nodeType&&(i.iframeContainer.id=i.iframeContainer.id||e.id+"_iframecontainer"),i.height=i.iframeHeight?i.iframeHeight:n.offsetHeight,i},a_=function(e){return{editorContainer:e,iframeContainer:e,api:{}}},o_=function(e){var n=t_.create("div");return t_.insertAfter(n,e),a_(n)},Xz=function(e){var n=e.getElement();return e.inline?a_(null):o_(n)},Yz=function(e){var n=e.getElement();return e.orgDisplay=n.style.display,Ae(dh(e))?PS(e):Se(dh(e))?Kz(e):Xz(e)},Zz=function(e,n){var a={show:X.from(n.show).getOr(Ze),hide:X.from(n.hide).getOr(Ze),disable:X.from(n.disable).getOr(Ze),isDisabled:X.from(n.isDisabled).getOr(Kt),enable:function(){e.mode.isReadOnly()||X.from(n.enable).map(Ht)}};e.ui=Gn(Gn({},e.ui),a)},i_=function(e){e.fire("ScriptsLoaded"),qz(e),Gz(e),jz(e);var n=Yz(e);Zz(e,X.from(n.api).getOr({}));var a={editorContainer:n.editorContainer,iframeContainer:n.iframeContainer};return e.editorContainer=a.editorContainer?a.editorContainer:null,F4(e),e.inline?BS(e):Wz(e,a)},gd=uo.DOM,u_=function(e){return e.charAt(0)==="-"},RS=function(e,n){var a=kE(n),i=EE(n);if(Su.hasCode(a)===!1&&a!=="en"){var s=i!==""?i:n.editorManager.baseURL+"/langs/"+a+".js";e.add(s,Ze,void 0,function(){KF(n,s,a)})}},Jz=function(e,n,a,i){var s=dh(n);if(Ae(s)){if(!u_(s)&&!xr(nv.urls,s)){var l=zB(n);l?nv.load(s,n.documentBaseURI.toAbsolute(l)):nv.load(s,"themes/"+s+"/theme"+a+".js")}e.loadQueue(function(){nv.waitFor(s,i)})}else i()},s_=function(e){return X.from(qw(e)).filter(function(n){return n.length>0}).map(function(n){return{url:n,name:X.none()}})},l_=function(e,n,a){return X.from(n).filter(function(i){return i.length>0&&!o0.has(i)}).map(function(i){return{url:e.editorManager.baseURL+"/icons/"+i+"/icons"+a+".js",name:X.some(i)}})},Qz=function(e,n,a){var i=l_(n,"default",a),s=s_(n).orThunk(function(){return l_(n,Cc(n),"")});vt(Vp([i,s]),function(l){e.add(l.url,Ze,void 0,function(){R4(n,l.url,l.name.getOrUndefined())})})},e8=function(e,n){Tt.each(XB(e),function(a,i){Ql.load(i,a,Ze,void 0,function(){Cx(e,a,i)}),e.settings.plugins+=" "+i}),Tt.each(Yw(e).split(/[ ,]/),function(a){if(a=Tt.trim(a),a&&!Ql.urls[a])if(u_(a)){a=a.substr(1,a.length);var i=Ql.dependencies(a);Tt.each(i,function(l){var v={prefix:"plugins/",resource:l,suffix:"/plugin"+n+".js"},m=Ql.createUrl(v,l);Ql.load(m.resource,m,Ze,void 0,function(){Cx(e,m.prefix+m.resource+m.suffix,m.resource)})})}else{var s={prefix:"plugins/",resource:a,suffix:"/plugin"+n+".js"};Ql.load(a,s,Ze,void 0,function(){Cx(e,s.prefix+s.resource+s.suffix,a)})}})},t8=function(e,n){var a=Qc.ScriptLoader;Jz(a,e,n,function(){RS(a,e),Qz(a,e,n),e8(e,n),a.loadQueue(function(){e.removed||i_(e)},e,function(){e.removed||i_(e)})})},bi=function(e,n){return Dl.forElement(e,{contentCssCors:KB(n),referrerPolicy:SE(n)})},n8=function(e){var n=e.id;Su.setCode(kE(e));var a=function(){gd.unbind(window,"ready",a),e.render()};if(!om.Event.domLoaded){gd.bind(window,"ready",a);return}if(e.getElement()&&an.contentEditable){var i=w.fromDom(e.getElement()),s=ur(i);e.on("remove",function(){kt(i.dom.attributes,function(v){return Ot(i,v.name)}),I(i,s)}),e.ui.styleSheetLoader=bi(i,e),$B(e)?e.inline=!0:(e.orgVisibility=e.getElement().style.visibility,e.getElement().style.visibility="hidden");var l=e.getElement().form||gd.getParent(n,"form");l&&(e.formElement=l,LB(e)&&!xs(e.getElement())&&(gd.insertAfter(gd.create("input",{type:"hidden",name:n}),n),e.hasHiddenInput=!0),e.formEventDelegate=function(v){e.fire(v.type,v)},gd.bind(l,"submit reset",e.formEventDelegate),e.on("reset",function(){e.resetContent()}),HB(e)&&!l.submit.nodeType&&!l.submit.length&&!l._mceOldSubmit&&(l._mceOldSubmit=l.submit,l.submit=function(){return e.editorManager.triggerSave(),e.setDirty(!1),l._mceOldSubmit(l)})),e.windowManager=px(e),e.notificationManager=B4(e),VB(e)&&e.on("GetContent",function(v){v.save&&(v.content=gd.encode(v.content))}),UB(e)&&e.on("submit",function(){e.initialized&&e.save()}),_1(e)&&(e._beforeUnload=function(){e.initialized&&!e.destroyed&&!e.isHidden()&&e.save({format:"raw",no_events:!0,set_dirty:!1})},e.editorManager.on("BeforeUnload",e._beforeUnload)),e.editorManager.add(e),t8(e,e.suffix)}},r8=function(e,n){return K5(e,n)},a8={"font-size":"size","font-family":"face"},c_=function(e,n,a){var i=function(l){return lu(l,e).orThunk(function(){return Sa(l)==="font"?Ar(a8,e).bind(function(v){return fe(l,v)}):X.none()})},s=function(l){return Sr(w.fromDom(n),l)};return TC(w.fromDom(a),function(l){return i(l)},s)},NS=function(e){return e.replace(/[\'\"\\]/g,"").replace(/,\s+/g,",")},o8=function(e,n){return X.from(uo.DOM.getStyle(n,e,!0))},FS=function(e){return function(n,a){return X.from(a).map(w.fromDom).filter(vo).bind(function(i){return c_(e,n,i.dom).or(o8(e,i.dom))}).getOr("")}},i8=FS("font-size"),u8=it(NS,FS("font-family")),s8=function(e){return Tu(e.getBody()).map(function(n){var a=n.container();return Wn(a)?a.parentNode:a})},l8=function(e){return X.from(e.selection.getRng()).bind(function(n){var a=e.getBody(),i=n.startContainer===a&&n.startOffset===0;return i?X.none():X.from(e.selection.getStart(!0))})},c8=function(e,n){return l8(e).orThunk(bt(s8,e)).map(w.fromDom).filter(vo).bind(n)},IS=function(e,n){return c8(e,G(X.some,n))},f_=function(e,n){if(/^[0-9.]+$/.test(n)){var a=parseInt(n,10);if(a>=1&&a<=7){var i=AB(e),s=wm(e);return s?s[a-1]||n:i[a-1]||n}else return n}else return n},f8=function(e){var n=e.split(/\s*,\s*/);return zt(n,function(a){return a.indexOf(" ")!==-1&&!(R(a,'"')||R(a,"'"))?"'"+a+"'":a}).join(",")},v8=function(e,n){var a=f_(e,n);e.formatter.toggle("fontname",{value:f8(a)}),e.nodeChanged()},d8=function(e){return IS(e,function(n){return u8(e.getBody(),n.dom)}).getOr("")},m8=function(e,n){e.formatter.toggle("fontsize",{value:f_(e,n)}),e.nodeChanged()},g8=function(e){return IS(e,function(n){return i8(e.getBody(),n.dom)}).getOr("")},h8=function(e){return IS(e,function(n){var a=w.fromDom(e.getBody()),i=TC(n,function(l){return lu(l,"line-height")},bt(Sr,a)),s=function(){var l=parseFloat(Qr(n,"line-height")),v=parseFloat(Qr(n,"font-size"));return String(l/v)};return i.getOrThunk(s)}).getOr("")},v_=function(e,n){e.formatter.toggle("lineheight",{value:String(n)}),e.nodeChanged()},p8=function(e){if(typeof e!="string"){var n=Tt.extend({paste:e.paste,data:{paste:e.paste}},e);return{content:e.content,details:n}}return{content:e,details:{}}},b8=function(e,n){var a=p8(n);q5(e,a.content,a.details)},G0=Tt.each,y8=Tt.map,d_=Tt.inArray,m_=function(){function e(n){this.commands={state:{},exec:{},value:{}},this.editor=n,this.setupCommands(n)}return e.prototype.execCommand=function(n,a,i,s){var l,v=!1,m=this;if(!m.editor.removed){if(n.toLowerCase()!=="mcefocus"&&(!/^(mceAddUndoLevel|mceEndUndoLevel|mceBeginUndoLevel|mceRepaint)$/.test(n)&&(!s||!s.skip_focus)?m.editor.focus():IT(m.editor)),s=m.editor.fire("BeforeExecCommand",{command:n,ui:a,value:i}),s.isDefaultPrevented())return!1;var g=n.toLowerCase();if(l=m.commands.exec[g])return l(g,a,i),m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;if(G0(this.editor.plugins,function(E){if(E.execCommand&&E.execCommand(n,a,i))return m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),v=!0,!1}),v)return v;if(m.editor.theme&&m.editor.theme.execCommand&&m.editor.theme.execCommand(n,a,i))return m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0;try{v=m.editor.getDoc().execCommand(n,a,i)}catch(E){}return v?(m.editor.fire("ExecCommand",{command:n,ui:a,value:i}),!0):!1}},e.prototype.queryCommandState=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.state[n])return a(n);try{return this.editor.getDoc().queryCommandState(n)}catch(i){}return!1}},e.prototype.queryCommandValue=function(n){var a;if(!(this.editor.quirks.isHidden()||this.editor.removed)){if(n=n.toLowerCase(),a=this.commands.value[n])return a(n);try{return this.editor.getDoc().queryCommandValue(n)}catch(i){}}},e.prototype.addCommands=function(n,a){a===void 0&&(a="exec");var i=this;G0(n,function(s,l){G0(l.toLowerCase().split(","),function(v){i.commands[a][v]=s})})},e.prototype.addCommand=function(n,a,i){var s=this;n=n.toLowerCase(),this.commands.exec[n]=function(l,v,m,g){return a.call(i||s.editor,v,m,g)}},e.prototype.queryCommandSupported=function(n){if(n=n.toLowerCase(),this.commands.exec[n])return!0;try{return this.editor.getDoc().queryCommandSupported(n)}catch(a){}return!1},e.prototype.addQueryStateHandler=function(n,a,i){var s=this;n=n.toLowerCase(),this.commands.state[n]=function(){return a.call(i||s.editor)}},e.prototype.addQueryValueHandler=function(n,a,i){var s=this;n=n.toLowerCase(),this.commands.value[n]=function(){return a.call(i||s.editor)}},e.prototype.hasCustomCommand=function(n){return n=n.toLowerCase(),!!this.commands.exec[n]},e.prototype.execNativeCommand=function(n,a,i){return a===void 0&&(a=!1),i===void 0&&(i=null),this.editor.getDoc().execCommand(n,a,i)},e.prototype.isFormatMatch=function(n){return this.editor.formatter.match(n)},e.prototype.toggleFormat=function(n,a){this.editor.formatter.toggle(n,a),this.editor.nodeChanged()},e.prototype.storeSelection=function(n){this.selectionBookmark=this.editor.selection.getBookmark(n)},e.prototype.restoreSelection=function(){this.editor.selection.moveToBookmark(this.selectionBookmark)},e.prototype.setupCommands=function(n){var a=this;this.addCommands({"mceResetDesignMode,mceBeginUndoLevel":Ze,"mceEndUndoLevel,mceAddUndoLevel":function(){n.undoManager.add()},mceFocus:function(s,l,v){YT(n,v)},"Cut,Copy,Paste":function(s){var l=n.getDoc(),v;try{a.execNativeCommand(s)}catch(g){v=!0}if(s==="paste"&&!l.queryCommandEnabled(s)&&(v=!0),v||!l.queryCommandSupported(s)){var m=n.translate("Your browser doesn't support direct access to the clipboard. Please use the Ctrl+X/C/V keyboard shortcuts instead.");an.mac&&(m=m.replace(/Ctrl\+/g,"⌘+")),n.notificationManager.open({text:m,type:"error"})}},unlink:function(){if(n.selection.isCollapsed()){var s=n.dom.getParent(n.selection.getStart(),"a");s&&n.dom.remove(s,!0);return}n.formatter.remove("link")},"JustifyLeft,JustifyCenter,JustifyRight,JustifyFull,JustifyNone":function(s){var l=s.substring(7);l==="full"&&(l="justify"),G0("left,center,right,justify".split(","),function(v){l!==v&&n.formatter.remove("align"+v)}),l!=="none"&&a.toggleFormat("align"+l)},"InsertUnorderedList,InsertOrderedList":function(s){var l;a.execNativeCommand(s);var v=n.dom.getParent(n.selection.getNode(),"ol,ul");v&&(l=v.parentNode,/^(H[1-6]|P|ADDRESS|PRE)$/.test(l.nodeName)&&(a.storeSelection(),n.dom.split(l,v),a.restoreSelection()))},"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(s){a.toggleFormat(s)},"ForeColor,HiliteColor":function(s,l,v){a.toggleFormat(s,{value:v})},FontName:function(s,l,v){v8(n,v)},FontSize:function(s,l,v){m8(n,v)},LineHeight:function(s,l,v){v_(n,v)},Lang:function(s,l,v){a.toggleFormat(s,{value:v.code,customValue:v.customCode})},RemoveFormat:function(s){n.formatter.remove(s)},mceBlockQuote:function(){a.toggleFormat("blockquote")},FormatBlock:function(s,l,v){return a.toggleFormat(v||"p")},mceCleanup:function(){var s=n.selection.getBookmark();n.setContent(n.getContent()),n.selection.moveToBookmark(s)},mceRemoveNode:function(s,l,v){var m=v||n.selection.getNode();m!==n.getBody()&&(a.storeSelection(),n.dom.remove(m,!0),a.restoreSelection())},mceSelectNodeDepth:function(s,l,v){var m=0;n.dom.getParent(n.selection.getNode(),function(g){if(g.nodeType===1&&m++===v)return n.selection.select(g),!1},n.getBody())},mceSelectNode:function(s,l,v){n.selection.select(v)},mceInsertContent:function(s,l,v){b8(n,v)},mceInsertRawHTML:function(s,l,v){n.selection.setContent("tiny_mce_marker");var m=n.getContent();n.setContent(m.replace(/tiny_mce_marker/g,function(){return v}))},mceInsertNewLine:function(s,l,v){yS(n,v)},mceToggleFormat:function(s,l,v){a.toggleFormat(v)},mceSetContent:function(s,l,v){n.setContent(v)},"Indent,Outdent":function(s){WO(n,s)},mceRepaint:Ze,InsertHorizontalRule:function(){n.execCommand("mceInsertContent",!1,"<hr />")},mceToggleVisualAid:function(){n.hasVisual=!n.hasVisual,n.addVisual()},mceReplaceContent:function(s,l,v){n.execCommand("mceInsertContent",!1,v.replace(/\{\$selection\}/g,n.selection.getContent({format:"text"})))},mceInsertLink:function(s,l,v){typeof v=="string"&&(v={href:v});var m=n.dom.getParent(n.selection.getNode(),"a");v.href=v.href.replace(/ /g,"%20"),(!m||!v.href)&&n.formatter.remove("link"),v.href&&n.formatter.apply("link",v,m)},selectAll:function(){var s=n.dom.getParent(n.selection.getStart(),ul);if(s){var l=n.dom.createRng();l.selectNodeContents(s),n.selection.setRng(l)}},mceNewDocument:function(){n.setContent("")},InsertLineBreak:function(s,l,v){return dd(n,v),!0}});var i=function(s){return function(){var l=n.selection,v=l.isCollapsed()?[n.dom.getParent(l.getNode(),n.dom.isBlock)]:l.getSelectedBlocks(),m=y8(v,function(g){return!!n.formatter.matchNode(g,s)});return d_(m,!0)!==-1}};a.addCommands({JustifyLeft:i("alignleft"),JustifyCenter:i("aligncenter"),JustifyRight:i("alignright"),JustifyFull:i("alignjustify"),"Bold,Italic,Underline,Strikethrough,Superscript,Subscript":function(s){return a.isFormatMatch(s)},mceBlockQuote:function(){return a.isFormatMatch("blockquote")},Outdent:function(){return HO(n)},"InsertUnorderedList,InsertOrderedList":function(s){var l=n.dom.getParent(n.selection.getNode(),"ul,ol");return l&&(s==="insertunorderedlist"&&l.tagName==="UL"||s==="insertorderedlist"&&l.tagName==="OL")}},"state"),a.addCommands({Undo:function(){n.undoManager.undo()},Redo:function(){n.undoManager.redo()}}),a.addQueryValueHandler("FontName",function(){return d8(n)},this),a.addQueryValueHandler("FontSize",function(){return g8(n)},this),a.addQueryValueHandler("LineHeight",function(){return h8(n)},this)},e}(),vv="data-mce-contenteditable",g_=function(e,n,a){Ew(e,n)&&a===!1?Zk(e,n):a&&gm(e,n)},K0=function(e,n,a){try{e.getDoc().execCommand(n,!1,String(a))}catch(i){}},X0=function(e,n){e.dom.contentEditable=n?"true":"false"},w8=function(e){vt(zi(e,'*[contenteditable="true"]'),function(n){k(n,vv,"true"),X0(n,!1)})},C8=function(e){vt(zi(e,"*["+vv+'="true"]'),function(n){Ot(n,vv),X0(n,!0)})},h_=function(e){X.from(e.selection.getNode()).each(function(n){n.removeAttribute("data-mce-selected")})},x8=function(e){e.selection.setRng(e.selection.getRng())},S8=function(e,n){var a=w.fromDom(e.getBody());g_(a,"mce-content-readonly",n),n?(e.selection.controlSelection.hideResizeRect(),e._selectionOverrides.hideFakeCaret(),h_(e),e.readonly=!0,X0(a,!1),w8(a)):(e.readonly=!1,X0(a,!0),C8(a),K0(e,"StyleWithCSS",!1),K0(e,"enableInlineTableEditing",!1),K0(e,"enableObjectResizing",!1),XT(e)&&e.focus(),x8(e),e.nodeChanged())},dv=function(e){return e.readonly},p_=function(e){e.parser.addAttributeFilter("contenteditable",function(n){dv(e)&&vt(n,function(a){a.attr(vv,a.attr("contenteditable")),a.attr("contenteditable","false")})}),e.serializer.addAttributeFilter(vv,function(n){dv(e)&&vt(n,function(a){a.attr("contenteditable",a.attr(vv))})}),e.serializer.addTempAttr(vv)},k8=function(e){e.serializer?p_(e):e.on("PreInit",function(){p_(e)})},b_=function(e){return e.type==="click"},E8=function(e,n){var a=function(i){return Sr(i,w.fromDom(e.getBody()))};return Vo(n,"a",a).bind(function(i){return fe(i,"href")})},T8=function(e,n){if(b_(n)&&!kr.metaKeyPressed(n)){var a=w.fromDom(n.target);E8(e,a).each(function(i){if(n.preventDefault(),/^#/.test(i)){var s=e.dom.select(i+',[name="'+ut(i,"#")+'"]');s.length&&e.selection.scrollIntoView(s[0],!0)}else window.open(i,"_blank","rel=noopener noreferrer,menubar=yes,toolbar=yes,location=yes,status=yes,resizable=yes,scrollbars=yes")})}},A8=function(e){e.on("ShowCaret",function(n){dv(e)&&n.preventDefault()}),e.on("ObjectSelected",function(n){dv(e)&&n.preventDefault()})},y_=Tt.makeMap("focus blur focusin focusout click dblclick mousedown mouseup mousemove mouseover beforepaste paste cut copy selectionchange mouseout mouseenter mouseleave wheel keydown keypress keyup input beforeinput contextmenu dragstart dragend dragover draggesture dragdrop drop drag submit compositionstart compositionend compositionupdate touchstart touchmove touchend touchcancel"," "),Y0=function(){function e(n){this.bindings={},this.settings=n||{},this.scope=this.settings.scope||this,this.toggleEvent=this.settings.toggleEvent||Kt}return e.isNative=function(n){return!!y_[n.toLowerCase()]},e.prototype.fire=function(n,a){var i=n.toLowerCase(),s=qt(i,a||{},this.scope);this.settings.beforeFire&&this.settings.beforeFire(s);var l=this.bindings[i];if(l)for(var v=0,m=l.length;v<m;v++){var g=l[v];if(!g.removed){if(g.once&&this.off(i,g.func),s.isImmediatePropagationStopped())return s;if(g.func.call(this.scope,s)===!1)return s.preventDefault(),s}}return s},e.prototype.on=function(n,a,i,s){if(a===!1&&(a=Kt),a){var l={func:a,removed:!1};s&&Tt.extend(l,s);for(var v=n.toLowerCase().split(" "),m=v.length;m--;){var g=v[m],E=this.bindings[g];E||(E=[],this.toggleEvent(g,!0)),i?E=fo([l],E,!0):E=fo(fo([],E,!0),[l],!1),this.bindings[g]=E}}return this},e.prototype.off=function(n,a){var i=this;if(n)for(var s=n.toLowerCase().split(" "),l=s.length;l--;){var v=s[l],m=this.bindings[v];if(!v)return vn(this.bindings,function(E,N){i.toggleEvent(N,!1),delete i.bindings[N]}),this;if(m){if(!a)m.length=0;else{var g=jn(m,function(E){return E.func===a});m=g.fail,this.bindings[v]=m,vt(g.pass,function(E){E.removed=!0})}m.length||(this.toggleEvent(n,!1),delete this.bindings[v])}}else vn(this.bindings,function(E,N){i.toggleEvent(N,!1)}),this.bindings={};return this},e.prototype.once=function(n,a,i){return this.on(n,a,i,{once:!0})},e.prototype.has=function(n){return n=n.toLowerCase(),!(!this.bindings[n]||this.bindings[n].length===0)},e}(),pp=function(e){return e._eventDispatcher||(e._eventDispatcher=new Y0({scope:e,toggleEvent:function(n,a){Y0.isNative(n)&&e.toggleNativeEvent&&e.toggleNativeEvent(n,a)}})),e._eventDispatcher},Z0={fire:function(e,n,a){var i=this;if(i.removed&&e!=="remove"&&e!=="detach")return n;var s=pp(i).fire(e,n);if(a!==!1&&i.parent)for(var l=i.parent();l&&!s.isPropagationStopped();)l.fire(e,s,!1),l=l.parent();return s},on:function(e,n,a){return pp(this).on(e,n,a)},off:function(e,n){return pp(this).off(e,n)},once:function(e,n){return pp(this).once(e,n)},hasEventListeners:function(e){return pp(this).has(e)}},J0=uo.DOM,hd,Q0=function(e,n){if(n==="selectionchange")return e.getDoc();if(!e.inline&&/^mouse|touch|click|contextmenu|drop|dragover|dragend/.test(n))return e.getDoc().documentElement;var a=Gw(e);return a?(e.eventRoot||(e.eventRoot=J0.select(a)[0]),e.eventRoot):e.getBody()},O8=function(e){return!e.hidden&&!dv(e)},w_=function(e,n,a){O8(e)?e.fire(n,a):dv(e)&&T8(e,a)},C_=function(e,n){var a;if(e.delegates||(e.delegates={}),!(e.delegates[n]||e.removed)){var i=Q0(e,n);if(Gw(e)){if(hd||(hd={},e.editorManager.on("removeEditor",function(){e.editorManager.activeEditor||hd&&(vn(hd,function(s,l){e.dom.unbind(Q0(e,l))}),hd=null)})),hd[n])return;a=function(s){for(var l=s.target,v=e.editorManager.get(),m=v.length;m--;){var g=v[m].getBody();(g===l||J0.isChildOf(l,g))&&w_(v[m],n,s)}},hd[n]=a,J0.bind(i,n,a)}else a=function(s){w_(e,n,s)},J0.bind(i,n,a),e.delegates[n]=a}},x_=Gn(Gn({},Z0),{bindPendingEventDelegates:function(){var e=this;Tt.each(e._pendingNativeEvents,function(n){C_(e,n)})},toggleNativeEvent:function(e,n){var a=this;e==="focus"||e==="blur"||a.removed||(n?a.initialized?C_(a,e):a._pendingNativeEvents?a._pendingNativeEvents.push(e):a._pendingNativeEvents=[e]:a.initialized&&(a.dom.unbind(Q0(a,e),e,a.delegates[e]),delete a.delegates[e]))},unbindAllNativeEvents:function(){var e=this,n=e.getBody(),a=e.dom;e.delegates&&(vn(e.delegates,function(i,s){e.dom.unbind(Q0(e,s),s,i)}),delete e.delegates),!e.inline&&n&&a&&(n.onload=null,a.unbind(e.getWin()),a.unbind(e.getDoc())),a&&(a.unbind(n),a.unbind(e.getContainer()))}}),D8=["design","readonly"],zS=function(e,n,a,i){var s=a[n.get()],l=a[i];try{l.activate()}catch(v){return}s.deactivate(),s.editorReadOnly!==l.editorReadOnly&&S8(e,l.editorReadOnly),n.set(i),T2(e,i)},S_=function(e,n,a,i){if(i!==a.get()){if(!xr(n,i))throw new Error("Editor mode '"+i+"' is invalid");e.initialized?zS(e,a,n,i):e.on("init",function(){return zS(e,a,n,i)})}},k_=function(e,n,a){var i;if(We(D8,n))throw new Error("Cannot override default mode "+n);return Gn(Gn({},e),(i={},i[n]=Gn(Gn({},a),{deactivate:function(){try{a.deactivate()}catch(s){}}}),i))},_8=function(e){var n=xu("design"),a=xu({design:{activate:Ze,deactivate:Ze,editorReadOnly:!1},readonly:{activate:Ze,deactivate:Ze,editorReadOnly:!0}});return k8(e),A8(e),{isReadOnly:function(){return dv(e)},set:function(i){return S_(e,a.get(),n,i)},get:function(){return n.get()},register:function(i,s){a.set(k_(a.get(),i,s))}}},ey=Tt.each,ty=Tt.explode,M8={f1:112,f2:113,f3:114,f4:115,f5:116,f6:117,f7:118,f8:119,f9:120,f10:121,f11:122,f12:123},E_=Tt.makeMap("alt,ctrl,shift,meta,access"),B8=function(e){var n,a={};ey(ty(e.toLowerCase(),"+"),function(s){s in E_?a[s]=!0:/^[0-9]{2,}$/.test(s)?a.keyCode=parseInt(s,10):(a.charCode=s.charCodeAt(0),a.keyCode=M8[s]||s.toUpperCase().charCodeAt(0))});var i=[a.keyCode];for(n in E_)a[n]?i.push(n):a[n]=!1;return a.id=i.join(","),a.access&&(a.alt=!0,an.mac?a.ctrl=!0:a.shift=!0),a.meta&&(an.mac?a.meta=!0:(a.ctrl=!0,a.meta=!1)),a},ny=function(){function e(n){this.shortcuts={},this.pendingPatterns=[],this.editor=n;var a=this;n.on("keyup keypress keydown",function(i){(a.hasModifier(i)||a.isFunctionKey(i))&&!i.isDefaultPrevented()&&(ey(a.shortcuts,function(s){if(a.matchShortcut(i,s))return a.pendingPatterns=s.subpatterns.slice(0),i.type==="keydown"&&a.executeShortcutAction(s),!0}),a.matchShortcut(i,a.pendingPatterns[0])&&(a.pendingPatterns.length===1&&i.type==="keydown"&&a.executeShortcutAction(a.pendingPatterns[0]),a.pendingPatterns.shift()))})}return e.prototype.add=function(n,a,i,s){var l=this,v=l.normalizeCommandFunc(i);return ey(ty(Tt.trim(n)),function(m){var g=l.createShortcut(m,a,v,s);l.shortcuts[g.id]=g}),!0},e.prototype.remove=function(n){var a=this.createShortcut(n);return this.shortcuts[a.id]?(delete this.shortcuts[a.id],!0):!1},e.prototype.normalizeCommandFunc=function(n){var a=this,i=n;return typeof i=="string"?function(){a.editor.execCommand(i,!1,null)}:Tt.isArray(i)?function(){a.editor.execCommand(i[0],i[1],i[2])}:i},e.prototype.createShortcut=function(n,a,i,s){var l=Tt.map(ty(n,">"),B8);return l[l.length-1]=Tt.extend(l[l.length-1],{func:i,scope:s||this.editor}),Tt.extend(l[0],{desc:this.editor.translate(a),subpatterns:l.slice(1)})},e.prototype.hasModifier=function(n){return n.altKey||n.ctrlKey||n.metaKey},e.prototype.isFunctionKey=function(n){return n.type==="keydown"&&n.keyCode>=112&&n.keyCode<=123},e.prototype.matchShortcut=function(n,a){return!a||a.ctrl!==n.ctrlKey||a.meta!==n.metaKey||a.alt!==n.altKey||a.shift!==n.shiftKey?!1:n.keyCode===a.keyCode||n.charCode&&n.charCode===a.charCode?(n.preventDefault(),!0):!1},e.prototype.executeShortcutAction=function(n){return n.func?n.func.call(n.scope):null},e}(),P8=function(){var e={},n={},a={},i={},s={},l={},v={},m=function(E,N){return function(F,$){return E[F.toLowerCase()]=Gn(Gn({},$),{type:N})}},g=function(E,N){return i[E.toLowerCase()]=N};return{addButton:m(e,"button"),addGroupToolbarButton:m(e,"grouptoolbarbutton"),addToggleButton:m(e,"togglebutton"),addMenuButton:m(e,"menubutton"),addSplitButton:m(e,"splitbutton"),addMenuItem:m(n,"menuitem"),addNestedMenuItem:m(n,"nestedmenuitem"),addToggleMenuItem:m(n,"togglemenuitem"),addAutocompleter:m(a,"autocompleter"),addContextMenu:m(s,"contextmenu"),addContextToolbar:m(l,"contexttoolbar"),addContextForm:m(l,"contextform"),addSidebar:m(v,"sidebar"),addIcon:g,getAll:function(){return{buttons:e,menuItems:n,icons:i,popups:a,contextMenus:s,contextToolbars:l,sidebars:v}}}},$S=function(){var e=P8();return{addAutocompleter:e.addAutocompleter,addButton:e.addButton,addContextForm:e.addContextForm,addContextMenu:e.addContextMenu,addContextToolbar:e.addContextToolbar,addIcon:e.addIcon,addMenuButton:e.addMenuButton,addMenuItem:e.addMenuItem,addNestedMenuItem:e.addNestedMenuItem,addSidebar:e.addSidebar,addSplitButton:e.addSplitButton,addToggleButton:e.addToggleButton,addGroupToolbarButton:e.addGroupToolbarButton,addToggleMenuItem:e.addToggleMenuItem,getAll:e.getAll}},pd=uo.DOM,T_=Tt.extend,R8=Tt.each,LS=Tt.resolve,N8=an.ie,ry=function(){function e(n,a,i){var s=this;this.plugins={},this.contentCSS=[],this.contentStyles=[],this.loadedCSS={},this.isNotDirty=!1,this.editorManager=i,this.documentBaseUrl=i.documentBaseURL,T_(this,x_),this.settings=E4(this,n,this.documentBaseUrl,i.defaultSettings,a),this.settings.suffix&&(i.suffix=this.settings.suffix),this.suffix=i.suffix,this.settings.base_url&&i._setBaseUrl(this.settings.base_url),this.baseUri=i.baseURI,this.settings.referrer_policy&&(Qc.ScriptLoader._setReferrerPolicy(this.settings.referrer_policy),uo.DOM.styleSheetLoader._setReferrerPolicy(this.settings.referrer_policy)),Lu.languageLoad=this.settings.language_load,Lu.baseURL=i.baseURL,this.id=n,this.setDirty(!1),this.documentBaseURI=new tv(this.settings.document_base_url,{base_uri:this.baseUri}),this.baseURI=this.baseUri,this.inline=!!this.settings.inline,this.shortcuts=new ny(this),this.editorCommands=new m_(this),this.settings.cache_suffix&&(an.cacheSuffix=this.settings.cache_suffix.replace(/^[\?\&]+/,"")),this.ui={registry:$S(),styleSheetLoader:void 0,show:Ze,hide:Ze,enable:Ze,disable:Ze,isDisabled:Kt};var l=this,v=_8(l);this.mode=v,this.setMode=v.set,i.fire("SetupEditor",{editor:this}),this.execCallback("setup",this),this.$=Vr.overrideDefaults(function(){return{context:s.inline?s.getBody():s.getDoc(),element:s.getBody()}})}return e.prototype.render=function(){n8(this)},e.prototype.focus=function(n){this.execCommand("mceFocus",!1,n)},e.prototype.hasFocus=function(){return Oc(this)},e.prototype.execCallback=function(n){for(var a=[],i=1;i<arguments.length;i++)a[i-1]=arguments[i];var s=this,l=s.settings[n],v;if(l)return s.callbackLookup&&(v=s.callbackLookup[n])&&(l=v.func,v=v.scope),typeof l=="string"&&(v=l.replace(/\.\w+$/,""),v=v?LS(v):0,l=LS(l),s.callbackLookup=s.callbackLookup||{},s.callbackLookup[n]={func:l,scope:v}),l.apply(v||s,a)},e.prototype.translate=function(n){return Su.translate(n)},e.prototype.getParam=function(n,a,i){return LF(this,n,a,i)},e.prototype.hasPlugin=function(n,a){var i=We(Yw(this).split(/[ ,]/),n);return i?a?Ql.get(n)!==void 0:!0:!1},e.prototype.nodeChanged=function(n){this._nodeChangeDispatcher.nodeChanged(n)},e.prototype.addCommand=function(n,a,i){this.editorCommands.addCommand(n,a,i)},e.prototype.addQueryStateHandler=function(n,a,i){this.editorCommands.addQueryStateHandler(n,a,i)},e.prototype.addQueryValueHandler=function(n,a,i){this.editorCommands.addQueryValueHandler(n,a,i)},e.prototype.addShortcut=function(n,a,i,s){this.shortcuts.add(n,a,i,s)},e.prototype.execCommand=function(n,a,i,s){return this.editorCommands.execCommand(n,a,i,s)},e.prototype.queryCommandState=function(n){return this.editorCommands.queryCommandState(n)},e.prototype.queryCommandValue=function(n){return this.editorCommands.queryCommandValue(n)},e.prototype.queryCommandSupported=function(n){return this.editorCommands.queryCommandSupported(n)},e.prototype.show=function(){var n=this;n.hidden&&(n.hidden=!1,n.inline?n.getBody().contentEditable="true":(pd.show(n.getContainer()),pd.hide(n.id)),n.load(),n.fire("show"))},e.prototype.hide=function(){var n=this,a=n.getDoc();n.hidden||(N8&&a&&!n.inline&&a.execCommand("SelectAll"),n.save(),n.inline?(n.getBody().contentEditable="false",n===n.editorManager.focusedEditor&&(n.editorManager.focusedEditor=null)):(pd.hide(n.getContainer()),pd.setStyle(n.id,"display",n.orgDisplay)),n.hidden=!0,n.fire("hide"))},e.prototype.isHidden=function(){return!!this.hidden},e.prototype.setProgressState=function(n,a){this.fire("ProgressState",{state:n,time:a})},e.prototype.load=function(n){var a=this,i=a.getElement(),s;if(a.removed)return"";if(i){n=n||{},n.load=!0;var l=xs(i)?i.value:i.innerHTML;return s=a.setContent(l,n),n.element=i,n.no_events||a.fire("LoadContent",n),n.element=i=null,s}},e.prototype.save=function(n){var a=this,i=a.getElement(),s,l;if(!(!i||!a.initialized||a.removed))return n=n||{},n.save=!0,n.element=i,s=n.content=a.getContent(n),n.no_events||a.fire("SaveContent",n),n.format==="raw"&&a.fire("RawSaveContent",n),s=n.content,xs(i)?i.value=s:((n.is_removing||!a.inline)&&(i.innerHTML=s),(l=pd.getParent(a.id,"form"))&&R8(l.elements,function(v){if(v.name===a.id)return v.value=s,!1})),n.element=i=null,n.set_dirty!==!1&&a.setDirty(!1),s},e.prototype.setContent=function(n,a){return Qb(this,n,a)},e.prototype.getContent=function(n){return Jb(this,n)},e.prototype.insertContent=function(n,a){a&&(n=T_({content:n},a)),this.execCommand("mceInsertContent",!1,n)},e.prototype.resetContent=function(n){n===void 0?Qb(this,this.startContent,{format:"raw"}):Qb(this,n),this.undoManager.reset(),this.setDirty(!1),this.nodeChanged()},e.prototype.isDirty=function(){return!this.isNotDirty},e.prototype.setDirty=function(n){var a=!this.isNotDirty;this.isNotDirty=!n,n&&n!==a&&this.fire("dirty")},e.prototype.getContainer=function(){var n=this;return n.container||(n.container=pd.get(n.editorContainer||n.id+"_parent")),n.container},e.prototype.getContentAreaContainer=function(){return this.contentAreaContainer},e.prototype.getElement=function(){return this.targetElm||(this.targetElm=pd.get(this.id)),this.targetElm},e.prototype.getWin=function(){var n=this,a;return n.contentWindow||(a=n.iframeElement,a&&(n.contentWindow=a.contentWindow)),n.contentWindow},e.prototype.getDoc=function(){var n=this,a;return n.contentDocument||(a=n.getWin(),a&&(n.contentDocument=a.document)),n.contentDocument},e.prototype.getBody=function(){var n=this.getDoc();return this.bodyElement||(n?n.body:null)},e.prototype.convertURL=function(n,a,i){var s=this,l=s.settings;return l.urlconverter_callback?s.execCallback("urlconverter_callback",n,i,!0,a):!l.convert_urls||i&&i.nodeName==="LINK"||n.indexOf("file:")===0||n.length===0?n:l.relative_urls?s.documentBaseURI.toRelative(n):(n=s.documentBaseURI.toAbsolute(n,l.remove_script_host),n)},e.prototype.addVisual=function(n){r8(this,n)},e.prototype.remove=function(){SF(this)},e.prototype.destroy=function(n){m4(this,n)},e.prototype.uploadImages=function(n){return this.editorUpload.uploadImages(n)},e.prototype._scanForImages=function(){return this.editorUpload.scanForImages()},e.prototype.addButton=function(){throw new Error("editor.addButton has been removed in tinymce 5x, use editor.ui.registry.addButton or editor.ui.registry.addToggleButton or editor.ui.registry.addSplitButton instead")},e.prototype.addSidebar=function(){throw new Error("editor.addSidebar has been removed in tinymce 5x, use editor.ui.registry.addSidebar instead")},e.prototype.addMenuItem=function(){throw new Error("editor.addMenuItem has been removed in tinymce 5x, use editor.ui.registry.addMenuItem instead")},e.prototype.addContextToolbar=function(){throw new Error("editor.addContextToolbar has been removed in tinymce 5x, use editor.ui.registry.addContextToolbar instead")},e}(),wl=uo.DOM,F8=Tt.explode,Pc=Tt.each,qu=Tt.extend,bd=0,A_=!1,ay,mv=[],Gu=[],I8=function(e){return e!=="length"},O_=function(e){var n=e.type;Pc(gv.get(),function(a){switch(n){case"scroll":a.fire("ScrollWindow",e);break;case"resize":a.fire("ResizeWindow",e);break}})},HS=function(e){e!==A_&&(e?Vr(window).on("resize scroll",O_):Vr(window).off("resize scroll",O_),A_=e)},yd=function(e){var n=Gu;delete mv[e.id];for(var a=0;a<mv.length;a++)if(mv[a]===e){mv.splice(a,1);break}return Gu=Ce(Gu,function(i){return e!==i}),gv.activeEditor===e&&(gv.activeEditor=Gu.length>0?Gu[0]:null),gv.focusedEditor===e&&(gv.focusedEditor=null),n.length!==Gu.length},z8=function(e){return e&&e.initialized&&!(e.getContainer()||e.getBody()).parentNode&&(yd(e),e.unbindAllNativeEvents(),e.destroy(!0),e.removed=!0,e=null),e},$8=document.compatMode!=="CSS1Compat",gv=Gn(Gn({},Z0),{baseURI:null,baseURL:null,defaultSettings:{},documentBaseURL:null,suffix:null,$:Vr,majorVersion:"5",minorVersion:"10.9",releaseDate:"2023-11-15",editors:mv,i18n:Su,activeEditor:null,focusedEditor:null,settings:{},setup:function(){var e=this,n,a,i="";a=tv.getDocumentBaseUrl(document.location),/^[^:]+:\/\/\/?[^\/]+\//.test(a)&&(a=a.replace(/[\?#].*$/,"").replace(/[\/\\][^\/]+$/,""),/[\/\\]$/.test(a)||(a+="/"));var s=window.tinymce||window.tinyMCEPreInit;if(s)n=s.base||s.baseURL,i=s.suffix;else{for(var l=document.getElementsByTagName("script"),v=0;v<l.length;v++){var m=l[v].src||"";if(m!==""){var g=m.substring(m.lastIndexOf("/"));if(/tinymce(\.full|\.jquery|)(\.min|\.dev|)\.js/.test(m)){g.indexOf(".min")!==-1&&(i=".min"),n=m.substring(0,m.lastIndexOf("/"));break}}}if(!n&&document.currentScript){var m=document.currentScript.src;m.indexOf(".min")!==-1&&(i=".min"),n=m.substring(0,m.lastIndexOf("/"))}}e.baseURL=new tv(a).toAbsolute(n),e.documentBaseURL=a,e.baseURI=new tv(e.baseURL),e.suffix=i,qT(e)},overrideDefaults:function(e){var n=e.base_url;n&&this._setBaseUrl(n);var a=e.suffix;e.suffix&&(this.suffix=a),this.defaultSettings=e;var i=e.plugin_base_urls;i!==void 0&&vn(i,function(s,l){Lu.PluginManager.urls[l]=s})},init:function(e){var n=this,a,i=Tt.makeMap("area base basefont br col frame hr img input isindex link meta param embed source wbr track colgroup option table tbody tfoot thead tr th td script noscript style textarea video audio iframe object menu"," "),s=function(F,$){return F.inline&&$.tagName.toLowerCase()in i},l=function(F){var $=F.id;return $||($=Ar(F,"name").filter(function(ee){return!wl.get(ee)}).getOrThunk(wl.uniqueId),F.setAttribute("id",$)),$},v=function(F){var $=e[F];if($)return $.apply(n,[])},m=function(F,$){return $.constructor===RegExp?$.test(F.className):wl.hasClass(F,$)},g=function(F){var $=[];if(an.browser.isIE()&&an.browser.version.major<11)return u0("TinyMCE does not support the browser you are using. For a list of supported browsers please see: https://www.tinymce.com/docs/get-started/system-requirements/"),[];if($8)return u0("Failed to initialize the editor as the document is not in standards mode. TinyMCE requires standards mode."),[];if(F.types)return Pc(F.types,function(ne){$=$.concat(wl.select(ne.selector))}),$;if(F.selector)return wl.select(F.selector);if(F.target)return[F.target];switch(F.mode){case"exact":var ee=F.elements||"";ee.length>0&&Pc(F8(ee),function(ne){var re=wl.get(ne);re?$.push(re):Pc(document.forms,function(ie){Pc(ie.elements,function(we){we.name===ne&&(ne="mce_editor_"+bd++,wl.setAttrib(we,"id",ne),$.push(we))})})});break;case"textareas":case"specific_textareas":Pc(wl.select("textarea"),function(ne){F.editor_deselector&&m(ne,F.editor_deselector)||(!F.editor_selector||m(ne,F.editor_selector))&&$.push(ne)});break}return $},E=function(F){a=F},N=function(){var F=0,$=[],ee,ne=function(re,ie,we){var ge=new ry(re,ie,n);$.push(ge),ge.on("init",function(){++F===ee.length&&E($)}),ge.targetElm=ge.targetElm||we,ge.render()};if(wl.unbind(window,"ready",N),v("onpageload"),ee=Vr.unique(g(e)),e.types){Pc(e.types,function(re){Tt.each(ee,function(ie){return wl.is(ie,re.selector)?(ne(l(ie),qu({},e,re),ie),!1):!0})});return}Tt.each(ee,function(re){z8(n.get(re.id))}),ee=Tt.grep(ee,function(re){return!n.get(re.id)}),ee.length===0?E([]):Pc(ee,function(re){s(e,re)?u0("Could not initialize inline editor on invalid inline target element",re):ne(l(re),e,re)})};return n.settings=e,wl.bind(window,"ready",N),new Di(function(F){a?F(a):E=function($){F($)}})},get:function(e){return arguments.length===0?Gu.slice(0):Ae(e)?Hn(Gu,function(n){return n.id===e}).getOr(null):je(e)&&Gu[e]?Gu[e]:null},add:function(e){var n=this,a=mv[e.id];return a===e||(n.get(e.id)===null&&(I8(e.id)&&(mv[e.id]=e),mv.push(e),Gu.push(e)),HS(!0),n.activeEditor=e,n.fire("AddEditor",{editor:e}),ay||(ay=function(i){var s=n.fire("BeforeUnload");if(s.returnValue)return i.preventDefault(),i.returnValue=s.returnValue,s.returnValue},window.addEventListener("beforeunload",ay))),e},createEditor:function(e,n){return this.add(new ry(e,n,this))},remove:function(e){var n=this,a,i;if(!e){for(a=Gu.length-1;a>=0;a--)n.remove(Gu[a]);return}if(Ae(e)){Pc(wl.select(e),function(s){i=n.get(s.id),i&&n.remove(i)});return}return i=e,L(n.get(i.id))?null:(yd(i)&&n.fire("RemoveEditor",{editor:i}),Gu.length===0&&window.removeEventListener("beforeunload",ay),i.remove(),HS(Gu.length>0),i)},execCommand:function(e,n,a){var i=this,s=i.get(a);switch(e){case"mceAddEditor":return i.get(a)||new ry(a,i.settings,i).render(),!0;case"mceRemoveEditor":return s&&s.remove(),!0;case"mceToggleEditor":return s?(s.isHidden()?s.show():s.hide(),!0):(i.execCommand("mceAddEditor",!1,a),!0)}return i.activeEditor?i.activeEditor.execCommand(e,n,a):!1},triggerSave:function(){Pc(Gu,function(e){e.save()})},addI18n:function(e,n){Su.add(e,n)},translate:function(e){return Su.translate(e)},setActive:function(e){var n=this.activeEditor;this.activeEditor!==e&&(n&&n.fire("deactivate",{relatedTarget:e}),e.fire("activate",{relatedTarget:n})),this.activeEditor=e},_setBaseUrl:function(e){this.baseURL=new tv(this.documentBaseURL).toAbsolute(e.replace(/\/+$/,"")),this.baseURI=new tv(this.baseURL)}});gv.setup();var Cl=Math.min,xg=Math.max,oy=Math.round,VS=function(e,n,a){var i=n.x,s=n.y,l=e.w,v=e.h,m=n.w,g=n.h,E=(a||"").split("");return E[0]==="b"&&(s+=g),E[1]==="r"&&(i+=m),E[0]==="c"&&(s+=oy(g/2)),E[1]==="c"&&(i+=oy(m/2)),E[3]==="b"&&(s-=v),E[4]==="r"&&(i-=l),E[3]==="c"&&(s-=oy(v/2)),E[4]==="c"&&(i-=oy(l/2)),Sg(i,s,l,v)},L8=function(e,n,a,i){var s,l;for(l=0;l<i.length;l++)if(s=VS(e,n,i[l]),s.x>=a.x&&s.x+s.w<=a.w+a.x&&s.y>=a.y&&s.y+s.h<=a.h+a.y)return i[l];return null},D_=function(e,n,a){return Sg(e.x-n,e.y-a,e.w+n*2,e.h+a*2)},__=function(e,n){var a=xg(e.x,n.x),i=xg(e.y,n.y),s=Cl(e.x+e.w,n.x+n.w),l=Cl(e.y+e.h,n.y+n.h);return s-a<0||l-i<0?null:Sg(a,i,s-a,l-i)},US=function(e,n,a){var i=e.x,s=e.y,l=e.x+e.w,v=e.y+e.h,m=n.x+n.w,g=n.y+n.h,E=xg(0,n.x-i),N=xg(0,n.y-s),F=xg(0,l-m),$=xg(0,v-g);return i+=E,s+=N,a&&(l+=E,v+=N,i-=F,s-=$),l-=F,v-=$,Sg(i,s,l-i,v-s)},Sg=function(e,n,a,i){return{x:e,y:n,w:a,h:i}},H8=function(e){return Sg(e.left,e.top,e.width,e.height)},V8={inflate:D_,relativePosition:VS,findBestRelativePosition:L8,intersect:__,clamp:US,create:Sg,fromClientRect:H8},U8=function(e,n,a){a===void 0&&(a=1e3);var i=!1,s=null,l=function(E){return function(){for(var N=[],F=0;F<arguments.length;F++)N[F]=arguments[F];i||(i=!0,s!==null&&(clearTimeout(s),s=null),E.apply(null,N))}},v=l(e),m=l(n),g=function(){for(var E=[],N=0;N<arguments.length;N++)E[N]=arguments[N];!i&&s===null&&(s=setTimeout(function(){return m.apply(null,E)},a))};return{start:g,resolve:v,reject:m}},W8=function(){var e={},n={},a=function(s,l){var v='Script at URL "'+l+'" failed to load',m='Script at URL "'+l+"\" did not call `tinymce.Resource.add('"+s+"', data)` within 1 second";if(e[s]!==void 0)return e[s];var g=new Di(function(E,N){var F=U8(E,N);n[s]=F.resolve,Qc.ScriptLoader.loadScript(l,function(){return F.start(m)},function(){return F.reject(v)})});return e[s]=g,g},i=function(s,l){n[s]!==void 0&&(n[s](l),delete n[s]),e[s]=Di.resolve(l)};return{load:a,add:i}},M_=W8(),bp=Tt.each,j8=Tt.extend,WS,jS,B_=function(){};B_.extend=WS=function(e){var n=this,a=n.prototype,i=function(){var m,g,E,N=this;if(!jS&&(N.init&&N.init.apply(N,arguments),g=N.Mixins,g))for(m=g.length;m--;)E=g[m],E.init&&E.init.apply(N,arguments)},s=function(){return this},l=function(m,g){return function(){var E=this,N=E._super;E._super=a[m];var F=g.apply(E,arguments);return E._super=N,F}};jS=!0;var v=new n;return jS=!1,e.Mixins&&(bp(e.Mixins,function(m){for(var g in m)g!=="init"&&(e[g]=m[g])}),a.Mixins&&(e.Mixins=a.Mixins.concat(e.Mixins))),e.Methods&&bp(e.Methods.split(","),function(m){e[m]=s}),e.Properties&&bp(e.Properties.split(","),function(m){var g="_"+m;e[m]=function(E){var N=this;return E!==void 0?(N[g]=E,N):N[g]}}),e.Statics&&bp(e.Statics,function(m,g){i[g]=m}),e.Defaults&&a.Defaults&&(e.Defaults=j8({},a.Defaults,e.Defaults)),vn(e,function(m,g){typeof m=="function"&&a[g]?v[g]=l(g,m):v[g]=m}),i.prototype=v,i.constructor=i,i.extend=WS,i};var iy=Math.min,uy=Math.max,hv=Math.round,qS=function(e){var n={},a=0,i=0,s=0,l=function(F,$,ee){var ne,re,ie;ne=0,re=0,ie=0,F=F/255,$=$/255,ee=ee/255;var we=iy(F,iy($,ee)),ge=uy(F,uy($,ee));if(we===ge)return ie=we,{h:0,s:0,v:ie*100};var Je=F===we?$-ee:ee===we?F-$:ee-F;return ne=F===we?3:ee===we?1:5,ne=60*(ne-Je/(ge-we)),re=(ge-we)/ge,ie=ge,{h:hv(ne),s:hv(re*100),v:hv(ie*100)}},v=function(F,$,ee){if(F=(parseInt(F,10)||0)%360,$=parseInt($,10)/100,ee=parseInt(ee,10)/100,$=uy(0,iy($,1)),ee=uy(0,iy(ee,1)),$===0){a=i=s=hv(255*ee);return}var ne=F/60,re=ee*$,ie=re*(1-Math.abs(ne%2-1)),we=ee-re;switch(Math.floor(ne)){case 0:a=re,i=ie,s=0;break;case 1:a=ie,i=re,s=0;break;case 2:a=0,i=re,s=ie;break;case 3:a=0,i=ie,s=re;break;case 4:a=ie,i=0,s=re;break;case 5:a=re,i=0,s=ie;break;default:a=i=s=0}a=hv(255*(a+we)),i=hv(255*(i+we)),s=hv(255*(s+we))},m=function(){var F=function($){return $=parseInt($,10).toString(16),$.length>1?$:"0"+$};return"#"+F(a)+F(i)+F(s)},g=function(){return{r:a,g:i,b:s}},E=function(){return l(a,i,s)},N=function(F){var $;return typeof F=="object"?"r"in F?(a=F.r,i=F.g,s=F.b):"v"in F&&v(F.h,F.s,F.v):($=/rgb\s*\(\s*([0-9]+)\s*,\s*([0-9]+)\s*,\s*([0-9]+)[^\)]*\)/gi.exec(F))?(a=parseInt($[1],10),i=parseInt($[2],10),s=parseInt($[3],10)):($=/#([0-F]{2})([0-F]{2})([0-F]{2})/gi.exec(F))?(a=parseInt($[1],16),i=parseInt($[2],16),s=parseInt($[3],16)):($=/#([0-F])([0-F])([0-F])/gi.exec(F))&&(a=parseInt($[1]+$[1],16),i=parseInt($[2]+$[2],16),s=parseInt($[3]+$[3],16)),a=a<0?0:a>255?255:a,i=i<0?0:i>255?255:i,s=s<0?0:s>255?255:s,n};return e&&N(e),n.toRgb=g,n.toHsv=E,n.toHex=m,n.parse=N,n},P_=function(e){var n=JSON.stringify(e);return Ae(n)?n.replace(/[\u0080-\uFFFF]/g,function(a){var i=a.charCodeAt(0).toString(16);return"\\u"+"0000".substring(i.length)+i}):n},GS={serialize:P_,parse:function(e){try{return JSON.parse(e)}catch(n){}}},q8={callbacks:{},count:0,send:function(e){var n=this,a=uo.DOM,i=e.count!==void 0?e.count:n.count,s="tinymce_jsonp_"+i;n.callbacks[i]=function(l){a.remove(s),delete n.callbacks[i],e.callback(l)},a.add(a.doc.body,"script",{id:s,src:e.url,type:"text/javascript"}),n.count++}},kg=Gn(Gn({},Z0),{send:function(e){var n,a=0,i=function(){!e.async||n.readyState===4||a++>1e4?(e.success&&a<1e4&&n.status===200?e.success.call(e.success_scope,""+n.responseText,n,e):e.error&&e.error.call(e.error_scope,a>1e4?"TIMED_OUT":"GENERAL",n,e),n=null):Gi.setTimeout(i,10)};if(e.scope=e.scope||this,e.success_scope=e.success_scope||e.scope,e.error_scope=e.error_scope||e.scope,e.async=e.async!==!1,e.data=e.data||"",kg.fire("beforeInitialize",{settings:e}),n=new XMLHttpRequest,n.overrideMimeType&&n.overrideMimeType(e.content_type),n.open(e.type||(e.data?"POST":"GET"),e.url,e.async),e.crossDomain&&(n.withCredentials=!0),e.content_type&&n.setRequestHeader("Content-Type",e.content_type),e.requestheaders&&Tt.each(e.requestheaders,function(s){n.setRequestHeader(s.key,s.value)}),n.setRequestHeader("X-Requested-With","XMLHttpRequest"),n=kg.fire("beforeSend",{xhr:n,settings:e}).xhr,n.send(e.data),!e.async)return i();Gi.setTimeout(i,10)}}),KS=Tt.extend,G8=function(){function e(n){this.settings=KS({},n),this.count=0}return e.sendRPC=function(n){return new e().send(n)},e.prototype.send=function(n){var a=n.error,i=n.success,s=KS(this.settings,n);s.success=function(l,v){l=GS.parse(l),typeof l=="undefined"&&(l={error:"JSON Parse error."}),l.error?a.call(s.error_scope||s.scope,l.error,v):i.call(s.success_scope||s.scope,l.result)},s.error=function(l,v){a&&a.call(s.error_scope||s.scope,l,v)},s.data=GS.serialize({id:n.id||"c"+this.count++,method:n.method,params:n.params}),s.content_type="application/json",kg.send(s)},e}(),K8=function(){return function(){var e={},n=[],a={getItem:function(i){var s=e[i];return s||null},setItem:function(i,s){n.push(i),e[i]=String(s)},key:function(i){return n[i]},removeItem:function(i){n=n.filter(function(s){return s===i}),delete e[i]},clear:function(){n=[],e={}},length:0};return Object.defineProperty(a,"length",{get:function(){return n.length},configurable:!1,enumerable:!1}),a}()},yp;try{var XS="__storage_test__";yp=window.localStorage,yp.setItem(XS,XS),yp.removeItem(XS)}catch(e){yp=K8()}var X8=yp,Y8={geom:{Rect:V8},util:{Promise:Di,Delay:Gi,Tools:Tt,VK:kr,URI:tv,Class:B_,EventDispatcher:Y0,Observable:Z0,I18n:Su,XHR:kg,JSON:GS,JSONRequest:G8,JSONP:q8,LocalStorage:X8,Color:qS,ImageUploader:tI},dom:{EventUtils:om,Sizzle:ja,DomQuery:Vr,TreeWalker:Wa,TextSeeker:_w,DOMUtils:uo,ScriptLoader:Qc,RangeUtils:Eh,Serializer:dx,StyleSheetLoader:Sk,ControlSelection:D2,BookmarkManager:Xv,Selection:Qm,Event:om.Event},html:{Styles:rh,Entities:Bl,Node:el,Schema:As,SaxParser:lx,DomParser:Zb,Writer:Z2,Serializer:Jv},Env:an,AddOnManager:Lu,Annotator:gT,Formatter:Do,UndoManager:W4,EditorCommands:m_,WindowManager:px,NotificationManager:B4,EditorObservable:x_,Shortcuts:ny,Editor:ry,FocusManager:zT,EditorManager:gv,DOM:uo.DOM,ScriptLoader:Qc.ScriptLoader,PluginManager:Ql,ThemeManager:nv,IconManager:o0,Resource:M_,trim:Tt.trim,isArray:Tt.isArray,is:Tt.is,toArray:Tt.toArray,makeMap:Tt.makeMap,each:Tt.each,map:Tt.map,grep:Tt.grep,inArray:Tt.inArray,extend:Tt.extend,create:Tt.create,walk:Tt.walk,createNS:Tt.createNS,resolve:Tt.resolve,explode:Tt.explode,_addCacheSuffix:Tt._addCacheSuffix,isOpera:an.opera,isWebKit:an.webkit,isIE:an.ie,isGecko:an.gecko,isMac:an.mac},R_=Tt.extend(gv,Y8),Z8=function(e){try{D.exports=e}catch(n){}},J8=function(e){window.tinymce=e,window.tinyMCE=e};J8(R_),Z8(R_)})()})(K9);var YZ=K9.exports;const _p=KK(YZ);(function(){var D=function(t){var r=typeof t;return t===null?"null":r==="object"&&(Array.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="Array")?"array":r==="object"&&(String.prototype.isPrototypeOf(t)||t.constructor&&t.constructor.name==="String")?"string":r},y=function(t){return function(r){return D(r)===t}},C=function(t){return function(r){return typeof r===t}},S=function(t){return function(r){return t===r}},_=y("string"),M=y("object"),z=y("array"),K=S(null),Y=C("boolean"),ye=S(void 0),Q=function(t){return t==null},W=function(t){return!Q(t)},ve=C("function"),he=C("number"),be=function(t,r){if(z(t)){for(var o=0,u=t.length;o<u;++o)if(!r(t[o]))return!1;return!0}return!1},ae=function(){},Ae=function(t){return function(){return t()}},Ye=function(t,r){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return t(r.apply(null,o))}},Ve=function(t,r){return function(o){return t(r(o))}},L=function(t){return function(){return t}},_e=function(t){return t},Te=function(t,r){return t===r};function Be(t){for(var r=[],o=1;o<arguments.length;o++)r[o-1]=arguments[o];return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];var f=r.concat(u);return t.apply(null,f)}}var gt=function(t){return function(r){return!t(r)}},Se=function(t){return function(){throw new Error(t)}},je=L(!1),Ze=L(!0),it=tinymce.util.Tools.resolve("tinymce.ThemeManager"),G=function(){return G=Object.assign||function(r){for(var o,u=1,c=arguments.length;u<c;u++){o=arguments[u];for(var f in o)Object.prototype.hasOwnProperty.call(o,f)&&(r[f]=o[f])}return r},G.apply(this,arguments)};function xe(t,r){var o={};for(var u in t)Object.prototype.hasOwnProperty.call(t,u)&&r.indexOf(u)<0&&(o[u]=t[u]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,u=Object.getOwnPropertySymbols(t);c<u.length;c++)r.indexOf(u[c])<0&&Object.prototype.propertyIsEnumerable.call(t,u[c])&&(o[u[c]]=t[u[c]]);return o}function ct(t,r,o){if(o||arguments.length===2)for(var u=0,c=r.length,f;u<c;u++)(f||!(u in r))&&(f||(f=Array.prototype.slice.call(r,0,u)),f[u]=r[u]);return t.concat(f||Array.prototype.slice.call(r))}var Tn=function(){return bt},bt=function(){var t=function(u){return u()},r=_e,o={fold:function(u,c){return u()},isSome:je,isNone:Ze,getOr:r,getOrThunk:t,getOrDie:function(u){throw new Error(u||"error: getOrDie called on none.")},getOrNull:L(null),getOrUndefined:L(void 0),or:r,orThunk:t,map:Tn,each:ae,bind:Tn,exists:je,forall:Ze,filter:function(){return Tn()},toArray:function(){return[]},toString:L("none()")};return o}(),er=function(t){var r=L(t),o=function(){return c},u=function(f){return f(t)},c={fold:function(f,d){return d(t)},isSome:Ze,isNone:je,getOr:r,getOrThunk:r,getOrDie:r,getOrNull:r,getOrUndefined:r,or:o,orThunk:o,map:function(f){return er(f(t))},each:function(f){f(t)},bind:u,exists:u,forall:u,filter:function(f){return f(t)?c:bt},toArray:function(){return[t]},toString:function(){return"some("+t+")"}};return c},Er=function(t){return t==null?bt:er(t)},A={some:er,none:Tn,from:Er},Ht=Array.prototype.slice,Kt=Array.prototype.indexOf,Rn=Array.prototype.push,et=function(t,r){return Kt.call(t,r)},nn=function(t,r){var o=et(t,r);return o===-1?A.none():A.some(o)},tn=function(t,r){return et(t,r)>-1},sn=function(t,r){for(var o=0,u=t.length;o<u;o++){var c=t[o];if(r(c,o))return!0}return!1},X=function(t,r){for(var o=[],u=0;u<t;u++)o.push(r(u));return o},nr=function(t,r){for(var o=[],u=0;u<t.length;u+=r){var c=Ht.call(t,u,u+r);o.push(c)}return o},St=function(t,r){for(var o=t.length,u=new Array(o),c=0;c<o;c++){var f=t[c];u[c]=r(f,c)}return u},Ke=function(t,r){for(var o=0,u=t.length;o<u;o++){var c=t[o];r(c,o)}},bn=function(t,r){for(var o=t.length-1;o>=0;o--){var u=t[o];r(u,o)}},Ue=function(t,r){for(var o=[],u=[],c=0,f=t.length;c<f;c++){var d=t[c],p=r(d,c)?o:u;p.push(d)}return{pass:o,fail:u}},We=function(t,r){for(var o=[],u=0,c=t.length;u<c;u++){var f=t[u];r(f,u)&&o.push(f)}return o},ft=function(t,r,o){return bn(t,function(u,c){o=r(o,u,c)}),o},zt=function(t,r,o){return Ke(t,function(u,c){o=r(o,u,c)}),o},vt=function(t,r,o){for(var u=0,c=t.length;u<c;u++){var f=t[u];if(r(f,u))return A.some(f);if(o(f,u))break}return A.none()},kt=function(t,r){return vt(t,r,je)},jn=function(t,r){for(var o=0,u=t.length;o<u;o++){var c=t[o];if(r(c,o))return A.some(o)}return A.none()},Ce=function(t){for(var r=[],o=0,u=t.length;o<u;++o){if(!z(t[o]))throw new Error("Arr.flatten item "+o+" was not an array, input: "+t);Rn.apply(r,t[o])}return r},pt=function(t,r){return Ce(St(t,r))},pn=function(t,r){for(var o=0,u=t.length;o<u;++o){var c=t[o];if(r(c,o)!==!0)return!1}return!0},Nn=function(t){var r=Ht.call(t,0);return r.reverse(),r},Hn=function(t,r){return We(t,function(o){return!tn(r,o)})},tr=function(t,r){for(var o={},u=0,c=t.length;u<c;u++){var f=t[u];o[String(f)]=r(f,u)}return o},Fr=function(t){return[t]},Xr=function(t,r){var o=Ht.call(t,0);return o.sort(r),o},oa=function(t,r){return r>=0&&r<t.length?A.some(t[r]):A.none()},Vt=function(t){return oa(t,0)},Ut=function(t){return oa(t,t.length-1)},Bt=ve(Array.from)?Array.from:function(t){return Ht.call(t)},Xe=function(t,r){for(var o=0;o<t.length;o++){var u=r(t[o],o);if(u.isSome())return u}return A.none()},ot=Object.keys,Xt=Object.hasOwnProperty,yn=function(t,r){for(var o=ot(t),u=0,c=o.length;u<c;u++){var f=o[u],d=t[f];r(d,f)}},Jt=function(t,r){return ze(t,function(o,u){return{k:u,v:r(o,u)}})},ze=function(t,r){var o={};return yn(t,function(u,c){var f=r(u,c);o[f.k]=f.v}),o},$t=function(t){return function(r,o){t[o]=r}},fn=function(t,r,o,u){var c={};return yn(t,function(f,d){(r(f,d)?o:u)(f,d)}),c},vn=function(t,r){var o={};return fn(t,r,$t(o),ae),o},Ln=function(t,r){var o=[];return yn(t,function(u,c){o.push(r(u,c))}),o},Ee=function(t,r){for(var o=ot(t),u=0,c=o.length;u<c;u++){var f=o[u],d=t[f];if(r(d,f,t))return A.some(d)}return A.none()},Ct=function(t){return Ln(t,_e)},dt=function(t,r){return Wt(t,r)?A.from(t[r]):A.none()},Wt=function(t,r){return Xt.call(t,r)},Bn=function(t,r){return Wt(t,r)&&t[r]!==void 0&&t[r]!==null},pr=function(t,r,o){return o===void 0&&(o=Te),t.exists(function(u){return o(u,r)})},xa=function(t,r,o){return o===void 0&&(o=Te),ha(t,r,o).getOr(t.isNone()&&r.isNone())},Ar=function(t){for(var r=[],o=function(c){r.push(c)},u=0;u<t.length;u++)t[u].each(o);return r},xr=function(t){for(var r=[],o=0;o<t.length;o++){var u=t[o];if(u.isSome())r.push(u.getOrDie());else return A.none()}return A.some(r)},ha=function(t,r,o){return t.isSome()&&r.isSome()?A.some(o(t.getOrDie(),r.getOrDie())):A.none()},Ja=function(t,r,o,u){return t.isSome()&&r.isSome()&&o.isSome()?A.some(u(t.getOrDie(),r.getOrDie(),o.getOrDie())):A.none()},Va=function(t,r){return t!=null?A.some(r(t)):A.none()},Ta=function(t,r){return t?A.some(r):A.none()},Ga=function(t,r){return t+r},xo=function(t,r){return t.substring(r)},Qa=function(t,r,o){return r===""||t.length>=r.length&&t.substr(o,o+r.length)===r},Pa=function(t,r){return bo(t,r)?xo(t,r.length):t},po=function(t,r){return Gn(t,r)?t:Ga(t,r)},zr=function(t,r){return t.indexOf(r)!==-1},bo=function(t,r){return Qa(t,r,0)},Gn=function(t,r){return Qa(t,r,t.length-r.length)},vi=function(t){return function(r){return r.replace(t,"")}},fo=vi(/^\s+|\s+$/g),So=function(t){return t.length>0},oo=function(t){return!So(t)},No=function(t){return t.style!==void 0&&ve(t.style.getPropertyValue)},di=function(t,r){var o=r||document,u=o.createElement("div");if(u.innerHTML=t,!u.hasChildNodes()||u.childNodes.length>1)throw new Error("HTML must have a single root node");return se(u.childNodes[0])},_o=function(t,r){var o=r||document,u=o.createElement(t);return se(u)},Ei=function(t,r){var o=r||document,u=o.createTextNode(t);return se(u)},se=function(t){if(t==null)throw new Error("Node cannot be null or undefined");return{dom:t}},Re=function(t,r,o){return A.from(t.dom.elementFromPoint(r,o)).map(se)},ce={fromHtml:di,fromTag:_o,fromText:Ei,fromDom:se,fromPoint:Re};typeof window!="undefined"||Function("return this;")();var at=9,dn=11,Mn=1,oe=3,pe=function(t){var r=t.dom.nodeName;return r.toLowerCase()},ut=function(t){return t.dom.nodeType},At=function(t){return function(r){return ut(r)===t}},R=At(Mn),Z=At(oe),me=At(at),Me=At(dn),Qe=function(t){var r=!1,o;return function(){for(var u=[],c=0;c<arguments.length;c++)u[c]=arguments[c];return r||(r=!0,o=t.apply(null,u)),o}},rt=function(t,r,o,u){var c=t.isiOS()&&/ipad/i.test(o)===!0,f=t.isiOS()&&!c,d=t.isiOS()||t.isAndroid(),p=d||u("(pointer:coarse)"),b=c||!f&&d&&u("(min-device-width:768px)"),x=f||d&&!b,O=r.isSafari()&&t.isiOS()&&/safari/i.test(o)===!1,P=!x&&!b&&!O;return{isiPad:L(c),isiPhone:L(f),isTablet:L(b),isPhone:L(x),isTouch:L(p),isAndroid:t.isAndroid,isiOS:t.isiOS,isWebView:L(O),isDesktop:L(P)}},ln=function(t,r){for(var o=0;o<t.length;o++){var u=t[o];if(u.test(r))return u}},On=function(t,r){var o=ln(t,r);if(!o)return{major:0,minor:0};var u=function(c){return Number(r.replace(o,"$"+c))};return mr(u(1),u(2))},ir=function(t,r){var o=String(r).toLowerCase();return t.length===0?fr():On(t,o)},fr=function(){return mr(0,0)},mr=function(t,r){return{major:t,minor:r}},Tr={nu:mr,detect:ir,unknown:fr},ia=function(t,r){return Xe(r.brands,function(o){var u=o.brand.toLowerCase();return kt(t,function(c){var f;return u===((f=c.brand)===null||f===void 0?void 0:f.toLowerCase())}).map(function(c){return{current:c.name,version:Tr.nu(parseInt(o.version,10),0)}})})},eo=function(t,r){var o=String(r).toLowerCase();return kt(t,function(u){return u.search(o)})},ko=function(t,r){return eo(t,r).map(function(o){var u=Tr.detect(o.versionRegexes,r);return{current:o.name,version:u}})},Ri=function(t,r){return eo(t,r).map(function(o){var u=Tr.detect(o.versionRegexes,r);return{current:o.name,version:u}})},Ti=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,to=function(t){return function(r){return zr(r,t)}},hu=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(t){return zr(t,"edge/")&&zr(t,"chrome")&&zr(t,"safari")&&zr(t,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,Ti],search:function(t){return zr(t,"chrome")&&!zr(t,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(t){return zr(t,"msie")||zr(t,"trident")}},{name:"Opera",versionRegexes:[Ti,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:to("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:to("firefox")},{name:"Safari",versionRegexes:[Ti,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(t){return(zr(t,"safari")||zr(t,"mobile/"))&&zr(t,"applewebkit")}}],iu=[{name:"Windows",search:to("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(t){return zr(t,"iphone")||zr(t,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:to("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:to("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:to("linux"),versionRegexes:[]},{name:"Solaris",search:to("sunos"),versionRegexes:[]},{name:"FreeBSD",search:to("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:to("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Qo={browsers:L(hu),oses:L(iu)},Eo="Edge",Fu="Chrome",J="IE",Oe="Opera",tt="Firefox",_t="Safari",kn=function(){return $n({current:void 0,version:Tr.unknown()})},$n=function(t){var r=t.current,o=t.version,u=function(c){return function(){return r===c}};return{current:r,version:o,isEdge:u(Eo),isChrome:u(Fu),isIE:u(J),isOpera:u(Oe),isFirefox:u(tt),isSafari:u(_t)}},rr={unknown:kn,nu:$n,edge:L(Eo),chrome:L(Fu),ie:L(J),opera:L(Oe),firefox:L(tt),safari:L(_t)},Yr="Windows",U="iOS",ke="Android",Le="Linux",mt="OSX",Pt="Solaris",Dn="FreeBSD",Jn="ChromeOS",ea=function(){return Pr({current:void 0,version:Tr.unknown()})},Pr=function(t){var r=t.current,o=t.version,u=function(c){return function(){return r===c}};return{current:r,version:o,isWindows:u(Yr),isiOS:u(U),isAndroid:u(ke),isOSX:u(mt),isLinux:u(Le),isSolaris:u(Pt),isFreeBSD:u(Dn),isChromeOS:u(Jn)}},va={unknown:ea,nu:Pr,windows:L(Yr),ios:L(U),android:L(ke),linux:L(Le),osx:L(mt),solaris:L(Pt),freebsd:L(Dn),chromeos:L(Jn)},Ra=function(t,r,o){var u=Qo.browsers(),c=Qo.oses(),f=r.bind(function(b){return ia(u,b)}).orThunk(function(){return ko(u,t)}).fold(rr.unknown,rr.nu),d=Ri(c,t).fold(va.unknown,va.nu),p=rt(d,f,t,o);return{browser:f,os:d,deviceType:p}},Ui={detect:Ra},Yu=function(t){return window.matchMedia(t).matches},cr=Qe(function(){return Ui.detect(navigator.userAgent,A.from(navigator.userAgentData),Yu)}),an=function(){return cr()},pa=function(t,r,o){return(t.compareDocumentPosition(r)&o)!==0},yo=function(t,r){return pa(t,r,Node.DOCUMENT_POSITION_CONTAINED_BY)},qo=function(t,r){var o=t.dom;if(o.nodeType!==Mn)return!1;var u=o;if(u.matches!==void 0)return u.matches(r);if(u.msMatchesSelector!==void 0)return u.msMatchesSelector(r);if(u.webkitMatchesSelector!==void 0)return u.webkitMatchesSelector(r);if(u.mozMatchesSelector!==void 0)return u.mozMatchesSelector(r);throw new Error("Browser lacks native selectors")},gs=function(t){return t.nodeType!==Mn&&t.nodeType!==at&&t.nodeType!==dn||t.childElementCount===0},hs=function(t,r){var o=r===void 0?document:r.dom;return gs(o)?[]:St(o.querySelectorAll(t),ce.fromDom)},Hs=function(t,r){var o=r===void 0?document:r.dom;return gs(o)?A.none():A.from(o.querySelector(t)).map(ce.fromDom)},_a=function(t,r){return t.dom===r.dom},Iu=function(t,r){var o=t.dom,u=r.dom;return o===u?!1:o.contains(u)},Vs=function(t,r){return yo(t.dom,r.dom)},Wi=function(t,r){return an().browser.isIE()?Vs(t,r):Iu(t,r)},ei=function(t){return ce.fromDom(t.dom.ownerDocument)},il=function(t){return me(t)?t:ei(t)},Tt=function(t){return ce.fromDom(il(t).dom.documentElement)},ps=function(t){return ce.fromDom(il(t).dom.defaultView)},Lo=function(t){return A.from(t.dom.parentNode).map(ce.fromDom)},El=function(t){return Lo(t)},Zu=function(t){return A.from(t.dom.offsetParent).map(ce.fromDom)},B=function(t){return A.from(t.dom.nextSibling).map(ce.fromDom)},w=function(t){return St(t.dom.childNodes,ce.fromDom)},h=function(t,r){var o=t.dom.childNodes;return A.from(o[r]).map(ce.fromDom)},T=function(t){return h(t,0)},H=function(t,r){return{element:t,offset:r}},ue=function(t,r){var o=w(t);return o.length>0&&r<o.length?H(o[r],0):H(t,r)},He=function(t){return Me(t)&&W(t.dom.host)},Nt=ve(Element.prototype.attachShadow)&&ve(Node.prototype.getRootNode),Kn=L(Nt),vr=Nt?function(t){return ce.fromDom(t.dom.getRootNode())}:il,wn=function(t){return He(t)?t:ce.fromDom(il(t).dom.body)},qn=function(t){return Rr(t).isSome()},Rr=function(t){var r=vr(t);return He(r)?A.some(r):A.none()},Wr=function(t){return ce.fromDom(t.dom.host)},Sr=function(t){if(Kn()&&W(t.target)){var r=ce.fromDom(t.target);if(R(r)&&Ua(r)&&t.composed&&t.composedPath){var o=t.composedPath();if(o)return Vt(o)}}return A.from(t.target)},Ua=function(t){return W(t.dom.shadowRoot)},wr=function(t){var r=Z(t)?t.dom.parentNode:t.dom;if(r==null||r.ownerDocument===null)return!1;var o=r.ownerDocument;return Rr(ce.fromDom(r)).fold(function(){return o.body.contains(r)},Ve(wr,Wr))},Aa=function(){return Sa(ce.fromDom(document))},Sa=function(t){var r=t.dom.body;if(r==null)throw new Error("Body is not available yet");return ce.fromDom(r)},ji=function(t,r,o){if(_(o)||Y(o)||he(o))t.setAttribute(r,o+"");else throw new Error("Attribute value was not simple")},qr=function(t,r,o){ji(t.dom,r,o)},Pd=function(t,r){var o=t.dom;yn(r,function(u,c){ji(o,c,u)})},vo=function(t,r){var o=t.dom.getAttribute(r);return o===null?void 0:o},Ho=function(t,r){return A.from(vo(t,r))},zp=function(t,r){var o=t.dom;return o&&o.hasAttribute?o.hasAttribute(r):!1},Ai=function(t,r){t.dom.removeAttribute(r)},Ig=function(t,r,o){if(!_(o))throw new Error("CSS value must be a string: "+o);No(t)&&t.style.setProperty(r,o)},Rd=function(t,r){No(t)&&t.style.removeProperty(r)},Mr=function(t,r,o){var u=t.dom;Ig(u,r,o)},Tl=function(t,r){var o=t.dom;yn(r,function(u,c){Ig(o,c,u)})},vc=function(t,r){var o=t.dom;yn(r,function(u,c){u.fold(function(){Rd(o,c)},function(f){Ig(o,c,f)})})},Fo=function(t,r){var o=t.dom,u=window.getComputedStyle(o),c=u.getPropertyValue(r);return c===""&&!wr(t)?$p(o,r):c},$p=function(t,r){return No(t)?t.style.getPropertyValue(r):""},Oi=function(t,r){var o=t.dom,u=$p(o,r);return A.from(u).filter(function(c){return c.length>0})},Lc=function(t){var r={},o=t.dom;if(No(o))for(var u=0;u<o.style.length;u++){var c=o.style.item(u);r[c]=o.style[c]}return r},bf=function(t,r,o){var u=ce.fromTag(t);Mr(u,r,o);var c=Oi(u,r);return c.isSome()},Ia=function(t,r){var o=t.dom;Rd(o,r),pr(Ho(t,"style").map(fo),"")&&Ai(t,"style")},Hc=function(t){return t.dom.offsetWidth},pu=function(t,r){var o=function(p,b){if(!he(b)&&!b.match(/^[0-9]+$/))throw new Error(t+".set accepts only positive integer values. Value was "+b);var x=p.dom;No(x)&&(x.style[t]=b+"px")},u=function(p){var b=r(p);if(b<=0||b===null){var x=Fo(p,t);return parseFloat(x)||0}return b},c=u,f=function(p,b){return zt(b,function(x,O){var P=Fo(p,O),V=P===void 0?0:parseInt(P,10);return isNaN(V)?x:x+V},0)},d=function(p,b,x){var O=f(p,x),P=b>O?b-O:0;return P};return{set:o,get:u,getOuter:c,aggregate:f,max:d}},Vc=pu("height",function(t){var r=t.dom;return wr(t)?r.getBoundingClientRect().height:r.offsetHeight}),ti=function(t){return Vc.get(t)},bs=function(t){return Vc.getOuter(t)},Lp=function(t,r){var o=["margin-top","border-top-width","padding-top","padding-bottom","border-bottom-width","margin-bottom"],u=Vc.max(t,r,o);Mr(t,"max-height",u+"px")},Uc=function(t,r){var o=function(u,c){return Uc(t+u,r+c)};return{left:t,top:r,translate:o}},Ka=Uc,yf=function(t){var r=t.getBoundingClientRect();return Ka(r.left,r.top)},Wc=function(t,r){return t!==void 0?t:r!==void 0?r:0},bu=function(t){var r=t.dom.ownerDocument,o=r.body,u=r.defaultView,c=r.documentElement;if(o===t.dom)return Ka(o.offsetLeft,o.offsetTop);var f=Wc(u==null?void 0:u.pageYOffset,c.scrollTop),d=Wc(u==null?void 0:u.pageXOffset,c.scrollLeft),p=Wc(c.clientTop,o.clientTop),b=Wc(c.clientLeft,o.clientLeft);return jc(t).translate(d-b,f-p)},jc=function(t){var r=t.dom,o=r.ownerDocument,u=o.body;return u===r?Ka(u.offsetLeft,u.offsetTop):wr(t)?yf(r):Ka(0,0)},Nd=pu("width",function(t){return t.dom.offsetWidth}),Hp=function(t,r){return Nd.set(t,r)},uu=function(t){return Nd.get(t)},dc=function(t){return Nd.getOuter(t)},Us=function(t,r){var o=["margin-left","border-left-width","padding-left","padding-right","border-right-width","margin-right"],u=Nd.max(t,r,o);Mr(t,"max-width",u+"px")},wf=function(t,r,o,u,c,f,d){return{target:t,x:r,y:o,stop:u,prevent:c,kill:f,raw:d}},zg=function(t){var r=ce.fromDom(Sr(t).getOr(t.target)),o=function(){return t.stopPropagation()},u=function(){return t.preventDefault()},c=Ye(u,o);return wf(r,t.clientX,t.clientY,o,u,c,t)},Ni=function(t,r){return function(o){t(o)&&r(zg(o))}},Fd=function(t,r,o,u,c){var f=Ni(o,u);return t.dom.addEventListener(r,f,c),{unbind:Be($g,t,r,f,c)}},Ay=function(t,r,o,u){return Fd(t,r,o,u,!1)},Id=function(t,r,o,u){return Fd(t,r,o,u,!0)},$g=function(t,r,o,u){t.dom.removeEventListener(r,o,u)},Io=function(t,r){var o=Lo(t);o.each(function(u){u.dom.insertBefore(r.dom,t.dom)})},zd=function(t,r){var o=B(t);o.fold(function(){var u=Lo(t);u.each(function(c){qi(c,r)})},function(u){Io(u,r)})},kv=function(t,r){var o=T(t);o.fold(function(){qi(t,r)},function(u){t.dom.insertBefore(r.dom,u.dom)})},qi=function(t,r){t.dom.appendChild(r.dom)},qc=function(t,r,o){h(t,o).fold(function(){qi(t,r)},function(u){Io(u,r)})},Oy=function(t,r){Ke(r,function(o){Io(t,o)})},Gc=function(t,r){Ke(r,function(o){qi(t,o)})},$d=function(t){t.dom.textContent="",Ke(w(t),function(r){ys(r)})},ys=function(t){var r=t.dom;r.parentNode!==null&&r.parentNode.removeChild(r)},Lg=function(t){var r=w(t);r.length>0&&Oy(t,r),ys(t)},ws=function(t){var r=t!==void 0?t.dom:document,o=r.body.scrollLeft||r.documentElement.scrollLeft,u=r.body.scrollTop||r.documentElement.scrollTop;return Ka(o,u)},Ld=function(t,r,o){var u=o!==void 0?o.dom:document,c=u.defaultView;c&&c.scrollTo(t,r)},Dy=function(t){var r=t===void 0?window:t;return an().browser.isFirefox()?A.none():A.from(r.visualViewport)},Hg=function(t,r,o,u){return{x:t,y:r,width:o,height:u,right:t+o,bottom:r+u}},Ev=function(t){var r=t===void 0?window:t,o=r.document,u=ws(ce.fromDom(o));return Dy(r).fold(function(){var c=r.document.documentElement,f=c.clientWidth,d=c.clientHeight;return Hg(u.left,u.top,f,d)},function(c){return Hg(Math.max(c.pageLeft,u.left),Math.max(c.pageTop,u.top),c.width,c.height)})},Cf=function(t,r){var o=t.view(r);return o.fold(L([]),function(u){var c=t.owner(u),f=Cf(t,c);return[u].concat(f)})},Hd=function(t,r){var o=r.owner(t),u=Cf(r,o);return A.some(u)},Br=function(t){var r,o=t.dom===document?A.none():A.from((r=t.dom.defaultView)===null||r===void 0?void 0:r.frameElement);return o.map(ce.fromDom)},Cs=function(t){return ei(t)},Vd=Object.freeze({__proto__:null,view:Br,owner:Cs}),Ud=function(t){var r=ce.fromDom(document),o=ws(r),u=Hd(t,Vd);return u.fold(Be(bu,t),function(c){var f=jc(t),d=ft(c,function(p,b){var x=jc(b);return{left:p.left+x.left,top:p.top+x.top}},{left:0,top:0});return Ka(d.left+f.left+o.left,d.top+f.top+o.top)})},_y=function(t,r,o){return{point:t,width:r,height:o}},Kc=function(t,r,o,u){return{x:t,y:r,width:o,height:u}},mi=function(t,r,o,u){return{x:t,y:r,width:o,height:u,right:t+o,bottom:r+u}},gi=function(t){var r=bu(t),o=dc(t),u=bs(t);return mi(r.left,r.top,o,u)},mc=function(t){var r=Ud(t),o=dc(t),u=bs(t);return mi(r.left,r.top,o,u)},xs=function(){return Ev(window)},Wn=function(t){var r=function(P){return Wn(t)},o=function(P){return Wn(t)},u=function(P){return Wn(P(t))},c=function(P){return Wn(t)},f=function(P){P(t)},d=function(P){return P(t)},p=function(P,V){return V(t)},b=function(P){return P(t)},x=function(P){return P(t)},O=function(){return A.some(t)};return{isValue:Ze,isError:je,getOr:L(t),getOrThunk:L(t),getOrDie:L(t),or:r,orThunk:o,fold:p,map:u,mapError:c,each:f,bind:d,exists:b,forall:x,toOptional:O}},Xc=function(t){var r=function(x){return x()},o=function(){return Se(String(t))()},u=_e,c=function(x){return x()},f=function(x){return Xc(t)},d=function(x){return Xc(x(t))},p=function(x){return Xc(t)},b=function(x,O){return x(t)};return{isValue:je,isError:Ze,getOr:_e,getOrThunk:r,getOrDie:o,or:u,orThunk:c,fold:b,map:f,mapError:d,each:ae,bind:p,exists:je,forall:Ze,toOptional:A.none}},Vg=function(t,r){return t.fold(function(){return Xc(r)},Wn)},jr={value:Wn,error:Xc,fromOption:Vg},za;(function(t){t[t.Error=0]="Error",t[t.Value=1]="Value"})(za||(za={}));var Ug=function(t,r,o){return t.stype===za.Error?r(t.serror):o(t.svalue)},ul=function(t){var r=[],o=[];return Ke(t,function(u){Ug(u,function(c){return o.push(c)},function(c){return r.push(c)})}),{values:r,errors:o}},so=function(t,r){return t.stype===za.Error?{stype:za.Error,serror:r(t.serror)}:t},Wd=function(t,r){return t.stype===za.Value?{stype:za.Value,svalue:r(t.svalue)}:t},zu=function(t,r){return t.stype===za.Value?r(t.svalue):t},Tv=function(t,r){return t.stype===za.Error?r(t.serror):t},Vp=function(t){return{stype:za.Value,svalue:t}},su=function(t){return{stype:za.Error,serror:t}},My=function(t){return Ug(t,jr.error,jr.value)},By=function(t){return t.fold(su,Vp)},mo={fromResult:By,toResult:My,svalue:Vp,partition:ul,serror:su,bind:zu,bindError:Tv,map:Wd,mapError:so,fold:Ug},Wg=function(t,r,o,u){return{tag:"field",key:t,newKey:r,presence:o,prop:u}},k=function(t,r){return{tag:"custom",newKey:t,instantiator:r}},I=function(t,r,o){switch(t.tag){case"field":return r(t.key,t.newKey,t.presence,t.prop);case"custom":return o(t.newKey,t.instantiator)}},j=function(t,r){return r},fe=function(t,r){var o=M(t)&&M(r);return o?Ot(t,r):r},Ge=function(t){return function(){for(var r=[],o=0;o<arguments.length;o++)r[o]=arguments[o];if(r.length===0)throw new Error("Can't merge zero objects");for(var u={},c=0;c<r.length;c++){var f=r[c];for(var d in f)Wt(f,d)&&(u[d]=t(u[d],f[d]))}return u}},Ot=Ge(fe),ur=Ge(j),Nr=function(){return{tag:"required",process:{}}},la=function(t){return{tag:"defaultedThunk",process:t}},Qr=function(t){return la(L(t))},io=function(){return{tag:"option",process:{}}},lu=function(t){return{tag:"mergeWithThunk",process:t}},Up=function(t){return lu(L(t))},dM=function(t,r){return t.length>0?mo.svalue(Ot(r,ur.apply(void 0,t))):mo.svalue(r)},gk=function(t){return Ye(mo.serror,Ce)(t)},hk=function(t,r){var o=mo.partition(t);return o.errors.length>0?gk(o.errors):dM(o.values,r)},mM=function(t){var r=mo.partition(t);return r.errors.length>0?gk(r.errors):mo.svalue(r.values)},Py={consolidateObj:hk,consolidateArr:mM},Ry=function(t){return M(t)&&ot(t).length>100?" removed due to size":JSON.stringify(t,null,2)},pk=function(t){var r=t.length>10?t.slice(0,10).concat([{path:[],getErrorInfo:L("... (only showing first ten failures)")}]):t;return St(r,function(o){return"Failed path: ("+o.path.join(" > ")+`)
`+o.getErrorInfo()})},jd=function(t,r){return mo.serror([{path:t,getErrorInfo:r}])},Ny=function(t,r,o){return jd(t,function(){return'Could not find valid *required* value for "'+r+'" in '+Ry(o)})},Fy=function(t,r){return jd(t,function(){return'Choice schema did not contain choice key: "'+r+'"'})},gM=function(t,r,o){return jd(t,function(){return'The chosen schema: "'+o+'" did not exist in branches: '+Ry(r)})},hM=function(t,r){return jd(t,function(){return"There are unsupported fields: ["+r.join(", ")+"] specified"})},pM=function(t,r){return jd(t,L(r))},Al=function(t){var r=function(u,c){return mo.bindError(t(c),function(f){return pM(u,f)})},o=L("val");return{extract:r,toString:o}},bk=Al(mo.svalue),bM=function(t,r,o,u){return dt(r,o).fold(function(){return Ny(t,o,r)},u)},Iy=function(t,r,o,u){var c=dt(t,r).getOrThunk(function(){return o(t)});return u(c)},yM=function(t,r,o){return o(dt(t,r))},wM=function(t,r,o,u){var c=dt(t,r).map(function(f){return f===!0?o(t):f});return u(c)},qd=function(t,r,o,u,c){var f=function(p){return c.extract(r.concat([u]),p)},d=function(p){return p.fold(function(){return mo.svalue(A.none())},function(b){var x=c.extract(r.concat([u]),b);return mo.map(x,A.some)})};switch(t.tag){case"required":return bM(r,o,u,f);case"defaultedThunk":return Iy(o,u,t.process,f);case"option":return yM(o,u,d);case"defaultedOptionThunk":return wM(o,u,t.process,d);case"mergeWithThunk":return Iy(o,u,L({}),function(p){var b=Ot(t.process(o),p);return f(b)})}},jg=function(t,r,o){for(var u={},c=[],f=0,d=o;f<d.length;f++){var p=d[f];I(p,function(b,x,O,P){var V=qd(O,t,r,b,P);mo.fold(V,function(q){c.push.apply(c,q)},function(q){u[x]=q})},function(b,x){u[b]=x(r)})}return c.length>0?mo.serror(c):mo.svalue(u)},yk=function(t){var r=function(u,c){return t().extract(u,c)},o=function(){return t().toString()};return{extract:r,toString:o}},wk=function(t){return ot(vn(t,W))},Ss=function(t){var r=dr(t),o=ft(t,function(c,f){return I(f,function(d){var p;return Ot(c,(p={},p[d]=!0,p))},L(c))},{}),u=function(c,f){var d=Y(f)?[]:wk(f),p=We(d,function(b){return!Bn(o,b)});return p.length===0?r.extract(c,f):hM(c,p)};return{extract:u,toString:r.toString}},dr=function(t){var r=function(u,c){return jg(u,c,t)},o=function(){var u=St(t,function(c){return I(c,function(f,d,p,b){return f+" -> "+b.toString()},function(f,d){return"state("+f+")"})});return`obj{
`+u.join(`
`)+"}"};return{extract:r,toString:o}},Yc=function(t){var r=function(u,c){var f=St(c,function(d,p){return t.extract(u.concat(["["+p+"]"]),d)});return Py.consolidateArr(f)},o=function(){return"array("+t.toString()+")"};return{extract:r,toString:o}},zy=function(t){var r=function(u,c){for(var f=[],d=0,p=t;d<p.length;d++){var b=p[d],x=b.extract(u,c);if(x.stype===za.Value)return x;f.push(x)}return Py.consolidateArr(f)},o=function(){return"oneOf("+St(t,function(u){return u.toString()}).join(", ")+")"};return{extract:r,toString:o}},qg=function(t,r){var o=function(f,d){return Yc(Al(t)).extract(f,d)},u=function(f,d){var p=ot(d),b=o(f,p);return mo.bind(b,function(x){var O=St(x,function(P){return Wg(P,P,Nr(),r)});return dr(O).extract(f,d)})},c=function(){return"setOf("+r.toString()+")"};return{extract:u,toString:c}},Wp=function(t,r){var o=Qe(r),u=function(f,d){return o().extract(f,d)},c=function(){return o().toString()};return{extract:u,toString:c}},$y=Ye(Yc,dr),Ol=L(bk),Av=function(t,r){return Al(function(o){var u=typeof o;return t(o)?mo.svalue(o):mo.serror("Expected type: "+r+" but got: "+u)})},Gd=Av(he,"number"),Vo=Av(_,"string"),Di=Av(Y,"boolean"),Gg=Av(ve,"function"),Ck=function(t){if(Object(t)!==t)return!0;switch({}.toString.call(t).slice(8,-1)){case"Boolean":case"Number":case"String":case"Date":case"RegExp":case"Blob":case"FileList":case"ImageData":case"ImageBitmap":case"ArrayBuffer":return!0;case"Array":case"Object":return Object.keys(t).every(function(r){return Ck(t[r])});default:return!1}},Ly=Al(function(t){return Ck(t)?mo.svalue(t):mo.serror("Expected value to be acceptable for sending via postMessage")}),xk=function(t,r,o,u){var c=dt(o,u);return c.fold(function(){return gM(t,o,u)},function(f){return f.extract(t.concat(["branch: "+u]),r)})},jp=function(t,r){var o=function(c,f){var d=dt(f,t);return d.fold(function(){return Fy(c,t)},function(p){return xk(c,f,r,p)})},u=function(){return"chooseOn("+t+"). Possible values: "+ot(r)};return{extract:o,toString:u}},CM=function(){return Yc(bk)},Kd=function(t){return Al(function(r){return t(r).fold(mo.serror,mo.svalue)})},Gi=function(t,r){return qg(function(o){return mo.fromResult(t(o))},r)},Sk=function(t,r,o){var u=r.extract([t],o);return mo.mapError(u,function(c){return{input:o,errors:c}})},To=function(t,r,o){return mo.toResult(Sk(t,r,o))},Dl=function(t){return t.fold(function(r){throw new Error(Xd(r))},_e)},Wa=function(t,r,o){return Dl(To(t,r,o))},Xd=function(t){return`Errors: 
`+pk(t.errors).join(`
`)+`

Input object: `+Ry(t.input)},Ws=function(t,r){return jp(t,Jt(r,dr))},xM=function(t,r){return Wp(t,r)},hi=Wg,$u=k,kk=function(t){return Kd(function(r){return tn(t,r)?jr.value(r):jr.error('Unsupported value: "'+r+'", choose one of "'+t.join(", ")+'".')})},jt=function(t){return hi(t,t,Nr(),Ol())},Ju=function(t,r){return hi(t,t,Nr(),r)},xf=function(t){return Ju(t,Gd)},Or=function(t){return Ju(t,Vo)},js=function(t,r){return hi(t,t,Nr(),kk(r))},SM=function(t){return Ju(t,Di)},cu=function(t){return Ju(t,Gg)},Yd=function(t,r){return hi(t,t,io(),Al(function(o){return mo.serror("The field: "+t+" is forbidden. "+r)}))},Zc=function(t,r){return hi(t,t,Nr(),dr(r))},qp=function(t,r){return hi(t,t,Nr(),$y(r))},yu=function(t,r){return hi(t,t,Nr(),Yc(r))},Oa=function(t){return hi(t,t,io(),Ol())},_l=function(t,r){return hi(t,t,io(),r)},Kg=function(t){return _l(t,Gd)},no=function(t){return _l(t,Vo)},Ov=function(t){return _l(t,Gg)},Qu=function(t,r){return _l(t,Yc(r))},ks=function(t,r){return _l(t,dr(r))},kM=function(t,r){return _l(t,Ss(r))},$e=function(t,r){return hi(t,t,Qr(r),Ol())},es=function(t,r,o){return hi(t,t,Qr(r),o)},ts=function(t,r){return es(t,r,Gd)},Zd=function(t,r){return es(t,r,Vo)},qs=function(t,r,o){return es(t,r,kk(o))},Ao=function(t,r){return es(t,r,Di)},Xa=function(t,r){return es(t,r,Gg)},Gs=function(t,r){return es(t,r,Ly)},Xg=function(t,r,o){return es(t,r,Yc(o))},Hy=function(t,r,o){return es(t,r,dr(o))},Cr=function(t){var r=t,o=function(){return r},u=function(c){r=c};return{get:o,set:u}},Vy=function(t){if(!z(t))throw new Error("cases must be an array");if(t.length===0)throw new Error("there must be at least one case");var r=[],o={};return Ke(t,function(u,c){var f=ot(u);if(f.length!==1)throw new Error("one and only one name per case");var d=f[0],p=u[d];if(o[d]!==void 0)throw new Error("duplicate key detected:"+d);if(d==="cata")throw new Error("cannot have a case named cata (sorry)");if(!z(p))throw new Error("case arguments must be an array");r.push(d),o[d]=function(){for(var b=[],x=0;x<arguments.length;x++)b[x]=arguments[x];var O=b.length;if(O!==p.length)throw new Error("Wrong number of arguments to case "+d+". Expected "+p.length+" ("+p+"), got "+O);var P=function(V){var q=ot(V);if(r.length!==q.length)throw new Error("Wrong number of arguments to match. Expected: "+r.join(",")+`
Actual: `+q.join(","));var te=pn(r,function(de){return tn(q,de)});if(!te)throw new Error("Not all branches were specified when using match. Specified: "+q.join(", ")+`
Required: `+r.join(", "));return V[d].apply(null,b)};return{fold:function(){for(var V=[],q=0;q<arguments.length;q++)V[q]=arguments[q];if(V.length!==t.length)throw new Error("Wrong number of arguments to fold. Expected "+t.length+", got "+V.length);var te=V[c];return te.apply(null,b)},match:P,log:function(V){}}}}),o},Ks={generate:Vy};Ks.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var EM=function(t){var r=[],o=[];return Ke(t,function(u){u.fold(function(c){r.push(c)},function(c){o.push(c)})}),{errors:r,values:o}},Gp=function(t,r){var o={};return yn(t,function(u,c){tn(r,c)||(o[c]=u)}),o},Kp=function(t,r){var o;return o={},o[t]=r,o},TM=function(t){var r={};return Ke(t,function(o){r[o.key]=o.value}),r},Uy=function(t,r){return Gp(t,r)},gc=function(t,r){return Kp(t,r)},Dv=function(t){return TM(t)},AM=function(t,r){return t.length===0?jr.value(r):jr.value(Ot(r,ur.apply(void 0,t)))},OM=function(t){return jr.error(Ce(t))},DM=function(t,r){var o=EM(t);return o.errors.length>0?OM(o.errors):AM(o.values,r)},Ek=function(t){return ve(t)?t:je},Wy=function(t,r,o){for(var u=t.dom,c=Ek(o);u.parentNode;){u=u.parentNode;var f=ce.fromDom(u),d=r(f);if(d.isSome())return d;if(c(f))break}return A.none()},jy=function(t,r,o){var u=r(t),c=Ek(o);return u.orThunk(function(){return c(t)?A.none():Wy(t,r,c)})},Tk=function(t,r){return _a(t.element,r.event.target)},hc={can:Ze,abort:je,run:ae},Jd=function(t){if(!Bn(t,"can")&&!Bn(t,"abort")&&!Bn(t,"run"))throw new Error("EventHandler defined by: "+JSON.stringify(t,null,2)+" does not have can, abort, or run!");return G(G({},hc),t)},qy=function(t,r){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return zt(t,function(c,f){return c&&r(f).apply(void 0,o)},!0)}},_M=function(t,r){return function(){for(var o=[],u=0;u<arguments.length;u++)o[u]=arguments[u];return zt(t,function(c,f){return c||r(f).apply(void 0,o)},!1)}},MM=function(t){return ve(t)?{can:Ze,abort:je,run:t}:t},BM=function(t){var r=qy(t,function(c){return c.can}),o=_M(t,function(c){return c.abort}),u=function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];Ke(t,function(d){d.run.apply(void 0,c)})};return{can:r,abort:o,run:u}},ni=L,Jc=ni("touchstart"),Ml=ni("touchmove"),Yg=ni("touchend"),Ak=ni("touchcancel"),sl=ni("mousedown"),_v=ni("mousemove"),Gy=ni("mouseout"),Ky=ni("mouseup"),Sf=ni("mouseover"),kf=ni("focusin"),Fi=ni("focusout"),Xp=ni("keydown"),Ok=ni("keyup"),Qd=ni("input"),em=ni("change"),Zg=ni("click"),PM=ni("transitioncancel"),Jg=ni("transitionend"),Xy=ni("transitionstart"),RM=ni("selectstart"),Oo=function(t){return L("alloy."+t)},Yp={tap:Oo("tap")},tm=Oo("focus"),Yy=Oo("blur.post"),Zy=Oo("paste.post"),Xs=Oo("receive"),Es=Oo("execute"),Qg=Oo("focus.item"),nm=Yp.tap,Jy=Oo("longpress"),eh=Oo("sandbox.close"),Qy=Oo("typeahead.cancel"),th=Oo("system.init"),ew=Oo("system.touchmove"),NM=Oo("system.touchend"),tw=Oo("system.scroll"),Bl=Oo("system.resize"),Ts=Oo("system.attached"),nh=Oo("system.detached"),Pl=Oo("system.dismissRequested"),Ki=Oo("system.repositionRequested"),Zp=Oo("focusmanager.shifted"),Jp=Oo("slotcontainer.visibility"),Dk=Oo("change.tab"),Ii=Oo("dismiss.tab"),nw=Oo("highlight"),Qp=Oo("dehighlight"),da=function(t,r){rh(t,t.element,r,{})},br=function(t,r,o){rh(t,t.element,r,o)},As=function(t){da(t,Es())},e1=function(t,r,o){rh(t,r,o,{})},rh=function(t,r,o,u){var c=G({target:r},u);t.getSystem().triggerEvent(o,r,c)},_k=function(t,r,o,u){t.getSystem().triggerEvent(o,r,u.event)},$a=function(t){return Dv(t)},Mk=function(t,r){return{key:t,value:Jd({abort:r})}},FM=function(t,r){return{key:t,value:Jd({can:r})}},Bk=function(t){return{key:t,value:Jd({run:function(r,o){o.event.prevent()}})}},qt=function(t,r){return{key:t,value:Jd({run:r})}},rw=function(t,r,o){return{key:t,value:Jd({run:function(u,c){r.apply(void 0,[u,c].concat(o))}})}},IM=function(t){return function(r){return qt(t,r)}},rm=function(t){return function(r){return{key:t,value:Jd({run:function(o,u){Tk(o,u)&&r(o,u)}})}}},t1=function(t,r){return qt(t,function(o,u){o.getSystem().getByUid(r).each(function(c){_k(c,c.element,t,u)})})},am=function(t,r,o){var u=r.partUids[o];return t1(t,u)},Ef=function(t,r){return qt(t,function(o,u){var c=u.event,f=o.getSystem().getByDom(c.target).getOrThunk(function(){var d=jy(c.target,function(p){return o.getSystem().getByDom(p).toOptional()},je);return d.getOr(o)});r(o,f,u)})},Mv=function(t){return qt(t,function(r,o){o.cut()})},om=function(t){return qt(t,function(r,o){o.stop()})},Uo=function(t,r){return rm(t)(r)},Hr=rm(Ts()),Ys=rm(nh()),Pk=rm(th()),Zs=IM(Es()),aw=function(t,r){var o=r||document,u=o.createElement("div");return u.innerHTML=t,w(ce.fromDom(u))},n1=function(t){return t.dom.innerHTML},Tf=function(t,r){var o=ei(t),u=o.dom,c=ce.fromDom(u.createDocumentFragment()),f=aw(r,u);Gc(c,f),$d(t),qi(t,c)},Af=function(t){var r=ce.fromTag("div"),o=ce.fromDom(t.dom.cloneNode(!0));return qi(r,o),n1(r)},im=function(t,r){return ce.fromDom(t.dom.cloneNode(r))},Of=function(t){return im(t,!1)},Js=function(t){if(He(t))return"#shadow-root";var r=Of(t);return Af(r)},Df=function(t){return Js(t)},pc=function(t,r,o){return _a(r,t.element)&&!_a(r,o)},_f=$a([FM(tm(),function(t,r){var o=r.event,u=o.originator,c=o.target;return!pc(t,u,c)})]),um=Object.freeze({__proto__:null,events:_f}),Rk=0,Yn=function(t){var r=new Date,o=r.getTime(),u=Math.floor(Math.random()*1e9);return Rk++,t+"_"+u+Rk+String(o)},fu=L("alloy-id-"),Rl=L("data-alloy-id"),bc=fu(),Nk=Rl(),Fk=function(t,r){var o=Yn(bc+t);return r1(r,o),o},r1=function(t,r){Object.defineProperty(t.dom,Nk,{value:r,writable:!0})},sm=function(t){var r=R(t)?t.dom[Nk]:null;return A.from(r)},Mf=function(t){return Yn(t)},a1=_e,ah=function(t){var r=function(c){return"The component must be in a context to execute: "+c+(t?`
`+Df(t().element)+" is not in context.":"")},o=function(c){return function(){throw new Error(r(c))}},u=function(c){return function(){}};return{debugInfo:L("fake"),triggerEvent:u("triggerEvent"),triggerFocus:u("triggerFocus"),triggerEscape:u("triggerEscape"),broadcast:u("broadcast"),broadcastOn:u("broadcastOn"),broadcastEvent:u("broadcastEvent"),build:o("build"),addToWorld:o("addToWorld"),removeFromWorld:o("removeFromWorld"),addToGui:o("addToGui"),removeFromGui:o("removeFromGui"),getByUid:o("getByUid"),getByDom:o("getByDom"),isConnected:je}},zM=ah(),Bf=function(t,r,o){var u=o.toString(),c=u.indexOf(")")+1,f=u.indexOf("("),d=u.substring(f+1,c-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:ow(d.slice(0,1).concat(d.slice(3)))}},t},ow=function(t){return St(t,function(r){return Gn(r,"/*")?r.substring(0,r.length-2):r})},iw=function(t,r){var o=t.toString(),u=o.indexOf(")")+1,c=o.indexOf("("),f=o.substring(c+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:r,parameters:ow(f)}},t},Pf=function(t,r){var o=r.toString(),u=o.indexOf(")")+1,c=o.indexOf("("),f=o.substring(c+1,u-1).split(/,\s*/);return t.toFunctionAnnotation=function(){return{name:"OVERRIDE",parameters:ow(f.slice(1))}},t},uw=Yn("alloy-premade"),Rf=function(t){return gc(uw,t)},$M=function(t){return dt(t,uw)},Mo=function(t){return Pf(function(r){for(var o=[],u=1;u<arguments.length;u++)o[u-1]=arguments[u];return t.apply(void 0,ct([r.getApis(),r],o,!1))},t)},wu={init:function(){return ns({readState:L("No State required")})}},ns=function(t){return t},Ik=function(t,r){var o=St(r,function(c){return ks(c.name(),[jt("config"),$e("state",wu)])}),u=To("component.behaviours",dr(o),t.behaviours).fold(function(c){throw new Error(Xd(c)+`
Complete spec:
`+JSON.stringify(t,null,2))},_e);return{list:r,data:Jt(u,function(c){var f=c.map(function(d){return{config:d.config,state:d.state.init(d.config)}});return L(f)})}},o1=function(t){return t.list},LM=function(t){return t.data},zk=function(t,r){var o={};return yn(t,function(u,c){yn(u,function(f,d){var p=dt(o,d).getOr([]);o[d]=p.concat([r(c,f)])})}),o},ll=function(t){return{classes:ye(t.classes)?[]:t.classes,attributes:ye(t.attributes)?{}:t.attributes,styles:ye(t.styles)?{}:t.styles}},HM=function(t,r){return G(G({},t),{attributes:G(G({},t.attributes),r.attributes),styles:G(G({},t.styles),r.styles),classes:t.classes.concat(r.classes)})},VM=function(t,r,o,u){var c=G({},r);Ke(o,function(O){c[O.name()]=O.exhibit(t,u)});var f=zk(c,function(O,P){return{name:O,modification:P}}),d=function(O){return ft(O,function(P,V){return G(G({},V.modification),P)},{})},p=ft(f.classes,function(O,P){return P.modification.concat(O)},[]),b=d(f.attributes),x=d(f.styles);return ll({classes:p,attributes:b,styles:x})},i1=function(t,r,o,u){try{var c=Xr(o,function(f,d){var p=f[r],b=d[r],x=u.indexOf(p),O=u.indexOf(b);if(x===-1)throw new Error("The ordering for "+t+" does not have an entry for "+p+`.
Order specified: `+JSON.stringify(u,null,2));if(O===-1)throw new Error("The ordering for "+t+" does not have an entry for "+b+`.
Order specified: `+JSON.stringify(u,null,2));return x<O?-1:O<x?1:0});return jr.value(c)}catch(f){return jr.error([f])}},UM=function(t,r){return{handler:t,purpose:r}},WM=function(t,r){return{cHandler:t,purpose:r}},sw=function(t,r){return WM(Be.apply(void 0,[t.handler].concat(r)),t.purpose)},lw=function(t){return t.cHandler},cw=function(t,r){return{name:t,handler:r}},jM=function(t,r){var o={};return Ke(t,function(u){o[u.name()]=u.handlers(r)}),o},Nf=function(t,r,o){var u=G(G({},o),jM(r,t));return zk(u,cw)},Ff=function(t,r,o,u){var c=Nf(t,o,u);return $k(c,r)},ja=function(t){var r=MM(t);return function(o,u){for(var c=[],f=2;f<arguments.length;f++)c[f-2]=arguments[f];var d=[o,u].concat(c);r.abort.apply(void 0,d)?u.stop():r.can.apply(void 0,d)&&r.run.apply(void 0,d)}},fw=function(t,r){return jr.error(["The event ("+t+`) has more than one behaviour that listens to it.
When this occurs, you must specify an event ordering for the behaviours in your spec (e.g. [ "listing", "toggling" ]).
The behaviours that can trigger it are: `+JSON.stringify(St(r,function(o){return o.name}),null,2)])},Nl=function(t,r,o){var u=r[o];return u?i1("Event: "+o,"name",t,u).map(function(c){var f=St(c,function(d){return d.handler});return BM(f)}):fw(o,t)},$k=function(t,r){var o=Ln(t,function(u,c){var f=u.length===1?jr.value(u[0].handler):Nl(u,r,c);return f.map(function(d){var p=ja(d),b=u.length>1?We(r[c],function(x){return sn(u,function(O){return O.name===x})}).join(" > "):u[0].name;return gc(c,UM(p,b))})});return DM(o,{})},Fl,Bv="alloy.base.behaviour",Pv=dr([hi("dom","dom",Nr(),dr([jt("tag"),$e("styles",{}),$e("classes",[]),$e("attributes",{}),Oa("value"),Oa("innerHtml")])),jt("components"),jt("uid"),$e("events",{}),$e("apis",{}),hi("eventOrder","eventOrder",Up((Fl={},Fl[Es()]=["disabling",Bv,"toggling","typeaheadevents"],Fl[tm()]=[Bv,"focusing","keying"],Fl[th()]=[Bv,"disabling","toggling","representing"],Fl[Qd()]=[Bv,"representing","streaming","invalidating"],Fl[nh()]=[Bv,"representing","item-events","tooltipping"],Fl[sl()]=["focusing",Bv,"item-type-events"],Fl[Jc()]=["focusing",Bv,"item-type-events"],Fl[Sf()]=["item-type-events","tooltipping"],Fl[Xs()]=["receiving","reflecting","tooltipping"],Fl)),Ol()),Oa("domModification")]),vw=function(t){return To("custom.definition",Pv,t)},Lk=function(t){return G(G({},t.dom),{uid:t.uid,domChildren:St(t.components,function(r){return r.element})})},u1=function(t){return t.domModification.fold(function(){return ll({})},ll)},dw=function(t){return t.events},oh=function(t,r){var o=vo(t,r);return o===void 0||o===""?[]:o.split(" ")},qM=function(t,r,o){var u=oh(t,r),c=u.concat([o]);return qr(t,r,c.join(" ")),!0},s1=function(t,r,o){var u=We(oh(t,r),function(c){return c!==o});return u.length>0?qr(t,r,u.join(" ")):Ai(t,r),!1},lm=function(t){return t.dom.classList!==void 0},mw=function(t){return oh(t,"class")},GM=function(t,r){return qM(t,"class",r)},Hk=function(t,r){return s1(t,"class",r)},ri=function(t,r){lm(t)?t.dom.classList.add(r):GM(t,r)},KM=function(t){var r=lm(t)?t.dom.classList:mw(t);r.length===0&&Ai(t,"class")},Go=function(t,r){if(lm(t)){var o=t.dom.classList;o.remove(r)}else Hk(t,r);KM(t)},Cu=function(t,r){return lm(t)&&t.dom.classList.contains(r)},Rv=function(t,r){Ke(r,function(o){ri(t,o)})},Os=function(t,r){Ke(r,function(o){Go(t,o)})},gw=function(t,r){return pn(r,function(o){return Cu(t,o)})},If=function(t){return t.dom.value},cm=function(t,r){if(r===void 0)throw new Error("Value.set was undefined");t.dom.value=r},fm=function(t){var r=ce.fromTag(t.tag);Pd(r,t.attributes),Rv(r,t.classes),Tl(r,t.styles),t.innerHtml.each(function(u){return Tf(r,u)});var o=t.domChildren;return Gc(r,o),t.value.each(function(u){cm(r,u)}),t.uid,r1(r,t.uid),r},Vk=function(t){var r=dt(t,"behaviours").getOr({});return pt(ot(r),function(o){var u=r[o];return W(u)?[u.me]:[]})},Uk=function(t,r){return Ik(t,r)},XM=function(t){var r=Vk(t);return Uk(t,r)},YM=function(t,r,o){var u=Lk(t),c=u1(t),f={"alloy.base.modification":c},d=r.length>0?VM(o,f,r,u):c;return HM(u,d)},ZM=function(t,r,o){var u={"alloy.base.behaviour":dw(t)};return Ff(o,t.eventOrder,r,u).getOrDie()},JM=function(t){var r=function(){return Ie},o=Cr(zM),u=Dl(vw(t)),c=XM(t),f=o1(c),d=LM(c),p=YM(u,f,d),b=fm(p),x=ZM(u,f,d),O=Cr(u.components),P=function(xt){o.set(xt)},V=function(){o.set(ah(r))},q=function(){var xt=w(b),yt=pt(xt,function(Fe){return o.get().getByDom(Fe).fold(function(){return[]},Fr)});O.set(yt)},te=function(xt){var yt=d,Fe=ve(yt[xt.name()])?yt[xt.name()]:function(){throw new Error("Could not find "+xt.name()+" in "+JSON.stringify(t,null,2))};return Fe()},de=function(xt){return ve(d[xt.name()])},Pe=function(){return u.apis},le=function(xt){return d[xt]().map(function(yt){return yt.state.readState()}).getOr("not enabled")},Ie={uid:t.uid,getSystem:o.get,config:te,hasConfigured:de,spec:t,readState:le,getApis:Pe,connect:P,disconnect:V,element:b,syncComponents:q,components:O.get,events:x};return Ie},hw=function(t){var r=dt(t,"components").getOr([]);return St(r,Wo)},pw=function(t){var r=a1(t),o=r.events,u=xe(r,["events"]),c=hw(u),f=G(G({},u),{events:G(G({},um),o),components:c});return jr.value(JM(f))},Xi=function(t){var r=ce.fromText(t);return bw({element:r})},bw=function(t){var r=Wa("external.component",Ss([jt("element"),Oa("uid")]),t),o=Cr(ah()),u=function(p){o.set(p)},c=function(){o.set(ah(function(){return d}))},f=r.uid.getOrThunk(function(){return Mf("external")});r1(r.element,f);var d={uid:f,getSystem:o.get,config:A.none,hasConfigured:je,connect:u,disconnect:c,getApis:function(){return{}},element:r.element,spec:t,readState:L("No state"),syncComponents:ae,components:L([]),events:{}};return Rf(d)},QM=Mf,Wk=function(t){return Wt(t,"uid")},Wo=function(t){return $M(t).getOrThunk(function(){var r=Wk(t)?t:G({uid:QM("")},t);return pw(r).getOrDie()})},Ds=Rf;function l1(t,r,o,u,c){return t(o,u)?A.some(o):ve(c)&&c(o)?A.none():r(o,u,c)}var yw=function(t,r,o){for(var u=t.dom,c=ve(o)?o:je;u.parentNode;){u=u.parentNode;var f=ce.fromDom(u);if(r(f))return A.some(f);if(c(f))break}return A.none()},c1=function(t,r,o){var u=function(c,f){return f(c)};return l1(u,yw,t,r,o)},jk=function(t,r){var o=function(c){return r(ce.fromDom(c))},u=kt(t.dom.childNodes,o);return u.map(ce.fromDom)},Vr=function(t,r){var o=function(u){for(var c=0;c<u.childNodes.length;c++){var f=ce.fromDom(u.childNodes[c]);if(r(f))return A.some(f);var d=o(u.childNodes[c]);if(d.isSome())return d}return A.none()};return o(t.dom)},vm=function(t,r,o){return c1(t,r,o).isSome()},f1=function(t,r,o){return yw(t,function(u){return qo(u,r)},o)},ww=function(t,r){return jk(t,function(o){return qo(o,r)})},ai=function(t,r){return Hs(r,t)},Il=function(t,r,o){var u=function(c,f){return qo(c,f)};return l1(u,f1,t,r,o)},qk=function(t){var r=c1(t,function(o){if(!R(o))return!1;var u=vo(o,"id");return u!==void 0&&u.indexOf("aria-owns")>-1});return r.bind(function(o){var u=vo(o,"id"),c=vr(o);return ai(c,'[aria-owns="'+u+'"]')})},Nv=function(){var t=Yn("aria-owns"),r=function(u){qr(u,"aria-owns",t)},o=function(u){Ai(u,"aria-owns")};return{id:t,link:r,unlink:o}},uo=function(t,r){return qk(r).exists(function(o){return Fv(t,o)})},Fv=function(t,r){return vm(r,function(o){return _a(o,t.element)},je)||uo(t,r)},v1="unknown",dm;(function(t){t[t.STOP=0]="STOP",t[t.NORMAL=1]="NORMAL",t[t.LOGGING=2]="LOGGING"})(dm||(dm={}));var Cw=Cr({}),Gk=function(t,r){var o=[],u=new Date().getTime();return{logEventCut:function(c,f,d){o.push({outcome:"cut",target:f,purpose:d})},logEventStopped:function(c,f,d){o.push({outcome:"stopped",target:f,purpose:d})},logNoParent:function(c,f,d){o.push({outcome:"no-parent",target:f,purpose:d})},logEventNoHandlers:function(c,f){o.push({outcome:"no-handlers-left",target:f})},logEventResponse:function(c,f,d){o.push({outcome:"response",purpose:d,target:f})},write:function(){var c=new Date().getTime();tn(["mousemove","mouseover","mouseout",th()],t)}}},d1=function(t,r,o){var u=dt(Cw.get(),t).orThunk(function(){var d=ot(Cw.get());return Xe(d,function(p){return t.indexOf(p)>-1?A.some(Cw.get()[p]):A.none()})}).getOr(dm.NORMAL);switch(u){case dm.NORMAL:return o(eB());case dm.LOGGING:{var c=Gk(t,r),f=o(c);return c.write(),f}case dm.STOP:return!0}},Kk=["alloy/data/Fields","alloy/debugging/Debugging"],Qc=function(){var t=new Error;if(t.stack!==void 0){var r=t.stack.split(`
`);return kt(r,function(o){return o.indexOf("alloy")>0&&!sn(Kk,function(u){return o.indexOf(u)>-1})}).getOr(v1)}else return v1},xu={logEventCut:ae,logEventStopped:ae,logNoParent:ae,logEventNoHandlers:ae,logEventResponse:ae,write:ae},xw=function(t,r,o){return d1(t,r,o)},eB=L(xu),mm=L([jt("menu"),jt("selectedMenu")]),ih=L([jt("item"),jt("selectedItem")]);L(dr(ih().concat(mm())));var Xk=L(dr(ih())),tB=Zc("initSize",[jt("numColumns"),jt("numRows")]),nB=function(){return Ju("markers",Xk())},m1=function(){return Zc("markers",[jt("backgroundMenu")].concat(mm()).concat(ih()))},Iv=function(t){return Zc("markers",St(t,jt))},g1=function(t,r,o){return Qc(),hi(r,r,o,Kd(function(u){return jr.value(function(){for(var c=[],f=0;f<arguments.length;f++)c[f]=arguments[f];return u.apply(void 0,c)})}))},ba=function(t){return g1("onHandler",t,Qr(ae))},rs=function(t){return g1("onKeyboardHandler",t,Qr(A.none))},Su=function(t){return g1("onHandler",t,Nr())},Lu=function(t){return g1("onKeyboardHandler",t,Nr())},ro=function(t,r){return $u(t,L(r))},zv=function(t){return $u(t,_e)},h1=L(tB),_i=function(t,r,o,u,c,f,d,p){return p===void 0&&(p=!1),{x:t,y:r,bubble:o,direction:u,placement:c,restriction:f,label:d+"-"+c,alwaysFit:p}},yc=Ks.generate([{southeast:[]},{southwest:[]},{northeast:[]},{northwest:[]},{south:[]},{north:[]},{east:[]},{west:[]}]),rB=function(t,r,o,u,c,f,d,p,b){return t.fold(r,o,u,c,f,d,p,b)},aB=function(t,r,o,u){return t.fold(r,r,u,u,r,u,o,o)},p1=function(t,r,o,u){return t.fold(r,u,r,u,o,o,r,u)},b1=yc.southeast,Sw=yc.southwest,kw=yc.northeast,gm=yc.northwest,Yk=yc.south,Zk=yc.north,Ew=yc.east,Tw=yc.west,zi=function(t,r,o,u){var c=t+r;return c>u?o:c<o?u:c},as=function(t,r,o){return Math.min(Math.max(t,r),o)},uh=function(t,r){switch(r){case 1:return t.x;case 0:return t.x+t.width;case 2:return t.y;case 3:return t.y+t.height}},oi=function(t,r){return tr(["left","right","top","bottom"],function(o){return dt(r,o).map(function(u){return uh(t,u)})})},Jk=function(t,r,o){var u=function(b,x){return r[b].map(function(O){var P=b==="top"||b==="bottom",V=P?o.top:o.left,q=b==="left"||b==="top"?Math.max:Math.min,te=q(O,x)+V;return P?as(te,t.y,t.bottom):as(te,t.x,t.right)}).getOr(x)},c=u("left",t.x),f=u("top",t.y),d=u("right",t.right),p=u("bottom",t.bottom);return mi(c,f,d-c,p-f)},zf="layout",Qk=function(t){return t.x},eE=function(t,r){return t.x+t.width/2-r.width/2},tE=function(t,r){return t.x+t.width-r.width},Aw=function(t,r){return t.y-r.height},Ow=function(t){return t.y+t.height},Dw=function(t,r){return t.y+t.height/2-r.height/2},nE=function(t){return t.x+t.width},oB=function(t,r){return t.x-r.width},Yi=function(t,r,o){return _i(Qk(t),Ow(t),o.southeast(),b1(),"southeast",oi(t,{left:1,top:3}),zf)},Zi=function(t,r,o){return _i(tE(t,r),Ow(t),o.southwest(),Sw(),"southwest",oi(t,{right:0,top:3}),zf)},Hu=function(t,r,o){return _i(Qk(t),Aw(t,r),o.northeast(),kw(),"northeast",oi(t,{left:1,bottom:2}),zf)},ku=function(t,r,o){return _i(tE(t,r),Aw(t,r),o.northwest(),gm(),"northwest",oi(t,{right:0,bottom:2}),zf)},Vu=function(t,r,o){return _i(eE(t,r),Aw(t,r),o.north(),Zk(),"north",oi(t,{bottom:2}),zf)},Ko=function(t,r,o){return _i(eE(t,r),Ow(t),o.south(),Yk(),"south",oi(t,{top:3}),zf)},y1=function(t,r,o){return _i(nE(t),Dw(t,r),o.east(),Ew(),"east",oi(t,{left:0}),zf)},w1=function(t,r,o){return _i(oB(t,r),Dw(t,r),o.west(),Tw(),"west",oi(t,{right:1}),zf)},_w=function(){return[Yi,Zi,Hu,ku,Ko,Vu,y1,w1]},$v=function(){return[Zi,Yi,ku,Hu,Ko,Vu,y1,w1]},$f=function(){return[Hu,ku,Yi,Zi,Vu,Ko]},Mw=function(){return[ku,Hu,Zi,Yi,Vu,Ko]},Bw=function(){return[Yi,Zi,Hu,ku,Ko,Vu]},C1=function(){return[Zi,Yi,ku,Hu,Ko,Vu]},hm=function(t,r){return r.universal?t:We(t,function(o){return tn(r.channels,o)})},pm=function(t){return $a([qt(Xs(),function(r,o){var u=t.channels,c=ot(u),f=o,d=hm(c,f);Ke(d,function(p){var b=u[p],x=b.schema,O=Wa("channel["+p+`] data
Receiver: `+Df(r.element),x,f.data);b.onReceive(r,O)})})])},rE=Object.freeze({__proto__:null,events:pm}),iB=[Ju("channels",Gi(jr.value,Ss([Su("onReceive"),$e("schema",Ol())])))],x1=function(t,r,o){return Zs(function(u){o(u,t,r)})},wc=function(t,r,o){return Pk(function(u,c){o(u,t,r)})},uB=function(t,r,o,u,c,f){var d=Ss(t),p=ks(r,[kM("config",t)]);return oE(d,p,r,o,u,c,f)},sB=function(t,r,o,u,c,f){var d=t,p=ks(r,[_l("config",t)]);return oE(d,p,r,o,u,c,f)},aE=function(t,r,o){var u=function(c){for(var f=[],d=1;d<arguments.length;d++)f[d-1]=arguments[d];var p=[c].concat(f);return c.config({name:L(t)}).fold(function(){throw new Error("We could not find any behaviour configuration for: "+t+". Using API: "+o)},function(b){var x=Array.prototype.slice.call(p,1);return r.apply(void 0,[c,b.config,b.state].concat(x))})};return Bf(u,o,r)},lB=function(t){return{key:t,value:void 0}},oE=function(t,r,o,u,c,f,d){var p=function(P){return Bn(P,o)?P[o]():A.none()},b=Jt(c,function(P,V){return aE(o,P,V)}),x=Jt(f,function(P,V){return iw(P,V)}),O=G(G(G({},x),b),{revoke:Be(lB,o),config:function(P){var V=Wa(o+"-config",t,P);return{key:o,value:{config:V,me:O,configAsRaw:Qe(function(){return Wa(o+"-config",t,P)}),initialConfig:P,state:d}}},schema:L(r),exhibit:function(P,V){return ha(p(P),dt(u,"exhibit"),function(q,te){return te(V,q.config,q.state)}).getOrThunk(function(){return ll({})})},name:L(o),handlers:function(P){return p(P).map(function(V){var q=dt(u,"events").getOr(function(){return{}});return q(V.config,V.state)}).getOr({})}});return O},Cn=function(t){return Dv(t)},cB=Ss([jt("fields"),jt("name"),$e("active",{}),$e("apis",{}),$e("state",wu),$e("extra",{})]),pi=function(t){var r=Wa("Creating behaviour: "+t.name,cB,t);return uB(r.fields,r.name,r.active,r.apis,r.extra,r.state)},fB=Ss([jt("branchKey"),jt("branches"),jt("name"),$e("active",{}),$e("apis",{}),$e("state",wu),$e("extra",{})]),bm=function(t){var r=Wa("Creating behaviour: "+t.name,fB,t);return sB(Ws(r.branchKey,r.branches),r.name,r.active,r.apis,r.extra,r.state)},vB=L(void 0),Uu=pi({fields:iB,name:"receiving",active:rE}),Pw=function(t,r){return ll({classes:[],styles:r.useFixed()?{}:{position:"relative"}})},iE=Object.freeze({__proto__:null,exhibit:Pw}),sh=function(){return ce.fromDom(document)},zl=function(t){return t.dom.focus()},Rw=function(t){return t.dom.blur()},Nw=function(t){var r=vr(t).dom;return t.dom===r.activeElement},$l=function(t){return t===void 0&&(t=sh()),A.from(t.dom.activeElement).map(ce.fromDom)},Ll=function(t){return $l(vr(t)).filter(function(r){return t.dom.contains(r.dom)})},uE=function(t,r){var o=vr(r),u=$l(o).bind(function(f){var d=function(p){return _a(f,p)};return d(r)?A.some(r):Vr(r,d)}),c=t(r);return u.each(function(f){$l(o).filter(function(d){return _a(d,f)}).fold(function(){zl(f)},ae)}),c},cl=function(t,r,o,u,c){var f=function(d){return d+"px"};return{position:t,left:r.map(f),top:o.map(f),right:u.map(f),bottom:c.map(f)}},Lf=function(t){return G(G({},t),{position:A.some(t.position)})},Hf=function(t,r){vc(t,Lf(r))},Fw=Ks.generate([{none:[]},{relative:["x","y","width","height"]},{fixed:["x","y","width","height"]}]),Et=function(t,r,o,u,c,f){var d=r.rect,p=d.x-o,b=d.y-u,x=d.width,O=d.height,P=c-(p+x),V=f-(b+O),q=A.some(p),te=A.some(b),de=A.some(P),Pe=A.some(V),le=A.none();return rB(r.direction,function(){return cl(t,q,te,le,le)},function(){return cl(t,le,te,de,le)},function(){return cl(t,q,le,le,Pe)},function(){return cl(t,le,le,de,Pe)},function(){return cl(t,q,te,le,le)},function(){return cl(t,q,le,le,Pe)},function(){return cl(t,q,te,le,le)},function(){return cl(t,le,te,de,le)})},lh=function(t,r){return t.fold(function(){var o=r.rect;return cl("absolute",A.some(o.x),A.some(o.y),A.none(),A.none())},function(o,u,c,f){return Et("absolute",r,o,u,c,f)},function(o,u,c,f){return Et("fixed",r,o,u,c,f)})},Iw=function(t,r){var o=Be(Ud,r),u=t.fold(o,o,function(){var d=ws();return Ud(r).translate(-d.left,-d.top)}),c=dc(r),f=bs(r);return mi(u.left,u.top,c,f)},dB=function(t,r){return r.fold(function(){return t.fold(xs,xs,mi)},function(o){return t.fold(o,o,function(){var u=o(),c=S1(t,u.x,u.y);return mi(c.left,c.top,u.width,u.height)})})},S1=function(t,r,o){var u=Ka(r,o),c=function(){var f=ws();return u.translate(-f.left,-f.top)};return t.fold(L(u),L(u),c)},Hl=function(t,r,o,u){return t.fold(r,o,u)};Fw.none;var sE=Fw.relative,lE=Fw.fixed,cE=function(t,r){return{anchorBox:t,origin:r}},zw=function(t,r){return cE(t,r)},$w="data-alloy-placement",fE=function(t,r){qr(t,$w,r)},vE=function(t){return Ho(t,$w)},dE=function(t){return Ai(t,$w)},k1=Ks.generate([{fit:["reposition"]},{nofit:["reposition","visibleW","visibleH","isVisible"]}]),mE=function(t,r){var o=r.x,u=r.y,c=r.right,f=r.bottom,d=t.x,p=t.y,b=t.right,x=t.bottom,O=t.width,P=t.height,V=d>=o&&d<=c,q=p>=u&&p<=f,te=V&&q,de=b<=c&&b>=o,Pe=x<=f&&x>=u,le=de&&Pe,Ie=Math.min(O,d>=o?c-d:b-o),xt=Math.min(P,p>=u?f-p:x-u);return{originInBounds:te,sizeInBounds:le,visibleW:Ie,visibleH:xt}},mB=function(t,r){var o=r.x,u=r.y,c=r.right,f=r.bottom,d=t.x,p=t.y,b=t.width,x=t.height,O=Math.max(o,c-b),P=Math.max(u,f-x),V=as(d,o,O),q=as(p,u,P),te=Math.min(V+b,c)-V,de=Math.min(q+x,f)-q;return mi(V,q,te,de)},gB=function(t,r,o){var u=L(r.bottom-o.y),c=L(o.bottom-r.y),f=aB(t,c,c,u),d=L(r.right-o.x),p=L(o.right-r.x),b=p1(t,p,p,d);return{maxWidth:b,maxHeight:f}},gE=function(t,r,o,u){var c=t.bubble,f=c.offset,d=Jk(u,t.restriction,f),p=t.x+f.left,b=t.y+f.top,x=mi(p,b,r,o),O=mE(x,d),P=O.originInBounds,V=O.sizeInBounds,q=O.visibleW,te=O.visibleH,de=P&&V,Pe=de?x:mB(x,d),le=Pe.width>0&&Pe.height>0,Ie=gB(t.direction,Pe,u),xt=Ie.maxWidth,yt=Ie.maxHeight,Fe={rect:Pe,maxHeight:yt,maxWidth:xt,direction:t.direction,placement:t.placement,classes:{on:c.classesOn,off:c.classesOff},layout:t.label,testY:b};return de||t.alwaysFit?k1.fit(Fe):k1.nofit(Fe,q,te,le)},E1=function(t,r,o,u,c,f){var d=u.width,p=u.height,b=function(O,P,V,q,te){var de=O(o,u,c,t,f),Pe=gE(de,d,p,f);return Pe.fold(L(Pe),function(le,Ie,xt,yt){var Fe=te===yt?xt>q||Ie>V:!te&&yt;return Fe?Pe:k1.nofit(P,V,q,te)})},x=zt(r,function(O,P){var V=Be(b,P);return O.fold(L(O),V)},k1.nofit({rect:o,maxHeight:u.height,maxWidth:u.width,direction:b1(),placement:"southeast",classes:{on:[],off:[]},layout:"none",testY:o.y},-1,-1,!1));return x.fold(_e,_e)},Lw=function(t){var r=Cr(A.none()),o=function(){return r.get().each(t)},u=function(){o(),r.set(A.none())},c=function(){return r.get().isSome()},f=function(){return r.get()},d=function(p){o(),r.set(A.some(p))};return{clear:u,isSet:c,get:f,set:d}},Hw=function(){return Lw(function(t){return t.destroy()})},ym=function(){return Lw(function(t){return t.unbind()})},Vw=function(){var t=Hw(),r=function(o){return t.get().each(o)};return G(G({},t),{run:r})},Bo=function(){var t=Lw(ae),r=function(o){return t.get().each(o)};return G(G({},t),{on:r})},Uw=Ze,jo=function(t,r,o){return Ay(t,r,Uw,o)},T1=function(t,r,o){return Id(t,r,Uw,o)},Ww=zg,hE=["top","bottom","right","left"],A1="data-alloy-transition-timer",pE=function(t,r){return gw(t,r.classes)},bE=function(t,r,o){return o.exists(function(u){var c=t.mode;return c==="all"?!0:u[c]!==r[c]})},hB=function(t,r){var o=function(u){return parseFloat(u).toFixed(3)};return Ee(r,function(u,c){var f=t[c].map(o),d=u.map(o);return!xa(f,d)}).isSome()},yE=function(t){var r=function(f){var d=Fo(t,f),p=_(d)?d.split(/\s*,\s*/):[];return We(p,So)},o=function(f){if(_(f)&&/^[\d.]+/.test(f)){var d=parseFloat(f);return Gn(f,"ms")?d:d*1e3}else return 0},u=r("transition-delay"),c=r("transition-duration");return zt(c,function(f,d,p){var b=o(u[p])+o(d);return Math.max(f,b)},0)},pB=function(t,r){var o=ym(),u=ym(),c,f=function(O){var P,V=(P=O.raw.pseudoElement)!==null&&P!==void 0?P:"";return _a(O.target,t)&&oo(V)&&tn(hE,O.raw.propertyName)},d=function(O){if(Q(O)||f(O)){o.clear(),u.clear();var P=O==null?void 0:O.raw.type;(Q(P)||P===Jg())&&(clearTimeout(c),Ai(t,A1),Os(t,r.classes))}},p=function(){o.set(jo(t,Jg(),d)),u.set(jo(t,PM(),d))};if("ontransitionstart"in t.dom)var b=jo(t,Xy(),function(O){f(O)&&(b.unbind(),p())});else p();var x=yE(t);requestAnimationFrame(function(){c=setTimeout(d,x+17),qr(t,A1,c)})},bB=function(t,r){Rv(t,r.classes),Ho(t,A1).each(function(o){clearTimeout(parseInt(o,10)),Ai(t,A1)}),pB(t,r)},wE=function(t,r,o,u,c,f){var d=bE(u,c,f);if(d||pE(t,u)){Mr(t,"position",o.position);var p=Iw(r,t),b=lh(r,G(G({},c),{rect:p})),x=tr(hE,function(O){return b[O]});hB(o,x)&&(vc(t,x),d&&bB(t,u),Hc(t))}else Os(t,u.classes)},yB=function(t){return{width:dc(t),height:bs(t)}},wB=function(t,r,o,u){Ia(r,"max-height"),Ia(r,"max-width");var c=yB(r);return E1(r,u.preference,t,c,o,u.bounds)},CB=function(t,r){var o=r.classes;Os(t,o.off),Rv(t,o.on)},xB=function(t,r,o){var u=o.maxHeightFunction;u(t,r.maxHeight)},SB=function(t,r,o){var u=o.maxWidthFunction;u(t,r.maxWidth)},CE=function(t,r,o){var u=lh(o.origin,r);o.transition.each(function(c){wE(t,o.origin,u,c,r,o.lastPlacement)}),Hf(t,u)},kB=function(t,r){fE(t,r.placement)},Ji=function(t,r){Lp(t,Math.floor(r))},ch=L(function(t,r){Ji(t,r),Tl(t,{"overflow-x":"hidden","overflow-y":"auto"})}),fh=L(function(t,r){Ji(t,r)}),xE=function(t,r,o){return t[r]===void 0?o:t[r]},EB=function(t,r,o,u,c,f,d,p){var b=xE(d,"maxHeightFunction",ch()),x=xE(d,"maxWidthFunction",ae),O=t.anchorBox,P=t.origin,V={bounds:dB(P,f),origin:P,preference:u,maxHeightFunction:b,maxWidthFunction:x,lastPlacement:c,transition:p};return TB(O,r,o,V)},TB=function(t,r,o,u){var c=wB(t,r,o,u);return CE(r,c,u),kB(r,c),CB(r,c),xB(r,c,u),SB(r,c,u),{layout:c.layout,placement:c.placement}},AB=["valignCentre","alignLeft","alignRight","alignCentre","top","bottom","left","right","inset"],wm=function(t,r,o,u){u===void 0&&(u=1);var c=t*u,f=r*u,d=function(b){return dt(o,b).getOr([])},p=function(b,x,O){var P=Hn(AB,O);return{offset:Ka(b,x),classesOn:pt(O,d),classesOff:pt(P,d)}};return{southeast:function(){return p(-t,r,["top","alignLeft"])},southwest:function(){return p(t,r,["top","alignRight"])},south:function(){return p(-t/2,r,["top","alignCentre"])},northeast:function(){return p(-t,-r,["bottom","alignLeft"])},northwest:function(){return p(t,-r,["bottom","alignRight"])},north:function(){return p(-t/2,-r,["bottom","alignCentre"])},east:function(){return p(t,-r/2,["valignCentre","left"])},west:function(){return p(-t,-r/2,["valignCentre","right"])},insetNortheast:function(){return p(c,f,["top","alignLeft","inset"])},insetNorthwest:function(){return p(-c,f,["top","alignRight","inset"])},insetNorth:function(){return p(-c/2,f,["top","alignCentre","inset"])},insetSoutheast:function(){return p(c,-f,["bottom","alignLeft","inset"])},insetSouthwest:function(){return p(-c,-f,["bottom","alignRight","inset"])},insetSouth:function(){return p(-c/2,-f,["bottom","alignCentre","inset"])},insetEast:function(){return p(-c,-f/2,["valignCentre","right","inset"])},insetWest:function(){return p(c,-f/2,["valignCentre","left","inset"])}}},O1=function(){return wm(0,0,{})},vh=_e,jw=function(t,r){return function(o){return OB(o)==="rtl"?r:t}},OB=function(t){return Fo(t,"direction")==="rtl"?"rtl":"ltr"},Cc;(function(t){t.TopToBottom="toptobottom",t.BottomToTop="bottomtotop"})(Cc||(Cc={}));var qw="data-alloy-vertical-dir",DB=function(t){return vm(t,function(r){return R(r)&&vo(r,"data-alloy-vertical-dir")===Cc.BottomToTop})},Vf=function(){return ks("layouts",[jt("onLtr"),jt("onRtl"),Oa("onBottomLtr"),Oa("onBottomRtl")])},D1=function(t,r,o,u,c,f,d){var p=d.map(DB).getOr(!1),b=r.layouts.map(function(q){return q.onLtr(t)}),x=r.layouts.map(function(q){return q.onRtl(t)}),O=p?r.layouts.bind(function(q){return q.onBottomLtr.map(function(te){return te(t)})}).or(b).getOr(c):b.getOr(o),P=p?r.layouts.bind(function(q){return q.onBottomRtl.map(function(te){return te(t)})}).or(x).getOr(f):x.getOr(u),V=jw(O,P);return V(t)},_B=function(t,r,o){var u=r.hotspot,c=Iw(o,u.element),f=D1(t.element,r,Bw(),C1(),$f(),Mw(),A.some(r.hotspot.element));return A.some(vh({anchorBox:c,bubble:r.bubble.getOr(O1()),overrides:r.overrides,layouts:f,placer:A.none()}))},MB=[jt("hotspot"),Oa("bubble"),$e("overrides",{}),Vf(),ro("placement",_B)],SE=function(t,r,o){var u=S1(o,r.x,r.y),c=mi(u.left,u.top,r.width,r.height),f=D1(t.element,r,_w(),$v(),_w(),$v(),A.none());return A.some(vh({anchorBox:c,bubble:r.bubble,overrides:r.overrides,layouts:f,placer:A.none()}))},kE=[jt("x"),jt("y"),$e("height",0),$e("width",0),$e("bubble",O1()),$e("overrides",{}),Vf(),ro("placement",SE)],EE=Ks.generate([{screen:["point"]},{absolute:["point","scrollLeft","scrollTop"]}]),TE=function(t){return t.fold(_e,function(r,o,u){return r.translate(-o,-u)})},BB=function(t){return t.fold(_e,_e)},AE=function(t){return zt(t,function(r,o){return r.translate(o.left,o.top)},Ka(0,0))},OE=function(t){var r=St(t,TE);return AE(r)},DE=function(t){var r=St(t,BB);return AE(r)},PB=EE.screen,_E=EE.absolute,RB=function(t,r,o){var u=ps(o.root).dom,c=function(f){var d=ei(f),p=ei(t.element);return _a(d,p)};return A.from(u.frameElement).map(ce.fromDom).filter(c).map(bu)},ME=function(t,r,o){var u=ei(t.element),c=ws(u),f=RB(t,r,o).getOr(c);return _E(f,c.left,c.top)},Gw=function(t,r,o,u){var c=PB(Ka(t,r));return A.some(_y(c,o,u))},BE=function(t,r,o,u,c){return t.map(function(f){var d=[r,f.point],p=Hl(u,function(){return DE(d)},function(){return DE(d)},function(){return OE(d)}),b=Kc(p.left,p.top,f.width,f.height),x=o.showAbove?$f():Bw(),O=o.showAbove?Mw():C1(),P=D1(c,o,x,O,x,O,A.none());return vh({anchorBox:b,bubble:o.bubble.getOr(O1()),overrides:o.overrides,layouts:P,placer:A.none()})})},dh=function(t,r,o){var u=ME(t,o,r);return r.node.filter(wr).bind(function(c){var f=c.dom.getBoundingClientRect(),d=Gw(f.left,f.top,f.width,f.height),p=r.node.getOr(t.element);return BE(d,u,r,o,p)})},NB=[jt("node"),jt("root"),Oa("bubble"),Vf(),$e("overrides",{}),$e("showAbove",!1),ro("placement",dh)],mh="\uFEFF",FB=" ",IB=function(t,r,o,u){return{start:t,soffset:r,finish:o,foffset:u}},Kw={create:IB},Xw=Ks.generate([{before:["element"]},{on:["element","offset"]},{after:["element"]}]),zB=function(t,r,o,u){return t.fold(r,o,u)},$B=function(t){return t.fold(_e,_e,_e)},LB=Xw.before,HB=Xw.on,VB=Xw.after,UB={before:LB,on:HB,after:VB,cata:zB,getStart:$B},_1=Ks.generate([{domRange:["rng"]},{relative:["startSitu","finishSitu"]},{exact:["start","soffset","finish","foffset"]}]),WB=function(t){return _1.exact(t.start,t.soffset,t.finish,t.foffset)},jB=function(t){return t.match({domRange:function(r){return ce.fromDom(r.startContainer)},relative:function(r,o){return UB.getStart(r)},exact:function(r,o,u,c){return r}})},qB=_1.domRange,GB=_1.relative,KB=_1.exact,Yw=function(t){var r=jB(t);return ps(r)},XB=Kw.create,gh={domRange:qB,relative:GB,exact:KB,exactFromRange:WB,getWin:Yw,range:XB},YB=function(t,r){r.fold(function(o){t.setStartBefore(o.dom)},function(o,u){t.setStart(o.dom,u)},function(o){t.setStartAfter(o.dom)})},ZB=function(t,r){r.fold(function(o){t.setEndBefore(o.dom)},function(o,u){t.setEnd(o.dom,u)},function(o){t.setEndAfter(o.dom)})},PE=function(t,r,o){var u=t.document.createRange();return YB(u,r),ZB(u,o),u},RE=function(t,r,o,u,c){var f=t.document.createRange();return f.setStart(r.dom,o),f.setEnd(u.dom,c),f},NE=function(t){return{left:t.left,top:t.top,right:t.right,bottom:t.bottom,width:t.width,height:t.height}},FE=function(t){var r=t.getClientRects(),o=r.length>0?r[0]:t.getBoundingClientRect();return o.width>0||o.height>0?A.some(o).map(NE):A.none()},IE=function(t){var r=t.getBoundingClientRect();return r.width>0||r.height>0?A.some(r).map(NE):A.none()},Cm=Ks.generate([{ltr:["start","soffset","finish","foffset"]},{rtl:["start","soffset","finish","foffset"]}]),Zw=function(t,r,o){return r(ce.fromDom(o.startContainer),o.startOffset,ce.fromDom(o.endContainer),o.endOffset)},zE=function(t,r){return r.match({domRange:function(o){return{ltr:L(o),rtl:A.none}},relative:function(o,u){return{ltr:Qe(function(){return PE(t,o,u)}),rtl:Qe(function(){return A.some(PE(t,u,o))})}},exact:function(o,u,c,f){return{ltr:Qe(function(){return RE(t,o,u,c,f)}),rtl:Qe(function(){return A.some(RE(t,c,f,o,u))})}}})},JB=function(t,r){var o=r.ltr();if(o.collapsed){var u=r.rtl().filter(function(c){return c.collapsed===!1});return u.map(function(c){return Cm.rtl(ce.fromDom(c.endContainer),c.endOffset,ce.fromDom(c.startContainer),c.startOffset)}).getOrThunk(function(){return Zw(t,Cm.ltr,o)})}else return Zw(t,Cm.ltr,o)},QB=function(t,r){var o=zE(t,r);return JB(t,o)},$E=function(t,r){var o=QB(t,r);return o.match({ltr:function(u,c,f,d){var p=t.document.createRange();return p.setStart(u.dom,c),p.setEnd(f.dom,d),p},rtl:function(u,c,f,d){var p=t.document.createRange();return p.setStart(f.dom,d),p.setEnd(u.dom,c),p}})};Cm.ltr,Cm.rtl;var eP=function(t,r){var o=function(f){if(!t(f))throw new Error("Can only get "+r+" value of a "+r+" node");return u(f).getOr("")},u=function(f){return t(f)?A.from(f.dom.nodeValue):A.none()},c=function(f,d){if(!t(f))throw new Error("Can only set raw "+r+" value of a "+r+" node");f.dom.nodeValue=d};return{get:o,getOption:u,set:c}},LE=eP(Z,"text"),Lv=function(t){return LE.get(t)},M1=function(t){return LE.getOption(t)},tP=function(t){return pe(t)==="img"?1:M1(t).fold(function(){return w(t).length},function(r){return r.length})},nP=function(t){return M1(t).filter(function(r){return r.trim().length!==0||r.indexOf(FB)>-1}).isSome()},rP=["img","br"],aP=function(t){var r=nP(t);return r||tn(rP,pe(t))},HE=function(t){return oP(t,aP)},oP=function(t,r){var o=function(u){for(var c=w(u),f=c.length-1;f>=0;f--){var d=c[f];if(r(d))return A.some(d);var p=o(d);if(p.isSome())return p}return A.none()};return o(t)},Eu=function(t,r){return hs(r,t)},VE=function(t,r,o,u){var c=ei(t),f=c.dom.createRange();return f.setStart(t.dom,r),f.setEnd(o.dom,u),f},hh=function(t,r,o,u){var c=VE(t,r,o,u),f=_a(t,o)&&r===u;return c.collapsed&&!f},Hv=function(t){return A.from(t.getSelection())},B1=function(t){if(t.rangeCount>0){var r=t.getRangeAt(0),o=t.getRangeAt(t.rangeCount-1);return A.some(Kw.create(ce.fromDom(r.startContainer),r.startOffset,ce.fromDom(o.endContainer),o.endOffset))}else return A.none()},iP=function(t){if(t.anchorNode===null||t.focusNode===null)return B1(t);var r=ce.fromDom(t.anchorNode),o=ce.fromDom(t.focusNode);return hh(r,t.anchorOffset,o,t.focusOffset)?A.some(Kw.create(r,t.anchorOffset,o,t.focusOffset)):B1(t)},uP=function(t){return Hv(t).filter(function(r){return r.rangeCount>0}).bind(iP)},Jw=function(t,r){var o=$E(t,r);return FE(o)},UE=function(t,r){var o=$E(t,r);return IE(o)},ph=function(t,r){return{element:t,offset:r}},sP=function(t,r){var o=w(t);if(o.length===0)return ph(t,r);if(r<o.length)return ph(o[r],0);var u=o[o.length-1],c=Z(u)?Lv(u).length:w(u).length;return ph(u,c)},Vv=function(t,r){return Z(t)?ph(t,r):sP(t,r)},Uf=function(t,r){var o=r.getSelection.getOrThunk(function(){return function(){return uP(t)}});return o().map(function(u){var c=Vv(u.start,u.soffset),f=Vv(u.finish,u.foffset);return gh.range(c.element,c.offset,f.element,f.offset)})},P1=function(t,r,o){var u=ps(r.root).dom,c=ME(t,o,r),f=Uf(u,r).bind(function(b){var x=UE(u,gh.exactFromRange(b)).orThunk(function(){var O=ce.fromText(mh);Io(b.start,O);var P=Jw(u,gh.exact(O,0,O,1));return ys(O),P});return x.bind(function(O){return Gw(O.left,O.top,O.width,O.height)})}),d=Uf(u,r).bind(function(b){return R(b.start)?A.some(b.start):El(b.start)}),p=d.getOr(t.element);return BE(f,c,r,o,p)},xm=[Oa("getSelection"),jt("root"),Oa("bubble"),Vf(),$e("overrides",{}),$e("showAbove",!1),ro("placement",P1)],Vl="link-layout",Ul=function(t){return t.x+t.width},R1=function(t,r){return t.x-r.width},Qw=function(t,r){return t.y-r.height+t.height},WE=function(t){return t.y},e2=function(t,r,o){return _i(Ul(t),WE(t),o.southeast(),b1(),"southeast",oi(t,{left:0,top:2}),Vl)},Sm=function(t,r,o){return _i(R1(t,r),WE(t),o.southwest(),Sw(),"southwest",oi(t,{right:1,top:2}),Vl)},km=function(t,r,o){return _i(Ul(t),Qw(t,r),o.northeast(),kw(),"northeast",oi(t,{left:0,bottom:3}),Vl)},N1=function(t,r,o){return _i(R1(t,r),Qw(t,r),o.northwest(),gm(),"northwest",oi(t,{right:1,bottom:3}),Vl)},t2=function(){return[e2,Sm,km,N1]},Em=function(){return[Sm,e2,N1,km]},F1=function(t,r,o){var u=Iw(o,r.item.element),c=D1(t.element,r,t2(),Em(),t2(),Em(),A.none());return A.some(vh({anchorBox:u,bubble:O1(),overrides:r.overrides,layouts:c,placer:A.none()}))},lP=[jt("item"),Vf(),$e("overrides",{}),ro("placement",F1)],n2=Ws("type",{selection:xm,node:NB,hotspot:MB,submenu:lP,makeshift:kE}),I1=[yu("classes",Vo),qs("mode","all",["all","layout","placement"])],$i=[$e("useFixed",je),Oa("getBounds")],cP=[Ju("anchor",n2),ks("transition",I1)],xc=function(){var t=document.documentElement;return lE(0,0,t.clientWidth,t.clientHeight)},jE=function(t){var r=bu(t.element),o=t.element.dom.getBoundingClientRect();return sE(r.left,r.top,o.width,o.height)},r2=function(t,r,o,u,c,f,d){var p=zw(o.anchorBox,r);return EB(p,c.element,o.bubble,o.layouts,f,u,o.overrides,d)},Tm=function(t,r,o,u,c){a2(t,r,o,u,c,A.none())},a2=function(t,r,o,u,c,f){var d=f.map(gi);return bh(t,r,o,u,c,d)},bh=function(t,r,o,u,c,f){var d=Wa("placement.info",dr(cP),c),p=d.anchor,b=u.element,x=o.get(u.uid);uE(function(){Mr(b,"position","fixed");var O=Oi(b,"visibility");Mr(b,"visibility","hidden");var P=r.useFixed()?xc():jE(t),V=p.placement,q=f.map(L).or(r.getBounds);V(t,p,P).each(function(te){var de=te.placer.getOr(r2),Pe=de(t,P,te,q,u,x,d.transition);o.set(u.uid,Pe)}),O.fold(function(){Ia(b,"visibility")},function(te){Mr(b,"visibility",te)}),Oi(b,"left").isNone()&&Oi(b,"top").isNone()&&Oi(b,"right").isNone()&&Oi(b,"bottom").isNone()&&pr(Oi(b,"position"),"fixed")&&Ia(b,"position")},b)},fP=function(t,r,o){return r.useFixed()?"fixed":"absolute"},qE=function(t,r,o,u){var c=u.element;Ke(["position","left","right","top","bottom"],function(f){return Ia(c,f)}),dE(c),o.clear(u.uid)},GE=Object.freeze({__proto__:null,position:Tm,positionWithin:a2,positionWithinBounds:bh,getMode:fP,reset:qE}),vP=function(){var t={},r=function(c,f){t[c]=f},o=function(c){return dt(t,c)},u=function(c){W(c)?delete t[c]:t={}};return ns({readState:function(){return t},clear:u,set:r,get:o})},o2=Object.freeze({__proto__:null,init:vP}),Po=pi({fields:$i,name:"positioning",active:iE,apis:GE,state:o2}),z1=function(t){da(t,nh());var r=t.components();Ke(r,z1)},$1=function(t){var r=t.components();Ke(r,$1),da(t,Ts())},i2=function(t,r){qi(t.element,r.element)},KE=function(t){Ke(t.components(),function(r){return ys(r.element)}),$d(t.element),t.syncComponents()},u2=function(t,r){var o=t.components();KE(t);var u=Hn(o,r);Ke(u,function(c){z1(c),t.getSystem().removeFromWorld(c)}),Ke(r,function(c){c.getSystem().isConnected()?i2(t,c):(t.getSystem().addToWorld(c),i2(t,c),wr(t.element)&&$1(c)),t.syncComponents()})},Uv=function(t,r){XE(t,r,qi)},XE=function(t,r,o){t.getSystem().addToWorld(r),o(t.element,r.element),wr(t.element)&&$1(r),t.syncComponents()},_s=function(t){z1(t),ys(t.element),t.getSystem().removeFromWorld(t)},Sc=function(t){var r=Lo(t.element).bind(function(o){return t.getSystem().getByDom(o).toOptional()});_s(t),r.each(function(o){o.syncComponents()})},s2=function(t){var r=t.components();Ke(r,_s),$d(t.element),t.syncComponents()},Wf=function(t,r){jl(t,r,qi)},Wl=function(t,r){jl(t,r,zd)},jl=function(t,r,o){o(t,r.element);var u=w(r.element);Ke(u,function(c){r.getByDom(c).each($1)})},Tu=function(t){var r=w(t.element);Ke(r,function(o){t.getByDom(o).each(z1)}),ys(t.element)},ql=function(t,r,o,u){o.get().each(function(d){s2(t)});var c=r.getAttachPoint(t);Uv(c,t);var f=t.getSystem().build(u);return Uv(t,f),o.set(f),f},l2=function(t,r,o,u){var c=ql(t,r,o,u);return r.onOpen(t,c),c},kc=function(t,r,o,u){return o.get().map(function(){return ql(t,r,o,u)})},Wv=function(t,r,o,u,c){eT(t,r),l2(t,r,o,u),c(),tT(t,r)},YE=function(t,r,o){o.get().each(function(u){s2(t),Sc(t),r.onClose(t,u),o.clear()})},ZE=function(t,r,o){return o.isOpen()},dP=function(t,r,o,u){return ZE(t,r,o)&&o.get().exists(function(c){return r.isPartOf(t,c,u)})},mP=function(t,r,o){return o.get()},JE=function(t,r,o,u){Oi(t.element,r).fold(function(){Ai(t.element,o)},function(c){qr(t.element,o,c)}),Mr(t.element,r,u)},QE=function(t,r,o){Ho(t.element,o).fold(function(){return Ia(t.element,r)},function(u){return Mr(t.element,r,u)})},eT=function(t,r,o){var u=r.getAttachPoint(t);Mr(t.element,"position",Po.getMode(u)),JE(t,"visibility",r.cloakVisibilityAttr,"hidden")},gP=function(t){return sn(["top","left","right","bottom"],function(r){return Oi(t,r).isSome()})},tT=function(t,r,o){gP(t.element)||Ia(t.element,"position"),QE(t,"visibility",r.cloakVisibilityAttr)},hP=Object.freeze({__proto__:null,cloak:eT,decloak:tT,open:l2,openWhileCloaked:Wv,close:YE,isOpen:ZE,isPartOf:dP,getState:mP,setContent:kc}),nT=function(t,r){return $a([qt(eh(),function(o,u){YE(o,t,r)})])},rT=Object.freeze({__proto__:null,events:nT}),c2=[ba("onOpen"),ba("onClose"),jt("isPartOf"),jt("getAttachPoint"),$e("cloakVisibilityAttr","data-precloak-visibility")],aT=function(){var t=Bo(),r=L("not-implemented");return ns({readState:r,isOpen:t.isSet,clear:t.clear,set:t.set,get:t.get})},pP=Object.freeze({__proto__:null,init:aT}),ra=pi({fields:c2,name:"sandboxing",active:rT,apis:hP,state:pP}),jv=L("dismiss.popups"),Am=L("reposition.popups"),f2=L("mouse.released"),bP=Ss([$e("isExtraPart",je),ks("fireEventInstead",[$e("event",Pl())])]),os=function(t){var r,o=Wa("Dismissal",bP,t);return r={},r[jv()]={schema:Ss([jt("target")]),onReceive:function(u,c){if(ra.isOpen(u)){var f=ra.isPartOf(u,c.target)||o.isExtraPart(u,c.target);f||o.fireEventInstead.fold(function(){return ra.close(u)},function(d){return da(u,d.event)})}}},r},yP=Ss([ks("fireEventInstead",[$e("event",Ki())]),cu("doReposition")]),qv=function(t){var r,o=Wa("Reposition",yP,t);return r={},r[Am()]={onReceive:function(u){ra.isOpen(u)&&o.fireEventInstead.fold(function(){return o.doReposition(u)},function(c){return da(u,c.event)})}},r},jf=function(t,r,o){r.store.manager.onLoad(t,r,o)},L1=function(t,r,o){r.store.manager.onUnload(t,r,o)},H1=function(t,r,o,u){r.store.manager.setValue(t,r,o,u)},wP=function(t,r,o){return r.store.manager.getValue(t,r,o)},oT=function(t,r,o){return o},v2=Object.freeze({__proto__:null,onLoad:jf,onUnload:L1,setValue:H1,getValue:wP,getState:oT}),d2=function(t,r){var o=t.resetOnDom?[Hr(function(u,c){jf(u,t,r)}),Ys(function(u,c){L1(u,t,r)})]:[wc(t,r,jf)];return $a(o)},Om=Object.freeze({__proto__:null,events:d2}),V1=function(){var t=Cr(null),r=function(){return{mode:"memory",value:t.get()}},o=function(){return t.get()===null},u=function(){t.set(null)};return ns({set:t.set,get:t.get,isNotSet:o,clear:u,readState:r})},CP=function(){var t=ae;return ns({readState:t})},Ec=function(){var t=Cr({}),r=Cr({}),o=function(){return{mode:"dataset",dataByValue:t.get(),dataByText:r.get()}},u=function(){t.set({}),r.set({})},c=function(d){return dt(t.get(),d).orThunk(function(){return dt(r.get(),d)})},f=function(d){var p=t.get(),b=r.get(),x={},O={};Ke(d,function(P){x[P.value]=P,dt(P,"meta").each(function(V){dt(V,"text").each(function(q){O[q]=P})})}),t.set(G(G({},p),x)),r.set(G(G({},b),O))};return ns({readState:o,lookup:c,update:f,clear:u})},m2=function(t){return t.store.manager.state(t)},g2=Object.freeze({__proto__:null,memory:V1,dataset:Ec,manual:CP,init:m2}),yh=function(t,r,o,u){var c=r.store;o.update([u]),c.setValue(t,u),r.onSetValue(t,u)},iT=function(t,r,o){var u=r.store,c=u.getDataKey(t);return o.lookup(c).getOrThunk(function(){return u.getFallbackEntry(c)})},U1=function(t,r,o){var u=r.store;u.initialValue.each(function(c){yh(t,r,o,c)})},xP=function(t,r,o){o.clear()},SP=[Oa("initialValue"),jt("getFallbackEntry"),jt("getDataKey"),jt("setValue"),ro("manager",{setValue:yh,getValue:iT,onLoad:U1,onUnload:xP,state:Ec})],Tc=function(t,r,o){return r.store.getValue(t)},Ms=function(t,r,o,u){r.store.setValue(t,u),r.onSetValue(t,u)},Li=function(t,r,o){r.store.initialValue.each(function(u){r.store.setValue(t,u)})},kP=[jt("getValue"),$e("setValue",ae),Oa("initialValue"),ro("manager",{setValue:Ms,getValue:Tc,onLoad:Li,onUnload:ae,state:wu.init})],h2=function(t,r,o,u){o.set(u),r.onSetValue(t,u)},Dm=function(t,r,o){return o.get()},uT=function(t,r,o){r.store.initialValue.each(function(u){o.isNotSet()&&o.set(u)})},sT=function(t,r,o){o.clear()},EP=[Oa("initialValue"),ro("manager",{setValue:h2,getValue:Dm,onLoad:uT,onUnload:sT,state:V1})],TP=[es("store",{mode:"memory"},Ws("mode",{memory:EP,manual:kP,dataset:SP})),ba("onSetValue"),$e("resetOnDom",!1)],_n=pi({fields:TP,name:"representing",active:Om,apis:v2,extra:{setValueFrom:function(t,r){var o=_n.getValue(r);_n.setValue(t,o)}},state:g2}),ii=function(t,r){return Hy(t,{},St(r,function(o){return Yd(o.name(),"Cannot configure "+o.name()+" for "+t)}).concat([$u("dump",_e)]))},W1=function(t){return t.dump},Mi=function(t,r){return G(G({},Cn(r)),t.dump)},Qs={field:ii,augment:Mi,get:W1},p2="placeholder",wh=Ks.generate([{single:["required","valueThunk"]},{multiple:["required","valueThunks"]}]),j1=function(t){return Wt(t,"uiType")},q1=function(t,r,o,u){return t.exists(function(c){return c!==o.owner})?wh.single(!0,L(o)):dt(u,o.name).fold(function(){throw new Error("Unknown placeholder component: "+o.name+`
Known: [`+ot(u)+`]
Namespace: `+t.getOr("none")+`
Spec: `+JSON.stringify(o,null,2))},function(c){return c.replace()})},lT=function(t,r,o,u){return j1(o)&&o.uiType===p2?q1(t,r,o,u):wh.single(!1,L(o))},Gv=function(t,r,o,u){var c=lT(t,r,o,u);return c.fold(function(f,d){var p=j1(o)?d(r,o.config,o.validated):d(r),b=dt(p,"components").getOr([]),x=pt(b,function(O){return Gv(t,r,O,u)});return[G(G({},p),{components:x})]},function(f,d){if(j1(o)){var p=d(r,o.config,o.validated),b=o.validated.preprocess.getOr(_e);return b(p)}else return d(r)})},Ch=function(t,r,o,u){return pt(o,function(c){return Gv(t,r,c,u)})},b2=function(t,r){var o=!1,u=function(){return o},c=function(){if(o)throw new Error("Trying to use the same placeholder more than once: "+t);return o=!0,r},f=function(){return r.fold(function(d,p){return d},function(d,p){return d})};return{name:L(t),required:f,used:u,replace:c}},AP=function(t,r,o,u){var c=Jt(u,function(d,p){return b2(p,d)}),f=Ch(t,r,o,c);return yn(c,function(d){if(d.used()===!1&&d.required())throw new Error("Placeholder: "+d.name()+` was not found in components list
Namespace: `+t.getOr("none")+`
Components: `+JSON.stringify(r.components,null,2))}),f},cT=wh.single,OP=wh.multiple,fT=L(p2),xh=Ks.generate([{required:["data"]},{external:["data"]},{optional:["data"]},{group:["data"]}]),ef=$e("factory",{sketch:_e}),Kv=$e("schema",[]),G1=jt("name"),y2=hi("pname","pname",la(function(t){return"<alloy."+Yn(t.name)+">"}),Ol()),vT=$u("schema",function(){return[Oa("preprocess")]}),_m=$e("defaults",L({})),Mm=$e("overrides",L({})),w2=dr([ef,Kv,G1,y2,_m,Mm]),K1=dr([ef,Kv,G1,_m,Mm]),C2=dr([ef,Kv,G1,y2,_m,Mm]),x2=dr([ef,vT,G1,jt("unit"),y2,_m,Mm]),dT=function(t){return t.fold(A.some,A.none,A.some,A.some)},mT=function(t){var r=function(o){return o.name};return t.fold(r,r,r,r)},S2=function(t){return t.fold(_e,_e,_e,_e)},X1=function(t,r){return function(o){var u=Wa("Converting part type",r,o);return t(u)}},Qi=X1(xh.required,w2),fl=X1(xh.external,K1),vl=X1(xh.optional,C2),Y1=X1(xh.group,x2),k2=L("entirety"),gT=Object.freeze({__proto__:null,required:Qi,external:fl,optional:vl,group:Y1,asNamedPart:dT,name:mT,asCommon:S2,original:k2}),Xv=function(t,r,o,u){return Ot(r.defaults(t,o,u),o,{uid:t.partUids[r.name]},r.overrides(t,o,u))},Bm=function(t,r,o){var u={},c={};return Ke(o,function(f){f.fold(function(d){u[d.pname]=cT(!0,function(p,b,x){return d.factory.sketch(Xv(p,d,b,x))})},function(d){var p=r.parts[d.name];c[d.name]=L(d.factory.sketch(Xv(r,d,p[k2()]),p))},function(d){u[d.pname]=cT(!1,function(p,b,x){return d.factory.sketch(Xv(p,d,b,x))})},function(d){u[d.pname]=OP(!0,function(p,b,x){var O=p[d.name];return St(O,function(P){return d.factory.sketch(Ot(d.defaults(p,P,x),P,d.overrides(p,P)))})})})}),{internals:L(u),externals:L(c)}},Sh=function(t,r){var o={};return Ke(r,function(u){dT(u).each(function(c){var f=DP(t,c.pname);o[c.name]=function(d){var p=Wa("Part: "+c.name+" in "+t,dr(c.schema),d);return G(G({},f),{config:d,validated:p})}})}),o},DP=function(t,r){return{uiType:fT(),owner:t,name:r}},E2=function(t,r,o){return{uiType:fT(),owner:t,name:r,config:o,validated:{}}},hT=function(t){return pt(t,function(r){return r.fold(A.none,A.some,A.none,A.none).map(function(o){return Zc(o.name,o.schema.concat([zv(k2())]))}).toArray()})},pT=function(t){return St(t,mT)},T2=function(t,r,o){return Bm(t,r,o)},A2=function(t,r,o){return AP(A.some(t),r,r.components,o)},La=function(t,r,o){var u=r.partUids[o];return t.getSystem().getByUid(u).toOptional()},Ac=function(t,r,o){return La(t,r,o).getOrDie("Could not find part: "+o)},bT=function(t,r,o){var u={},c=r.partUids,f=t.getSystem();return Ke(o,function(d){u[d]=L(f.getByUid(c[d]))}),u},yT=function(t,r){var o=t.getSystem();return Jt(r.partUids,function(u,c){return L(o.getByUid(u))})},wT=function(t){return ot(t.partUids)},Z1=function(t,r,o){var u={},c=r.partUids,f=t.getSystem();return Ke(o,function(d){u[d]=L(f.getByUid(c[d]).getOrDie())}),u},O2=function(t,r){var o=pT(r);return Dv(St(o,function(u){return{key:u,value:t+"-"+u}}))},kh=function(t){return hi("partUids","partUids",lu(function(r){return O2(r.uid,t)}),Ol())},kr=Object.freeze({__proto__:null,generate:Sh,generateOne:E2,schemas:hT,names:pT,substitutes:T2,components:A2,defaultUids:O2,defaultUidsSchema:kh,getAllParts:yT,getAllPartNames:wT,getPart:La,getPartOrDie:Ac,getParts:bT,getPartsOrDie:Z1}),_P=function(t,r){var o=t.length>0?[Zc("parts",t)]:[];return o.concat([jt("uid"),$e("dom",{}),$e("components",[]),zv("originalSpec"),$e("debug.sketcher",{})]).concat(r)},D2=function(t,r,o,u,c){var f=_P(u,c);return Wa(t+" [SpecSchema]",Ss(f.concat(r)),o)},MP=function(t,r,o,u){var c=CT(u),f=D2(t,r,c,[],[]);return o(f,c)},_2=function(t,r,o,u,c){var f=CT(c),d=hT(o),p=kh(o),b=D2(t,r,f,d,[p]),x=T2(t,b,o),O=A2(t,b,x.internals());return u(b,O,f,x.externals())},BP=function(t){return Wt(t,"uid")},CT=function(t){return BP(t)?t:G(G({},t),{uid:Mf("uid")})},M2=function(t){return t.uid!==void 0},B2=Ss([jt("name"),jt("factory"),jt("configFields"),$e("apis",{}),$e("extraApis",{})]),PP=Ss([jt("name"),jt("factory"),jt("configFields"),jt("partFields"),$e("apis",{}),$e("extraApis",{})]),Bs=function(t){var r=Wa("Sketcher for "+t.name,B2,t),o=function(f){return MP(r.name,r.configFields,r.factory,f)},u=Jt(r.apis,Mo),c=Jt(r.extraApis,function(f,d){return iw(f,d)});return G(G({name:r.name,configFields:r.configFields,sketch:o},u),c)},Au=function(t){var r=Wa("Sketcher for "+t.name,PP,t),o=function(d){return _2(r.name,r.configFields,r.partFields,r.factory,d)},u=Sh(r.name,r.partFields),c=Jt(r.apis,Mo),f=Jt(r.extraApis,function(d,p){return iw(d,p)});return G(G({name:r.name,partFields:r.partFields,configFields:r.configFields,sketch:o,parts:u},c),f)},qf=function(t){return pe(t)==="input"&&vo(t,"type")!=="radio"||pe(t)==="textarea"},RP=function(t,r,o){return r.find(t)},NP=Object.freeze({__proto__:null,getCurrent:RP}),xT=[jt("find")],ta=pi({fields:xT,name:"composing",apis:NP}),FP=["input","button","textarea","select"],J1=function(t,r,o){var u=r.disabled()?P2:rb;u(t,r)},Q1=function(t,r){return r.useNative===!0&&tn(FP,pe(t.element))},eb=function(t){return zp(t.element,"disabled")},tb=function(t){qr(t.element,"disabled","disabled")},nb=function(t){Ai(t.element,"disabled")},Eh=function(t){return vo(t.element,"aria-disabled")==="true"},IP=function(t){qr(t.element,"aria-disabled","true")},zP=function(t){qr(t.element,"aria-disabled","false")},P2=function(t,r,o){r.disableClass.each(function(c){ri(t.element,c)});var u=Q1(t,r)?tb:IP;u(t),r.onDisabled(t)},rb=function(t,r,o){r.disableClass.each(function(c){Go(t.element,c)});var u=Q1(t,r)?nb:zP;u(t),r.onEnabled(t)},ST=function(t,r){return Q1(t,r)?eb(t):Eh(t)},$P=function(t,r,o,u){var c=u?P2:rb;c(t,r)},LP=Object.freeze({__proto__:null,enable:rb,disable:P2,isDisabled:ST,onLoad:J1,set:$P}),HP=function(t,r){return ll({classes:r.disabled()?r.disableClass.toArray():[]})},VP=function(t,r){return $a([Mk(Es(),function(o,u){return ST(o,t)}),wc(t,r,J1)])},R2=Object.freeze({__proto__:null,exhibit:HP,events:VP}),UP=[Xa("disabled",je),$e("useNative",!0),Oa("disableClass"),ba("onDisabled"),ba("onEnabled")],gr=pi({fields:UP,name:"disabling",active:R2,apis:LP}),kT=function(t,r,o,u){var c=Eu(t.element,"."+r.highlightClass);Ke(c,function(f){sn(u,function(d){return d.element===f})||(Go(f,r.highlightClass),t.getSystem().getByDom(f).each(function(d){r.onDehighlight(t,d),da(d,Qp())}))})},ET=function(t,r,o){return kT(t,r,o,[])},WP=function(t,r,o,u){N2(t,r,o,u)&&(Go(u.element,r.highlightClass),r.onDehighlight(t,u),da(u,Qp()))},Th=function(t,r,o,u){kT(t,r,o,[u]),N2(t,r,o,u)||(ri(u.element,r.highlightClass),r.onHighlight(t,u),da(u,nw()))},TT=function(t,r,o){I2(t,r).each(function(u){Th(t,r,o,u)})},AT=function(t,r,o){z2(t,r).each(function(u){Th(t,r,o,u)})},jP=function(t,r,o,u){DT(t,r,o,u).fold(function(c){throw c},function(c){Th(t,r,o,c)})},OT=function(t,r,o,u){var c=MT(t,r),f=kt(c,u);f.each(function(d){Th(t,r,o,d)})},N2=function(t,r,o,u){return Cu(u.element,r.highlightClass)},F2=function(t,r,o){return ai(t.element,"."+r.highlightClass).bind(function(u){return t.getSystem().getByDom(u).toOptional()})},DT=function(t,r,o,u){var c=Eu(t.element,"."+r.itemClass);return A.from(c[u]).fold(function(){return jr.error(new Error("No element found with index "+u))},t.getSystem().getByDom)},I2=function(t,r,o){return ai(t.element,"."+r.itemClass).bind(function(u){return t.getSystem().getByDom(u).toOptional()})},z2=function(t,r,o){var u=Eu(t.element,"."+r.itemClass),c=u.length>0?A.some(u[u.length-1]):A.none();return c.bind(function(f){return t.getSystem().getByDom(f).toOptional()})},_T=function(t,r,o,u){var c=Eu(t.element,"."+r.itemClass),f=jn(c,function(d){return Cu(d,r.highlightClass)});return f.bind(function(d){var p=zi(d,u,0,c.length-1);return t.getSystem().getByDom(c[p]).toOptional()})},qP=function(t,r,o){return _T(t,r,o,-1)},GP=function(t,r,o){return _T(t,r,o,1)},MT=function(t,r,o){var u=Eu(t.element,"."+r.itemClass);return Ar(St(u,function(c){return t.getSystem().getByDom(c).toOptional()}))},KP=Object.freeze({__proto__:null,dehighlightAll:ET,dehighlight:WP,highlight:Th,highlightFirst:TT,highlightLast:AT,highlightAt:jP,highlightBy:OT,isHighlighted:N2,getHighlighted:F2,getFirst:I2,getLast:z2,getPrevious:qP,getNext:GP,getCandidates:MT}),Ah=[jt("highlightClass"),jt("itemClass"),ba("onHighlight"),ba("onDehighlight")],Da=pi({fields:Ah,name:"highlighting",apis:KP}),XP=[8],tf=[9],dl=[13],ab=[27],is=[32],ob=[37],Yv=[38],ib=[39],Pm=[40],YP=function(t,r,o){var u=Nn(t.slice(0,r)),c=Nn(t.slice(r+1));return kt(u.concat(c),o)},ZP=function(t,r,o){var u=Nn(t.slice(0,r));return kt(u,o)},JP=function(t,r,o){var u=t.slice(0,r),c=t.slice(r+1);return kt(c.concat(u),o)},QP=function(t,r,o){var u=t.slice(r+1);return kt(u,o)},Zr=function(t){return function(r){var o=r.raw;return tn(t,o.which)}},Gl=function(t){return function(r){return pn(t,function(o){return o(r)})}},Rm=function(t){var r=t.raw;return r.shiftKey===!0},eR=function(t){var r=t.raw;return r.ctrlKey===!0},Oh=gt(Rm),ua=function(t,r){return{matches:t,classification:r}},tR=function(t,r){var o=kt(t,function(u){return u.matches(r)});return o.map(function(u){return u.classification})},BT=function(t,r,o){var u=r.exists(function(c){return o.exists(function(f){return _a(f,c)})});u||br(t,Zp(),{prevFocus:r,newFocus:o})},Dh=function(){var t=function(o){return Ll(o.element)},r=function(o,u){var c=t(o);o.getSystem().triggerFocus(u,o.element);var f=t(o);BT(o,c,f)};return{get:t,set:r}},PT=function(){var t=function(o){return Da.getHighlighted(o).map(function(u){return u.element})},r=function(o,u){var c=t(o);o.getSystem().getByDom(u).fold(ae,function(d){Da.highlight(o,d)});var f=t(o);BT(o,c,f)};return{get:t,set:r}},_h;(function(t){t.OnFocusMode="onFocus",t.OnEnterOrSpaceMode="onEnterOrSpace",t.OnApiMode="onApi"})(_h||(_h={}));var Zv=function(t,r,o,u,c){var f=function(){return t.concat([$e("focusManager",Dh()),es("focusInside","onFocus",Kd(function(x){return tn(["onFocus","onEnterOrSpace","onApi"],x)?jr.value(x):jr.error("Invalid value for focusInside")})),ro("handler",b),ro("state",r),ro("sendFocusIn",c)])},d=function(x,O,P,V,q){var te=P(x,O,V,q);return tR(te,O.event).bind(function(de){return de(x,O,V,q)})},p=function(x,O){var P=x.focusInside!==_h.OnFocusMode?A.none():c(x).map(function(te){return qt(tm(),function(de,Pe){te(de,x,O),Pe.stop()})}),V=function(te,de){var Pe=Zr(is.concat(dl))(de.event);x.focusInside===_h.OnEnterOrSpaceMode&&Pe&&Tk(te,de)&&c(x).each(function(le){le(te,x,O),de.stop()})},q=[qt(Xp(),function(te,de){d(te,de,o,x,O).fold(function(){V(te,de)},function(Pe){de.stop()})}),qt(Ok(),function(te,de){d(te,de,u,x,O).each(function(Pe){de.stop()})})];return $a(P.toArray().concat(q))},b={schema:f,processKey:d,toEvents:p};return b},$2=function(t){var r=[Oa("onEscape"),Oa("onEnter"),$e("selector",'[data-alloy-tabstop="true"]:not(:disabled)'),$e("firstTabstop",0),$e("useTabstopAt",Ze),Oa("visibilitySelector")].concat([t]),o=function(de,Pe){var le=de.visibilitySelector.bind(function(Ie){return Il(Pe,Ie)}).getOr(Pe);return ti(le)>0},u=function(de,Pe){var le=Eu(de.element,Pe.selector),Ie=We(le,function(xt){return o(Pe,xt)});return A.from(Ie[Pe.firstTabstop])},c=function(de,Pe){return Pe.focusManager.get(de).bind(function(le){return Il(le,Pe.selector)})},f=function(de,Pe){return o(de,Pe)&&de.useTabstopAt(Pe)},d=function(de,Pe,le){u(de,Pe).each(function(Ie){Pe.focusManager.set(de,Ie)})},p=function(de,Pe,le,Ie,xt){return xt(Pe,le,function(yt){return f(Ie,yt)}).fold(function(){return Ie.cyclic?A.some(!0):A.none()},function(yt){return Ie.focusManager.set(de,yt),A.some(!0)})},b=function(de,Pe,le,Ie){var xt=Eu(de.element,le.selector);return c(de,le).bind(function(yt){var Fe=jn(xt,Be(_a,yt));return Fe.bind(function(lt){return p(de,xt,lt,le,Ie)})})},x=function(de,Pe,le){var Ie=le.cyclic?YP:ZP;return b(de,Pe,le,Ie)},O=function(de,Pe,le){var Ie=le.cyclic?JP:QP;return b(de,Pe,le,Ie)},P=function(de,Pe,le){return le.onEnter.bind(function(Ie){return Ie(de,Pe)})},V=function(de,Pe,le){return le.onEscape.bind(function(Ie){return Ie(de,Pe)})},q=L([ua(Gl([Rm,Zr(tf)]),x),ua(Zr(tf),O),ua(Zr(ab),V),ua(Gl([Oh,Zr(dl)]),P)]),te=L([]);return Zv(r,wu.init,q,te,function(){return A.some(d)})},L2=$2($u("cyclic",je)),RT=$2($u("cyclic",Ze)),NT=function(t,r,o){return e1(t,o,Es()),A.some(!0)},Mh=function(t,r,o){var u=qf(o)&&Zr(is)(r.event);return u?A.none():NT(t,r,o)},Nm=function(t,r){return A.some(!0)},nR=[$e("execute",Mh),$e("useSpace",!1),$e("useEnter",!0),$e("useControlEnter",!1),$e("useDown",!1)],FT=function(t,r,o){return o.execute(t,r,t.element)},ub=function(t,r,o,u){var c=o.useSpace&&!qf(t.element)?is:[],f=o.useEnter?dl:[],d=o.useDown?Pm:[],p=c.concat(f).concat(d);return[ua(Zr(p),FT)].concat(o.useControlEnter?[ua(Gl([eR,Zr(dl)]),FT)]:[])},rR=function(t,r,o,u){return o.useSpace&&!qf(t.element)?[ua(Zr(is),Nm)]:[]},H2=Zv(nR,wu.init,ub,rR,function(){return A.none()}),IT=function(){var t=Bo(),r=function(c,f){t.set({numRows:c,numColumns:f})},o=function(){return t.get().map(function(c){return c.numRows})},u=function(){return t.get().map(function(c){return c.numColumns})};return ns({readState:function(){return t.get().map(function(c){return{numRows:String(c.numRows),numColumns:String(c.numColumns)}}).getOr({numRows:"?",numColumns:"?"})},setGridSize:r,getNumRows:o,getNumColumns:u})},aR=function(t){return t.state(t)},zT=Object.freeze({__proto__:null,flatgrid:IT,init:aR}),$T=function(t){return function(r,o,u,c){var f=t(r.element);return LT(f,r,o,u,c)}},V2=function(t,r){var o=jw(t,r);return $T(o)},U2=function(t,r){var o=jw(r,t);return $T(o)},W2=function(t){return function(r,o,u,c){return LT(t,r,o,u,c)}},LT=function(t,r,o,u,c){var f=u.focusManager.get(r).bind(function(d){return t(r.element,d,u,c)});return f.map(function(d){return u.focusManager.set(r,d),!0})},HT=W2,Fm=W2,Im=W2,oR=function(t){return t.offsetWidth<=0&&t.offsetHeight<=0},VT=function(t){return!oR(t.dom)},sb=function(t,r){return jn(t,r).map(function(o){return{index:o,candidates:t}})},UT=function(t,r,o){var u=function(d){return _a(d,r)},c=Eu(t,o),f=We(c,VT);return sb(f,u)},WT=function(t,r){return jn(t,function(o){return _a(r,o)})},jT=function(t,r,o,u){var c=Math.floor(r/o),f=r%o;return u(c,f).bind(function(d){var p=d.row*o+d.column;return p>=0&&p<t.length?A.some(t[p]):A.none()})},qT=function(t,r,o,u,c){return jT(t,r,u,function(f,d){var p=f===o-1,b=p?t.length-f*u:u,x=zi(d,c,0,b-1);return A.some({row:f,column:x})})},GT=function(t,r,o,u,c){return jT(t,r,u,function(f,d){var p=zi(f,c,0,o-1),b=p===o-1,x=b?t.length-p*u:u,O=as(d,0,x-1);return A.some({row:p,column:O})})},iR=function(t,r,o,u){return qT(t,r,o,u,1)},uR=function(t,r,o,u){return qT(t,r,o,u,-1)},KT=function(t,r,o,u){return GT(t,r,o,u,-1)},j2=function(t,r,o,u){return GT(t,r,o,u,1)},sR=[jt("selector"),$e("execute",Mh),rs("onEscape"),$e("captureTab",!1),h1()],lR=function(t,r,o){ai(t.element,r.selector).each(function(u){r.focusManager.set(t,u)})},cR=function(t,r){return r.focusManager.get(t).bind(function(o){return Il(o,r.selector)})},fR=function(t,r,o,u){return cR(t,o).bind(function(c){return o.execute(t,r,c)})},Oc=function(t){return function(r,o,u,c){return UT(r,o,u.selector).bind(function(f){return t(f.candidates,f.index,c.getNumRows().getOr(u.initSize.numRows),c.getNumColumns().getOr(u.initSize.numColumns))})}},XT=function(t,r,o){return o.captureTab?A.some(!0):A.none()},vR=function(t,r,o){return o.onEscape(t,r)},lb=Oc(uR),YT=Oc(iR),ZT=Oc(KT),JT=Oc(j2),QT=L([ua(Zr(ob),V2(lb,YT)),ua(Zr(ib),U2(lb,YT)),ua(Zr(Yv),HT(ZT)),ua(Zr(Pm),Fm(JT)),ua(Gl([Rm,Zr(tf)]),XT),ua(Gl([Oh,Zr(tf)]),XT),ua(Zr(ab),vR),ua(Zr(is.concat(dl)),fR)]),eA=L([ua(Zr(is),Nm)]),dR=Zv(sR,IT,QT,eA,function(){return A.some(lR)}),cb=function(t,r,o,u){var c=function(d){return pe(d)==="button"&&vo(d,"disabled")==="disabled"},f=function(d,p,b){var x=zi(p,u,0,b.length-1);return x===d?A.none():c(b[x])?f(d,x,b):A.from(b[x])};return UT(t,o,r).bind(function(d){var p=d.index,b=d.candidates;return f(p,p,b)})},mR=[jt("selector"),$e("getInitial",A.none),$e("execute",Mh),rs("onEscape"),$e("executeOnMove",!1),$e("allowVertical",!0)],q2=function(t,r){return r.focusManager.get(t).bind(function(o){return Il(o,r.selector)})},G2=function(t,r,o){return q2(t,o).bind(function(u){return o.execute(t,r,u)})},fb=function(t,r,o){r.getInitial(t).orThunk(function(){return ai(t.element,r.selector)}).each(function(u){r.focusManager.set(t,u)})},tA=function(t,r,o){return cb(t,o.selector,r,-1)},K2=function(t,r,o){return cb(t,o.selector,r,1)},el=function(t){return function(r,o,u,c){return t(r,o,u,c).bind(function(){return u.executeOnMove?G2(r,o,u):A.some(!0)})}},gR=function(t,r,o){return o.onEscape(t,r)},nA=function(t,r,o,u){var c=ob.concat(o.allowVertical?Yv:[]),f=ib.concat(o.allowVertical?Pm:[]);return[ua(Zr(c),el(V2(tA,K2))),ua(Zr(f),el(U2(tA,K2))),ua(Zr(dl),G2),ua(Zr(is),G2),ua(Zr(ab),gR)]},rA=L([ua(Zr(is),Nm)]),hR=Zv(mR,wu.init,nA,rA,function(){return A.some(fb)}),Bh=function(t,r,o){return A.from(t[r]).bind(function(u){return A.from(u[o]).map(function(c){return{rowIndex:r,columnIndex:o,cell:c}})})},X2=function(t,r,o,u){var c=t[r],f=c.length,d=zi(o,u,0,f-1);return Bh(t,r,d)},Y2=function(t,r,o,u){var c=zi(o,u,0,t.length-1),f=t[c].length,d=as(r,0,f-1);return Bh(t,c,d)},aA=function(t,r,o,u){var c=t[r],f=c.length,d=as(o+u,0,f-1);return Bh(t,r,d)},oA=function(t,r,o,u){var c=as(o+u,0,t.length-1),f=t[c].length,d=as(r,0,f-1);return Bh(t,c,d)},pR=function(t,r,o){return X2(t,r,o,1)},bR=function(t,r,o){return X2(t,r,o,-1)},iA=function(t,r,o){return Y2(t,o,r,-1)},yR=function(t,r,o){return Y2(t,o,r,1)},wR=function(t,r,o){return aA(t,r,o,-1)},uA=function(t,r,o){return aA(t,r,o,1)},CR=function(t,r,o){return oA(t,o,r,-1)},xR=function(t,r,o){return oA(t,o,r,1)},SR=[Zc("selectors",[jt("row"),jt("cell")]),$e("cycles",!0),$e("previousSelector",A.none),$e("execute",Mh)],kR=function(t,r,o){var u=r.previousSelector(t).orThunk(function(){var c=r.selectors;return ai(t.element,c.cell)});u.each(function(c){r.focusManager.set(t,c)})},ER=function(t,r,o){return Ll(t.element).bind(function(u){return o.execute(t,r,u)})},sA=function(t,r){return St(t,function(o){return Eu(o,r.selectors.cell)})},Ph=function(t,r){return function(o,u,c){var f=c.cycles?t:r;return Il(u,c.selectors.row).bind(function(d){var p=Eu(d,c.selectors.cell);return WT(p,u).bind(function(b){var x=Eu(o,c.selectors.row);return WT(x,d).bind(function(O){var P=sA(x,c);return f(P,O,b).map(function(V){return V.cell})})})})}},Z2=Ph(bR,wR),Jv=Ph(pR,uA),lA=Ph(iA,CR),cA=Ph(yR,xR),J2=L([ua(Zr(ob),V2(Z2,Jv)),ua(Zr(ib),U2(Z2,Jv)),ua(Zr(Yv),HT(lA)),ua(Zr(Pm),Fm(cA)),ua(Zr(is.concat(dl)),ER)]),TR=L([ua(Zr(is),Nm)]),AR=Zv(SR,wu.init,J2,TR,function(){return A.some(kR)}),OR=[jt("selector"),$e("execute",Mh),$e("moveOnTab",!1)],fA=function(t,r,o){return o.focusManager.get(t).bind(function(u){return o.execute(t,r,u)})},vA=function(t,r,o){ai(t.element,r.selector).each(function(u){r.focusManager.set(t,u)})},vb=function(t,r,o){return cb(t,o.selector,r,-1)},db=function(t,r,o){return cb(t,o.selector,r,1)},DR=function(t,r,o,u){return o.moveOnTab?Im(vb)(t,r,o,u):A.none()},Gf=function(t,r,o,u){return o.moveOnTab?Im(db)(t,r,o,u):A.none()},dA=L([ua(Zr(Yv),Im(vb)),ua(Zr(Pm),Im(db)),ua(Gl([Rm,Zr(tf)]),DR),ua(Gl([Oh,Zr(tf)]),Gf),ua(Zr(dl),fA),ua(Zr(is),fA)]),mA=L([ua(Zr(is),Nm)]),_R=Zv(OR,wu.init,dA,mA,function(){return A.some(vA)}),MR=[rs("onSpace"),rs("onEnter"),rs("onShiftEnter"),rs("onLeft"),rs("onRight"),rs("onTab"),rs("onShiftTab"),rs("onUp"),rs("onDown"),rs("onEscape"),$e("stopSpaceKeyup",!1),Oa("focusIn")],zm=function(t,r,o){return[ua(Zr(is),o.onSpace),ua(Gl([Oh,Zr(dl)]),o.onEnter),ua(Gl([Rm,Zr(dl)]),o.onShiftEnter),ua(Gl([Rm,Zr(tf)]),o.onShiftTab),ua(Gl([Oh,Zr(tf)]),o.onTab),ua(Zr(Yv),o.onUp),ua(Zr(Pm),o.onDown),ua(Zr(ob),o.onLeft),ua(Zr(ib),o.onRight),ua(Zr(is),o.onSpace),ua(Zr(ab),o.onEscape)]},$m=function(t,r,o){return o.stopSpaceKeyup?[ua(Zr(is),Nm)]:[]},gA=Zv(MR,wu.init,zm,$m,function(t){return t.focusIn}),hA=L2.schema(),Kf=RT.schema(),Xf=hR.schema(),BR=dR.schema(),PR=AR.schema(),Qv=H2.schema(),RR=_R.schema(),NR=gA.schema(),FR=Object.freeze({__proto__:null,acyclic:hA,cyclic:Kf,flow:Xf,flatgrid:BR,matrix:PR,execution:Qv,menu:RR,special:NR}),pA=function(t){return Bn(t,"setGridSize")},sr=bm({branchKey:"mode",branches:FR,name:"keying",active:{events:function(t,r){var o=t.handler;return o.toEvents(t,r)}},apis:{focusIn:function(t,r,o){r.sendFocusIn(r).fold(function(){t.getSystem().triggerFocus(t.element,t.element)},function(u){u(t,r,o)})},setGridSize:function(t,r,o,u,c){pA(o)&&o.setGridSize(u,c)}},state:zT}),Q2=function(t,r,o,u){uE(function(){var c=St(u,t.getSystem().build);u2(t,c)},t.element)},mb=function(t,r,o,u){var c=t.getSystem().build(u);XE(t,c,o)},bA=function(t,r,o,u){mb(t,r,qi,u)},yA=function(t,r,o,u){mb(t,r,kv,u)},gb=function(t,r,o,u){var c=Rh(t),f=kt(c,function(d){return _a(u.element,d.element)});f.each(Sc)},Rh=function(t,r){return t.components()},wA=function(t,r,o,u,c){var f=Rh(t);return A.from(f[u]).map(function(d){return gb(t,r,o,d),c.each(function(p){mb(t,r,function(b,x){qc(b,x,u)},p)}),d})},IR=function(t,r,o,u,c){var f=Rh(t);return jn(f,u).bind(function(d){return wA(t,r,o,d,c)})},zR=Object.freeze({__proto__:null,append:bA,prepend:yA,remove:gb,replaceAt:wA,replaceBy:IR,set:Q2,contents:Rh}),Dr=pi({fields:[],name:"replacing",apis:zR}),eC=function(t,r){var o=$a(r);return pi({fields:[jt("enabled")],name:t,active:{events:L(o)}})},$r=function(t,r){var o=eC(t,r);return{key:t,value:{config:{},me:o,configAsRaw:L({}),initialConfig:{},state:wu}}},CA=function(t,r){r.ignore||(zl(t.element),r.onFocus(t))},$R=function(t,r){r.ignore||Rw(t.element)},xA=function(t){return Nw(t.element)},SA=Object.freeze({__proto__:null,focus:CA,blur:$R,isFocused:xA}),kA=function(t,r){var o=r.ignore?{}:{attributes:{tabindex:"-1"}};return ll(o)},EA=function(t){return $a([qt(tm(),function(r,o){CA(r,t),o.stop()})].concat(t.stopMousedown?[qt(sl(),function(r,o){o.event.prevent()})]:[]))},LR=Object.freeze({__proto__:null,exhibit:kA,events:EA}),tC=[ba("onFocus"),$e("stopMousedown",!1),$e("ignore",!1)],_r=pi({fields:tC,name:"focusing",active:LR,apis:SA}),HR=function(t){var r=function(){var o=Cr(t),u=function(){return o.get()},c=function(p){return o.set(p)},f=function(){return o.set(t)},d=function(){return o.get()};return{get:u,set:c,clear:f,readState:d}};return{init:r}},TA=function(t,r,o){var u=r.aria;u.update(t,u,o.get())},AA=function(t,r,o){r.toggleClass.each(function(u){o.get()?ri(t.element,u):Go(t.element,u)})},Nh=function(t,r,o){hb(t,r,o,!o.get())},OA=function(t,r,o){o.set(!0),AA(t,r,o),TA(t,r,o)},Fh=function(t,r,o){o.set(!1),AA(t,r,o),TA(t,r,o)},hb=function(t,r,o,u){var c=u?OA:Fh;c(t,r,o)},DA=function(t,r,o){return o.get()},_A=function(t,r,o){hb(t,r,o,r.selected)},VR=Object.freeze({__proto__:null,onLoad:_A,toggle:Nh,isOn:DA,on:OA,off:Fh,set:hb}),UR=function(){return ll({})},WR=function(t,r){var o=x1(t,r,Nh),u=wc(t,r,_A);return $a(Ce([t.toggleOnExecute?[o]:[],[u]]))},jR=Object.freeze({__proto__:null,exhibit:UR,events:WR}),qR=function(t,r,o){qr(t.element,"aria-pressed",o),r.syncWithExpanded&&nC(t,r,o)},MA=function(t,r,o){qr(t.element,"aria-selected",o)},GR=function(t,r,o){qr(t.element,"aria-checked",o)},nC=function(t,r,o){qr(t.element,"aria-expanded",o)},pb=[$e("selected",!1),Oa("toggleClass"),$e("toggleOnExecute",!0),es("aria",{mode:"none"},Ws("mode",{pressed:[$e("syncWithExpanded",!1),ro("update",qR)],checked:[ro("update",GR)],expanded:[ro("update",nC)],selected:[ro("update",MA)],none:[ro("update",ae)]}))],na=pi({fields:pb,name:"toggling",active:jR,apis:VR,state:HR(!1)}),bb=function(){var t=function(r,o){o.stop(),As(r)};return[qt(Zg(),t),qt(nm(),t),Mv(Jc()),Mv(sl())]},yb=function(t){var r=function(o){return Zs(function(u,c){o(u),c.stop()})};return $a(Ce([t.map(r).toArray(),bb()]))},BA="alloy.item-hover",PA="alloy.item-focus",RA=function(t){(Ll(t.element).isNone()||_r.isFocused(t))&&(_r.isFocused(t)||_r.focus(t),br(t,BA,{item:t}))},rC=function(t){br(t,PA,{item:t})},aC=L(BA),KR=L(PA),XR=function(t){return{dom:t.dom,domModification:G(G({},t.domModification),{attributes:G(G(G({role:t.toggling.isSome()?"menuitemcheckbox":"menuitem"},t.domModification.attributes),{"aria-haspopup":t.hasSubmenu}),t.hasSubmenu?{"aria-expanded":!1}:{})}),behaviours:Qs.augment(t.itemBehaviours,[t.toggling.fold(na.revoke,function(r){return na.config(G({aria:{mode:"checked"}},r))}),_r.config({ignore:t.ignoreFocus,stopMousedown:t.ignoreFocus,onFocus:function(r){rC(r)}}),sr.config({mode:"execution"}),_n.config({store:{mode:"memory",initialValue:t.data}}),$r("item-type-events",ct(ct([],bb(),!0),[qt(Sf(),RA),qt(Qg(),_r.focus)],!1))]),components:t.components,eventOrder:t.eventOrder}},YR=[jt("data"),jt("components"),jt("dom"),$e("hasSubmenu",!1),Oa("toggling"),Qs.field("itemBehaviours",[na,_r,sr,_n]),$e("ignoreFocus",!1),$e("domModification",{}),ro("builder",XR),$e("eventOrder",{})],ZR=function(t){return{dom:t.dom,components:t.components,events:$a([om(Qg())])}},JR=[jt("dom"),jt("components"),ro("builder",ZR)],oC=L("item-widget"),wb=L([Qi({name:"widget",overrides:function(t){return{behaviours:Cn([_n.config({store:{mode:"manual",getValue:function(r){return t.data},setValue:ae}})])}}})]),QR=function(t){var r=T2(oC(),t,wb()),o=A2(oC(),t,r.internals()),u=function(f){return La(f,t,"widget").map(function(d){return sr.focusIn(d),d})},c=function(f,d){return qf(d.event.target)?A.none():function(){return t.autofocus&&d.setSource(f.element),A.none()}()};return{dom:t.dom,components:o,domModification:t.domModification,events:$a([Zs(function(f,d){u(f).each(function(p){d.stop()})}),qt(Sf(),RA),qt(Qg(),function(f,d){t.autofocus?u(f):_r.focus(f)})]),behaviours:Qs.augment(t.widgetBehaviours,[_n.config({store:{mode:"memory",initialValue:t.data}}),_r.config({ignore:t.ignoreFocus,onFocus:function(f){rC(f)}}),sr.config({mode:"special",focusIn:t.autofocus?function(f){u(f)}:vB(),onLeft:c,onRight:c,onEscape:function(f,d){return!_r.isFocused(f)&&!t.autofocus?(_r.focus(f),A.some(!0)):(t.autofocus&&d.setSource(f.element),A.none())}})])}},eN=[jt("uid"),jt("data"),jt("components"),jt("dom"),$e("autofocus",!1),$e("ignoreFocus",!1),Qs.field("widgetBehaviours",[_n,_r,sr]),$e("domModification",{}),kh(wb()),ro("builder",QR)],tN=Ws("type",{widget:eN,item:YR,separator:JR}),nN=function(t,r){return{mode:"flatgrid",selector:"."+t.markers.item,initSize:{numColumns:r.initSize.numColumns,numRows:r.initSize.numRows},focusManager:t.focusManager}},rN=function(t,r){return{mode:"matrix",selectors:{row:r.rowSelector,cell:"."+t.markers.item},focusManager:t.focusManager}},ed=function(t,r){return{mode:"menu",selector:"."+t.markers.item,moveOnTab:r.moveOnTab,focusManager:t.focusManager}},aN=L([Y1({factory:{sketch:function(t){var r=Wa("menu.spec item",tN,t);return r.builder(r)}},name:"items",unit:"item",defaults:function(t,r){return Wt(r,"uid")?r:G(G({},r),{uid:Mf("item")})},overrides:function(t,r){return{type:r.type,ignoreFocus:t.fakeFocus,domModification:{classes:[t.markers.item]}}}})]),iC=L([jt("value"),jt("items"),jt("dom"),jt("components"),$e("eventOrder",{}),ii("menuBehaviours",[Da,_n,ta,sr]),es("movement",{mode:"menu",moveOnTab:!0},Ws("mode",{grid:[h1(),ro("config",nN)],matrix:[ro("config",rN),jt("rowSelector")],menu:[$e("moveOnTab",!0),ro("config",ed)]})),nB(),$e("fakeFocus",!1),$e("focusManager",Dh()),ba("onHighlight")]),NA=L("alloy.menu-focus"),uC=function(t,r,o,u){return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Mi(t.menuBehaviours,[Da.config({highlightClass:t.markers.selectedItem,itemClass:t.markers.item,onHighlight:t.onHighlight}),_n.config({store:{mode:"memory",initialValue:t.value}}),ta.config({find:A.some}),sr.config(t.movement.config(t,t.movement))]),events:$a([qt(KR(),function(c,f){var d=f.event;c.getSystem().getByDom(d.target).each(function(p){Da.highlight(c,p),f.stop(),br(c,NA(),{menu:c,item:p})})}),qt(aC(),function(c,f){var d=f.event.item;Da.highlight(c,d)})]),components:r,eventOrder:t.eventOrder,domModification:{attributes:{role:"menu"}}}},Yf=Au({name:"Menu",configFields:iC(),partFields:aN(),factory:uC}),Ih=function(t){return ze(t,function(r,o){return{k:r,v:o}})},zh=function(t,r,o,u){return dt(o,u).bind(function(c){return dt(t,c).bind(function(f){var d=zh(t,r,o,f);return A.some([f].concat(d))})}).getOr([])},FA=function(t,r){var o={};yn(t,function(d,p){Ke(d,function(b){o[b]=p})});var u=r,c=Ih(r),f=Jt(c,function(d,p){return[p].concat(zh(o,u,c,p))});return Jt(o,function(d){return dt(f,d).getOr([d])})},IA=function(){var t=Cr({}),r=Cr({}),o=Cr({}),u=Bo(),c=Cr({}),f=function(){t.set({}),r.set({}),o.set({}),u.clear()},d=function(){return u.get().isNone()},p=function(Fe,lt){var Mt;r.set(G(G({},r.get()),(Mt={},Mt[Fe]={type:"prepared",menu:lt},Mt)))},b=function(Fe,lt,Mt,En){u.set(Fe),t.set(Mt),r.set(lt),c.set(En);var Lt=FA(En,Mt);o.set(Lt)},x=function(Fe){return Ee(t.get(),function(lt,Mt){return lt===Fe})},O=function(Fe,lt,Mt){return de(Fe).bind(function(En){return x(Fe).bind(function(Lt){return lt(Lt).map(function(An){return{triggeredMenu:En,triggeringItem:An,triggeringPath:Mt}})})})},P=function(Fe,lt){var Mt=We(le(Fe).toArray(),function(En){return de(En).isSome()});return dt(o.get(),Fe).bind(function(En){var Lt=Nn(Mt.concat(En)),An=pt(Lt,function(Gt,Dt){return O(Gt,lt,Lt.slice(0,Dt+1)).fold(function(){return pr(u.get(),Gt)?[]:[A.none()]},function(gn){return[A.some(gn)]})});return xr(An)})},V=function(Fe){return dt(t.get(),Fe).map(function(lt){var Mt=dt(o.get(),Fe).getOr([]);return[lt].concat(Mt)})},q=function(Fe){return dt(o.get(),Fe).bind(function(lt){return lt.length>1?A.some(lt.slice(1)):A.none()})},te=function(Fe){return dt(o.get(),Fe)},de=function(Fe){return Pe(Fe).bind(zA)},Pe=function(Fe){return dt(r.get(),Fe)},le=function(Fe){return dt(t.get(),Fe)},Ie=function(Fe){var lt=c.get();return Hn(ot(lt),Fe)},xt=function(){return u.get().bind(de)},yt=function(){return r.get()};return{setMenuBuilt:p,setContents:b,expand:V,refresh:te,collapse:q,lookupMenu:Pe,lookupItem:le,otherMenus:Ie,getPrimary:xt,getMenus:yt,clear:f,isClear:d,getTriggeringPath:P}},zA=function(t){return t.type==="prepared"?A.some(t.menu):A.none()},$A={init:IA,extractPreparedMenu:zA},oN=function(t,r){var o=Bo(),u=function(It,Un,Qn){return Jt(Qn,function(Jr,Ca){var Ya=function(){return Yf.sketch(G(G({},Jr),{value:Ca,markers:t.markers,fakeFocus:t.fakeFocus,onHighlight:t.onHighlight,focusManager:t.fakeFocus?PT():Dh()}))};return Ca===Un?{type:"prepared",menu:It.getSystem().build(Ya())}:{type:"notbuilt",nbMenu:Ya}})},c=$A.init(),f=function(It){var Un=u(It,t.data.primary,t.data.menus),Qn=b();return c.setContents(t.data.primary,Un,t.data.expansions,Qn),c.getPrimary()},d=function(It){return _n.getValue(It).value},p=function(It,Un,Qn){return Xe(Un,function(Jr){if(!Jr.getSystem().isConnected())return A.none();var Ca=Da.getCandidates(Jr);return kt(Ca,function(Ya){return d(Ya)===Qn})})},b=function(It){return Jt(t.data.menus,function(Un,Qn){return pt(Un.items,function(Jr){return Jr.type==="separator"?[]:[Jr.data.value]})})},x=function(It,Un){Da.highlight(It,Un),Da.getHighlighted(Un).orThunk(function(){return Da.getFirst(Un)}).each(function(Qn){e1(It,Qn.element,Qg())})},O=function(It,Un){return Ar(St(Un,function(Qn){return It.lookupMenu(Qn).bind(function(Jr){return Jr.type==="prepared"?A.some(Jr.menu):A.none()})}))},P=function(It,Un,Qn){var Jr=O(Un,Un.otherMenus(Qn));Ke(Jr,function(Ca){Os(Ca.element,[t.markers.backgroundMenu]),t.stayInDom||Dr.remove(It,Ca)})},V=function(It){return o.get().getOrThunk(function(){var Un={},Qn=Eu(It.element,"."+t.markers.item),Jr=We(Qn,function(Ca){return vo(Ca,"aria-haspopup")==="true"});return Ke(Jr,function(Ca){It.getSystem().getByDom(Ca).each(function(Ya){var ho=d(Ya);Un[ho]=Ya})}),o.set(Un),Un})},q=function(It,Un){var Qn=V(It);yn(Qn,function(Jr,Ca){var Ya=tn(Un,Ca);qr(Jr.element,"aria-expanded",Ya)})},te=function(It,Un,Qn){return A.from(Qn[0]).bind(function(Jr){return Un.lookupMenu(Jr).bind(function(Ca){if(Ca.type==="notbuilt")return A.none();var Ya=Ca.menu,ho=O(Un,Qn.slice(1));return Ke(ho,function(fs){ri(fs.element,t.markers.backgroundMenu)}),wr(Ya.element)||Dr.append(It,Ds(Ya)),Os(Ya.element,[t.markers.backgroundMenu]),x(It,Ya),P(It,Un,Qn),A.some(Ya)})})},de;(function(It){It[It.HighlightSubmenu=0]="HighlightSubmenu",It[It.HighlightParent=1]="HighlightParent"})(de||(de={}));var Pe=function(It,Un,Qn){if(Qn.type==="notbuilt"){var Jr=It.getSystem().build(Qn.nbMenu());return c.setMenuBuilt(Un,Jr),Jr}else return Qn.menu},le=function(It,Un,Qn){if(Qn===void 0&&(Qn=de.HighlightSubmenu),Un.hasConfigured(gr)&&gr.isDisabled(Un))return A.some(Un);var Jr=d(Un);return c.expand(Jr).bind(function(Ca){return q(It,Ca),A.from(Ca[0]).bind(function(Ya){return c.lookupMenu(Ya).bind(function(ho){var fs=Pe(It,Ya,ho);return wr(fs.element)||Dr.append(It,Ds(fs)),t.onOpenSubmenu(It,Un,fs,Nn(Ca)),Qn===de.HighlightSubmenu?(Da.highlightFirst(fs),te(It,c,Ca)):(Da.dehighlightAll(fs),A.some(Un))})})})},Ie=function(It,Un){var Qn=d(Un);return c.collapse(Qn).bind(function(Jr){return q(It,Jr),te(It,c,Jr).map(function(Ca){return t.onCollapseMenu(It,Un,Ca),Ca})})},xt=function(It,Un){var Qn=d(Un);return c.refresh(Qn).bind(function(Jr){return q(It,Jr),te(It,c,Jr)})},yt=function(It,Un){return qf(Un.element)?A.none():le(It,Un,de.HighlightSubmenu)},Fe=function(It,Un){return qf(Un.element)?A.none():Ie(It,Un)},lt=function(It,Un){return Ie(It,Un).orThunk(function(){return t.onEscape(It,Un).map(function(){return It})})},Mt=function(It){return function(Un,Qn){return Il(Qn.getSource(),"."+t.markers.item).bind(function(Jr){return Un.getSystem().getByDom(Jr).toOptional().bind(function(Ca){return It(Un,Ca).map(Ze)})})}},En=$a([qt(NA(),function(It,Un){var Qn=Un.event.item;c.lookupItem(d(Qn)).each(function(){var Jr=Un.event.menu;Da.highlight(It,Jr);var Ca=d(Un.event.item);c.refresh(Ca).each(function(Ya){return P(It,c,Ya)})})}),Zs(function(It,Un){var Qn=Un.event.target;It.getSystem().getByDom(Qn).each(function(Jr){var Ca=d(Jr);Ca.indexOf("collapse-item")===0&&Ie(It,Jr),le(It,Jr,de.HighlightSubmenu).fold(function(){t.onExecute(It,Jr)},ae)})}),Hr(function(It,Un){f(It).each(function(Qn){Dr.append(It,Ds(Qn)),t.onOpenMenu(It,Qn),t.highlightImmediately&&x(It,Qn)})})].concat(t.navigateOnHover?[qt(aC(),function(It,Un){var Qn=Un.event.item;xt(It,Qn),le(It,Qn,de.HighlightParent),t.onHover(It,Qn)})]:[])),Lt=function(It){return Da.getHighlighted(It).bind(Da.getHighlighted)},An=function(It){Lt(It).each(function(Un){Ie(It,Un)})},Gt=function(It){c.getPrimary().each(function(Un){x(It,Un)})},Dt=function(It){return A.from(It.components()[0]).filter(function(Un){return vo(Un.element,"role")==="menu"})},gn=function(It){var Un=c.getPrimary().bind(function(Qn){return Lt(It).bind(function(Jr){var Ca=d(Jr),Ya=Ct(c.getMenus()),ho=Ar(St(Ya,$A.extractPreparedMenu));return c.getTriggeringPath(Ca,function(fs){return p(It,ho,fs)})}).map(function(Jr){return{primary:Qn,triggeringPath:Jr}})});Un.fold(function(){Dt(It).each(function(Qn){t.onRepositionMenu(It,Qn,[])})},function(Qn){var Jr=Qn.primary,Ca=Qn.triggeringPath;t.onRepositionMenu(It,Jr,Ca)})},Xn={collapseMenu:An,highlightPrimary:Gt,repositionMenus:gn};return{uid:t.uid,dom:t.dom,markers:t.markers,behaviours:Mi(t.tmenuBehaviours,[sr.config({mode:"special",onRight:Mt(yt),onLeft:Mt(Fe),onEscape:Mt(lt),focusIn:function(It,Un){c.getPrimary().each(function(Qn){e1(It,Qn.element,Qg())})}}),Da.config({highlightClass:t.markers.selectedMenu,itemClass:t.markers.menu}),ta.config({find:function(It){return Da.getHighlighted(It)}}),Dr.config({})]),eventOrder:t.eventOrder,apis:Xn,events:En}},iN=L("collapse-item"),sC=function(t,r,o){return{primary:t,menus:r,expansions:o}},LA=function(t,r){return{primary:t,menus:gc(t,r),expansions:{}}},HA=function(t){return{value:Yn(iN()),meta:{text:t}}},nf=Bs({name:"TieredMenu",configFields:[Lu("onExecute"),Lu("onEscape"),Su("onOpenMenu"),Su("onOpenSubmenu"),ba("onRepositionMenu"),ba("onCollapseMenu"),$e("highlightImmediately",!0),Zc("data",[jt("primary"),jt("menus"),jt("expansions")]),$e("fakeFocus",!1),ba("onHighlight"),ba("onHover"),m1(),jt("dom"),$e("navigateOnHover",!0),$e("stayInDom",!1),ii("tmenuBehaviours",[sr,Da,ta,Dr]),$e("eventOrder",{})],apis:{collapseMenu:function(t,r){t.collapseMenu(r)},highlightPrimary:function(t,r){t.highlightPrimary(r)},repositionMenus:function(t,r){t.repositionMenus(r)}},factory:oN,extraApis:{tieredData:sC,singleData:LA,collapseItem:HA}}),uN=function(t,r,o,u,c){var f=function(){return t.lazySink(r)},d=u.type==="horizontal"?{layouts:{onLtr:function(){return Bw()},onRtl:function(){return C1()}}}:{},p=function(x){return x.length===2},b=function(x){return p(x)?d:{}};return nf.sketch({dom:{tag:"div"},data:u.data,markers:u.menu.markers,highlightImmediately:u.menu.highlightImmediately,onEscape:function(){return ra.close(r),t.onEscape.map(function(x){return x(r)}),A.some(!0)},onExecute:function(){return A.some(!0)},onOpenMenu:function(x,O){Po.positionWithinBounds(f().getOrDie(),O,o,c())},onOpenSubmenu:function(x,O,P,V){var q=f().getOrDie();Po.position(q,P,{anchor:G({type:"submenu",item:O},b(V))})},onRepositionMenu:function(x,O,P){var V=f().getOrDie();Po.positionWithinBounds(V,O,o,c()),Ke(P,function(q){var te=b(q.triggeringPath);Po.position(V,q.triggeredMenu,{anchor:G({type:"submenu",item:q.triggeringItem},te)})})}})},VA=function(t,r){var o=function(q,te){var de=t.getRelated(q);return de.exists(function(Pe){return Fv(Pe,te)})},u=function(q,te){ra.setContent(q,te)},c=function(q,te,de){f(q,te,de,A.none())},f=function(q,te,de,Pe){d(q,te,de,function(){return Pe.map(function(le){return gi(le)})})},d=function(q,te,de,Pe){var le=t.lazySink(q).getOrDie();ra.openWhileCloaked(q,te,function(){return Po.positionWithinBounds(le,q,de,Pe())}),_n.setValue(q,A.some({mode:"position",config:de,getBounds:Pe}))},p=function(q,te,de){b(q,te,de,A.none)},b=function(q,te,de,Pe){var le=uN(t,q,te,de,Pe);ra.open(q,le),_n.setValue(q,A.some({mode:"menu",menu:le}))},x=function(q){ra.isOpen(q)&&(_n.setValue(q,A.none()),ra.close(q))},O=function(q){return ra.getState(q)},P=function(q){ra.isOpen(q)&&_n.getValue(q).each(function(te){switch(te.mode){case"menu":ra.getState(q).each(nf.repositionMenus);break;case"position":var de=t.lazySink(q).getOrDie();Po.positionWithinBounds(de,q,te.config,te.getBounds());break}})},V={setContent:u,showAt:c,showWithin:f,showWithinBounds:d,showMenuAt:p,showMenuWithinBounds:b,hide:x,getContent:O,reposition:P,isOpen:ra.isOpen};return{uid:t.uid,dom:t.dom,behaviours:Mi(t.inlineBehaviours,[ra.config({isPartOf:function(q,te,de){return Fv(te,de)||o(q,de)},getAttachPoint:function(q){return t.lazySink(q).getOrDie()},onOpen:function(q){t.onShow(q)},onClose:function(q){t.onHide(q)}}),_n.config({store:{mode:"memory",initialValue:A.none()}}),Uu.config({channels:G(G({},os(G({isExtraPart:r.isExtraPart},t.fireDismissalEventInstead.map(function(q){return{fireEventInstead:{event:q.event}}}).getOr({})))),qv(G(G({},t.fireRepositionEventInstead.map(function(q){return{fireEventInstead:{event:q.event}}}).getOr({})),{doReposition:P})))})]),eventOrder:t.eventOrder,apis:V}},wo=Bs({name:"InlineView",configFields:[jt("lazySink"),ba("onShow"),ba("onHide"),Ov("onEscape"),ii("inlineBehaviours",[ra,_n,Uu]),ks("fireDismissalEventInstead",[$e("event",Pl())]),ks("fireRepositionEventInstead",[$e("event",Ki())]),$e("getRelated",A.none),$e("isExtraPart",je),$e("eventOrder",A.none)],factory:VA,apis:{showAt:function(t,r,o,u){t.showAt(r,o,u)},showWithin:function(t,r,o,u,c){t.showWithin(r,o,u,c)},showWithinBounds:function(t,r,o,u,c){t.showWithinBounds(r,o,u,c)},showMenuAt:function(t,r,o,u){t.showMenuAt(r,o,u)},showMenuWithinBounds:function(t,r,o,u,c){t.showMenuWithinBounds(r,o,u,c)},hide:function(t,r){t.hide(r)},isOpen:function(t,r){return t.isOpen(r)},getContent:function(t,r){return t.getContent(r)},setContent:function(t,r,o){t.setContent(r,o)},reposition:function(t,r){t.reposition(r)}}}),Zf="layout-inset",lC=function(t){return t.x},cC=function(t,r){return t.x+t.width/2-r.width/2},Cb=function(t,r){return t.x+t.width-r.width},fC=function(t){return t.y},vC=function(t,r){return t.y+t.height-r.height},xb=function(t,r){return t.y+t.height/2-r.height/2},$h=function(t,r,o){return _i(Cb(t,r),vC(t,r),o.insetSouthwest(),gm(),"southwest",oi(t,{right:0,bottom:3}),Zf)},Lh=function(t,r,o){return _i(lC(t),vC(t,r),o.insetSoutheast(),kw(),"southeast",oi(t,{left:1,bottom:3}),Zf)},Hh=function(t,r,o){return _i(Cb(t,r),fC(t),o.insetNorthwest(),Sw(),"northwest",oi(t,{right:0,top:2}),Zf)},td=function(t,r,o){return _i(lC(t),fC(t),o.insetNortheast(),b1(),"northeast",oi(t,{left:1,top:2}),Zf)},Kl=function(t,r,o){return _i(cC(t,r),fC(t),o.insetNorth(),Yk(),"north",oi(t,{top:2}),Zf)},Lm=function(t,r,o){return _i(cC(t,r),vC(t,r),o.insetSouth(),Zk(),"south",oi(t,{bottom:3}),Zf)},UA=function(t,r,o){return _i(Cb(t,r),xb(t,r),o.insetEast(),Tw(),"east",oi(t,{right:0}),Zf)},WA=function(t,r,o){return _i(lC(t),xb(t,r),o.insetWest(),Ew(),"west",oi(t,{left:1}),Zf)},sN=function(t){switch(t){case"north":return Kl;case"northeast":return td;case"northwest":return Hh;case"south":return Lm;case"southeast":return Lh;case"southwest":return $h;case"east":return UA;case"west":return WA}},dC=function(t,r,o,u,c){var f=vE(u).map(sN).getOr(Kl);return f(t,r,o,u,c)},mC=function(t){switch(t){case"north":return Lm;case"northeast":return Lh;case"northwest":return $h;case"south":return Kl;case"southeast":return td;case"southwest":return Hh;case"east":return WA;case"west":return UA}},lN=function(t,r,o,u,c){var f=vE(u).map(mC).getOr(Kl);return f(t,r,o,u,c)},Xl=tinymce.util.Tools.resolve("tinymce.util.Delay"),cN=function(t){var r=yb(t.action),o=t.dom.tag,u=function(f){return dt(t.dom,"attributes").bind(function(d){return dt(d,f)})},c=function(){if(o==="button"){var f=u("type").getOr("button"),d=u("role").map(function(b){return{role:b}}).getOr({});return G({type:f},d)}else{var p=u("role").getOr("button");return{role:p}}};return{uid:t.uid,dom:t.dom,components:t.components,events:r,behaviours:Qs.augment(t.buttonBehaviours,[_r.config({}),sr.config({mode:"execution",useSpace:!0,useEnter:!0})]),domModification:{attributes:c()},eventOrder:t.eventOrder}},Ou=Bs({name:"Button",factory:cN,configFields:[$e("uid",void 0),jt("dom"),$e("components",[]),Qs.field("buttonBehaviours",[_r,sr]),Oa("action"),Oa("role"),$e("eventOrder",{})]}),fN=function(t){var r=t.dom.attributes!==void 0?t.dom.attributes:[];return zt(r,function(o,u){var c;return u.name==="class"?o:G(G({},o),(c={},c[u.name]=u.value,c))},{})},vN=function(t){return Array.prototype.slice.call(t.dom.classList,0)},rf=function(t){var r=ce.fromHtml(t),o=w(r),u=fN(r),c=vN(r),f=o.length===0?{}:{innerHtml:n1(r)};return G({tag:pe(r),classes:c,attributes:u},f)},ya=function(t){var r=M2(t)&&Bn(t,"uid")?t.uid:Mf("memento"),o=function(f){return f.getSystem().getByUid(r).getOrDie()},u=function(f){return f.getSystem().getByUid(r).toOptional()},c=function(){return G(G({},t),{uid:r})};return{get:o,getOpt:u,asSpec:c}};function Jf(t){"@babel/helpers - typeof";return Jf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},Jf(t)}function gC(t,r){return gC=Object.setPrototypeOf||function(u,c){return u.__proto__=c,u},gC(t,r)}function dN(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}function nd(t,r,o){return dN()?nd=Reflect.construct:nd=function(c,f,d){var p=[null];p.push.apply(p,f);var b=Function.bind.apply(c,p),x=new b;return d&&gC(x,d.prototype),x},nd.apply(null,arguments)}function Yl(t){return mN(t)||hC(t)||gN(t)||hN()}function mN(t){if(Array.isArray(t))return pC(t)}function hC(t){if(typeof Symbol!="undefined"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function gN(t,r){if(t){if(typeof t=="string")return pC(t,r);var o=Object.prototype.toString.call(t).slice(8,-1);if(o==="Object"&&t.constructor&&(o=t.constructor.name),o==="Map"||o==="Set")return Array.from(t);if(o==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(o))return pC(t,r)}}function pC(t,r){(r==null||r>t.length)&&(r=t.length);for(var o=0,u=new Array(r);o<r;o++)u[o]=t[o];return u}function hN(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var pN=Object.hasOwnProperty,jA=Object.setPrototypeOf,bN=Object.isFrozen,yN=Object.getPrototypeOf,wN=Object.getOwnPropertyDescriptor,us=Object.freeze,Dc=Object.seal,CN=Object.create,qA=typeof Reflect!="undefined"&&Reflect,Hm=qA.apply,bC=qA.construct;Hm||(Hm=function(r,o,u){return r.apply(o,u)}),us||(us=function(r){return r}),Dc||(Dc=function(r){return r}),bC||(bC=function(r,o){return nd(r,Yl(o))});var xN=Zl(Array.prototype.forEach),GA=Zl(Array.prototype.pop),Vm=Zl(Array.prototype.push),Sb=Zl(String.prototype.toLowerCase),SN=Zl(String.prototype.match),Qf=Zl(String.prototype.replace),kN=Zl(String.prototype.indexOf),EN=Zl(String.prototype.trim),Du=Zl(RegExp.prototype.test),yC=TN(TypeError);function Zl(t){return function(r){for(var o=arguments.length,u=new Array(o>1?o-1:0),c=1;c<o;c++)u[c-1]=arguments[c];return Hm(t,r,u)}}function TN(t){return function(){for(var r=arguments.length,o=new Array(r),u=0;u<r;u++)o[u]=arguments[u];return bC(t,o)}}function Ba(t,r){jA&&jA(t,null);for(var o=r.length;o--;){var u=r[o];if(typeof u=="string"){var c=Sb(u);c!==u&&(bN(r)||(r[o]=c),u=c)}t[u]=!0}return t}function rd(t){var r=CN(null),o;for(o in t)Hm(pN,t,[o])&&(r[o]=t[o]);return r}function kb(t,r){for(;t!==null;){var o=wN(t,r);if(o){if(o.get)return Zl(o.get);if(typeof o.value=="function")return Zl(o.value)}t=yN(t)}function u(c){return null}return u}var KA=us(["a","abbr","acronym","address","area","article","aside","audio","b","bdi","bdo","big","blink","blockquote","body","br","button","canvas","caption","center","cite","code","col","colgroup","content","data","datalist","dd","decorator","del","details","dfn","dialog","dir","div","dl","dt","element","em","fieldset","figcaption","figure","font","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","img","input","ins","kbd","label","legend","li","main","map","mark","marquee","menu","menuitem","meter","nav","nobr","ol","optgroup","option","output","p","picture","pre","progress","q","rp","rt","ruby","s","samp","section","select","shadow","small","source","spacer","span","strike","strong","style","sub","summary","sup","table","tbody","td","template","textarea","tfoot","th","thead","time","tr","track","tt","u","ul","var","video","wbr"]),wC=us(["svg","a","altglyph","altglyphdef","altglyphitem","animatecolor","animatemotion","animatetransform","circle","clippath","defs","desc","ellipse","filter","font","g","glyph","glyphref","hkern","image","line","lineargradient","marker","mask","metadata","mpath","path","pattern","polygon","polyline","radialgradient","rect","stop","style","switch","symbol","text","textpath","title","tref","tspan","view","vkern"]),CC=us(["feBlend","feColorMatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence"]),AN=us(["animate","color-profile","cursor","discard","fedropshadow","font-face","font-face-format","font-face-name","font-face-src","font-face-uri","foreignobject","hatch","hatchpath","mesh","meshgradient","meshpatch","meshrow","missing-glyph","script","set","solidcolor","unknown","use"]),xC=us(["math","menclose","merror","mfenced","mfrac","mglyph","mi","mlabeledtr","mmultiscripts","mn","mo","mover","mpadded","mphantom","mroot","mrow","ms","mspace","msqrt","mstyle","msub","msup","msubsup","mtable","mtd","mtext","mtr","munder","munderover"]),SC=us(["maction","maligngroup","malignmark","mlongdiv","mscarries","mscarry","msgroup","mstack","msline","msrow","semantics","annotation","annotation-xml","mprescripts","none"]),XA=us(["#text"]),YA=us(["accept","action","align","alt","autocapitalize","autocomplete","autopictureinpicture","autoplay","background","bgcolor","border","capture","cellpadding","cellspacing","checked","cite","class","clear","color","cols","colspan","controls","controlslist","coords","crossorigin","datetime","decoding","default","dir","disabled","disablepictureinpicture","disableremoteplayback","download","draggable","enctype","enterkeyhint","face","for","headers","height","hidden","high","href","hreflang","id","inputmode","integrity","ismap","kind","label","lang","list","loading","loop","low","max","maxlength","media","method","min","minlength","multiple","muted","name","nonce","noshade","novalidate","nowrap","open","optimum","pattern","placeholder","playsinline","poster","preload","pubdate","radiogroup","readonly","rel","required","rev","reversed","role","rows","rowspan","spellcheck","scope","selected","shape","size","sizes","span","srclang","start","src","srcset","step","style","summary","tabindex","title","translate","type","usemap","valign","value","width","xmlns","slot"]),kC=us(["accent-height","accumulate","additive","alignment-baseline","ascent","attributename","attributetype","azimuth","basefrequency","baseline-shift","begin","bias","by","class","clip","clippathunits","clip-path","clip-rule","color","color-interpolation","color-interpolation-filters","color-profile","color-rendering","cx","cy","d","dx","dy","diffuseconstant","direction","display","divisor","dur","edgemode","elevation","end","fill","fill-opacity","fill-rule","filter","filterunits","flood-color","flood-opacity","font-family","font-size","font-size-adjust","font-stretch","font-style","font-variant","font-weight","fx","fy","g1","g2","glyph-name","glyphref","gradientunits","gradienttransform","height","href","id","image-rendering","in","in2","k","k1","k2","k3","k4","kerning","keypoints","keysplines","keytimes","lang","lengthadjust","letter-spacing","kernelmatrix","kernelunitlength","lighting-color","local","marker-end","marker-mid","marker-start","markerheight","markerunits","markerwidth","maskcontentunits","maskunits","max","mask","media","method","mode","min","name","numoctaves","offset","operator","opacity","order","orient","orientation","origin","overflow","paint-order","path","pathlength","patterncontentunits","patterntransform","patternunits","points","preservealpha","preserveaspectratio","primitiveunits","r","rx","ry","radius","refx","refy","repeatcount","repeatdur","restart","result","rotate","scale","seed","shape-rendering","specularconstant","specularexponent","spreadmethod","startoffset","stddeviation","stitchtiles","stop-color","stop-opacity","stroke-dasharray","stroke-dashoffset","stroke-linecap","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke","stroke-width","style","surfacescale","systemlanguage","tabindex","targetx","targety","transform","transform-origin","text-anchor","text-decoration","text-rendering","textlength","type","u1","u2","unicode","values","viewbox","visibility","version","vert-adv-y","vert-origin-x","vert-origin-y","width","word-spacing","wrap","writing-mode","xchannelselector","ychannelselector","x","x1","x2","xmlns","y","y1","y2","z","zoomandpan"]),Eb=us(["accent","accentunder","align","bevelled","close","columnsalign","columnlines","columnspan","denomalign","depth","dir","display","displaystyle","encoding","fence","frame","height","href","id","largeop","length","linethickness","lspace","lquote","mathbackground","mathcolor","mathsize","mathvariant","maxsize","minsize","movablelimits","notation","numalign","open","rowalign","rowlines","rowspacing","rowspan","rspace","rquote","scriptlevel","scriptminsize","scriptsizemultiplier","selection","separator","separators","stretchy","subscriptshift","supscriptshift","symmetric","voffset","width","xmlns"]),Tb=us(["xlink:href","xml:id","xlink:title","xml:space","xmlns:xlink"]),EC=Dc(/\{\{[\w\W]*|[\w\W]*\}\}/gm),ON=Dc(/<%[\w\W]*|[\w\W]*%>/gm),DN=Dc(/^data-[\-\w.\u00B7-\uFFFF]/),_N=Dc(/^aria-[\-\w]+$/),MN=Dc(/^(?:(?:(?:f|ht)tps?|mailto|tel|callto|cid|xmpp):|[^a-z]|[a-z+.\-]+(?:[^a-z+.\-:]|$))/i),BN=Dc(/^(?:\w+script|data):/i),ZA=Dc(/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205F\u3000]/g),PN=Dc(/^html$/i),TC=function(){return typeof window=="undefined"?null:window},AC=function(r,o){if(Jf(r)!=="object"||typeof r.createPolicy!="function")return null;var u=null,c="data-tt-policy-suffix";o.currentScript&&o.currentScript.hasAttribute(c)&&(u=o.currentScript.getAttribute(c));var f="dompurify"+(u?"#"+u:"");try{return r.createPolicy(f,{createHTML:function(p){return p}})}catch(d){return null}};function OC(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:TC(),r=function(wt){return OC(wt)};if(r.version="2.3.8",r.removed=[],!t||!t.document||t.document.nodeType!==9)return r.isSupported=!1,r;var o=t.document,u=t.document,c=t.DocumentFragment,f=t.HTMLTemplateElement,d=t.Node,p=t.Element,b=t.NodeFilter,x=t.NamedNodeMap,O=x===void 0?t.NamedNodeMap||t.MozNamedAttrMap:x,P=t.HTMLFormElement,V=t.DOMParser,q=t.trustedTypes,te=p.prototype,de=kb(te,"cloneNode"),Pe=kb(te,"nextSibling"),le=kb(te,"childNodes"),Ie=kb(te,"parentNode");if(typeof f=="function"){var xt=u.createElement("template");xt.content&&xt.content.ownerDocument&&(u=xt.content.ownerDocument)}var yt=AC(q,o),Fe=yt?yt.createHTML(""):"",lt=u,Mt=lt.implementation,En=lt.createNodeIterator,Lt=lt.createDocumentFragment,An=lt.getElementsByTagName,Gt=o.importNode,Dt={};try{Dt=rd(u).documentMode?u.documentMode:{}}catch(Kr){}var gn={};r.isSupported=typeof Ie=="function"&&Mt&&typeof Mt.createHTMLDocument!="undefined"&&Dt!==9;var Xn=EC,It=ON,Un=DN,Qn=_N,Jr=BN,Ca=ZA,Ya=MN,ho=null,fs=Ba({},[].concat(Yl(KA),Yl(wC),Yl(CC),Yl(xC),Yl(XA))),au=null,gy=Ba({},[].concat(Yl(YA),Yl(kC),Yl(Eb),Yl(Tb))),ci=Object.seal(Object.create(null,{tagNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},attributeNameCheck:{writable:!0,configurable:!1,enumerable:!0,value:null},allowCustomizedBuiltInElements:{writable:!0,configurable:!1,enumerable:!0,value:!1}})),xd=null,Sd=null,kp=!0,kd=!0,Ep=!1,Pu=!1,lc=!1,du=!1,Tp=!1,yv=!1,Tg=!1,fi=!1,gf=!0,wv=!0,Ed=!1,cc={},Cv=null,In=Ba({},["annotation-xml","audio","colgroup","desc","foreignobject","head","iframe","math","mi","mn","mo","ms","mtext","noembed","noframes","noscript","plaintext","script","style","svg","template","thead","title","video","xmp"]),Lr=null,ka=Ba({},["audio","video","img","source","image","track"]),co=null,Ru=Ba({},["alt","class","for","id","label","name","pattern","placeholder","role","summary","title","value","style","xmlns"]),mu="http://www.w3.org/1998/Math/MathML",vs="http://www.w3.org/2000/svg",al="http://www.w3.org/1999/xhtml",Ag=al,Ap=!1,Og,V$=["application/xhtml+xml","text/html"],U$="text/html",Td,Dg=null,xK=u.createElement("form"),bH=function(wt){return wt instanceof RegExp||wt instanceof Function},W$=function(wt){Dg&&Dg===wt||((!wt||Jf(wt)!=="object")&&(wt={}),wt=rd(wt),ho="ALLOWED_TAGS"in wt?Ba({},wt.ALLOWED_TAGS):fs,au="ALLOWED_ATTR"in wt?Ba({},wt.ALLOWED_ATTR):gy,co="ADD_URI_SAFE_ATTR"in wt?Ba(rd(Ru),wt.ADD_URI_SAFE_ATTR):Ru,Lr="ADD_DATA_URI_TAGS"in wt?Ba(rd(ka),wt.ADD_DATA_URI_TAGS):ka,Cv="FORBID_CONTENTS"in wt?Ba({},wt.FORBID_CONTENTS):In,xd="FORBID_TAGS"in wt?Ba({},wt.FORBID_TAGS):{},Sd="FORBID_ATTR"in wt?Ba({},wt.FORBID_ATTR):{},cc="USE_PROFILES"in wt?wt.USE_PROFILES:!1,kp=wt.ALLOW_ARIA_ATTR!==!1,kd=wt.ALLOW_DATA_ATTR!==!1,Ep=wt.ALLOW_UNKNOWN_PROTOCOLS||!1,Pu=wt.SAFE_FOR_TEMPLATES||!1,lc=wt.WHOLE_DOCUMENT||!1,yv=wt.RETURN_DOM||!1,Tg=wt.RETURN_DOM_FRAGMENT||!1,fi=wt.RETURN_TRUSTED_TYPE||!1,Tp=wt.FORCE_BODY||!1,gf=wt.SANITIZE_DOM!==!1,wv=wt.KEEP_CONTENT!==!1,Ed=wt.IN_PLACE||!1,Ya=wt.ALLOWED_URI_REGEXP||Ya,Ag=wt.NAMESPACE||al,wt.CUSTOM_ELEMENT_HANDLING&&bH(wt.CUSTOM_ELEMENT_HANDLING.tagNameCheck)&&(ci.tagNameCheck=wt.CUSTOM_ELEMENT_HANDLING.tagNameCheck),wt.CUSTOM_ELEMENT_HANDLING&&bH(wt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck)&&(ci.attributeNameCheck=wt.CUSTOM_ELEMENT_HANDLING.attributeNameCheck),wt.CUSTOM_ELEMENT_HANDLING&&typeof wt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements=="boolean"&&(ci.allowCustomizedBuiltInElements=wt.CUSTOM_ELEMENT_HANDLING.allowCustomizedBuiltInElements),Og=V$.indexOf(wt.PARSER_MEDIA_TYPE)===-1?Og=U$:Og=wt.PARSER_MEDIA_TYPE,Td=Og==="application/xhtml+xml"?function(Zn){return Zn}:Sb,Pu&&(kd=!1),Tg&&(yv=!0),cc&&(ho=Ba({},Yl(XA)),au=[],cc.html===!0&&(Ba(ho,KA),Ba(au,YA)),cc.svg===!0&&(Ba(ho,wC),Ba(au,kC),Ba(au,Tb)),cc.svgFilters===!0&&(Ba(ho,CC),Ba(au,kC),Ba(au,Tb)),cc.mathMl===!0&&(Ba(ho,xC),Ba(au,Eb),Ba(au,Tb))),wt.ADD_TAGS&&(ho===fs&&(ho=rd(ho)),Ba(ho,wt.ADD_TAGS)),wt.ADD_ATTR&&(au===gy&&(au=rd(au)),Ba(au,wt.ADD_ATTR)),wt.ADD_URI_SAFE_ATTR&&Ba(co,wt.ADD_URI_SAFE_ATTR),wt.FORBID_CONTENTS&&(Cv===In&&(Cv=rd(Cv)),Ba(Cv,wt.FORBID_CONTENTS)),wv&&(ho["#text"]=!0),lc&&Ba(ho,["html","head","body"]),ho.table&&(Ba(ho,["tbody"]),delete xd.tbody),us&&us(wt),Dg=wt)},yH=Ba({},["mi","mo","mn","ms","mtext"]),wH=Ba({},["foreignobject","desc","title","annotation-xml"]),SK=Ba({},["title","style","font","a","script"]),eM=Ba({},wC);Ba(eM,CC),Ba(eM,AN);var j$=Ba({},xC);Ba(j$,SC);var kK=function(wt){var Zn=Ie(wt);(!Zn||!Zn.tagName)&&(Zn={namespaceURI:al,tagName:"template"});var Ir=Sb(wt.tagName),$o=Sb(Zn.tagName);return wt.namespaceURI===vs?Zn.namespaceURI===al?Ir==="svg":Zn.namespaceURI===mu?Ir==="svg"&&($o==="annotation-xml"||yH[$o]):!!eM[Ir]:wt.namespaceURI===mu?Zn.namespaceURI===al?Ir==="math":Zn.namespaceURI===vs?Ir==="math"&&wH[$o]:!!j$[Ir]:wt.namespaceURI===al?Zn.namespaceURI===vs&&!wH[$o]||Zn.namespaceURI===mu&&!yH[$o]?!1:!j$[Ir]&&(SK[Ir]||!eM[Ir]):!1},Ad=function(wt){Vm(r.removed,{element:wt});try{wt.parentNode.removeChild(wt)}catch(Zn){try{wt.outerHTML=Fe}catch(Ir){wt.remove()}}},CH=function(wt,Zn){try{Vm(r.removed,{attribute:Zn.getAttributeNode(wt),from:Zn})}catch(Ir){Vm(r.removed,{attribute:null,from:Zn})}if(Zn.removeAttribute(wt),wt==="is"&&!au[wt])if(yv||Tg)try{Ad(Zn)}catch(Ir){}else try{Zn.setAttribute(wt,"")}catch(Ir){}},xH=function(wt){var Zn,Ir;if(Tp)wt="<remove></remove>"+wt;else{var $o=SN(wt,/^[\r\n\t ]+/);Ir=$o&&$o[0]}Og==="application/xhtml+xml"&&(wt='<html xmlns="http://www.w3.org/1999/xhtml"><head></head><body>'+wt+"</body></html>");var xl=yt?yt.createHTML(wt):wt;if(Ag===al)try{Zn=new V().parseFromString(xl,Og)}catch(ds){}if(!Zn||!Zn.documentElement){Zn=Mt.createDocument(Ag,"template",null);try{Zn.documentElement.innerHTML=Ap?"":xl}catch(ds){}}var zs=Zn.body||Zn.documentElement;return wt&&Ir&&zs.insertBefore(u.createTextNode(Ir),zs.childNodes[0]||null),Ag===al?An.call(Zn,lc?"html":"body")[0]:lc?Zn.documentElement:zs},SH=function(wt){return En.call(wt.ownerDocument||wt,wt,b.SHOW_ELEMENT|b.SHOW_COMMENT|b.SHOW_TEXT,null,!1)},EK=function(wt){return wt instanceof P&&(typeof wt.nodeName!="string"||typeof wt.textContent!="string"||typeof wt.removeChild!="function"||!(wt.attributes instanceof O)||typeof wt.removeAttribute!="function"||typeof wt.setAttribute!="function"||typeof wt.namespaceURI!="string"||typeof wt.insertBefore!="function")},nk=function(wt){return Jf(d)==="object"?wt instanceof d:wt&&Jf(wt)==="object"&&typeof wt.nodeType=="number"&&typeof wt.nodeName=="string"},Od=function(wt,Zn,Ir){gn[wt]&&xN(gn[wt],function($o){$o.call(r,Zn,Ir,Dg)})},kH=function(wt){var Zn;if(Od("beforeSanitizeElements",wt,null),EK(wt)||Du(/[\u0080-\uFFFF]/,wt.nodeName))return Ad(wt),!0;var Ir=Td(wt.nodeName);if(Od("uponSanitizeElement",wt,{tagName:Ir,allowedTags:ho}),wt.hasChildNodes()&&!nk(wt.firstElementChild)&&(!nk(wt.content)||!nk(wt.content.firstElementChild))&&Du(/<[/\w]/g,wt.innerHTML)&&Du(/<[/\w]/g,wt.textContent)||Ir==="select"&&Du(/<template/i,wt.innerHTML))return Ad(wt),!0;if(!ho[Ir]||xd[Ir]){if(!xd[Ir]&&TH(Ir)&&(ci.tagNameCheck instanceof RegExp&&Du(ci.tagNameCheck,Ir)||ci.tagNameCheck instanceof Function&&ci.tagNameCheck(Ir)))return!1;if(wv&&!Cv[Ir]){var $o=Ie(wt)||wt.parentNode,xl=le(wt)||wt.childNodes;if(xl&&$o)for(var zs=xl.length,ds=zs-1;ds>=0;--ds)$o.insertBefore(de(xl[ds],!0),Pe(wt))}return Ad(wt),!0}return wt instanceof p&&!kK(wt)||(Ir==="noscript"||Ir==="noembed")&&Du(/<\/no(script|embed)/i,wt.innerHTML)?(Ad(wt),!0):(Pu&&wt.nodeType===3&&(Zn=wt.textContent,Zn=Qf(Zn,Xn," "),Zn=Qf(Zn,It," "),wt.textContent!==Zn&&(Vm(r.removed,{element:wt.cloneNode()}),wt.textContent=Zn)),Od("afterSanitizeElements",wt,null),!1)},EH=function(wt,Zn,Ir){if(gf&&(Zn==="id"||Zn==="name")&&(Ir in u||Ir in xK))return!1;if(!(kd&&!Sd[Zn]&&Du(Un,Zn))){if(!(kp&&Du(Qn,Zn))){if(!au[Zn]||Sd[Zn]){if(!(TH(wt)&&(ci.tagNameCheck instanceof RegExp&&Du(ci.tagNameCheck,wt)||ci.tagNameCheck instanceof Function&&ci.tagNameCheck(wt))&&(ci.attributeNameCheck instanceof RegExp&&Du(ci.attributeNameCheck,Zn)||ci.attributeNameCheck instanceof Function&&ci.attributeNameCheck(Zn))||Zn==="is"&&ci.allowCustomizedBuiltInElements&&(ci.tagNameCheck instanceof RegExp&&Du(ci.tagNameCheck,Ir)||ci.tagNameCheck instanceof Function&&ci.tagNameCheck(Ir))))return!1}else if(!co[Zn]){if(!Du(Ya,Qf(Ir,Ca,""))){if(!((Zn==="src"||Zn==="xlink:href"||Zn==="href")&&wt!=="script"&&kN(Ir,"data:")===0&&Lr[wt])){if(!(Ep&&!Du(Jr,Qf(Ir,Ca,"")))){if(Ir)return!1}}}}}}return!0},TH=function(wt){return wt.indexOf("-")>0},AH=function(wt){var Zn,Ir,$o,xl;Od("beforeSanitizeAttributes",wt,null);var zs=wt.attributes;if(zs){var ds={attrName:"",attrValue:"",keepAttr:!0,allowedAttributes:au};for(xl=zs.length;xl--;){Zn=zs[xl];var tM=Zn,ol=tM.name,OH=tM.namespaceURI;if(Ir=ol==="value"?Zn.value:EN(Zn.value),$o=Td(ol),ds.attrName=$o,ds.attrValue=Ir,ds.keepAttr=!0,ds.forceKeepAttr=void 0,Od("uponSanitizeAttribute",wt,ds),Ir=ds.attrValue,!ds.forceKeepAttr&&(CH(ol,wt),!!ds.keepAttr)){if(Du(/\/>/i,Ir)){CH(ol,wt);continue}Pu&&(Ir=Qf(Ir,Xn," "),Ir=Qf(Ir,It," "));var AK=Td(wt.nodeName);if(EH(AK,$o,Ir))try{OH?wt.setAttributeNS(OH,ol,Ir):wt.setAttribute(ol,Ir),GA(r.removed)}catch(fJ){}}}Od("afterSanitizeAttributes",wt,null)}},TK=function Kr(wt){var Zn,Ir=SH(wt);for(Od("beforeSanitizeShadowDOM",wt,null);Zn=Ir.nextNode();)Od("uponSanitizeShadowNode",Zn,null),!kH(Zn)&&(Zn.content instanceof c&&Kr(Zn.content),AH(Zn));Od("afterSanitizeShadowDOM",wt,null)};return r.sanitize=function(Kr,wt){var Zn,Ir,$o,xl,zs;if(Ap=!Kr,Ap&&(Kr="<!-->"),typeof Kr!="string"&&!nk(Kr)){if(typeof Kr.toString!="function")throw yC("toString is not a function");if(Kr=Kr.toString(),typeof Kr!="string")throw yC("dirty is not a string, aborting")}if(!r.isSupported){if(Jf(t.toStaticHTML)==="object"||typeof t.toStaticHTML=="function"){if(typeof Kr=="string")return t.toStaticHTML(Kr);if(nk(Kr))return t.toStaticHTML(Kr.outerHTML)}return Kr}if(du||W$(wt),r.removed=[],typeof Kr=="string"&&(Ed=!1),Ed){if(Kr.nodeName){var ds=Td(Kr.nodeName);if(!ho[ds]||xd[ds])throw yC("root node is forbidden and cannot be sanitized in-place")}}else if(Kr instanceof d)Zn=xH("<!---->"),Ir=Zn.ownerDocument.importNode(Kr,!0),Ir.nodeType===1&&Ir.nodeName==="BODY"||Ir.nodeName==="HTML"?Zn=Ir:Zn.appendChild(Ir);else{if(!yv&&!Pu&&!lc&&Kr.indexOf("<")===-1)return yt&&fi?yt.createHTML(Kr):Kr;if(Zn=xH(Kr),!Zn)return yv?null:fi?Fe:""}Zn&&Tp&&Ad(Zn.firstChild);for(var tM=SH(Ed?Kr:Zn);$o=tM.nextNode();)$o.nodeType===3&&$o===xl||kH($o)||($o.content instanceof c&&TK($o.content),AH($o),xl=$o);if(xl=null,Ed)return Kr;if(yv){if(Tg)for(zs=Lt.call(Zn.ownerDocument);Zn.firstChild;)zs.appendChild(Zn.firstChild);else zs=Zn;return au.shadowroot&&(zs=Gt.call(o,zs,!0)),zs}var ol=lc?Zn.outerHTML:Zn.innerHTML;return lc&&ho["!doctype"]&&Zn.ownerDocument&&Zn.ownerDocument.doctype&&Zn.ownerDocument.doctype.name&&Du(PN,Zn.ownerDocument.doctype.name)&&(ol="<!DOCTYPE "+Zn.ownerDocument.doctype.name+`>
`+ol),Pu&&(ol=Qf(ol,Xn," "),ol=Qf(ol,It," ")),yt&&fi?yt.createHTML(ol):ol},r.setConfig=function(Kr){W$(Kr),du=!0},r.clearConfig=function(){Dg=null,du=!1},r.isValidAttribute=function(Kr,wt,Zn){Dg||W$({});var Ir=Td(Kr),$o=Td(wt);return EH(Ir,$o,Zn)},r.addHook=function(Kr,wt){typeof wt=="function"&&(gn[Kr]=gn[Kr]||[],Vm(gn[Kr],wt))},r.removeHook=function(Kr){if(gn[Kr])return GA(gn[Kr])},r.removeHooks=function(Kr){gn[Kr]&&(gn[Kr]=[])},r.removeAllHooks=function(){gn={}},r}var DC=OC(),Ab=function(t){return DC().sanitize(t)},ml=tinymce.util.Tools.resolve("tinymce.util.I18n"),_c={indent:!0,outdent:!0,"table-insert-column-after":!0,"table-insert-column-before":!0,"paste-column-after":!0,"paste-column-before":!0,"unordered-list":!0,"list-bull-circle":!0,"list-bull-default":!0,"list-bull-square":!0},Ob="temporary-placeholder",_C=function(t){return function(){return dt(t,Ob).getOr("!not found!")}},MC=function(t,r){var o=t.toLowerCase();if(ml.isRtl()){var u=po(o,"-rtl");return Wt(r,u)?u:o}else return o},JA=function(t,r){return dt(r,MC(t,r))},QA=function(t,r){var o=r();return JA(t,o).getOrThunk(_C(o))},Um=function(t,r,o){var u=r();return JA(t,u).or(o).getOrThunk(_C(u))},e3=function(t){return ml.isRtl()?Wt(_c,t):!1},BC=function(){return $r("add-focusable",[Hr(function(t){ww(t.element,"svg").each(function(r){return qr(r,"focusable","false")})})])},t3=function(t,r,o,u){var c,f,d=e3(r)?["tox-icon--flip"]:[],p=dt(o,MC(r,o)).or(u).getOrThunk(_C(o));return{dom:{tag:t.tag,attributes:(c=t.attributes)!==null&&c!==void 0?c:{},classes:t.classes.concat(d),innerHtml:p},behaviours:Cn(ct(ct([],(f=t.behaviours)!==null&&f!==void 0?f:[],!0),[BC()],!1))}},gl=function(t,r,o,u){return u===void 0&&(u=A.none()),t3(r,t,o(),u)},n3=function(t,r,o){var u=o(),c=kt(t,function(f){return Wt(u,MC(f,u))});return t3(r,c.getOr(Ob),u,A.none())},PC={success:"checkmark",error:"warning",err:"error",warning:"warning",warn:"warning",info:"info"},RN=function(t){var r=ya({dom:rf("<p>"+Ab(t.translationProvider(t.text))+"</p>"),behaviours:Cn([Dr.config({})])}),o=function(q){return{dom:{tag:"div",classes:["tox-bar"],attributes:{style:"width: "+q+"%"}}}},u=function(q){return{dom:{tag:"div",classes:["tox-text"],innerHtml:q+"%"}}},c=ya({dom:{tag:"div",classes:t.progress?["tox-progress-bar","tox-progress-indicator"]:["tox-progress-bar"]},components:[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(0)]},u(0)],behaviours:Cn([Dr.config({})])}),f=function(q,te){q.getSystem().isConnected()&&c.getOpt(q).each(function(de){Dr.set(de,[{dom:{tag:"div",classes:["tox-bar-container"]},components:[o(te)]},u(te)])})},d=function(q,te){if(q.getSystem().isConnected()){var de=r.get(q);Dr.set(de,[Xi(te)])}},p={updateProgress:f,updateText:d},b=Ce([t.icon.toArray(),t.level.toArray(),t.level.bind(function(q){return A.from(PC[q])}).toArray()]),x=ya(Ou.sketch({dom:{tag:"button",classes:["tox-notification__dismiss","tox-button","tox-button--naked","tox-button--icon"]},components:[gl("close",{tag:"div",classes:["tox-icon"],attributes:{"aria-label":t.translationProvider("Close")}},t.iconProvider)],action:function(q){t.onAction(q)}})),O=n3(b,{tag:"div",classes:["tox-notification__icon"]},t.iconProvider),P={dom:{tag:"div",classes:["tox-notification__body"]},components:[r.asSpec()],behaviours:Cn([Dr.config({})])},V=[O,P];return{uid:t.uid,dom:{tag:"div",attributes:{role:"alert"},classes:t.level.map(function(q){return["tox-notification","tox-notification--in","tox-notification--"+q]}).getOr(["tox-notification","tox-notification--in"])},behaviours:Cn([_r.config({}),$r("notification-events",[qt(kf(),function(q){x.getOpt(q).each(_r.focus)})])]),components:V.concat(t.progress?[c.asSpec()]:[]).concat(t.closeButton?[x.asSpec()]:[]),apis:p}},Vh=Bs({name:"Notification",factory:RN,configFields:[Oa("level"),jt("progress"),jt("icon"),jt("onAction"),jt("text"),jt("iconProvider"),jt("translationProvider"),Ao("closeButton",!0)],apis:{updateProgress:function(t,r,o){t.updateProgress(r,o)},updateText:function(t,r,o){t.updateText(r,o)}}});function RC(t,r,o){var u=r.backstage.shared,c=function(x){switch(x){case"bc-bc":return Lm;case"tc-tc":return Kl;case"tc-bc":return Vu;case"bc-tc":default:return Ko}},f=function(x){x.length>0&&Ke(x,function(O,P){P===0?O.moveRel(null,"banner"):O.moveRel(x[P-1].getEl(),"bc-tc")})},d=function(x,O){var P=!x.closeButton&&x.timeout&&(x.timeout>0||x.timeout<0),V=function(){O(),wo.hide(te)},q=Wo(Vh.sketch({text:x.text,level:tn(["success","error","warning","warn","info"],x.type)?x.type:void 0,progress:x.progressBar===!0,icon:A.from(x.icon),closeButton:!P,onAction:V,iconProvider:u.providers.icons,translationProvider:u.providers.translate})),te=Wo(wo.sketch(G({dom:{tag:"div",classes:["tox-notifications-container"]},lazySink:u.getSink,fireDismissalEventInstead:{}},u.header.isPositionedAtTop()?{}:{fireRepositionEventInstead:{}})));o.add(te),x.timeout>0&&Xl.setTimeout(function(){V()},x.timeout);var de=function(){var Pe=gi(ce.fromDom(t.getContentAreaContainer())),le=xs(),Ie=as(le.x,Pe.x,Pe.right),xt=as(le.y,Pe.y,Pe.bottom),yt=Math.max(Pe.right,le.right),Fe=Math.max(Pe.bottom,le.bottom);return A.some(mi(Ie,xt,yt-Ie,Fe-xt))};return{close:V,moveTo:function(Pe,le){wo.showAt(te,Ds(q),{anchor:{type:"makeshift",x:Pe,y:le}})},moveRel:function(Pe,le){var Ie=Ds(q),xt={maxHeightFunction:fh()};if(le!=="banner"&&W(Pe)){var yt=c(le),Fe={type:"node",root:Aa(),node:A.some(ce.fromDom(Pe)),overrides:xt,layouts:{onRtl:function(){return[yt]},onLtr:function(){return[yt]}}};wo.showWithinBounds(te,Ie,{anchor:Fe},de)}else{var lt=G(G({},u.anchors.banner()),{overrides:xt});wo.showWithinBounds(te,Ie,{anchor:lt},de)}},text:function(Pe){Vh.updateText(q,Pe)},settings:x,getEl:function(){return q.element.dom},progressBar:{value:function(Pe){Vh.updateProgress(q,Pe)}}}},p=function(x){x.close()},b=function(x){return x.settings};return{open:d,close:p,reposition:f,getArgs:b}}var NN=function(t,r){var o=null,u=function(){K(o)||(clearTimeout(o),o=null)},c=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];K(o)&&(o=setTimeout(function(){o=null,t.apply(null,f)},r))};return{cancel:u,throttle:c}},Db=function(t,r){var o=null,u=function(){K(o)||(clearTimeout(o),o=null)},c=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];u(),o=setTimeout(function(){o=null,t.apply(null,f)},r)};return{cancel:u,throttle:c}},r3=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),FN=function(t,r){return t.isBlock(r)||tn(["BR","IMG","HR","INPUT"],r.nodeName)||t.getContentEditable(r)==="false"},a3=function(t,r,o,u,c){var f=r3(t,function(d){return FN(t,d)});return A.from(f.backwards(r,o,u,c))},IN="[data-mce-autocompleter]",zN=function(t,r){return _b(ce.fromDom(t.selection.getNode())).getOrThunk(function(){var o=ce.fromHtml('<span data-mce-autocompleter="1" data-mce-bogus="1"></span>',t.getDoc());return qi(o,ce.fromDom(r.extractContents())),r.insertNode(o.dom),Lo(o).each(function(u){return u.dom.normalize()}),HE(o).map(function(u){t.selection.setCursorLocation(u.dom,tP(u))}),o})},_b=function(t){return Il(t,IN)},$N=function(t){return t.collapsed&&t.startContainer.nodeType===3},o3=function(t){return t.toString().replace(/\u00A0/g," ").replace(/\uFEFF/g,"")},i3=function(t){return t!==""&&`  \f
\r	\v`.indexOf(t)!==-1},Wm=function(t,r){return t.substring(r.length)},u3=function(t,r,o){var u;for(u=r-1;u>=0;u--){var c=t.charAt(u);if(i3(c))return A.none();if(c===o)break}return A.some(u)},s3=function(t,r,o,u){if(u===void 0&&(u=0),!$N(r))return A.none();var c=function(d,p,b){return u3(b,p,o).getOr(p)},f=t.getParent(r.startContainer,t.isBlock)||t.getRoot();return a3(t,r.startContainer,r.startOffset,c,f).bind(function(d){var p=r.cloneRange();if(p.setStart(d.container,d.offset),p.setEnd(r.endContainer,r.endOffset),p.collapsed)return A.none();var b=o3(p),x=b.lastIndexOf(o);return x!==0||Wm(b,o).length<u?A.none():A.some({text:Wm(b,o),range:p,triggerChar:o})})},NC=function(t,r,o,u){return u===void 0&&(u=0),_b(ce.fromDom(r.startContainer)).fold(function(){return s3(t,r,o,u)},function(c){var f=t.createRng();f.selectNode(c.dom);var d=o3(f);return A.some({range:f,text:Wm(d,o),triggerChar:o})})},LN=function(t,r){r.on("keypress compositionend",t.onKeypress.throttle),r.on("remove",t.onKeypress.cancel);var o=function(u,c){br(u,Xp(),{raw:c})};r.on("keydown",function(u){var c=function(){return t.getView().bind(Da.getHighlighted)};u.which===8&&t.onKeypress.throttle(u),t.isActive()&&(u.which===27&&t.cancelIfNecessary(),t.isMenuOpen()?u.which===13?(c().each(As),u.preventDefault()):u.which===40?(c().fold(function(){t.getView().each(Da.highlightFirst)},function(f){o(f,u)}),u.preventDefault(),u.stopImmediatePropagation()):(u.which===37||u.which===38||u.which===39)&&c().each(function(f){o(f,u),u.preventDefault(),u.stopImmediatePropagation()}):(u.which===13||u.which===38||u.which===40)&&t.cancelIfNecessary())}),r.on("NodeChange",function(u){t.isActive()&&!t.isProcessingAction()&&_b(ce.fromDom(u.element)).isNone()&&t.cancelIfNecessary()})},FC={setup:LN},ad=tinymce.util.Tools.resolve("tinymce.util.Promise"),Mb=function(t,r){return{container:t,offset:r}},l3=function(t){return t.nodeType===oe},c3=function(t){return t.nodeType===Mn},f3=function(t){if(l3(t))return Mb(t,t.data.length);var r=t.childNodes;return r.length>0?f3(r[r.length-1]):Mb(t,r.length)},Bb=function(t,r){var o=t.childNodes;return o.length>0&&r<o.length?Bb(o[r],0):o.length>0&&c3(t)&&o.length===r?f3(o[o.length-1]):Mb(t,r)},HN=function(t,r){return a3(t,r.container,r.offset,function(o,u){return u===0?-1:u},t.getRoot()).filter(function(o){var u=o.container.data.charAt(o.offset-1);return!i3(u)}).isSome()},v3=function(t){return function(r){var o=Bb(r.startContainer,r.startOffset);return!HN(t,o)}},d3=function(t,r,o){return Xe(o.triggerChars,function(u){return NC(t,r,u)})},Uh=function(t,r){var o=r(),u=t.selection.getRng();return d3(t.dom,u,o).bind(function(c){return m3(t,r,c)})},m3=function(t,r,o,u){u===void 0&&(u={});var c=r(),f=t.selection.getRng(),d=f.startContainer.nodeValue,p=We(c.lookupByChar(o.triggerChar),function(x){return o.text.length>=x.minChars&&x.matches.getOrThunk(function(){return v3(t.dom)})(o.range,d,o.text)});if(p.length===0)return A.none();var b=ad.all(St(p,function(x){var O=x.fetch(o.text,x.maxResults,u);return O.then(function(P){return{matchText:o.text,items:P,columns:x.columns,onAction:x.onAction,highlightOn:x.highlightOn}})}));return A.some({lookupData:b,context:o})},Pb=dr([Or("type"),no("text")]),jm=function(t){return To("separatormenuitem",Pb,t)},VN=dr([$e("type","autocompleteitem"),$e("active",!1),$e("disabled",!1),$e("meta",{}),Or("value"),no("text"),no("icon")]),g3=dr([Or("type"),Or("ch"),ts("minChars",1),$e("columns",1),ts("maxResults",10),Ov("matches"),cu("fetch"),cu("onAction"),Xg("highlightOn",[],Vo)]),h3=function(t){return To("Autocompleter.Separator",Pb,t)},p3=function(t){return To("Autocompleter.Item",VN,t)},IC=function(t){return To("Autocompleter",g3,t)},qm=[Ao("disabled",!1),no("tooltip"),no("icon"),no("text"),Xa("onSetup",function(){return ae})],UN=dr([Or("type"),cu("onAction")].concat(qm)),b3=function(t){return To("toolbarbutton",UN,t)},Gm=[Ao("active",!1)].concat(qm),WN=dr(Gm.concat([Or("type"),cu("onAction")])),zC=function(t){return To("ToggleButton",WN,t)},od=[Xa("predicate",je),qs("scope","node",["node","editor"]),qs("position","selection",["node","selection","line"])],jN=qm.concat([$e("type","contextformbutton"),$e("primary",!1),cu("onAction"),$u("original",_e)]),qN=Gm.concat([$e("type","contextformbutton"),$e("primary",!1),cu("onAction"),$u("original",_e)]),GN=qm.concat([$e("type","contextformbutton")]),y3=Gm.concat([$e("type","contextformtogglebutton")]),w3=Ws("type",{contextformbutton:jN,contextformtogglebutton:qN}),KN=dr([$e("type","contextform"),Xa("initValue",L("")),no("label"),yu("commands",w3),_l("launch",Ws("type",{contextformbutton:GN,contextformtogglebutton:y3}))].concat(od)),XN=function(t){return To("ContextForm",KN,t)},YN=dr([$e("type","contexttoolbar"),Or("items")].concat(od)),ZN=function(t){return To("ContextToolbar",YN,t)},JN=function(t){var r={};return Ke(t,function(o){r[o]={}}),ot(r)},Rb=function(t){var r=t.ui.registry.getAll().popups,o=Jt(r,function(d){return IC(d).fold(function(p){throw new Error(Xd(p))},_e)}),u=JN(Ln(o,function(d){return d.ch})),c=Ct(o),f=function(d){return We(c,function(p){return p.ch===d})};return{dataset:o,triggerChars:u,lookupByChar:f}},$C;(function(t){t[t.CLOSE_ON_EXECUTE=0]="CLOSE_ON_EXECUTE",t[t.BUBBLE_TO_SANDBOX=1]="BUBBLE_TO_SANDBOX"})($C||($C={}));var Jl=$C,Wh="tox-menu-nav__js",Nb="tox-collection__item",LC="tox-swatch",C3={normal:Wh,color:LC},HC="tox-collection__item--enabled",x3="tox-collection__group-heading",VC="tox-collection__item-icon",UC="tox-collection__item-label",QN="tox-collection__item-accessory",S3="tox-collection__item-caret",e5="tox-collection__item-checkmark",id="tox-collection__item--active",Fb="tox-collection__item-container",k3="tox-collection__item-container--column",E3="tox-collection__item-container--row",T3="tox-collection__item-container--align-right",t5="tox-collection__item-container--align-left",n5="tox-collection__item-container--valign-top",r5="tox-collection__item-container--valign-middle",A3="tox-collection__item-container--valign-bottom",WC=function(t){return dt(C3,t).getOr(Wh)},O3=function(t){return t==="color"?"tox-swatches":"tox-menu"},jC=function(t){return{backgroundMenu:"tox-background-menu",selectedMenu:"tox-selected-menu",selectedItem:"tox-collection__item--active",hasIcons:"tox-menu--has-icons",menu:O3(t),tieredMenu:"tox-tiered-menu"}},Km=function(t){var r=jC(t);return{backgroundMenu:r.backgroundMenu,selectedMenu:r.selectedMenu,menu:r.menu,selectedItem:r.selectedItem,item:WC(t)}},a5=function(t,r,o){var u=jC(o);return{tag:"div",classes:Ce([[u.menu,"tox-menu-"+r+"-column"],t?[u.hasIcons]:[]])}},o5=[Yf.parts.items({})],Ib=function(t,r,o){var u=jC(o),c={tag:"div",classes:Ce([[u.tieredMenu]])};return{dom:c,markers:Km(o)}},qC=function(t,r){return function(o){var u=nr(o,r);return St(u,function(c){return{dom:t,components:c}})}},i5=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-swatches-menu"]},components:[{dom:{tag:"div",classes:["tox-swatches"]},components:[Yf.parts.items({preprocess:t!=="auto"?qC({tag:"div",classes:["tox-swatches__row"]},t):_e})]}]}},u5=function(t){return{dom:{tag:"div",classes:["tox-menu","tox-collection","tox-collection--toolbar","tox-collection--toolbar-lg"]},components:[Yf.parts.items({preprocess:qC({tag:"div",classes:["tox-collection__group"]},t)})]}},D3=function(t,r){var o=[],u=[];return Ke(t,function(c,f){r(c,f)?(u.length>0&&o.push(u),u=[],Wt(c.dom,"innerHtml")&&u.push(c)):u.push(c)}),u.length>0&&o.push(u),St(o,function(c){return{dom:{tag:"div",classes:["tox-collection__group"]},components:c}})},GC=function(t,r,o){return{dom:{tag:"div",classes:["tox-menu","tox-collection"].concat(t===1?["tox-collection--list"]:["tox-collection--grid"])},components:[Yf.parts.items({preprocess:function(u){return t!=="auto"&&t>1?qC({tag:"div",classes:["tox-collection__group"]},t)(u):D3(u,function(c,f){return r[f].type==="separator"})}})]}},s5=function(t,r){return{dom:{tag:"div",classes:["tox-collection","tox-collection--horizontal"]},components:[Yf.parts.items({preprocess:function(o){return D3(o,function(u,c){return t[c].type==="separator"})}})]}},jh=function(t){return sn(t,function(r){return"icon"in r&&r.icon!==void 0})},af=function(t){return A.none()},l5=function(t,r,o,u,c){var f=s5(o);return{value:t,dom:f.dom,components:f.components,items:o}},KC=function(t,r,o,u,c){if(c==="color"){var f=i5(u);return{value:t,dom:f.dom,components:f.components,items:o}}if(c==="normal"&&u==="auto"){var f=GC(u,o);return{value:t,dom:f.dom,components:f.components,items:o}}if(c==="normal"&&u===1){var f=GC(1,o);return{value:t,dom:f.dom,components:f.components,items:o}}if(c==="normal"){var f=GC(u,o);return{value:t,dom:f.dom,components:f.components,items:o}}if(c==="listpreview"&&u!=="auto"){var f=u5(u);return{value:t,dom:f.dom,components:f.components,items:o}}return{value:t,dom:a5(r,u,c),components:o5,items:o}},c5=[Or("type"),Or("src"),no("alt"),Xg("classes",[],Vo)],f5=dr(c5),v5=[Or("type"),Or("text"),no("name"),Xg("classes",["tox-collection__item-label"],Vo)],zb=dr(v5),XC=yk(function(){return jp("type",{cardimage:f5,cardtext:zb,cardcontainer:d5})}),d5=dr([Or("type"),Zd("direction","horizontal"),Zd("align","left"),Zd("valign","middle"),yu("items",XC)]),Xm=[Ao("disabled",!1),no("text"),no("shortcut"),hi("value","value",la(function(){return Yn("menuitem-value")}),Ol()),$e("meta",{})],m5=dr([Or("type"),no("label"),yu("items",XC),Xa("onSetup",function(){return ae}),Xa("onAction",ae)].concat(Xm)),g5=function(t){return To("cardmenuitem",m5,t)},h5=dr([Or("type"),Ao("active",!1),no("icon")].concat(Xm)),YC=function(t){return To("choicemenuitem",h5,t)},ZC=[Or("type"),Or("fancytype"),Xa("onAction",ae)],_3=[$e("initData",{})].concat(ZC),p5=[Hy("initData",{},[Ao("allowCustomColors",!0),Qu("colors",Ol())])].concat(ZC),M3=Ws("fancytype",{inserttable:_3,colorswatch:p5}),b5=function(t){return To("fancymenuitem",M3,t)},y5=dr([Or("type"),Xa("onSetup",function(){return ae}),Xa("onAction",ae),no("icon")].concat(Xm)),w5=function(t){return To("menuitem",y5,t)},C5=dr([Or("type"),cu("getSubmenuItems"),Xa("onSetup",function(){return ae}),no("icon")].concat(Xm)),x5=function(t){return To("nestedmenuitem",C5,t)},S5=dr([Or("type"),no("icon"),Ao("active",!1),Xa("onSetup",function(){return ae}),cu("onAction")].concat(Xm)),k5=function(t){return To("togglemenuitem",S5,t)},JC=function(t,r,o){var u=Eu(t.element,"."+o);if(u.length>0){var c=jn(u,function(f){var d=f.dom.getBoundingClientRect().top,p=u[0].dom.getBoundingClientRect().top;return Math.abs(d-p)>r}).getOr(u.length);return A.some({numColumns:c,numRows:Math.ceil(u.length/c)})}else return A.none()},B3=function(t,r){return Cn([$r(t,r)])},E5=function(t){return B3(Yn("unnamed-events"),t)},Ym={namedEvents:B3,unnamedEvents:E5},$b=Yn("tooltip.exclusive"),ud=Yn("tooltip.show"),Zm=Yn("tooltip.hide"),P3=function(t,r,o){t.getSystem().broadcastOn([$b],{})},T5=function(t,r,o,u){o.getTooltip().each(function(c){c.getSystem().isConnected()&&Dr.set(c,u)})},Lb=Object.freeze({__proto__:null,hideAllExclusive:P3,setComponents:T5}),QC=function(t,r){var o=function(c){r.getTooltip().each(function(f){Sc(f),t.onHide(c,f),r.clearTooltip()}),r.clearTimer()},u=function(c){if(!r.isShowing()){P3(c);var f=t.lazySink(c).getOrDie(),d=c.getSystem().build({dom:t.tooltipDom,components:t.tooltipComponents,events:$a(t.mode==="normal"?[qt(Sf(),function(p){da(c,ud)}),qt(Gy(),function(p){da(c,Zm)})]:[]),behaviours:Cn([Dr.config({})])});r.setTooltip(d),Uv(f,d),t.onShow(c,d),Po.position(f,d,{anchor:t.anchor(c)})}};return $a(Ce([[qt(ud,function(c){r.resetTimer(function(){u(c)},t.delay)}),qt(Zm,function(c){r.resetTimer(function(){o(c)},t.delay)}),qt(Xs(),function(c,f){var d=f;d.universal||tn(d.channels,$b)&&o(c)}),Ys(function(c){o(c)})],t.mode==="normal"?[qt(kf(),function(c){da(c,ud)}),qt(Yy(),function(c){da(c,Zm)}),qt(Sf(),function(c){da(c,ud)}),qt(Gy(),function(c){da(c,Zm)})]:[qt(nw(),function(c,f){da(c,ud)}),qt(Qp(),function(c){da(c,Zm)})]]))},Hb=Object.freeze({__proto__:null,events:QC}),R3=[jt("lazySink"),jt("tooltipDom"),$e("exclusive",!0),$e("tooltipComponents",[]),$e("delay",300),qs("mode","normal",["normal","follow-highlight"]),$e("anchor",function(t){return{type:"hotspot",hotspot:t,layouts:{onLtr:L([Ko,Vu,Yi,Hu,Zi,ku]),onRtl:L([Ko,Vu,Yi,Hu,Zi,ku])}}}),ba("onHide"),ba("onShow")],A5=function(){var t=Bo(),r=Bo(),o=function(){t.on(clearTimeout)},u=function(f,d){o(),t.set(setTimeout(f,d))},c=L("not-implemented");return ns({getTooltip:r.get,isShowing:r.isSet,setTooltip:r.set,clearTooltip:r.clear,clearTimer:o,resetTimer:u,readState:c})},O5=Object.freeze({__proto__:null,init:A5}),N3=pi({fields:R3,name:"tooltipping",active:Hb,state:O5,apis:Lb}),D5=function(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")},qh=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),_5=tinymce.util.Tools.resolve("tinymce.EditorManager"),M5=function(t){var r=t.getParam("skin"),o=t.getParam("skin_url");if(r!==!1){var u=r||"oxide";o?o=t.documentBaseURI.toAbsolute(o):o=_5.baseURL+"/skins/ui/"+u}return o},B5=function(t){return t.getParam("readonly",!1,"boolean")},P5=function(t){return t.getParam("skin")===!1},F3=function(t){return t.getParam("height",Math.max(t.getElement().offsetHeight,200))},I3=function(t){return t.getParam("width",qh.DOM.getStyle(t.getElement(),"width"))},z3=function(t){return A.from(t.getParam("min_width")).filter(he)},$3=function(t){return A.from(t.getParam("min_height")).filter(he)},Vb=function(t){return A.from(t.getParam("max_width")).filter(he)},L3=function(t){return A.from(t.getParam("max_height")).filter(he)},R5=function(t){return A.from(t.getParam("style_formats")).filter(z)},of=function(t){return t.getParam("style_formats_merge",!1,"boolean")},N5=function(t){return t.getParam("lineheight_formats","1 1.1 1.2 1.3 1.4 1.5 2","string").split(" ")},F5=function(t){return t.getParam("content_langs",void 0,"array")},ex=function(t){return t.getParam("removed_menuitems","")},Xo=function(t){return t.getParam("menubar",!0,"boolean")!==!1},tx=function(t){var r=t.getParam("toolbar",!0),o=r===!0,u=_(r),c=z(r)&&r.length>0;return!Ub(t)&&(c||u||o)},H3=function(t){var r=X(9,function(u){return t.getParam("toolbar"+(u+1),!1,"string")}),o=We(r,function(u){return typeof u=="string"});return o.length>0?A.some(o):A.none()},Ub=function(t){return H3(t).fold(function(){var r=t.getParam("toolbar",[],"string[]");return r.length>0},Ze)},Ps;(function(t){t.default="wrap",t.floating="floating",t.sliding="sliding",t.scrolling="scrolling"})(Ps||(Ps={}));var Gh=function(t){return t.getParam("toolbar_mode","","string")},sd;(function(t){t.auto="auto",t.top="top",t.bottom="bottom"})(sd||(sd={}));var I5=function(t){return t.getParam("toolbar_groups",{},"object")},V3=function(t){return t.getParam("toolbar_location",sd.auto,"string")},U3=function(t){return V3(t)===sd.bottom},z5=function(t){return t.getParam("fixed_toolbar_container","","string")},$5=function(t){return t.getParam("fixed_toolbar_container_target")},L5=function(t){return t.getParam("toolbar_persist",!1,"boolean")},W3=function(t){if(!t.inline)return A.none();var r=z5(t);if(r.length>0)return ai(Aa(),r);var o=$5(t);return W(o)?A.some(ce.fromDom(o)):A.none()},Wb=function(t){return t.inline&&W3(t).isSome()},j3=function(t){var r=W3(t);return r.getOrThunk(function(){return wn(vr(ce.fromDom(t.getElement())))})},q3=function(t){return t.inline&&!Xo(t)&&!tx(t)&&!Ub(t)},jb=function(t){var r=t.getParam("toolbar_sticky",!1,"boolean");return(r||t.inline)&&!Wb(t)&&!q3(t)},H5=function(t){return t.getParam("toolbar_sticky_offset",0,"number")},V5=function(t){return t.getParam("draggable_modal",!1,"boolean")},U5=function(t){var r=t.getParam("menu");return r?Jt(r,function(o){return G(G({},o),{items:o.items})}):{}},W5=function(t){return t.getParam("menubar")},j5=function(t){return t.getParam("toolbar",!0)},q5=function(t){return t.getParam("file_picker_callback")},G5=function(t){return t.getParam("file_picker_types")},K5=function(t){return t.getParam("file_browser_callback_types")},X5=function(t){return t.getParam("typeahead_urls")===!1},G3=function(t){return t.getParam("anchor_top","#top")},Y5=function(t){return t.getParam("anchor_bottom","#bottom")},Z5=function(t){var r=t.getParam("file_picker_validator_handler",void 0,"function");return r===void 0?t.getParam("filepicker_validator_handler",void 0,"function"):r},nx="silver.readonly",K3=dr([SM("readonly")]),Jm=function(t,r){var o=t.outerContainer,u=o.element;r&&(t.mothership.broadcastOn([jv()],{target:u}),t.uiMothership.broadcastOn([jv()],{target:u})),t.mothership.broadcastOn([nx],{readonly:r}),t.uiMothership.broadcastOn([nx],{readonly:r})},X3=function(t,r){t.on("init",function(){t.mode.isReadOnly()&&Jm(r,!0)}),t.on("SwitchMode",function(){return Jm(r,t.mode.isReadOnly())}),B5(t)&&t.setMode("readonly")},Yo=function(){var t;return Uu.config({channels:(t={},t[nx]={schema:K3,onReceive:function(r,o){gr.set(r,o.readonly)}},t)})},J5=function(t){return gr.config({disabled:t,disableClass:"tox-collection__item--state-disabled"})},Y3=function(t){return gr.config({disabled:t})},Q5=function(t){return gr.config({disabled:t,disableClass:"tox-tbtn--disabled"})},Z3=function(t){return gr.config({disabled:t,disableClass:"tox-tbtn--disabled",useNative:!1})},tl={item:J5,button:Y3,splitButton:Q5,toolbarButton:Z3},qb=function(t,r){var o=t.getApi(r);return function(u){u(o)}},Qm=function(t,r){return Hr(function(o){var u=qb(t,o);u(function(c){var f=t.onSetup(c);ve(f)&&r.set(f)})})},Kh=function(t,r){return Ys(function(o){return qb(t,o)(r.get())})},rx,eF=function(t,r){return Zs(function(o,u){qb(t,o)(t.onAction),!t.triggersSubmenu&&r===Jl.CLOSE_ON_EXECUTE&&(da(o,eh()),u.stop())})},tF=(rx={},rx[Es()]=["disabling","alloy.base.behaviour","toggling","item-events"],rx),eg=Ar,tg=function(t,r,o,u){var c=Cr(ae);return{type:"item",dom:r.dom,components:eg(r.optComponents),data:t.data,eventOrder:tF,hasSubmenu:t.triggersSubmenu,itemBehaviours:Cn([$r("item-events",[eF(t,o),Qm(t,c),Kh(t,c)]),tl.item(function(){return t.disabled||u.isDisabled()}),Yo(),Dr.config({})].concat(t.itemBehaviours))}},ev=function(t){return{value:t.value,meta:G({text:t.text.getOr("")},t.meta)}},Gb=tinymce.util.Tools.resolve("tinymce.Env"),nF=function(t){var r={alt:"&#x2325;",ctrl:"&#x2303;",shift:"&#x21E7;",meta:"&#x2318;",access:"&#x2303;&#x2325;"},o={meta:"Ctrl",access:"Shift+Alt"},u=Gb.mac?r:o,c=t.split("+"),f=St(c,function(d){var p=d.toLowerCase().trim();return Wt(u,p)?u[p]:d});return Gb.mac?f.join(""):f.join("+")},Kb=function(t,r,o){return o===void 0&&(o=[VC]),gl(t,{tag:"div",classes:o},r)},J3=function(t){return{dom:{tag:"div",classes:[UC]},components:[Xi(ml.translate(t))]}},Q3=function(t,r){return{dom:{tag:"div",classes:r,innerHtml:t}}},ax=function(t,r){return{dom:{tag:"div",classes:[UC]},components:[{dom:{tag:t.tag,styles:t.styles},components:[Xi(ml.translate(r))]}]}},rF=function(t){return{dom:{tag:"div",classes:[QN],innerHtml:nF(t)}}},e4=function(t){return Kb("checkmark",t,[e5])},aF=function(t){return Kb("chevron-right",t,[S3])},oF=function(t){return Kb("chevron-down",t,[S3])},ox=function(t,r){var o=t.direction==="vertical"?k3:E3,u=t.align==="left"?t5:T3,c=function(){switch(t.valign){case"top":return n5;case"middle":return r5;case"bottom":return A3}};return{dom:{tag:"div",classes:[Fb,o,u,c()]},components:r}},iF=function(t,r,o){return{dom:{tag:"img",classes:r,attributes:{src:t,alt:o.getOr("")}}}},ix=function(t,r,o){var u="custom",c="remove",f=t.ariaLabel,d=t.value,p=t.iconContent.map(function(x){return Um(x,r.icons,o)}),b=function(){var x=LC,O=p.getOr(""),P=f.map(function(q){return{title:r.translate(q)}}).getOr({}),V={tag:"div",attributes:P,classes:[x]};return d===u?G(G({},V),{tag:"button",classes:ct(ct([],V.classes,!0),["tox-swatches__picker-btn"],!1),innerHtml:O}):d===c?G(G({},V),{classes:ct(ct([],V.classes,!0),["tox-swatch--remove"],!1),innerHtml:O}):G(G({},V),{attributes:G(G({},V.attributes),{"data-mce-color":d}),styles:{"background-color":d}})};return{dom:b(),optComponents:[]}},t4=function(t){var r=t.map(function(o){return{attributes:{title:ml.translate(o)}}}).getOr({});return G({tag:"div",classes:[Wh,Nb]},r)},n4=function(t,r,o,u){var c={tag:"div",classes:[VC]},f=function(V){return gl(V,c,r.icons,u)},d=function(){return A.some({dom:c})},p=o?t.iconContent.map(f).orThunk(d):A.none(),b=t.checkMark,x=A.from(t.meta).fold(function(){return J3},function(V){return Wt(V,"style")?Be(ax,V.style):J3}),O=t.htmlContent.fold(function(){return t.textContent.map(x)},function(V){return A.some(Q3(V,[UC]))}),P={dom:t4(t.ariaLabel),optComponents:[p,O,t.shortcutContent.map(rF),b,t.caret]};return P},Xh=function(t,r,o,u){return u===void 0&&(u=A.none()),t.presets==="color"?ix(t,r,u):n4(t,r,o,u)},ng=function(t,r){return dt(t,"tooltipWorker").map(function(o){return[N3.config({lazySink:r.getSink,tooltipDom:{tag:"div",classes:["tox-tooltip-worker-container"]},tooltipComponents:[],anchor:function(u){return{type:"submenu",item:u,overrides:{maxHeightFunction:fh}}},mode:"follow-highlight",onShow:function(u,c){o(function(f){N3.setComponents(u,[bw({element:ce.fromDom(f)})])})}})]}).getOr([])},uF=function(t){return qh.DOM.encode(t)},r4=function(t,r){var o=ml.translate(t),u=uF(o);if(r.length>0){var c=new RegExp(D5(r),"gi");return u.replace(c,function(f){return'<span class="tox-autocompleter-highlight">'+f+"</span>"})}else return u},sF=function(t,r,o,u,c,f,d,p){p===void 0&&(p=!0);var b=Xh({presets:u,textContent:A.none(),htmlContent:o?t.text.map(function(x){return r4(x,r)}):A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:A.none(),checkMark:A.none(),caret:A.none(),value:t.value},d.providers,p,t.icon);return tg({data:ev(t),disabled:t.disabled,getApi:L({}),onAction:function(x){return c(t.value,t.meta)},onSetup:L(ae),triggersSubmenu:!1,itemBehaviours:ng(t.meta,d)},b,f,d.providers)},a4=function(t,r){return St(t,function(o){switch(o.type){case"cardcontainer":return ox(o,a4(o.items,r));case"cardimage":return iF(o.src,o.classes,o.alt);case"cardtext":var u=o.name.exists(function(f){return tn(r.cardText.highlightOn,f)}),c=u?A.from(r.cardText.matchText).getOr(""):"";return Q3(r4(o.text,c),o.classes)}})},lF=function(t,r,o,u){var c=function(d){return{isDisabled:function(){return gr.isDisabled(d)},setDisabled:function(p){gr.set(d,p),Ke(Eu(d.element,"*"),function(b){d.getSystem().getByDom(b).each(function(x){x.hasConfigured(gr)&&gr.set(x,p)})})}}},f={dom:t4(t.label),optComponents:[A.some({dom:{tag:"div",classes:[Fb,E3]},components:a4(t.items,u)})]};return tg({data:ev(G({text:A.none()},t)),disabled:t.disabled,getApi:c,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:A.from(u.itemBehaviours).getOr([])},f,r,o.providers)},cF=function(t,r,o,u,c,f,d,p){p===void 0&&(p=!0);var b=function(O){return{setActive:function(P){na.set(O,P)},isActive:function(){return na.isOn(O)},isDisabled:function(){return gr.isDisabled(O)},setDisabled:function(P){return gr.set(O,P)}}},x=Xh({presets:o,textContent:r?t.text:A.none(),htmlContent:A.none(),ariaLabel:t.text,iconContent:t.icon,shortcutContent:r?t.shortcut:A.none(),checkMark:r?A.some(e4(d.icons)):A.none(),caret:A.none(),value:t.value},d,p);return Ot(tg({data:ev(t),disabled:t.disabled,getApi:b,onAction:function(O){return u(t.value)},onSetup:function(O){return O.setActive(c),ae},triggersSubmenu:!1,itemBehaviours:[]},x,f,d),{toggling:{toggleClass:HC,toggleOnExecute:!1,selected:t.active}})},ux=Sh(oC(),wb()),o4=function(t){return{value:t}},i4=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,u4=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,s4=function(t){return i4.test(t)||u4.test(t)},fF=function(t){return Pa(t,"#").toUpperCase()},vF=function(t){return s4(t)?A.some({value:fF(t)}):A.none()},tv=function(t){var r=t.value.replace(i4,function(o,u,c,f){return u+u+c+c+f+f});return{value:r}},dF=function(t){var r=tv(t),o=u4.exec(r.value);return o===null?["FFFFFF","FF","FF","FF"]:o},sx=function(t){var r=t.toString(16);return(r.length===1?"0"+r:r).toUpperCase()},Yh=function(t){var r=sx(t.red)+sx(t.green)+sx(t.blue);return o4(r)},Xb=Math.min,l4=Math.max,rg=Math.round,mF=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)/,lx=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d?(?:\.\d+)?)\)/,uf=function(t,r,o,u){return{red:t,green:r,blue:o,alpha:u}},Yb=function(t){var r=parseInt(t,10);return r.toString()===t&&r>=0&&r<=255},cx=function(t){var r,o,u,c=(t.hue||0)%360,f=t.saturation/100,d=t.value/100;if(f=l4(0,Xb(f,1)),d=l4(0,Xb(d,1)),f===0)return r=o=u=rg(255*d),uf(r,o,u,1);var p=c/60,b=d*f,x=b*(1-Math.abs(p%2-1)),O=d-b;switch(Math.floor(p)){case 0:r=b,o=x,u=0;break;case 1:r=x,o=b,u=0;break;case 2:r=0,o=b,u=x;break;case 3:r=0,o=x,u=b;break;case 4:r=x,o=0,u=b;break;case 5:r=b,o=0,u=x;break;default:r=o=u=0}return r=rg(255*(r+O)),o=rg(255*(o+O)),u=rg(255*(u+O)),uf(r,o,u,1)},Zh=function(t){var r=dF(t),o=parseInt(r[1],16),u=parseInt(r[2],16),c=parseInt(r[3],16);return uf(o,u,c,1)},Zb=function(t,r,o,u){var c=parseInt(t,10),f=parseInt(r,10),d=parseInt(o,10),p=parseFloat(u);return uf(c,f,d,p)},c4=function(t){if(t==="transparent")return A.some(uf(0,0,0,0));var r=mF.exec(t);if(r!==null)return A.some(Zb(r[1],r[2],r[3],"1"));var o=lx.exec(t);return o!==null?A.some(Zb(o[1],o[2],o[3],o[4])):A.none()},f4=function(t){return"rgba("+t.red+","+t.green+","+t.blue+","+t.alpha+")"},v4=uf(255,0,0,1),gF=function(t){return t.fire("SkinLoaded")},hF=function(t,r){return t.fire("SkinLoadError",r)},pF=function(t){return t.fire("ResizeEditor")},fx=function(t,r){return t.fire("ResizeContent",r)},bF=function(t,r){return t.fire("ScrollContent",r)},yF=function(t,r){return t.fire("TextColorChange",r)},Jh=function(t,r,o){return{hue:t,saturation:r,value:o}},vx=function(t){var r=0,o=0,u=0,c=t.red/255,f=t.green/255,d=t.blue/255,p=Math.min(c,Math.min(f,d)),b=Math.max(c,Math.max(f,d));if(p===b)return u=p,Jh(0,0,u*100);var x=c===p?f-d:d===p?c-f:d-c;return r=c===p?3:d===p?1:5,r=60*(r-x/(b-p)),o=(b-p)/b,u=b,Jh(Math.round(r),Math.round(o*100),Math.round(u*100))},wF=function(t){return vx(Zh(t))},dx=function(t){return Yh(cx(t))},CF=function(t){return vF(t).orThunk(function(){return c4(t).map(Yh)}).getOrThunk(function(){var r=document.createElement("canvas");r.height=1,r.width=1;var o=r.getContext("2d");o.clearRect(0,0,r.width,r.height),o.fillStyle="#FFFFFF",o.fillStyle=t,o.fillRect(0,0,1,1);var u=o.getImageData(0,0,1,1).data,c=u[0],f=u[1],d=u[2],p=u[3];return Yh(uf(c,f,d,p))})},Jb=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),Qb="tinymce-custom-colors";function e0(t){var r=Jb.getItem(Qb),o=_(r)?JSON.parse(r):[],u=function(b){var x=t-b.length;return x<0?b.slice(0,t):b},c=u(o),f=function(b){nn(c,b).each(d),c.unshift(b),c.length>t&&c.pop(),Jb.setItem(Qb,JSON.stringify(c))},d=function(b){c.splice(b,1)},p=function(){return c.slice(0)};return{add:f,state:p}}var ui="choiceitem",t0=[{type:ui,text:"Light Green",value:"#BFEDD2"},{type:ui,text:"Light Yellow",value:"#FBEEB8"},{type:ui,text:"Light Red",value:"#F8CAC6"},{type:ui,text:"Light Purple",value:"#ECCAFA"},{type:ui,text:"Light Blue",value:"#C2E0F4"},{type:ui,text:"Green",value:"#2DC26B"},{type:ui,text:"Yellow",value:"#F1C40F"},{type:ui,text:"Red",value:"#E03E2D"},{type:ui,text:"Purple",value:"#B96AD9"},{type:ui,text:"Blue",value:"#3598DB"},{type:ui,text:"Dark Turquoise",value:"#169179"},{type:ui,text:"Orange",value:"#E67E23"},{type:ui,text:"Dark Red",value:"#BA372A"},{type:ui,text:"Dark Purple",value:"#843FA1"},{type:ui,text:"Dark Blue",value:"#236FA1"},{type:ui,text:"Light Gray",value:"#ECF0F1"},{type:ui,text:"Medium Gray",value:"#CED4D9"},{type:ui,text:"Gray",value:"#95A5A6"},{type:ui,text:"Dark Gray",value:"#7E8C8D"},{type:ui,text:"Navy Blue",value:"#34495E"},{type:ui,text:"Black",value:"#000000"},{type:ui,text:"White",value:"#ffffff"}],d4=e0(10),xF=function(t){for(var r=[],o=0;o<t.length;o+=2)r.push({text:t[o+1],value:"#"+CF(t[o]).value,type:"choiceitem"});return r},SF=function(t,r){return t.getParam("color_cols",r,"number")},m4=function(t){return t.getParam("custom_colors")!==!1},kF=function(t){return t.getParam("color_map")},mx=function(t){var r=kF(t);return r!==void 0?xF(r):t0},g4=function(){return St(d4.state(),function(t){return{type:ui,text:t,value:t}})},h4=function(t){d4.add(t)},gx="#000000",EF=function(t,r){var o;return t.dom.getParents(t.selection.getStart(),function(u){var c;(c=u.style[r==="forecolor"?"color":"background-color"])&&(o=o||c)}),A.from(o)},TF=function(t,r,o){t.undoManager.transact(function(){t.focus(),t.formatter.apply(r,{value:o}),t.nodeChanged()})},AF=function(t,r){t.undoManager.transact(function(){t.focus(),t.formatter.remove(r,{value:null},null,!0),t.nodeChanged()})},OF=function(t){t.addCommand("mceApplyTextcolor",function(r,o){TF(t,r,o)}),t.addCommand("mceRemoveTextcolor",function(r){AF(t,r)})},DF=function(t){return Math.max(5,Math.ceil(Math.sqrt(t)))},n0=function(t){var r=mx(t),o=DF(r.length);return SF(t,o)},p4=function(t){var r="choiceitem",o={type:r,text:"Remove color",icon:"color-swatch-remove-color",value:"remove"},u={type:r,text:"Custom color",icon:"color-picker",value:"custom"};return t?[o,u]:[o]},r0=function(t,r,o,u){if(o==="custom"){var c=C4(t);c(function(f){f.each(function(d){h4(d),t.execCommand("mceApplyTextcolor",r,d),u(d)})},gx)}else o==="remove"?(u(""),t.execCommand("mceRemoveTextcolor",r)):(u(o),t.execCommand("mceApplyTextcolor",r,o))},b4=function(t,r){return t.concat(g4().concat(p4(r)))},y4=function(t,r){return function(o){o(b4(t,r))}},hx=function(t,r,o){var u=r==="forecolor"?"tox-icon-text-color__color":"tox-icon-highlight-bg-color__color";t.setIconFill(u,o)},ag=function(t,r,o,u,c){t.ui.registry.addSplitButton(r,{tooltip:u,presets:"color",icon:r==="forecolor"?"text-color":"highlight-bg-color",select:function(f){var d=EF(t,o);return d.bind(function(p){return c4(p).map(function(b){var x=Yh(b).value;return zr(f.toLowerCase(),x)})}).getOr(!1)},columns:n0(t),fetch:y4(mx(t),m4(t)),onAction:function(f){r0(t,o,c.get(),ae)},onItemAction:function(f,d){r0(t,o,d,function(p){c.set(p),yF(t,{name:r,color:p})})},onSetup:function(f){hx(f,r,c.get());var d=function(p){p.name===r&&hx(f,p.name,p.color)};return t.on("TextColorChange",d),function(){t.off("TextColorChange",d)}}})},w4=function(t,r,o,u){t.ui.registry.addNestedMenuItem(r,{text:u,icon:r==="forecolor"?"text-color":"highlight-bg-color",getSubmenuItems:function(){return[{type:"fancymenuitem",fancytype:"colorswatch",onAction:function(c){r0(t,o,c.value,ae)}}]}})},C4=function(t){return function(r,o){var u=!1,c=function(p){var b=p.getData(),x=b.colorpicker;u?(r(A.from(x)),p.close()):t.windowManager.alert(t.translate(["Invalid hex color code: {0}",x]))},f=function(p,b){b.name==="hex-valid"&&(u=b.value)},d={colorpicker:o};t.windowManager.open({title:"Color Picker",size:"normal",body:{type:"panel",items:[{type:"colorpicker",name:"colorpicker",label:"Color"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:d,onAction:f,onSubmit:c,onClose:ae,onCancel:function(){r(A.none())}})}},_F=function(t){OF(t);var r=Cr(gx),o=Cr(gx);ag(t,"forecolor","forecolor","Text color",r),ag(t,"backcolor","hilitecolor","Background color",o),w4(t,"forecolor","forecolor","Text color"),w4(t,"backcolor","hilitecolor","Background color")},og=function(t,r,o,u,c,f,d,p){var b=jh(r),x=c!=="color"?"normal":"color",O=MF(r,o,u,x,f,d,p);return KC(t,b,O,u,c)},MF=function(t,r,o,u,c,f,d){return Ar(St(t,function(p){return p.type==="choiceitem"?YC(p).fold(af,function(b){return A.some(cF(b,o===1,u,r,f(p.value),c,d,jh(t)))}):A.none()}))},a0=function(t,r){var o=Km(r);if(t===1)return{mode:"menu",moveOnTab:!0};if(t==="auto")return{mode:"grid",selector:"."+o.item,initSize:{numColumns:1,numRows:1}};var u=r==="color"?"tox-swatches__row":"tox-collection__group";return{mode:"matrix",rowSelector:"."+u}},x4=function(t,r){return t===1?{mode:"menu",moveOnTab:!1,selector:".tox-collection__item"}:t==="auto"?{mode:"flatgrid",selector:".tox-collection__item",initSize:{numColumns:1,numRows:1}}:{mode:"matrix",selectors:{row:r==="color"?".tox-swatches__row":".tox-collection__group",cell:r==="color"?"."+LC:"."+Nb}}},BF=function(t,r){var o=PF(t,r),u=r.colorinput.getColorCols(),c="color",f=og(Yn("menu-value"),o,function(p){t.onAction({value:p})},u,c,Jl.CLOSE_ON_EXECUTE,je,r.shared.providers),d=G(G({},f),{markers:Km(c),movement:a0(u,c)});return{type:"widget",data:{value:Yn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ux.widget(Yf.sketch(d))]}},PF=function(t,r){var o=t.initData.allowCustomColors&&r.colorinput.hasCustomColors();return t.initData.colors.fold(function(){return b4(r.colorinput.getColors(),o)},function(u){return u.concat(p4(o))})},S4=Yn("cell-over"),k4=Yn("cell-execute"),RF=function(t,r,o){var u,c=function(p){return br(p,S4,{row:t,col:r})},f=function(p){return br(p,k4,{row:t,col:r})},d=function(p,b){b.stop(),f(p)};return Wo({dom:{tag:"div",attributes:(u={role:"button"},u["aria-labelledby"]=o,u)},behaviours:Cn([$r("insert-table-picker-cell",[qt(Sf(),_r.focus),qt(Es(),f),qt(Zg(),d),qt(nm(),d)]),na.config({toggleClass:"tox-insert-table-picker__selected",toggleOnExecute:!1}),_r.config({onFocus:c})])})},NF=function(t,r,o){for(var u=[],c=0;c<r;c++){for(var f=[],d=0;d<o;d++)f.push(RF(c,d,t));u.push(f)}return u},FF=function(t,r,o,u,c){for(var f=0;f<u;f++)for(var d=0;d<c;d++)na.set(t[f][d],f<=r&&d<=o)},IF=function(t){return pt(t,function(r){return St(r,Ds)})},E4=function(t,r){return Xi(r+"x"+t)},ld=function(t){var r=10,o=10,u=Yn("size-label"),c=NF(u,r,o),f=E4(0,0),d=ya({dom:{tag:"span",classes:["tox-insert-table-picker__label"],attributes:{id:u}},components:[f],behaviours:Cn([Dr.config({})])});return{type:"widget",data:{value:Yn("widget-id")},dom:{tag:"div",classes:["tox-fancymenuitem"]},autofocus:!0,components:[ux.widget({dom:{tag:"div",classes:["tox-insert-table-picker"]},components:IF(c).concat(d.asSpec()),behaviours:Cn([$r("insert-table-picker",[Hr(function(p){Dr.set(d.get(p),[f])}),Ef(S4,function(p,b,x){var O=x.event,P=O.row,V=O.col;FF(c,P,V,r,o),Dr.set(d.get(p),[E4(P+1,V+1)])}),Ef(k4,function(p,b,x){var O=x.event,P=O.row,V=O.col;t.onAction({numRows:P+1,numColumns:V+1}),da(p,eh())})]),sr.config({initSize:{numRows:r,numColumns:o},mode:"flatgrid",selector:'[role="button"]'})])})]}},zF={inserttable:ld,colorswatch:BF},$F=function(t,r){return dt(zF,t.fancytype).map(function(o){return o(t,r)})},LF=function(t,r,o,u,c){u===void 0&&(u=!0),c===void 0&&(c=!1);var f=c?oF(o.icons):aF(o.icons),d=function(b){return{isDisabled:function(){return gr.isDisabled(b)},setDisabled:function(x){return gr.set(b,x)}}},p=Xh({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.some(f),checkMark:A.none(),shortcutContent:t.shortcut},o,u);return tg({data:ev(t),getApi:d,disabled:t.disabled,onAction:ae,onSetup:t.onSetup,triggersSubmenu:!0,itemBehaviours:[]},p,r,o)},HF=function(t,r,o,u){u===void 0&&(u=!0);var c=function(d){return{isDisabled:function(){return gr.isDisabled(d)},setDisabled:function(p){return gr.set(d,p)}}},f=Xh({presets:"normal",iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,caret:A.none(),checkMark:A.none(),shortcutContent:t.shortcut},o,u);return tg({data:ev(t),getApi:c,disabled:t.disabled,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},f,r,o)},o0=function(t){var r=t.text.fold(function(){return{}},function(o){return{innerHtml:o}});return{type:"separator",dom:G({tag:"div",classes:[Nb,x3]},r),components:[]}},T4=function(t,r,o,u){u===void 0&&(u=!0);var c=function(d){return{setActive:function(p){na.set(d,p)},isActive:function(){return na.isOn(d)},isDisabled:function(){return gr.isDisabled(d)},setDisabled:function(p){return gr.set(d,p)}}},f=Xh({iconContent:t.icon,textContent:t.text,htmlContent:A.none(),ariaLabel:t.text,checkMark:A.some(e4(o.icons)),caret:A.none(),shortcutContent:t.shortcut,presets:"normal",meta:t.meta},o,u);return Ot(tg({data:ev(t),disabled:t.disabled,getApi:c,onAction:t.onAction,onSetup:t.onSetup,triggersSubmenu:!1,itemBehaviours:[]},f,r,o),{toggling:{toggleClass:HC,toggleOnExecute:!1,selected:t.active}})},A4=sF,O4=o0,VF=HF,UF=LF,WF=T4,jF=$F,qF=lF,Qh;(function(t){t[t.ContentFocus=0]="ContentFocus",t[t.UiFocus=1]="UiFocus"})(Qh||(Qh={}));var D4=function(t,r,o,u,c){var f=o.shared.providers,d=function(p){return c?G(G({},p),{shortcut:A.none(),icon:p.text.isSome()?A.none():p.icon}):p};switch(t.type){case"menuitem":return w5(t).fold(af,function(p){return A.some(VF(d(p),r,f,u))});case"nestedmenuitem":return x5(t).fold(af,function(p){return A.some(UF(d(p),r,f,u,c))});case"togglemenuitem":return k5(t).fold(af,function(p){return A.some(WF(d(p),r,f,u))});case"separator":return jm(t).fold(af,function(p){return A.some(O4(p))});case"fancymenuitem":return b5(t).fold(af,function(p){return jF(d(p),o)});default:return A.none()}},GF=function(t,r,o,u,c,f,d){var p=u===1,b=!p||jh(t);return Ar(St(t,function(x){switch(x.type){case"separator":return h3(x).fold(af,function(O){return A.some(O4(O))});case"cardmenuitem":return g5(x).fold(af,function(O){return A.some(qF(G(G({},O),{onAction:function(P){O.onAction(P),o(O.value,O.meta)}}),c,f,{itemBehaviours:ng(O.meta,f),cardText:{matchText:r,highlightOn:d}}))});case"autocompleteitem":default:return p3(x).fold(af,function(O){return A.some(A4(O,r,p,"normal",o,c,f,b))})}}))},_4=function(t,r,o,u,c){var f=jh(r),d=Ar(St(r,function(b){var x=function(P){return c?!Wt(P,"text"):f},O=function(P){return D4(P,o,u,x(P),c)};return b.type==="nestedmenuitem"&&b.getSubmenuItems().length<=0?O(G(G({},b),{disabled:!0})):O(b)})),p=c?l5:KC;return p(t,f,d,1,"normal")},M4=function(t){return nf.singleData(t.value,t)},B4=function(t,r,o,u){var c=o===Qh.ContentFocus?PT():Dh(),f=a0(r,u),d=Km(u);return{dom:t.dom,components:t.components,items:t.items,value:t.value,markers:{selectedItem:d.selectedItem,item:d.item},movement:f,fakeFocus:o===Qh.ContentFocus,focusManager:c,menuBehaviours:Ym.unnamedEvents(r!=="auto"?[]:[Hr(function(p,b){JC(p,4,d.item).each(function(x){var O=x.numColumns,P=x.numRows;sr.setGridSize(p,P,O)})})])}},Ql=function(t,r){var o=Bo(),u=Cr(!1),c=Wo(wo.sketch({dom:{tag:"div",classes:["tox-autocompleter"]},components:[],fireDismissalEventInstead:{},inlineBehaviours:Cn([$r("dismissAutocompleter",[qt(Pl(),function(){return b()})])]),lazySink:r.getSink})),f=function(){return wo.isOpen(c)},d=function(){return o.get().isSome()},p=function(){d()&&wo.hide(c)},b=function(){if(d()){var le=o.get().map(function(Ie){return Ie.element});_b(le.getOr(ce.fromDom(t.selection.getNode()))).each(Lg),p(),o.clear(),u.set(!1)}},x=Qe(function(){return Rb(t)}),O=function(le,Ie){var xt=Xe(Ie,function(yt){return A.from(yt.columns)}).getOr(1);return pt(Ie,function(yt){var Fe=yt.items;return GF(Fe,yt.matchText,function(lt,Mt){var En=t.selection.getRng();NC(t.dom,En,le).fold(function(){},function(Lt){var An=Lt.range,Gt={hide:function(){b()},reload:function(Dt){p(),te(Dt)}};u.set(!0),yt.onAction(Gt,An,lt,Mt),u.set(!1)})},xt,Jl.BUBBLE_TO_SANDBOX,r,yt.highlightOn)})},P=function(le){if(!d()){var Ie=zN(t,le.range);o.set({triggerChar:le.triggerChar,element:Ie,matchLength:le.text.length}),u.set(!1)}},V=function(le,Ie,xt,yt){le.matchLength=Ie.text.length;var Fe=Xe(xt,function(lt){return A.from(lt.columns)}).getOr(1);wo.showAt(c,Yf.sketch(B4(KC("autocompleter-value",!0,yt,Fe,"normal"),Fe,Qh.ContentFocus,"normal")),{anchor:{type:"node",root:ce.fromDom(t.getBody()),node:A.from(le.element)}}),wo.getContent(c).each(Da.highlightFirst)},q=function(le){return o.get().map(function(Ie){return NC(t.dom,t.selection.getRng(),Ie.triggerChar).bind(function(xt){return m3(t,x,xt,le)})}).getOrThunk(function(){return Uh(t,x)})},te=function(le){q(le).fold(b,function(Ie){P(Ie.context),Ie.lookupData.then(function(xt){o.get().map(function(yt){var Fe=Ie.context;if(yt.triggerChar===Fe.triggerChar){var lt=O(Fe.triggerChar,xt);lt.length>0?V(yt,Fe,xt,lt):Fe.text.length-yt.matchLength>=10?b():p()}})})})},de=Db(function(le){le.which!==27&&te()},50),Pe={onKeypress:de,cancelIfNecessary:b,isMenuOpen:f,isActive:d,isProcessingAction:u.get,getView:function(){return wo.getContent(c)}};t.hasPlugin("rtc")===!1&&FC.setup(Pe,t)},nv={register:Ql},ep=function(t,r,o){return Il(t,r,o).isSome()},px=function(t,r){var o=null,u=function(){for(var f=[],d=0;d<arguments.length;d++)f[d]=arguments[d];o=setTimeout(function(){t.apply(null,f),o=null},r)},c=function(){o!==null&&(clearTimeout(o),o=null)};return{cancel:c,schedule:u}},bx=5,i0=400,P4=function(t){var r=t.raw;return r.touches===void 0||r.touches.length!==1?A.none():A.some(r.touches[0])},yx=function(t,r){var o=Math.abs(t.clientX-r.x),u=Math.abs(t.clientY-r.y);return o>bx||u>bx},wx=function(t){var r=Bo(),o=Cr(!1),u=px(function(x){t.triggerEvent(Jy(),x),o.set(!0)},i0),c=function(x){return P4(x).each(function(O){u.cancel();var P={x:O.clientX,y:O.clientY,target:x.target};u.schedule(x),o.set(!1),r.set(P)}),A.none()},f=function(x){return u.cancel(),P4(x).each(function(O){r.on(function(P){yx(O,P)&&r.clear()})}),A.none()},d=function(x){u.cancel();var O=function(P){return _a(P.target,x.target)};return r.get().filter(O).map(function(P){return o.get()?(x.prevent(),!1):t.triggerEvent(nm(),x)})},p=Dv([{key:Jc(),value:c},{key:Ml(),value:f},{key:Yg(),value:d}]),b=function(x,O){return dt(p,O).bind(function(P){return P(x)})};return{fireIfReady:b}},Cx=function(t){var r=t.raw;return r.which===XP[0]&&!tn(["input","textarea"],pe(t.target))&&!ep(t.target,'[contenteditable="true"]')},R4=function(){return an().browser.isFirefox()},KF=function(t,r){return R4()?T1(t,"focus",r):jo(t,"focusin",r)},XF=function(t,r){return R4()?T1(t,"blur",r):jo(t,"focusout",r)},u0=function(t,r){var o=G({stopBackspace:!0},r),u=["touchstart","touchmove","touchend","touchcancel","gesturestart","mousedown","mouseup","mouseover","mousemove","mouseout","click"],c=wx(o),f=St(u.concat(["selectstart","input","contextmenu","change","transitionend","transitioncancel","drag","dragstart","dragend","dragenter","dragleave","dragover","drop","keyup"]),function(q){return jo(t,q,function(te){c.fireIfReady(te,q).each(function(Pe){Pe&&te.kill()});var de=o.triggerEvent(q,te);de&&te.kill()})}),d=Bo(),p=jo(t,"paste",function(q){c.fireIfReady(q,"paste").each(function(de){de&&q.kill()});var te=o.triggerEvent("paste",q);te&&q.kill(),d.set(setTimeout(function(){o.triggerEvent(Zy(),q)},0))}),b=jo(t,"keydown",function(q){var te=o.triggerEvent("keydown",q);te?q.kill():o.stopBackspace&&Cx(q)&&q.prevent()}),x=KF(t,function(q){var te=o.triggerEvent("focusin",q);te&&q.kill()}),O=Bo(),P=XF(t,function(q){var te=o.triggerEvent("focusout",q);te&&q.kill(),O.set(setTimeout(function(){o.triggerEvent(Yy(),q)},0))}),V=function(){Ke(f,function(q){q.unbind()}),b.unbind(),x.unbind(),P.unbind(),p.unbind(),d.on(clearTimeout),O.on(clearTimeout)};return{unbind:V}},N4=function(t,r){var o=dt(t,"target").getOr(r);return Cr(o)},YF=function(t,r){var o=Cr(!1),u=Cr(!1),c=function(){o.set(!0)},f=function(){u.set(!0)};return{stop:c,cut:f,isStopped:o.get,isCut:u.get,event:t,setSource:r.set,getSource:r.get}},ZF=function(t){var r=Cr(!1),o=function(){r.set(!0)};return{stop:o,cut:ae,isStopped:r.get,isCut:je,event:t,setSource:Se("Cannot set source of a broadcasted event"),getSource:Se("Cannot get source of a broadcasted event")}},ig=Ks.generate([{stopped:[]},{resume:["element"]},{complete:[]}]),F4=function(t,r,o,u,c,f){var d=t(r,u),p=YF(o,c);return d.fold(function(){return f.logEventNoHandlers(r,u),ig.complete()},function(b){var x=b.descHandler,O=lw(x);return O(p),p.isStopped()?(f.logEventStopped(r,b.element,x.purpose),ig.stopped()):p.isCut()?(f.logEventCut(r,b.element,x.purpose),ig.complete()):Lo(b.element).fold(function(){return f.logNoParent(r,b.element,x.purpose),ig.complete()},function(P){return f.logEventResponse(r,b.element,x.purpose),ig.resume(P)})})},xx=function(t,r,o,u,c,f){return F4(t,r,o,u,c,f).fold(Ze,function(d){return xx(t,r,o,d,c,f)},je)},JF=function(t,r,o,u,c){var f=N4(o,u);return F4(t,r,o,u,f,c)},QF=function(t,r,o){var u=ZF(r);return Ke(t,function(c){var f=c.descHandler,d=lw(f);d(u)}),u.isStopped()},I4=function(t,r,o,u){return z4(t,r,o,o.target,u)},z4=function(t,r,o,u,c){var f=N4(o,u);return xx(t,r,o,u,f,c)},eI=function(t,r){return{element:t,descHandler:r}},$4=function(t,r){return{id:t,descHandler:r}},L4=function(){var t={},r=function(d,p,b){yn(b,function(x,O){var P=t[O]!==void 0?t[O]:{};P[p]=sw(x,d),t[O]=P})},o=function(d,p){return sm(p).bind(function(b){return dt(d,b)}).map(function(b){return eI(p,b)})},u=function(d){return dt(t,d).map(function(p){return Ln(p,function(b,x){return $4(x,b)})}).getOr([])},c=function(d,p,b){return dt(t,p).bind(function(x){return jy(b,function(O){return o(x,O)},d)})},f=function(d){yn(t,function(p,b){Wt(p,d)&&delete p[d]})};return{registerId:r,unregisterId:f,filterByType:u,find:c}},tI=function(){var t=L4(),r={},o=function(x){var O=x.element;return sm(O).getOrThunk(function(){return Fk("uid-",x.element)})},u=function(x,O){var P=r[O];if(P===x)f(x);else throw new Error('The tagId "'+O+'" is already used by: '+Df(P.element)+`
Cannot use it for: `+Df(x.element)+`
The conflicting element is`+(wr(P.element)?" ":" not ")+"already in the DOM")},c=function(x){var O=o(x);Bn(r,O)&&u(x,O);var P=[x];t.registerId(P,O,x.events),r[O]=x},f=function(x){sm(x.element).each(function(O){delete r[O],t.unregisterId(O)})},d=function(x){return t.filterByType(x)},p=function(x,O,P){return t.find(x,O,P)},b=function(x){return dt(r,x)};return{find:p,filter:d,register:c,unregister:f,getById:b}},nI=function(t){var r=t.dom,o=r.attributes,u=xe(r,["attributes"]);return{uid:t.uid,dom:G({tag:"div",attributes:G({role:"presentation"},o)},u),components:t.components,behaviours:W1(t.containerBehaviours),events:t.events,domModification:t.domModification,eventOrder:t.eventOrder}},eu=Bs({name:"Container",factory:nI,configFields:[$e("components",[]),ii("containerBehaviours",[]),$e("events",{}),$e("domModification",{}),$e("eventOrder",{})]}),H4=function(t){var r=function(le){return Lo(t.element).fold(Ze,function(Ie){return _a(le,Ie)})},o=tI(),u=function(le,Ie){return o.find(r,le,Ie)},c=u0(t.element,{triggerEvent:function(le,Ie){return xw(le,Ie.target,function(xt){return I4(u,le,Ie,xt)})}}),f={debugInfo:L("real"),triggerEvent:function(le,Ie,xt){xw(le,Ie,function(yt){return z4(u,le,xt,Ie,yt)})},triggerFocus:function(le,Ie){sm(le).fold(function(){zl(le)},function(xt){xw(tm(),le,function(yt){return JF(u,tm(),{originator:Ie,kill:ae,prevent:ae,target:le},le,yt),!1})})},triggerEscape:function(le,Ie){f.triggerEvent("keydown",le.element,Ie.event)},getByUid:function(le){return de(le)},getByDom:function(le){return Pe(le)},build:Wo,addToGui:function(le){b(le)},removeFromGui:function(le){x(le)},addToWorld:function(le){d(le)},removeFromWorld:function(le){p(le)},broadcast:function(le){V(le)},broadcastOn:function(le,Ie){q(le,Ie)},broadcastEvent:function(le,Ie){te(le,Ie)},isConnected:Ze},d=function(le){le.connect(f),Z(le.element)||(o.register(le),Ke(le.components(),d),f.triggerEvent(th(),le.element,{target:le.element}))},p=function(le){Z(le.element)||(Ke(le.components(),p),o.unregister(le)),le.disconnect()},b=function(le){Uv(t,le)},x=function(le){Sc(le)},O=function(){c.unbind(),ys(t.element)},P=function(le){var Ie=o.filter(Xs());Ke(Ie,function(xt){var yt=xt.descHandler,Fe=lw(yt);Fe(le)})},V=function(le){P({universal:!0,data:le})},q=function(le,Ie){P({universal:!1,channels:le,data:Ie})},te=function(le,Ie){var xt=o.filter(le);return QF(xt,Ie)},de=function(le){return o.getById(le).fold(function(){return jr.error(new Error('Could not find component with uid: "'+le+'" in system.'))},jr.value)},Pe=function(le){var Ie=sm(le).getOr("not found");return de(Ie)};return d(t),{root:t,element:t.element,destroy:O,add:b,remove:x,getByUid:de,getByDom:Pe,addToWorld:d,removeFromWorld:p,broadcast:V,broadcastOn:q,broadcastEvent:te}},rI=function(t,r){return{dom:{tag:"div",classes:["tox-bar","tox-form__controls-h-stack"]},components:St(t.items,r.interpreter)}},s0=L([$e("prefix","form-field"),ii("fieldBehaviours",[ta,_n])]),_u=L([vl({schema:[jt("dom")],name:"label"}),vl({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[jt("text")],name:"aria-descriptor"}),Qi({factory:{sketch:function(t){var r=Uy(t,["factory"]);return t.factory.sketch(r)}},schema:[jt("factory")],name:"field"})]),V4=function(t,r,o,u){var c=Mi(t.fieldBehaviours,[ta.config({find:function(p){return La(p,t,"field")}}),_n.config({store:{mode:"manual",getValue:function(p){return ta.getCurrent(p).bind(_n.getValue)},setValue:function(p,b){ta.getCurrent(p).each(function(x){_n.setValue(x,b)})}}})]),f=$a([Hr(function(p,b){var x=bT(p,t,["label","field","aria-descriptor"]);x.field().each(function(O){var P=Yn(t.prefix);x.label().each(function(V){qr(V.element,"for",P),qr(O.element,"id",P)}),x["aria-descriptor"]().each(function(V){var q=Yn(t.prefix);qr(V.element,"id",q),qr(O.element,"aria-describedby",q)})})})]),d={getField:function(p){return La(p,t,"field")},getLabel:function(p){return La(p,t,"label")}};return{uid:t.uid,dom:t.dom,components:r,behaviours:c,events:f,apis:d}},ca=Au({name:"FormField",configFields:s0(),partFields:_u(),factory:V4,apis:{getField:function(t,r){return t.getField(r)},getLabel:function(t,r){return t.getLabel(r)}}}),aI=function(t,r){return ll({attributes:Dv([{key:r.tabAttr,value:"true"}])})},oI=Object.freeze({__proto__:null,exhibit:aI}),iI=[$e("tabAttr","data-alloy-tabstop")],Do=pi({fields:iI,name:"tabstopping",active:oI}),U4=tinymce.util.Tools.resolve("tinymce.html.Entities"),tp=function(t,r,o,u){var c=W4(t,r,o,u);return ca.sketch(c)},uI=function(t,r){return tp(t,r,[],[])},W4=function(t,r,o,u){return{dom:Sx(o),components:t.toArray().concat([r]),fieldBehaviours:Cn(u)}},sI=function(){return Sx([])},Sx=function(t){return{tag:"div",classes:["tox-form__group"].concat(t)}},sf=function(t,r){return ca.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(t)}})},ss=Yn("form-component-change"),np=Yn("form-close"),cd=Yn("form-cancel"),Mc=Yn("form-action"),rp=Yn("form-submit"),kx=Yn("form-block"),Ex=Yn("form-unblock"),rv=Yn("form-tabchange"),j4=Yn("form-resize"),lI=function(t,r){var o,u=t.label.map(function(P){return sf(P,r)}),c=function(P){return function(V,q){Il(q.event.target,"[data-collection-item-value]").each(function(te){P(V,q,te,vo(te,"data-collection-item-value"))})}},f=function(P,V){var q=St(V,function(Pe){var le=ml.translate(Pe.text),Ie=t.columns===1?'<div class="tox-collection__item-label">'+le+"</div>":"",xt='<div class="tox-collection__item-icon">'+Pe.icon+"</div>",yt={_:" "," - ":" ","-":" "},Fe=le.replace(/\_| \- |\-/g,function(Mt){return yt[Mt]}),lt=r.isDisabled()?" tox-collection__item--state-disabled":"";return'<div class="tox-collection__item'+lt+'" tabindex="-1" data-collection-item-value="'+U4.encodeAllRaw(Pe.value)+'" title="'+Fe+'" aria-label="'+Fe+'">'+xt+Ie+"</div>"}),te=t.columns!=="auto"&&t.columns>1?nr(q,t.columns):[q],de=St(te,function(Pe){return'<div class="tox-collection__group">'+Pe.join("")+"</div>"});Tf(P.element,de.join(""))},d=c(function(P,V,q,te){V.stop(),r.isDisabled()||br(P,Mc,{name:t.name,value:te})}),p=[qt(Sf(),c(function(P,V,q){zl(q)})),qt(Zg(),d),qt(nm(),d),qt(kf(),c(function(P,V,q){ai(P.element,"."+id).each(function(te){Go(te,id)}),ri(q,id)})),qt(Fi(),c(function(P){ai(P.element,"."+id).each(function(V){Go(V,id)})})),Zs(c(function(P,V,q,te){br(P,Mc,{name:t.name,value:te})}))],b=function(P,V){return St(Eu(P.element,".tox-collection__item"),V)},x=ca.parts.field({dom:{tag:"div",classes:["tox-collection"].concat(t.columns!==1?["tox-collection--grid"]:["tox-collection--list"])},components:[],factory:{sketch:_e},behaviours:Cn([gr.config({disabled:r.isDisabled,onDisabled:function(P){b(P,function(V){ri(V,"tox-collection__item--state-disabled"),qr(V,"aria-disabled",!0)})},onEnabled:function(P){b(P,function(V){Go(V,"tox-collection__item--state-disabled"),Ai(V,"aria-disabled")})}}),Yo(),Dr.config({}),_n.config({store:{mode:"memory",initialValue:[]},onSetValue:function(P,V){f(P,V),t.columns==="auto"&&JC(P,5,"tox-collection__item").each(function(q){var te=q.numRows,de=q.numColumns;sr.setGridSize(P,te,de)}),da(P,j4)}}),Do.config({}),sr.config(x4(t.columns,"normal")),$r("collection-events",p)]),eventOrder:(o={},o[Es()]=["disabling","alloy.base.behaviour","collection-events"],o)}),O=["tox-form__group--collection"];return tp(u,x,O,[])},lf=L([Oa("data"),$e("inputAttributes",{}),$e("inputStyles",{}),$e("tag","input"),$e("inputClasses",[]),ba("onSetValue"),$e("styles",{}),$e("eventOrder",{}),ii("inputBehaviours",[_n,_r]),$e("selectOnFocus",!0)]),q4=function(t){return Cn([_r.config({onFocus:t.selectOnFocus?function(r){var o=r.element,u=If(o);o.dom.setSelectionRange(0,u.length)}:ae})])},cI=function(t){return G(G({},q4(t)),Mi(t.inputBehaviours,[_n.config({store:G(G({mode:"manual"},t.data.map(function(r){return{initialValue:r}}).getOr({})),{getValue:function(r){return If(r.element)},setValue:function(r,o){var u=If(r.element);u!==o&&cm(r.element,o)}}),onSetValue:t.onSetValue})]))},Rs=function(t){return{tag:t.tag,attributes:G({type:"text"},t.inputAttributes),styles:t.inputStyles,classes:t.inputClasses}},G4=function(t,r){return{uid:t.uid,dom:Rs(t),components:[],behaviours:cI(t),eventOrder:t.eventOrder}},ug=Bs({name:"Input",configFields:lf(),factory:G4}),K4={},X4={exports:K4};(function(t,r,o,u){(function(c,f){typeof r=="object"&&typeof o!="undefined"?o.exports=f():(c=typeof globalThis!="undefined"?globalThis:c||self,c.EphoxContactWrapper=f())})(this,function(){var c=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof xy!="undefined"?xy:typeof self!="undefined"?self:{},f={exports:{}};(function(x){(function(O){var P=setTimeout;function V(){}function q(Fe,lt){return function(){Fe.apply(lt,arguments)}}function te(Fe){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof Fe!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],yt(Fe,this)}function de(Fe,lt){for(;Fe._state===3;)Fe=Fe._value;if(Fe._state===0){Fe._deferreds.push(lt);return}Fe._handled=!0,te._immediateFn(function(){var Mt=Fe._state===1?lt.onFulfilled:lt.onRejected;if(Mt===null){(Fe._state===1?Pe:le)(lt.promise,Fe._value);return}var En;try{En=Mt(Fe._value)}catch(Lt){le(lt.promise,Lt);return}Pe(lt.promise,En)})}function Pe(Fe,lt){try{if(lt===Fe)throw new TypeError("A promise cannot be resolved with itself.");if(lt&&(typeof lt=="object"||typeof lt=="function")){var Mt=lt.then;if(lt instanceof te){Fe._state=3,Fe._value=lt,Ie(Fe);return}else if(typeof Mt=="function"){yt(q(Mt,lt),Fe);return}}Fe._state=1,Fe._value=lt,Ie(Fe)}catch(En){le(Fe,En)}}function le(Fe,lt){Fe._state=2,Fe._value=lt,Ie(Fe)}function Ie(Fe){Fe._state===2&&Fe._deferreds.length===0&&te._immediateFn(function(){Fe._handled||te._unhandledRejectionFn(Fe._value)});for(var lt=0,Mt=Fe._deferreds.length;lt<Mt;lt++)de(Fe,Fe._deferreds[lt]);Fe._deferreds=null}function xt(Fe,lt,Mt){this.onFulfilled=typeof Fe=="function"?Fe:null,this.onRejected=typeof lt=="function"?lt:null,this.promise=Mt}function yt(Fe,lt){var Mt=!1;try{Fe(function(En){Mt||(Mt=!0,Pe(lt,En))},function(En){Mt||(Mt=!0,le(lt,En))})}catch(En){if(Mt)return;Mt=!0,le(lt,En)}}te.prototype.catch=function(Fe){return this.then(null,Fe)},te.prototype.then=function(Fe,lt){var Mt=new this.constructor(V);return de(this,new xt(Fe,lt,Mt)),Mt},te.all=function(Fe){var lt=Array.prototype.slice.call(Fe);return new te(function(Mt,En){if(lt.length===0)return Mt([]);var Lt=lt.length;function An(Dt,gn){try{if(gn&&(typeof gn=="object"||typeof gn=="function")){var Xn=gn.then;if(typeof Xn=="function"){Xn.call(gn,function(It){An(Dt,It)},En);return}}lt[Dt]=gn,--Lt===0&&Mt(lt)}catch(It){En(It)}}for(var Gt=0;Gt<lt.length;Gt++)An(Gt,lt[Gt])})},te.resolve=function(Fe){return Fe&&typeof Fe=="object"&&Fe.constructor===te?Fe:new te(function(lt){lt(Fe)})},te.reject=function(Fe){return new te(function(lt,Mt){Mt(Fe)})},te.race=function(Fe){return new te(function(lt,Mt){for(var En=0,Lt=Fe.length;En<Lt;En++)Fe[En].then(lt,Mt)})},te._immediateFn=typeof setImmediate=="function"?function(Fe){setImmediate(Fe)}:function(Fe){P(Fe,0)},te._unhandledRejectionFn=function(lt){},te._setImmediateFn=function(lt){te._immediateFn=lt},te._setUnhandledRejectionFn=function(lt){te._unhandledRejectionFn=lt},x.exports?x.exports=te:O.Promise||(O.Promise=te)})(c)})(f);var d=f.exports,p=function(){return typeof window!="undefined"?window:Function("return this;")()}(),b={boltExport:p.Promise||d};return b})})(void 0,K4,X4);var hl=X4.exports.boltExport,Tx=function(t){var r=A.none(),o=[],u=function(x){return Tx(function(O){c(function(P){O(x(P))})})},c=function(x){d()?b(x):o.push(x)},f=function(x){d()||(r=A.some(x),p(o),o=[])},d=function(){return r.isSome()},p=function(x){Ke(x,b)},b=function(x){r.each(function(O){setTimeout(function(){x(O)},0)})};return t(f),{get:c,map:u,isReady:d}},Y4=function(t){return Tx(function(r){r(t)})},fI={nu:Tx,pure:Y4},vI=function(t){setTimeout(function(){throw t},0)},sg=function(t){var r=function(b){t().then(b,vI)},o=function(b){return sg(function(){return t().then(b)})},u=function(b){return sg(function(){return t().then(function(x){return b(x).toPromise()})})},c=function(b){return sg(function(){return t().then(function(){return b.toPromise()})})},f=function(){return fI.nu(r)},d=function(){var b=null;return sg(function(){return b===null&&(b=t()),b})},p=t;return{map:o,bind:u,anonBind:c,toLazy:f,toCached:d,toPromise:p,get:r}},Ax=function(t){return sg(function(){return new hl(t)})},dI=function(t){return sg(function(){return hl.resolve(t)})},Hi={nu:Ax,pure:dI},mI=["input","textarea"],Z4=function(t){var r=pe(t);return tn(mI,r)},J4=function(t,r){var o=r.getRoot(t).getOr(t.element);Go(o,r.invalidClass),r.notify.each(function(u){Z4(t.element)&&qr(t.element,"aria-invalid",!1),u.getContainer(t).each(function(c){Tf(c,u.validHtml)}),u.onValid(t)})},Q4=function(t,r,o,u){var c=r.getRoot(t).getOr(t.element);ri(c,r.invalidClass),r.notify.each(function(f){Z4(t.element)&&qr(t.element,"aria-invalid",!0),f.getContainer(t).each(function(d){Tf(d,u)}),f.onInvalid(t,u)})},eO=function(t,r,o){return r.validator.fold(function(){return Hi.pure(jr.value(!0))},function(u){return u.validate(t)})},l0=function(t,r,o){return r.notify.each(function(u){u.onValidate(t)}),eO(t,r).map(function(u){return t.getSystem().isConnected()?u.fold(function(c){return Q4(t,r,o,c),jr.error(c)},function(c){return J4(t,r),jr.value(c)}):jr.error("No longer in system")})},tO=function(t,r){var o=r.getRoot(t).getOr(t.element);return Cu(o,r.invalidClass)},gI=Object.freeze({__proto__:null,markValid:J4,markInvalid:Q4,query:eO,run:l0,isInvalid:tO}),hI=function(t,r){return t.validator.map(function(o){return $a([qt(o.onEvent,function(u){l0(u,t,r).get(_e)})].concat(o.validateOnLoad?[Hr(function(u){l0(u,t,r).get(ae)})]:[]))}).getOr({})},pI=Object.freeze({__proto__:null,events:hI}),bI=[jt("invalidClass"),$e("getRoot",A.none),ks("notify",[$e("aria","alert"),$e("getContainer",A.none),$e("validHtml",""),ba("onValid"),ba("onInvalid"),ba("onValidate")]),ks("validator",[jt("validate"),$e("onEvent","input"),$e("validateOnLoad",!0)])],Bc=pi({fields:bI,name:"invalidating",active:pI,apis:gI,extra:{validation:function(t){return function(r){var o=_n.getValue(r);return Hi.pure(t(o))}}}}),nO=function(t,r,o,u){return o.getOrCreate(t,r,u)},rO=Object.freeze({__proto__:null,getCoupled:nO}),aO=[Ju("others",Gi(jr.value,Ol()))],c0=function(){var t={},r=function(u,c,f){var d=ot(c.others);if(d)return dt(t,f).getOrThunk(function(){var p=dt(c.others,f).getOrDie("No information found for coupled component: "+f),b=p(u),x=u.getSystem().build(b);return t[f]=x,x});throw new Error("Cannot find coupled component: "+f+". Known coupled components: "+JSON.stringify(d,null,2))},o=L({});return ns({readState:o,getOrCreate:r})},yI=Object.freeze({__proto__:null,init:c0}),Ro=pi({fields:aO,name:"coupling",apis:rO,state:yI}),oO=L("sink"),iO=L(vl({name:oO(),overrides:L({dom:{tag:"div"},behaviours:Cn([Po.config({useFixed:Ze})]),events:$a([Mv(Xp()),Mv(sl()),Mv(Zg())])})})),ec;(function(t){t[t.HighlightFirst=0]="HighlightFirst",t[t.HighlightNone=1]="HighlightNone"})(ec||(ec={}));var uO=function(t,r){var o=t.getHotspot(r).getOr(r),u="hotspot",c=t.getAnchorOverrides();return t.layouts.fold(function(){return{type:u,hotspot:o,overrides:c}},function(f){return{type:u,hotspot:o,overrides:c,layouts:f}})},f0=function(t,r,o){var u=t.fetch;return u(o).map(r)},wI=function(t,r,o,u,c,f,d){var p=f0(t,r,u),b=Dx(u,t);return p.map(function(x){return x.bind(function(O){return A.from(nf.sketch(G(G({},f.menu()),{uid:Mf(""),data:O,highlightImmediately:d===ec.HighlightFirst,onOpenMenu:function(P,V){var q=b().getOrDie();Po.position(q,V,{anchor:o}),ra.decloak(c)},onOpenSubmenu:function(P,V,q){var te=b().getOrDie();Po.position(te,q,{anchor:{type:"submenu",item:V}}),ra.decloak(c)},onRepositionMenu:function(P,V,q){var te=b().getOrDie();Po.position(te,V,{anchor:o}),Ke(q,function(de){Po.position(te,de.triggeredMenu,{anchor:{type:"submenu",item:de.triggeringItem}})})},onEscape:function(){return _r.focus(u),ra.close(c),A.some(!0)}})))})})},Ox=function(t,r,o,u,c,f,d){var p=uO(t,o),b=wI(t,r,p,o,u,c,d);return b.map(function(x){return x.fold(function(){ra.isOpen(u)&&ra.close(u)},function(O){ra.cloak(u),ra.open(u,O),f(u)}),u})},cf=function(t,r,o,u,c,f,d){return ra.close(u),Hi.pure(u)},lg=function(t,r,o,u,c,f){var d=Ro.getCoupled(o,"sandbox"),p=ra.isOpen(d),b=p?cf:Ox;return b(t,r,o,d,u,c,f)},cg=function(t,r,o){var u=ta.getCurrent(r).getOr(r),c=uu(t.element);o?Mr(u.element,"min-width",c+"px"):Hp(u.element,c)},Dx=function(t,r){return t.getSystem().getByUid(r.uid+"-"+oO()).map(function(o){return function(){return jr.value(o)}}).getOrThunk(function(){return r.lazySink.fold(function(){return function(){return jr.error(new Error("No internal sink is specified, nor could an external sink be found"))}},function(o){return function(){return o(t)}})})},v0=function(t){ra.getState(t).each(function(r){nf.repositionMenus(r)})},_x=function(t,r,o){var u=Nv(),c=function(p,b){var x=uO(t,r);u.link(r.element),t.matchWidth&&cg(x.hotspot,b,t.useMinWidth),t.onOpen(x,p,b),o!==void 0&&o.onOpen!==void 0&&o.onOpen(p,b)},f=function(p,b){u.unlink(r.element),o!==void 0&&o.onClose!==void 0&&o.onClose(p,b)},d=Dx(r,t);return{dom:{tag:"div",classes:t.sandboxClasses,attributes:{id:u.id,role:"listbox"}},behaviours:Qs.augment(t.sandboxBehaviours,[_n.config({store:{mode:"memory",initialValue:r}}),ra.config({onOpen:c,onClose:f,isPartOf:function(p,b,x){return Fv(b,x)||Fv(r,x)},getAttachPoint:function(){return d().getOrDie()}}),ta.config({find:function(p){return ra.getState(p).bind(function(b){return ta.getCurrent(b)})}}),Uu.config({channels:G(G({},os({isExtraPart:je})),qv({doReposition:v0}))})])}},sO=function(t){var r=Ro.getCoupled(t,"sandbox");v0(r)},Mx=function(){return[$e("sandboxClasses",[]),Qs.field("sandboxBehaviours",[ta,Uu,ra,_n])]},lO=L([jt("dom"),jt("fetch"),ba("onOpen"),rs("onExecute"),$e("getHotspot",A.some),$e("getAnchorOverrides",L({})),Vf(),ii("dropdownBehaviours",[na,Ro,sr,_r]),jt("toggleClass"),$e("eventOrder",{}),Oa("lazySink"),$e("matchWidth",!1),$e("useMinWidth",!1),Oa("role")].concat(Mx())),CI=L([fl({schema:[m1()],name:"menu",defaults:function(t){return{onExecute:t.onExecute}}}),iO()]),d0=function(t,r,o,u){var c,f=function(O){return dt(t.dom,"attributes").bind(function(P){return dt(P,O)})},d=function(O){ra.getState(O).each(function(P){nf.highlightPrimary(P)})},p=function(O){var P=d;lg(t,_e,O,u,P,ec.HighlightFirst).get(ae)},b={expand:function(O){na.isOn(O)||lg(t,_e,O,u,ae,ec.HighlightNone).get(ae)},open:function(O){na.isOn(O)||lg(t,_e,O,u,ae,ec.HighlightFirst).get(ae)},isOpen:na.isOn,close:function(O){na.isOn(O)&&lg(t,_e,O,u,ae,ec.HighlightFirst).get(ae)},repositionMenus:function(O){na.isOn(O)&&sO(O)}},x=function(O,P){return As(O),A.some(!0)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Mi(t.dropdownBehaviours,[na.config({toggleClass:t.toggleClass,aria:{mode:"expanded"}}),Ro.config({others:{sandbox:function(O){return _x(t,O,{onOpen:function(){return na.on(O)},onClose:function(){return na.off(O)}})}}}),sr.config({mode:"special",onSpace:x,onEnter:x,onDown:function(O,P){if(pl.isOpen(O)){var V=Ro.getCoupled(O,"sandbox");d(V)}else pl.open(O);return A.some(!0)},onEscape:function(O,P){return pl.isOpen(O)?(pl.close(O),A.some(!0)):A.none()}}),_r.config({})]),events:yb(A.some(p)),eventOrder:G(G({},t.eventOrder),(c={},c[Es()]=["disabling","toggling","alloy.base.behaviour"],c)),apis:b,domModification:{attributes:G(G({"aria-haspopup":"true"},t.role.fold(function(){return{}},function(O){return{role:O}})),t.dom.tag==="button"?{type:f("type").getOr("button")}:{})}}},pl=Au({name:"Dropdown",configFields:lO(),partFields:CI(),factory:d0,apis:{open:function(t,r){return t.open(r)},expand:function(t,r){return t.expand(r)},close:function(t,r){return t.close(r)},isOpen:function(t,r){return t.isOpen(r)},repositionMenus:function(t,r){return t.repositionMenus(r)}}}),Ns=function(){return ll({styles:{"-webkit-user-select":"none","user-select":"none","-ms-user-select":"none","-moz-user-select":"-moz-none"},attributes:{unselectable:"on"}})},xI=function(){return $a([Mk(RM(),Ze)])},SI=Object.freeze({__proto__:null,events:xI,exhibit:Ns}),fg=pi({fields:[],name:"unselecting",active:SI}),cO=function(t,r){return pl.sketch({dom:t.dom,components:t.components,toggleClass:"mce-active",dropdownBehaviours:Cn([tl.button(r.providers.isDisabled),Yo(),fg.config({}),Do.config({})]),layouts:t.layouts,sandboxClasses:["tox-dialog__popups"],lazySink:r.getSink,fetch:function(o){return Hi.nu(function(u){return t.fetch(u)}).map(function(u){return A.from(M4(Ot(og(Yn("menu-value"),u,function(c){t.onItemAction(o,c)},t.columns,t.presets,Jl.CLOSE_ON_EXECUTE,je,r.providers),{movement:a0(t.columns,t.presets)})))})},parts:{menu:Ib(!1,1,t.presets)}})},fO=Yn("color-input-change"),vO=Yn("color-swatch-change"),dO=Yn("color-picker-cancel"),kI=function(t,r,o){var u=ca.parts.field({factory:ug,inputClasses:["tox-textfield"],onSetValue:function(b){return Bc.run(b).get(ae)},inputBehaviours:Cn([gr.config({disabled:r.providers.isDisabled}),Yo(),Do.config({}),Bc.config({invalidClass:"tox-textbox-field-invalid",getRoot:function(b){return Lo(b.element)},notify:{onValid:function(b){var x=_n.getValue(b);br(b,fO,{color:x})}},validator:{validateOnLoad:!1,validate:function(b){var x=_n.getValue(b);if(x.length===0)return Hi.pure(jr.value(!0));var O=ce.fromTag("span");Mr(O,"background-color",x);var P=Oi(O,"background-color").fold(function(){return jr.error("blah")},function(V){return jr.value(x)});return Hi.pure(P)}}})]),selectOnFocus:!1}),c=t.label.map(function(b){return sf(b,r.providers)}),f=function(b,x){br(b,vO,{value:x})},d=function(b,x){p.getOpt(b).each(function(O){x==="custom"?o.colorPicker(function(P){P.fold(function(){return da(O,dO)},function(V){f(O,V),h4(V)})},"#ffffff"):x==="remove"?f(O,""):f(O,x)})},p=ya(cO({dom:{tag:"span",attributes:{"aria-label":r.providers.translate("Color swatch")}},layouts:{onRtl:function(){return[Zi,Yi,Ko]},onLtr:function(){return[Yi,Zi,Ko]}},components:[],fetch:y4(o.getColors(),o.hasCustomColors()),columns:o.getColorCols(),presets:"color",onItemAction:d},r));return ca.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:c.toArray().concat([{dom:{tag:"div",classes:["tox-color-input"]},components:[u,p.asSpec()]}]),fieldBehaviours:Cn([$r("form-field-events",[qt(fO,function(b,x){p.getOpt(b).each(function(O){Mr(O.element,"background-color",x.event.color)}),br(b,ss,{name:t.name})}),qt(vO,function(b,x){ca.getField(b).each(function(O){_n.setValue(O,x.event.value),ta.getCurrent(b).each(_r.focus)})}),qt(dO,function(b,x){ca.getField(b).each(function(O){ta.getCurrent(b).each(_r.focus)})})])])})},EI=vl({schema:[jt("dom")],name:"label"}),av=function(t){return vl({name:""+t+"-edge",overrides:function(r){var o=r.model.manager.edgeActions[t];return o.fold(function(){return{}},function(u){return{events:$a([rw(Jc(),function(c,f,d){return u(c,d)},[r]),rw(sl(),function(c,f,d){return u(c,d)},[r]),rw(_v(),function(c,f,d){d.mouseIsDown.get()&&u(c,d)},[r])])}})}})},TI=av("top-left"),mO=av("top"),AI=av("top-right"),OI=av("right"),DI=av("bottom-right"),gO=av("bottom"),m0=av("bottom-left"),_I=av("left"),g0=Qi({name:"thumb",defaults:L({dom:{styles:{position:"absolute"}}}),overrides:function(t){return{events:$a([am(Jc(),t,"spectrum"),am(Ml(),t,"spectrum"),am(Yg(),t,"spectrum"),am(sl(),t,"spectrum"),am(_v(),t,"spectrum"),am(Ky(),t,"spectrum")])}}}),vg=Qi({schema:[$u("mouseIsDown",function(){return Cr(!1)})],name:"spectrum",overrides:function(t){var r=t.model,o=r.manager,u=function(c,f){return o.getValueFromEvent(f).map(function(d){return o.setValueFrom(c,t,d)})};return{behaviours:Cn([sr.config({mode:"special",onLeft:function(c){return o.onLeft(c,t)},onRight:function(c){return o.onRight(c,t)},onUp:function(c){return o.onUp(c,t)},onDown:function(c){return o.onDown(c,t)}}),_r.config({})]),events:$a([qt(Jc(),u),qt(Ml(),u),qt(sl(),u),qt(_v(),function(c,f){t.mouseIsDown.get()&&u(c,f)})])}}}),hO=[EI,_I,OI,mO,gO,TI,AI,m0,DI,g0,vg],pO="slider.change.value",dg=L(pO),MI=function(t){return t.type.indexOf("touch")!==-1},Bx=function(t){var r=t.event.raw;if(MI(r)){var o=r;return o.touches!==void 0&&o.touches.length===1?A.some(o.touches[0]).map(function(c){return Ka(c.clientX,c.clientY)}):A.none()}else{var u=r;return u.clientX!==void 0?A.some(u).map(function(c){return Ka(c.clientX,c.clientY)}):A.none()}},h0="top",BI="right",PI="bottom",bO="left",ov=function(t){return t.model.minX},ff=function(t){return t.model.minY},ap=function(t){return t.model.minX-1},Vi=function(t){return t.model.minY-1},iv=function(t){return t.model.maxX},fd=function(t){return t.model.maxY},p0=function(t){return t.model.maxX+1},op=function(t){return t.model.maxY+1},yO=function(t,r,o){return r(t)-o(t)},Px=function(t){return yO(t,iv,ov)},Rx=function(t){return yO(t,fd,ff)},Nx=function(t){return Px(t)/2},tc=function(t){return Rx(t)/2},uv=function(t){return t.stepSize},Fx=function(t){return t.snapToGrid},ip=function(t){return t.snapStart},b0=function(t){return t.rounded},y0=function(t,r){return t[r+"-edge"]!==void 0},wO=function(t){return y0(t,bO)},CO=function(t){return y0(t,BI)},xO=function(t){return y0(t,h0)},SO=function(t){return y0(t,PI)},nc=function(t){return t.model.value.get()},kO=function(t){return{x:t}},Ix=function(t){return{y:t}},sv=function(t,r){return{x:t,y:r}},Bi=function(t,r){br(t,dg(),{value:r})},w0=function(t,r){Bi(t,sv(ap(r),Vi(r)))},RI=function(t,r){Bi(t,Ix(Vi(r)))},NI=function(t,r){Bi(t,sv(Nx(r),Vi(r)))},EO=function(t,r){Bi(t,sv(p0(r),Vi(r)))},TO=function(t,r){Bi(t,kO(p0(r)))},zx=function(t,r){Bi(t,sv(p0(r),tc(r)))},AO=function(t,r){Bi(t,sv(p0(r),op(r)))},up=function(t,r){Bi(t,Ix(op(r)))},sp=function(t,r){Bi(t,sv(Nx(r),op(r)))},FI=function(t,r){Bi(t,sv(ap(r),op(r)))},II=function(t,r){Bi(t,kO(ap(r)))},zI=function(t,r){Bi(t,sv(ap(r),tc(r)))},$x=function(t,r,o,u){return t<r?t:t>o?o:t===r?r-1:Math.max(r,t-u)},Lx=function(t,r,o,u){return t>o?t:t<r?r:t===o?o+1:Math.min(o,t+u)},OO=function(t,r,o){return Math.max(r,Math.min(o,t))},$I=function(t,r,o,u,c){return c.fold(function(){var f=t-r,d=Math.round(f/u)*u;return OO(r+d,r-1,o+1)},function(f){var d=(t-f)%u,p=Math.round(d/u),b=Math.floor((t-f)/u),x=Math.floor((o-f)/u),O=Math.min(x,b+p),P=f+O*u;return Math.max(f,P)})},Hx=function(t,r,o){return Math.min(o,Math.max(t,r))-r},lv=function(t){var r=t.min,o=t.max,u=t.range,c=t.value,f=t.step,d=t.snap,p=t.snapStart,b=t.rounded,x=t.hasMinEdge,O=t.hasMaxEdge,P=t.minBound,V=t.maxBound,q=t.screenRange,te=x?r-1:r,de=O?o+1:o;if(c<P)return te;if(c>V)return de;var Pe=Hx(c,P,V),le=OO(Pe/q*u+r,te,de);return d&&le>=r&&le<=o?$I(le,r,o,f,p):b?Math.round(le):le},DO=function(t){var r=t.min,o=t.max,u=t.range,c=t.value,f=t.hasMinEdge,d=t.hasMaxEdge,p=t.maxBound,b=t.maxOffset,x=t.centerMinEdge,O=t.centerMaxEdge;return c<r?f?0:x:c>o?d?p:O:(c-r)/u*b},C0="top",_O="right",MO="bottom",Vx="left",LI="width",HI="height",rc=function(t){return t.element.dom.getBoundingClientRect()},Fs=function(t,r){return t[r]},x0=function(t){var r=rc(t);return Fs(r,Vx)},Ux=function(t){var r=rc(t);return Fs(r,_O)},mg=function(t){var r=rc(t);return Fs(r,C0)},S0=function(t){var r=rc(t);return Fs(r,MO)},Wx=function(t){var r=rc(t);return Fs(r,LI)},BO=function(t){var r=rc(t);return Fs(r,HI)},PO=function(t,r,o){return(t+r)/2-o},lp=function(t,r){var o=rc(t),u=rc(r),c=Fs(o,Vx),f=Fs(o,_O),d=Fs(u,Vx);return PO(c,f,d)},jx=function(t,r){var o=rc(t),u=rc(r),c=Fs(o,C0),f=Fs(o,MO),d=Fs(u,C0);return PO(c,f,d)},k0=function(t,r){br(t,dg(),{value:r})},E0=function(t){return{x:t}},qx=function(t,r,o){var u={min:ov(r),max:iv(r),range:Px(r),value:o,step:uv(r),snap:Fx(r),snapStart:ip(r),rounded:b0(r),hasMinEdge:wO(r),hasMaxEdge:CO(r),minBound:x0(t),maxBound:Ux(t),screenRange:Wx(t)};return lv(u)},VI=function(t,r,o){var u=qx(t,r,o),c=E0(u);return k0(t,c),u},vf=function(t,r){var o=ov(r);k0(t,E0(o))},Gx=function(t,r){var o=iv(r);k0(t,E0(o))},RO=function(t,r,o){var u=t>0?Lx:$x,c=u(nc(o).x,ov(o),iv(o),uv(o));return k0(r,E0(c)),A.some(c)},Kx=function(t){return function(r,o){return RO(t,r,o).map(Ze)}},Xx=function(t){var r=Bx(t);return r.map(function(o){return o.left})},NO=function(t,r,o,u,c){var f=0,d=Wx(t),p=u.bind(function(O){return A.some(lp(O,t))}).getOr(f),b=c.bind(function(O){return A.some(lp(O,t))}).getOr(d),x={min:ov(r),max:iv(r),range:Px(r),value:o,hasMinEdge:wO(r),hasMaxEdge:CO(r),minBound:x0(t),minOffset:f,maxBound:Ux(t),maxOffset:d,centerMinEdge:p,centerMaxEdge:b};return DO(x)},gg=function(t,r,o,u,c,f){var d=NO(r,f,o,u,c);return x0(r)-x0(t)+d},FO=function(t,r,o,u){var c=nc(o),f=gg(t,u.getSpectrum(t),c.x,u.getLeftEdge(t),u.getRightEdge(t),o),d=uu(r.element)/2;Mr(r.element,"left",f-d+"px")},IO=Kx(-1),UI=Kx(1),WI=A.none,jI=A.none,qI={"top-left":A.none(),top:A.none(),"top-right":A.none(),right:A.some(TO),"bottom-right":A.none(),bottom:A.none(),"bottom-left":A.none(),left:A.some(II)},zO=Object.freeze({__proto__:null,setValueFrom:VI,setToMin:vf,setToMax:Gx,findValueOfOffset:qx,getValueFromEvent:Xx,findPositionOfValue:gg,setPositionFromValue:FO,onLeft:IO,onRight:UI,onUp:WI,onDown:jI,edgeActions:qI}),cp=function(t,r){br(t,dg(),{value:r})},T0=function(t){return{y:t}},Yx=function(t,r,o){var u={min:ff(r),max:fd(r),range:Rx(r),value:o,step:uv(r),snap:Fx(r),snapStart:ip(r),rounded:b0(r),hasMinEdge:xO(r),hasMaxEdge:SO(r),minBound:mg(t),maxBound:S0(t),screenRange:BO(t)};return lv(u)},GI=function(t,r,o){var u=Yx(t,r,o),c=T0(u);return cp(t,c),u},A0=function(t,r){var o=ff(r);cp(t,T0(o))},KI=function(t,r){var o=fd(r);cp(t,T0(o))},XI=function(t,r,o){var u=t>0?Lx:$x,c=u(nc(o).y,ff(o),fd(o),uv(o));return cp(r,T0(c)),A.some(c)},Zx=function(t){return function(r,o){return XI(t,r,o).map(Ze)}},$O=function(t){var r=Bx(t);return r.map(function(o){return o.top})},YI=function(t,r,o,u,c){var f=0,d=BO(t),p=u.bind(function(O){return A.some(jx(O,t))}).getOr(f),b=c.bind(function(O){return A.some(jx(O,t))}).getOr(d),x={min:ff(r),max:fd(r),range:Rx(r),value:o,hasMinEdge:xO(r),hasMaxEdge:SO(r),minBound:mg(t),minOffset:f,maxBound:S0(t),maxOffset:d,centerMinEdge:p,centerMaxEdge:b};return DO(x)},Jx=function(t,r,o,u,c,f){var d=YI(r,f,o,u,c);return mg(r)-mg(t)+d},O0=function(t,r,o,u){var c=nc(o),f=Jx(t,u.getSpectrum(t),c.y,u.getTopEdge(t),u.getBottomEdge(t),o),d=ti(r.element)/2;Mr(r.element,"top",f-d+"px")},ZI=A.none,JI=A.none,QI=Zx(-1),e6=Zx(1),D0={"top-left":A.none(),top:A.some(RI),"top-right":A.none(),right:A.none(),"bottom-right":A.none(),bottom:A.some(up),"bottom-left":A.none(),left:A.none()},Qx=Object.freeze({__proto__:null,setValueFrom:GI,setToMin:A0,setToMax:KI,findValueOfOffset:Yx,getValueFromEvent:$O,findPositionOfValue:Jx,setPositionFromValue:O0,onLeft:ZI,onRight:JI,onUp:QI,onDown:e6,edgeActions:D0}),_0=function(t,r){br(t,dg(),{value:r})},M0=function(t,r){return{x:t,y:r}},B0=function(t,r,o){var u=qx(t,r,o.left),c=Yx(t,r,o.top),f=M0(u,c);return _0(t,f),f},t6=function(t,r,o,u){var c=t>0?Lx:$x,f=r?nc(u).x:c(nc(u).x,ov(u),iv(u),uv(u)),d=r?c(nc(u).y,ff(u),fd(u),uv(u)):nc(u).y;return _0(o,M0(f,d)),A.some(f)},hg=function(t,r){return function(o,u){return t6(t,r,o,u).map(Ze)}},LO=function(t,r){var o=ov(r),u=ff(r);_0(t,M0(o,u))},n6=function(t,r){var o=iv(r),u=fd(r);_0(t,M0(o,u))},r6=function(t){return Bx(t)},HO=function(t,r,o,u){var c=nc(o),f=gg(t,u.getSpectrum(t),c.x,u.getLeftEdge(t),u.getRightEdge(t),o),d=Jx(t,u.getSpectrum(t),c.y,u.getTopEdge(t),u.getBottomEdge(t),o),p=uu(r.element)/2,b=ti(r.element)/2;Mr(r.element,"left",f-p+"px"),Mr(r.element,"top",d-b+"px")},VO=hg(-1,!1),a6=hg(1,!1),UO=hg(-1,!0),WO=hg(1,!0),jO={"top-left":A.some(w0),top:A.some(NI),"top-right":A.some(EO),right:A.some(zx),"bottom-right":A.some(AO),bottom:A.some(sp),"bottom-left":A.some(FI),left:A.some(zI)},qO=Object.freeze({__proto__:null,setValueFrom:B0,setToMin:LO,setToMax:n6,getValueFromEvent:r6,setPositionFromValue:HO,onLeft:VO,onRight:a6,onUp:UO,onDown:WO,edgeActions:jO}),o6=[$e("stepSize",1),$e("onChange",ae),$e("onChoose",ae),$e("onInit",ae),$e("onDragStart",ae),$e("onDragEnd",ae),$e("snapToGrid",!1),$e("rounded",!0),Oa("snapStart"),Ju("model",Ws("mode",{x:[$e("minX",0),$e("maxX",100),$u("value",function(t){return Cr(t.mode.minX)}),jt("getInitialValue"),ro("manager",zO)],y:[$e("minY",0),$e("maxY",100),$u("value",function(t){return Cr(t.mode.minY)}),jt("getInitialValue"),ro("manager",Qx)],xy:[$e("minX",0),$e("maxX",100),$e("minY",0),$e("maxY",100),$u("value",function(t){return Cr({x:t.mode.minX,y:t.mode.minY})}),jt("getInitialValue"),ro("manager",qO)]})),ii("sliderBehaviours",[sr,_n]),$u("mouseIsDown",function(){return Cr(!1)})],i6=function(t,r,o,u){var c,f=function(Fe){return Ac(Fe,t,"thumb")},d=function(Fe){return Ac(Fe,t,"spectrum")},p=function(Fe){return La(Fe,t,"left-edge")},b=function(Fe){return La(Fe,t,"right-edge")},x=function(Fe){return La(Fe,t,"top-edge")},O=function(Fe){return La(Fe,t,"bottom-edge")},P=t.model,V=P.manager,q=function(Fe,lt){V.setPositionFromValue(Fe,lt,t,{getLeftEdge:p,getRightEdge:b,getTopEdge:x,getBottomEdge:O,getSpectrum:d})},te=function(Fe,lt){P.value.set(lt);var Mt=f(Fe);q(Fe,Mt)},de=function(Fe,lt){te(Fe,lt);var Mt=f(Fe);return t.onChange(Fe,Mt,lt),A.some(!0)},Pe=function(Fe){V.setToMin(Fe,t)},le=function(Fe){V.setToMax(Fe,t)},Ie=function(Fe){var lt=function(){La(Fe,t,"thumb").each(function(En){var Lt=P.value.get();t.onChoose(Fe,En,Lt)})},Mt=t.mouseIsDown.get();t.mouseIsDown.set(!1),Mt&&lt()},xt=function(Fe,lt){lt.stop(),t.mouseIsDown.set(!0),t.onDragStart(Fe,f(Fe))},yt=function(Fe,lt){lt.stop(),t.onDragEnd(Fe,f(Fe)),Ie(Fe)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Mi(t.sliderBehaviours,[sr.config({mode:"special",focusIn:function(Fe){return La(Fe,t,"spectrum").map(sr.focusIn).map(Ze)}}),_n.config({store:{mode:"manual",getValue:function(Fe){return P.value.get()}}}),Uu.config({channels:(c={},c[f2()]={onReceive:Ie},c)})]),events:$a([qt(dg(),function(Fe,lt){de(Fe,lt.event.value)}),Hr(function(Fe,lt){var Mt=P.getInitialValue();P.value.set(Mt);var En=f(Fe);q(Fe,En);var Lt=d(Fe);t.onInit(Fe,En,Lt,P.value.get())}),qt(Jc(),xt),qt(Yg(),yt),qt(sl(),xt),qt(Ky(),yt)]),apis:{resetToMin:Pe,resetToMax:le,setValue:te,refresh:q},domModification:{styles:{position:"relative"}}}},bl=Au({name:"Slider",configFields:o6,partFields:hO,factory:i6,apis:{setValue:function(t,r,o){t.setValue(r,o)},resetToMin:function(t,r){t.resetToMin(r)},resetToMax:function(t,r){t.resetToMax(r)},refresh:function(t,r){t.refresh(r)}}}),P0=Yn("rgb-hex-update"),GO=Yn("slider-update"),eS=Yn("palette-update"),u6=function(t,r){var o=bl.parts.spectrum({dom:{tag:"div",classes:[r("hue-slider-spectrum")],attributes:{role:"presentation"}}}),u=bl.parts.thumb({dom:{tag:"div",classes:[r("hue-slider-thumb")],attributes:{role:"presentation"}}});return bl.sketch({dom:{tag:"div",classes:[r("hue-slider")],attributes:{role:"presentation"}},rounded:!1,model:{mode:"y",getInitialValue:L({y:0})},components:[o,u],sliderBehaviours:Cn([_r.config({})]),onChange:function(c,f,d){br(c,GO,{value:d})}})},KO="form",tS=[ii("formBehaviours",[_n])],XO=function(t){return"<alloy.field."+t+">"},s6=function(t){var r=function(){var f=[],d=function(p,b){return f.push(p),E2(KO,XO(p),b)};return{field:d,record:L(f)}}(),o=t(r),u=r.record(),c=St(u,function(f){return Qi({name:f,pname:XO(f)})});return _2(KO,tS,c,c6,o)},l6=function(t,r){return t.fold(function(){return jr.error(r)},jr.value)},c6=function(t,r){return{uid:t.uid,dom:t.dom,components:r,behaviours:Mi(t.formBehaviours,[_n.config({store:{mode:"manual",getValue:function(o){var u=yT(o,t);return Jt(u,function(c,f){return c().bind(function(d){var p=ta.getCurrent(d);return l6(p,new Error("Cannot find a current component to extract the value from for form part '"+f+"': "+Df(d.element)))}).map(_n.getValue)})},setValue:function(o,u){yn(u,function(c,f){La(o,t,f).each(function(d){ta.getCurrent(d).each(function(p){_n.setValue(p,c)})})})}}})]),apis:{getField:function(o,u){return La(o,t,u).bind(ta.getCurrent)}}}},pg={getField:Mo(function(t,r,o){return t.getField(r,o)}),sketch:s6},YO=Yn("valid-input"),ZO=Yn("invalid-input"),nS=Yn("validating-input"),rS="colorcustom.rgb.",f6=function(t,r,o,u){var c=function(V,q){return Bc.config({invalidClass:r("invalid"),notify:{onValidate:function(te){br(te,nS,{type:V})},onValid:function(te){br(te,YO,{type:V,value:_n.getValue(te)})},onInvalid:function(te){br(te,ZO,{type:V,value:_n.getValue(te)})}},validator:{validate:function(te){var de=_n.getValue(te),Pe=q(de)?jr.value(!0):jr.error(t("aria.input.invalid"));return Hi.pure(Pe)},validateOnLoad:!1}})},f=function(V,q,te,de,Pe){var le=t(rS+"range"),Ie=ca.parts.label({dom:{tag:"label",innerHtml:te,attributes:{"aria-label":de}}}),xt=ca.parts.field({data:Pe,factory:ug,inputAttributes:G({type:"text"},q==="hex"?{"aria-live":"polite"}:{}),inputClasses:[r("textfield")],inputBehaviours:Cn([c(q,V),Do.config({})]),onSetValue:function(Mt){if(Bc.isInvalid(Mt)){var En=Bc.run(Mt);En.get(ae)}}}),yt=[Ie,xt],Fe=q!=="hex"?[ca.parts["aria-descriptor"]({text:le})]:[],lt=yt.concat(Fe);return{dom:{tag:"div",attributes:{role:"presentation"}},components:lt}},d=function(V,q){var te=Yh(q);return pg.getField(V,"hex").each(function(de){_r.isFocused(de)||_n.setValue(V,{hex:te.value})}),te},p=function(V,q){var te=q.red,de=q.green,Pe=q.blue;_n.setValue(V,{red:te,green:de,blue:Pe})},b=ya({dom:{tag:"div",classes:[r("rgba-preview")],styles:{"background-color":"white"},attributes:{role:"presentation"}}}),x=function(V,q){b.getOpt(V).each(function(te){Mr(te.element,"background-color","#"+q.value)})},O=function(){var V={red:Cr(A.some(255)),green:Cr(A.some(255)),blue:Cr(A.some(255)),hex:Cr(A.some("ffffff"))},q=function(Dt,gn){var Xn=Zh(gn);p(Dt,Xn),le(Xn)},te=function(Dt){return V[Dt].get()},de=function(Dt,gn){V[Dt].set(gn)},Pe=function(){return te("red").bind(function(Dt){return te("green").bind(function(gn){return te("blue").map(function(Xn){return uf(Dt,gn,Xn,1)})})})},le=function(Dt){var gn=Dt.red,Xn=Dt.green,It=Dt.blue;de("red",A.some(gn)),de("green",A.some(Xn)),de("blue",A.some(It))},Ie=function(Dt,gn){var Xn=gn.event;Xn.type!=="hex"?de(Xn.type,A.none()):u(Dt)},xt=function(Dt,gn){o(Dt);var Xn=o4(gn);de("hex",A.some(gn));var It=Zh(Xn);p(Dt,It),le(It),br(Dt,P0,{hex:Xn}),x(Dt,Xn)},yt=function(Dt,gn,Xn){var It=parseInt(Xn,10);de(gn,A.some(It)),Pe().each(function(Un){var Qn=d(Dt,Un);br(Dt,P0,{hex:Qn}),x(Dt,Qn)})},Fe=function(Dt){return Dt.type==="hex"},lt=function(Dt,gn){var Xn=gn.event;Fe(Xn)?xt(Dt,Xn.value):yt(Dt,Xn.type,Xn.value)},Mt=function(Dt){return{label:t(rS+Dt+".label"),description:t(rS+Dt+".description")}},En=Mt("red"),Lt=Mt("green"),An=Mt("blue"),Gt=Mt("hex");return Ot(pg.sketch(function(Dt){return{dom:{tag:"form",classes:[r("rgb-form")],attributes:{"aria-label":t("aria.color.picker")}},components:[Dt.field("red",ca.sketch(f(Yb,"red",En.label,En.description,255))),Dt.field("green",ca.sketch(f(Yb,"green",Lt.label,Lt.description,255))),Dt.field("blue",ca.sketch(f(Yb,"blue",An.label,An.description,255))),Dt.field("hex",ca.sketch(f(s4,"hex",Gt.label,Gt.description,"ffffff"))),b.asSpec()],formBehaviours:Cn([Bc.config({invalidClass:r("form-invalid")}),$r("rgb-form-events",[qt(YO,lt),qt(ZO,Ie),qt(nS,Ie)])])}}),{apis:{updateHex:function(Dt,gn){_n.setValue(Dt,{hex:gn.value}),q(Dt,gn),x(Dt,gn)}}})},P=Bs({factory:O,name:"RgbForm",configFields:[],apis:{updateHex:function(V,q,te){V.updateHex(q,te)}},extraApis:{}});return P},JO=function(t,r){var o=bl.parts.spectrum({dom:{tag:"canvas",attributes:{role:"presentation"},classes:[r("sv-palette-spectrum")]}}),u=bl.parts.thumb({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette-thumb")],innerHtml:"<div class="+r("sv-palette-inner-thumb")+' role="presentation"></div>'}}),c=function(x,O){var P=x.width,V=x.height,q=x.getContext("2d");if(q!==null){q.fillStyle=O,q.fillRect(0,0,P,V);var te=q.createLinearGradient(0,0,P,0);te.addColorStop(0,"rgba(255,255,255,1)"),te.addColorStop(1,"rgba(255,255,255,0)"),q.fillStyle=te,q.fillRect(0,0,P,V);var de=q.createLinearGradient(0,0,0,V);de.addColorStop(0,"rgba(0,0,0,0)"),de.addColorStop(1,"rgba(0,0,0,1)"),q.fillStyle=de,q.fillRect(0,0,P,V)}},f=function(x,O){var P=x.components()[0].element.dom,V=Jh(O,100,100),q=cx(V);c(P,f4(q))},d=function(x,O){var P=vx(Zh(O));bl.setValue(x,{x:P.saturation,y:100-P.value})},p=function(x){var O=L({x:0,y:0}),P=function(te,de,Pe){br(te,eS,{value:Pe})},V=function(te,de,Pe,le){c(Pe.element.dom,f4(v4))},q=Cn([ta.config({find:A.some}),_r.config({})]);return bl.sketch({dom:{tag:"div",attributes:{role:"presentation"},classes:[r("sv-palette")]},model:{mode:"xy",getInitialValue:O},rounded:!1,components:[o,u],onChange:P,onInit:V,sliderBehaviours:q})},b=Bs({factory:p,name:"SaturationBrightnessPalette",configFields:[],apis:{setHue:function(x,O,P){f(O,P)},setThumb:function(x,O,P){d(O,P)}},extraApis:{}});return b},v6=function(t,r){var o=function(c){var f=f6(t,r,c.onValidHex,c.onInvalidHex),d=JO(t,r),p=function(lt){return(100-lt)/100*360},b=function(lt){return 100-lt/360*100},x={paletteRgba:Cr(v4),paletteHue:Cr(0)},O=ya(u6(t,r)),P=ya(d.sketch({})),V=ya(f.sketch({})),q=function(lt,Mt,En){P.getOpt(lt).each(function(Lt){d.setHue(Lt,En)})},te=function(lt,Mt){V.getOpt(lt).each(function(En){f.updateHex(En,Mt)})},de=function(lt,Mt,En){O.getOpt(lt).each(function(Lt){bl.setValue(Lt,{y:b(En)})})},Pe=function(lt,Mt){P.getOpt(lt).each(function(En){d.setThumb(En,Mt)})},le=function(lt,Mt){var En=Zh(lt);x.paletteRgba.set(En),x.paletteHue.set(Mt)},Ie=function(lt,Mt,En,Lt){le(Mt,En),Ke(Lt,function(An){An(lt,Mt,En)})},xt=function(){var lt=[te];return function(Mt,En){var Lt=En.event.value,An=x.paletteHue.get(),Gt=Jh(An,Lt.x,100-Lt.y),Dt=dx(Gt);Ie(Mt,Dt,An,lt)}},yt=function(){var lt=[q,te];return function(Mt,En){var Lt=p(En.event.value.y),An=x.paletteRgba.get(),Gt=vx(An),Dt=Jh(Lt,Gt.saturation,Gt.value),gn=dx(Dt);Ie(Mt,gn,Lt,lt)}},Fe=function(){var lt=[q,de,Pe];return function(Mt,En){var Lt=En.event.hex,An=wF(Lt);Ie(Mt,Lt,An.hue,lt)}};return{uid:c.uid,dom:c.dom,components:[P.asSpec(),O.asSpec(),V.asSpec()],behaviours:Cn([$r("colour-picker-events",[qt(P0,Fe()),qt(eS,xt()),qt(GO,yt())]),ta.config({find:function(lt){return V.getOpt(lt)}}),sr.config({mode:"acyclic"})])}},u=Bs({name:"ColourPicker",configFields:[jt("dom"),$e("onValidHex",ae),$e("onInvalidHex",ae)],factory:o});return u},d6=function(){return ta.config({find:A.some})},m6=function(t){return ta.config({find:t.getOpt})},QO=function(t){return ta.config({find:function(r){return h(r.element,t).bind(function(o){return r.getSystem().getByDom(o).toOptional()})}})},ac={self:d6,memento:m6,childAt:QO},g6={"colorcustom.rgb.red.label":"R","colorcustom.rgb.red.description":"Red component","colorcustom.rgb.green.label":"G","colorcustom.rgb.green.description":"Green component","colorcustom.rgb.blue.label":"B","colorcustom.rgb.blue.description":"Blue component","colorcustom.rgb.hex.label":"#","colorcustom.rgb.hex.description":"Hex color code","colorcustom.rgb.range":"Range 0 to 255","colorcustom.sb.saturation":"Saturation","colorcustom.sb.brightness":"Brightness","colorcustom.sb.picker":"Saturation and Brightness Picker","colorcustom.sb.palette":"Saturation and Brightness Palette","colorcustom.sb.instructions":"Use arrow keys to select saturation and brightness, on x and y axes","colorcustom.hue.hue":"Hue","colorcustom.hue.slider":"Hue Slider","colorcustom.hue.palette":"Hue Palette","colorcustom.hue.instructions":"Use arrow keys to select a hue","aria.color.picker":"Color Picker","aria.input.invalid":"Invalid input"},eD=function(t){return g6[t]},tD=function(t){return eD(t)},nD=function(t){var r=function(d){return"tox-"+d},o=v6(tD,r),u=function(d){br(d,Mc,{name:"hex-valid",value:!0})},c=function(d){br(d,Mc,{name:"hex-valid",value:!1})},f=ya(o.sketch({dom:{tag:"div",classes:[r("color-picker-container")],attributes:{role:"presentation"}},onValidHex:u,onInvalidHex:c}));return{dom:{tag:"div"},components:[f.asSpec()],behaviours:Cn([_n.config({store:{mode:"manual",getValue:function(d){var p=f.get(d),b=ta.getCurrent(p),x=b.bind(function(O){var P=_n.getValue(O);return P.hex});return x.map(function(O){return"#"+O}).getOr("")},setValue:function(d,p){var b=/^#([a-fA-F0-9]{3}(?:[a-fA-F0-9]{3})?)/,x=b.exec(p),O=f.get(d),P=ta.getCurrent(O);P.fold(function(){},function(V){_n.setValue(V,{hex:A.from(x[1]).getOr("")}),pg.getField(V,"hex").each(function(q){da(q,Qd())})})}}}),ac.self()])}},h6=tinymce.util.Tools.resolve("tinymce.Resource"),rD=function(t){return Wt(t,"init")},aD=function(t){var r=Bo(),o=ya({dom:{tag:t.tag}}),u=Bo();return{dom:{tag:"div",classes:["tox-custom-editor"]},behaviours:Cn([$r("custom-editor-events",[Hr(function(c){o.getOpt(c).each(function(f){(rD(t)?t.init(f.element.dom):h6.load(t.scriptId,t.scriptUrl).then(function(d){return d(f.element.dom,t.settings)})).then(function(d){u.on(function(p){d.setValue(p)}),u.clear(),r.set(d)})})})]),_n.config({store:{mode:"manual",getValue:function(){return r.get().fold(function(){return u.get().getOr("")},function(c){return c.getValue()})},setValue:function(c,f){r.get().fold(function(){u.set(f)},function(d){return d.setValue(f)})}}}),ac.self()]),components:[o.asSpec()]}},cv=tinymce.util.Tools.resolve("tinymce.util.Tools"),p6=dr([$e("preprocess",_e),$e("postprocess",_e)]),b6=function(t,r){var o=Wa("RepresentingConfigs.memento processors",p6,r);return _n.config({store:{mode:"manual",getValue:function(u){var c=t.get(u),f=_n.getValue(c);return o.postprocess(f)},setValue:function(u,c){var f=o.preprocess(c),d=t.get(u);_n.setValue(d,f)}}})},oD=function(t,r,o){return _n.config(Ot({store:{mode:"manual",getValue:r,setValue:o}},t.map(function(u){return{store:{initialValue:u}}}).getOr({})))},aS=function(t,r,o){return oD(t,function(u){return r(u.element)},function(u,c){return o(u.element,c)})},y6=function(t){return aS(t,If,cm)},iD=function(t){return aS(t,n1,Tf)},w6=function(t){return _n.config({store:{mode:"memory",initialValue:t}})},vd={memento:b6,withElement:aS,withComp:oD,domValue:y6,domHtml:iD,memory:w6},C6="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp",aa=function(t,r){var o=cv.explode(r.getSetting("images_file_types",C6,"string")),u=function(c){return sn(o,function(f){return Gn(c.name.toLowerCase(),"."+f.toLowerCase())})};return We(Bt(t),u)},bg=function(t,r){var o=function(P,V){V.stop()},u=function(P){return function(V,q){Ke(P,function(te){te(V,q)})}},c=function(P,V){if(!gr.isDisabled(P)){var q=V.event.raw;d(P,q.dataTransfer.files)}},f=function(P,V){var q=V.event.raw.target;d(P,q.files)},d=function(P,V){_n.setValue(P,aa(V,r)),br(P,ss,{name:t.name})},p=ya({dom:{tag:"input",attributes:{type:"file",accept:"image/*"},styles:{display:"none"}},behaviours:Cn([$r("input-file-events",[Mv(Zg()),Mv(nm())])])}),b=function(P){return{uid:P.uid,dom:{tag:"div",classes:["tox-dropzone-container"]},behaviours:Cn([vd.memory([]),ac.self(),gr.config({}),na.config({toggleClass:"dragenter",toggleOnExecute:!1}),$r("dropzone-events",[qt("dragenter",u([o,na.toggle])),qt("dragleave",u([o,na.toggle])),qt("dragover",o),qt("drop",u([o,c])),qt(em(),f)])]),components:[{dom:{tag:"div",classes:["tox-dropzone"],styles:{}},components:[{dom:{tag:"p",innerHtml:r.translate("Drop an image here")}},Ou.sketch({dom:{tag:"button",innerHtml:r.translate("Browse for an image"),styles:{position:"relative"},classes:["tox-button","tox-button--secondary"]},components:[p.asSpec()],action:function(V){var q=p.get(V);q.element.dom.click()},buttonBehaviours:Cn([Do.config({}),tl.button(r.isDisabled),Yo()])})]}]}},x=t.label.map(function(P){return sf(P,r)}),O=ca.parts.field({factory:{sketch:b}});return tp(x,O,["tox-form__group--stretched"],[])},uD=function(t,r){return{dom:{tag:"div",classes:["tox-form__grid","tox-form__grid--"+t.columns+"col"]},components:St(t.items,r.interpreter)}},R0=Yn("alloy-fake-before-tabstop"),N0=Yn("alloy-fake-after-tabstop"),sD=function(t){return{dom:{tag:"div",styles:{width:"1px",height:"1px",outline:"none"},attributes:{tabindex:"0"},classes:t},behaviours:Cn([_r.config({ignore:!0}),Do.config({})])}},lD=function(t){return{dom:{tag:"div",classes:["tox-navobj"]},components:[sD([R0]),t,sD([N0])],behaviours:Cn([ac.childAt(1)])}},cD=function(t,r){br(t,Xp(),{raw:{which:9,shiftKey:r}})},fD=function(t,r){var o=r.element;Cu(o,R0)?cD(t,!0):Cu(o,N0)&&cD(t,!1)},fp=function(t){return ep(t,["."+R0,"."+N0].join(","),je)},x6=!(an().browser.isIE()||an().browser.isEdge()),S6=function(t){var r=Cr("");return{getValue:function(o){return r.get()},setValue:function(o,u){if(t)qr(o.element,"srcdoc",u);else{qr(o.element,"src","javascript:''");var c=o.element.dom.contentWindow.document;c.open(),c.write(u),c.close()}r.set(u)}}},k6=function(t,r){var o=x6&&t.sandboxed,u=G(G({},t.label.map(function(b){return{title:b}}).getOr({})),o?{sandbox:"allow-scripts allow-same-origin"}:{}),c=S6(o),f=t.label.map(function(b){return sf(b,r)}),d=function(b){return lD({uid:b.uid,dom:{tag:"iframe",attributes:u},behaviours:Cn([Do.config({}),_r.config({}),vd.withComp(A.none(),c.getValue,c.setValue)])})},p=ca.parts.field({factory:{sketch:d}});return tp(f,p,["tox-form__group--stretched"],[])},yg=function(t,r){return T6(document.createElement("canvas"),t,r)},E6=function(t){var r=yg(t.width,t.height),o=df(r);return o.drawImage(t,0,0),r},df=function(t){return t.getContext("2d")},T6=function(t,r,o){return t.width=r,t.height=o,t},oS=function(t){return t.naturalWidth||t.width},iS=function(t){return t.naturalHeight||t.height},A6=function(t){return new hl(function(r,o){var u=URL.createObjectURL(t),c=new Image,f=function(){c.removeEventListener("load",d),c.removeEventListener("error",p)},d=function(){f(),r(c)},p=function(){f(),o("Unable to load data of type "+t.type+": "+u)};c.addEventListener("load",d),c.addEventListener("error",p),c.src=u,c.complete&&setTimeout(d,0)})},vD=function(t){var r=t.split(","),o=/data:([^;]+)/.exec(r[0]);if(!o)return A.none();for(var u=o[1],c=r[1],f=1024,d=atob(c),p=d.length,b=Math.ceil(p/f),x=new Array(b),O=0;O<b;++O){for(var P=O*f,V=Math.min(P+f,p),q=new Array(V-P),te=P,de=0;te<V;++de,++te)q[de]=d[te].charCodeAt(0);x[O]=new Uint8Array(q)}return A.some(new Blob(x,{type:u}))},O6=function(t){return new hl(function(r,o){vD(t).fold(function(){o("uri is not base64: "+t)},r)})},dD=function(t,r,o){return r=r||"image/png",ve(HTMLCanvasElement.prototype.toBlob)?new hl(function(u,c){t.toBlob(function(f){f?u(f):c()},r,o)}):O6(t.toDataURL(r,o))},D6=function(t,r,o){return r=r||"image/png",t.toDataURL(r,o)},_6=function(t){return A6(t).then(function(r){B6(r);var o=yg(oS(r),iS(r)),u=df(o);return u.drawImage(r,0,0),o})},M6=function(t){return new hl(function(r){var o=new FileReader;o.onloadend=function(){r(o.result)},o.readAsDataURL(t)})},B6=function(t){URL.revokeObjectURL(t.src)},uS=function(t,r,o){var u=r.type,c=L(u),f=function(){return hl.resolve(r)},d=L(o),p=function(){return o.split(",")[1]},b=function(V,q){return t.then(function(te){return dD(te,V,q)})},x=function(V,q){return t.then(function(te){return D6(te,V,q)})},O=function(V,q){return x(V,q).then(function(te){return te.split(",")[1]})},P=function(){return t.then(E6)};return{getType:c,toBlob:f,toDataURL:d,toBase64:p,toAdjustedBlob:b,toAdjustedDataURL:x,toAdjustedBase64:O,toCanvas:P}},P6=function(t){return M6(t).then(function(r){return uS(_6(t),t,r)})},fv=function(t,r){return dD(t,r).then(function(o){return uS(hl.resolve(t),o,t.toDataURL())})},R6=function(t){return P6(t)},wg=function(t,r,o){var u=typeof t=="string"?parseFloat(t):t;return u>o?u=o:u<r&&(u=r),u},sS=function(){return[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1]},F0=[0,.01,.02,.04,.05,.06,.07,.08,.1,.11,.12,.14,.15,.16,.17,.18,.2,.21,.22,.24,.25,.27,.28,.3,.32,.34,.36,.38,.4,.42,.44,.46,.48,.5,.53,.56,.59,.62,.65,.68,.71,.74,.77,.8,.83,.86,.89,.92,.95,.98,1,1.06,1.12,1.18,1.24,1.3,1.36,1.42,1.48,1.54,1.6,1.66,1.72,1.78,1.84,1.9,1.96,2,2.12,2.25,2.37,2.5,2.62,2.75,2.87,3,3.2,3.4,3.6,3.8,4,4.3,4.7,4.9,5,5.5,6,6.5,6.8,7,7.3,7.5,7.8,8,8.4,8.7,9,9.4,9.6,9.8,10],lS=function(t,r){for(var o=[],u=new Array(25),c,f=0;f<5;f++){for(var d=0;d<5;d++)o[d]=r[d+f*5];for(var d=0;d<5;d++){c=0;for(var p=0;p<5;p++)c+=t[d+p*5]*o[p];u[d+f*5]=c}}return u},N6=function(t,r){var o;return r=wg(r,-1,1),r*=100,r<0?o=127+r/100*127:(o=r%1,o===0?o=F0[r]:o=F0[Math.floor(r)]*(1-o)+F0[Math.floor(r)+1]*o,o=o*127+127),lS(t,[o/127,0,0,0,.5*(127-o),0,o/127,0,0,.5*(127-o),0,0,o/127,0,.5*(127-o),0,0,0,1,0,0,0,0,0,1])},F6=function(t,r){return r=wg(255*r,-255,255),lS(t,[1,0,0,0,r,0,1,0,0,r,0,0,1,0,r,0,0,0,1,0,0,0,0,0,1])},I6=function(t,r,o,u){return r=wg(r,0,2),o=wg(o,0,2),u=wg(u,0,2),lS(t,[r,0,0,0,0,0,o,0,0,0,0,0,u,0,0,0,0,0,1,0,0,0,0,0,1])},cS=function(t,r){return t.toCanvas().then(function(o){return z6(o,t.getType(),r)})},z6=function(t,r,o){var u=df(t),c=function(d,p){for(var b,x,O,P,V=d.data,q=p[0],te=p[1],de=p[2],Pe=p[3],le=p[4],Ie=p[5],xt=p[6],yt=p[7],Fe=p[8],lt=p[9],Mt=p[10],En=p[11],Lt=p[12],An=p[13],Gt=p[14],Dt=p[15],gn=p[16],Xn=p[17],It=p[18],Un=p[19],Qn=0;Qn<V.length;Qn+=4)b=V[Qn],x=V[Qn+1],O=V[Qn+2],P=V[Qn+3],V[Qn]=b*q+x*te+O*de+P*Pe+le,V[Qn+1]=b*Ie+x*xt+O*yt+P*Fe+lt,V[Qn+2]=b*Mt+x*En+O*Lt+P*An+Gt,V[Qn+3]=b*Dt+x*gn+O*Xn+P*It+Un;return d},f=c(u.getImageData(0,0,t.width,t.height),o);return u.putImageData(f,0,0),fv(t,r)},vp=function(t,r){return t.toCanvas().then(function(o){return $6(o,t.getType(),r)})},$6=function(t,r,o){var u=df(t),c=function(p,b,x){for(var O=function(gn,Xn,It){return gn>It?gn=It:gn<Xn&&(gn=Xn),gn},P=Math.round(Math.sqrt(x.length)),V=Math.floor(P/2),q=p.data,te=b.data,de=p.width,Pe=p.height,le=0;le<Pe;le++)for(var Ie=0;Ie<de;Ie++){for(var xt=0,yt=0,Fe=0,lt=0;lt<P;lt++)for(var Mt=0;Mt<P;Mt++){var En=O(Ie+Mt-V,0,de-1),Lt=O(le+lt-V,0,Pe-1),An=(Lt*de+En)*4,Gt=x[lt*P+Mt];xt+=q[An]*Gt,yt+=q[An+1]*Gt,Fe+=q[An+2]*Gt}var Dt=(le*de+Ie)*4;te[Dt]=O(xt,0,255),te[Dt+1]=O(yt,0,255),te[Dt+2]=O(Fe,0,255)}return b},f=u.getImageData(0,0,t.width,t.height),d=u.getImageData(0,0,t.width,t.height);return d=c(f,d,o),u.putImageData(d,0,0),fv(t,r)},fS=function(t){var r=function(o,u,c){for(var f=df(o),d=new Array(256),p=function(O,P){for(var V=O.data,q=0;q<V.length;q+=4)V[q]=P[V[q]],V[q+1]=P[V[q+1]],V[q+2]=P[V[q+2]];return O},b=0;b<d.length;b++)d[b]=t(b,c);var x=p(f.getImageData(0,0,o.width,o.height),d);return f.putImageData(x,0,0),fv(o,u)};return function(o,u){return o.toCanvas().then(function(c){return r(c,o.getType(),u)})}},mD=function(t){return function(r,o){return cS(r,t(sS(),o))}},L6=function(t){return function(r){return cS(r,t)}},H6=function(t){return function(r){return vp(r,t)}},V6=L6([-1,0,0,0,255,0,-1,0,0,255,0,0,-1,0,255,0,0,0,1,0,0,0,0,0,1]),gD=mD(F6),hD=mD(N6),U6=function(t,r,o,u){return cS(t,I6(sS(),r,o,u))},I0=H6([0,-1,0,-1,5,-1,0,-1,0]),z0=fS(function(t,r){return Math.pow(t/255,1-r)*255}),pD=function(t,r,o){var u=oS(t),c=iS(t),f=r/u,d=o/c,p=!1;(f<.5||f>2)&&(f=f<.5?.5:2,p=!0),(d<.5||d>2)&&(d=d<.5?.5:2,p=!0);var b=W6(t,f,d);return p?b.then(function(x){return pD(x,r,o)}):b},W6=function(t,r,o){return new hl(function(u){var c=oS(t),f=iS(t),d=Math.floor(c*r),p=Math.floor(f*o),b=yg(d,p),x=df(b);x.drawImage(t,0,0,c,f,0,0,d,p),u(b)})},bD=function(t,r){r===void 0&&(r=2);var o=Math.pow(10,r),u=Math.round(t*o);return Math.ceil(u/o)},j6=function(t,r){return t.toCanvas().then(function(o){return vS(o,t.getType(),r)})},vS=function(t,r,o){var u=o<0?360+o:o,c=u*Math.PI/180,f=t.width,d=t.height,p=Math.sin(c),b=Math.cos(c),x=bD(Math.abs(f*b)+Math.abs(d*p)),O=bD(Math.abs(f*p)+Math.abs(d*b)),P=yg(x,O),V=df(P);return V.translate(x/2,O/2),V.rotate(c),V.drawImage(t,-f/2,-d/2),fv(P,r)},dS=function(t,r){return t.toCanvas().then(function(o){return yD(o,t.getType(),r)})},yD=function(t,r,o){var u=yg(t.width,t.height),c=df(u);return o==="v"?(c.scale(1,-1),c.drawImage(t,0,-u.height)):(c.scale(-1,1),c.drawImage(t,-u.width,0)),fv(u,r)},q6=function(t,r,o,u,c){return t.toCanvas().then(function(f){return mS(f,t.getType(),r,o,u,c)})},mS=function(t,r,o,u,c,f){var d=yg(c,f),p=df(d);return p.drawImage(t,-o,-u),fv(d,r)},G6=function(t,r,o){return t.toCanvas().then(function(u){return pD(u,r,o).then(function(c){return fv(c,t.getType())})})},K6=function(t){return V6(t)},wD=function(t){return I0(t)},X6=function(t,r){return z0(t,r)},dp=function(t,r,o,u){return U6(t,r,o,u)},Y6=function(t,r){return gD(t,r)},Z6=function(t,r){return hD(t,r)},CD=function(t,r){return dS(t,r)},J6=function(t,r,o,u,c){return q6(t,r,o,u,c)},xD=function(t,r,o){return G6(t,r,o)},SD=function(t,r){return j6(t,r)},kD=function(t,r,o){return gl(t,{tag:"span",classes:["tox-icon","tox-tbtn__icon-wrap"],behaviours:o},r)},$0=function(t,r){return kD(t,r,[])},ED=function(t,r){return kD(t,r,[Dr.config({})])},gS=function(t,r,o){return{dom:{tag:"span",innerHtml:o.translate(t),classes:[r+"__select-label"]},behaviours:Cn([Dr.config({})])}},L0,TD=Yn("toolbar.button.execute"),Q6=function(t){return Zs(function(r,o){qb(t,r)(function(u){br(r,TD,{buttonApi:u}),t.onAction(u)})})},AD=(L0={},L0[Es()]=["disabling","alloy.base.behaviour","toggling","toolbar-button-events"],L0),dd=Yn("update-menu-text"),hS=Yn("update-menu-icon"),pS=function(t,r,o){var u=Cr(ae),c=t.text.map(function(P){return ya(gS(P,r,o.providers))}),f=t.icon.map(function(P){return ya(ED(P,o.providers.icons))}),d=function(P,V){var q=_n.getValue(P);return _r.focus(q),br(q,"keydown",{raw:V.event.raw}),pl.close(q),A.some(!0)},p=t.role.fold(function(){return{}},function(P){return{role:P}}),b=t.tooltip.fold(function(){return{}},function(P){var V=o.providers.translate(P);return{title:V,"aria-label":V}}),x=gl("chevron-down",{tag:"div",classes:[r+"__select-chevron"]},o.providers.icons),O=ya(pl.sketch(G(G(G({},t.uid?{uid:t.uid}:{}),p),{dom:{tag:"button",classes:[r,r+"--select"].concat(St(t.classes,function(P){return r+"--"+P})),attributes:G({},b)},components:eg([f.map(function(P){return P.asSpec()}),c.map(function(P){return P.asSpec()}),A.some(x)]),matchWidth:!0,useMinWidth:!0,dropdownBehaviours:Cn(ct(ct([],t.dropdownBehaviours,!0),[tl.button(function(){return t.disabled||o.providers.isDisabled()}),Yo(),fg.config({}),Dr.config({}),$r("dropdown-events",[Qm(t,u),Kh(t,u)]),$r("menubutton-update-display-text",[qt(dd,function(P,V){c.bind(function(q){return q.getOpt(P)}).each(function(q){Dr.set(q,[Xi(o.providers.translate(V.event.text))])})}),qt(hS,function(P,V){f.bind(function(q){return q.getOpt(P)}).each(function(q){Dr.set(q,[ED(V.event.icon,o.providers.icons)])})})])],!1)),eventOrder:Ot(AD,{mousedown:["focusing","alloy.base.behaviour","item-type-events","normal-dropdown-events"]}),sandboxBehaviours:Cn([sr.config({mode:"special",onLeft:d,onRight:d})]),lazySink:o.getSink,toggleClass:r+"--active",parts:{menu:Ib(!1,t.columns,t.presets)},fetch:function(P){return Hi.nu(Be(t.fetch,P))}})));return O.asSpec()},ez=function(t){return _(t)},Wu=function(t){return t.type==="separator"},tz=function(t){return Wt(t,"getSubmenuItems")},bS={type:"separator"},OD=function(t,r){var o=zt(t,function(u,c){return ez(c)?c===""?u:c==="|"?u.length>0&&!Wu(u[u.length-1])?u.concat([bS]):u:Wt(r,c.toLowerCase())?u.concat([r[c.toLowerCase()]]):u:u.concat([c])},[]);return o.length>0&&Wu(o[o.length-1])&&o.pop(),o},DD=function(t,r){var o=t.getSubmenuItems(),u=mp(o,r),c=Ot(u.menus,gc(t.value,u.items)),f=Ot(u.expansions,gc(t.value,t.value));return{item:t,menus:c,expansions:f}},H0=function(t,r){return tz(t)?DD(t,r):{item:t,menus:{},expansions:{}}},nz=function(t){if(Wu(t))return t;var r=dt(t,"value").getOrThunk(function(){return Yn("generated-menu-item")});return Ot({value:r},t)},mp=function(t,r){var o=OD(_(t)?t.split(" "):t,r);return ft(o,function(u,c){var f=nz(c),d=H0(f,r);return{menus:Ot(u.menus,d.menus),items:[d.item].concat(u.items),expansions:Ot(u.expansions,d.expansions)}},{menus:{},expansions:{},items:[]})},Cg=function(t,r,o,u){var c=Yn("primary-menu"),f=mp(t,o.shared.providers.menuItems());if(f.items.length===0)return A.none();var d=_4(c,f.items,r,o,u),p=Jt(f.menus,function(x,O){return _4(O,x,r,o,!1)}),b=Ot(p,gc(c,d));return A.from(nf.tieredData(c,b,f.expansions))},gp=function(t){return{isDisabled:function(){return gr.isDisabled(t)},setDisabled:function(r){return gr.set(t,r)},setActive:function(r){var o=t.element;r?(ri(o,"tox-tbtn--enabled"),qr(o,"aria-pressed",!0)):(Go(o,"tox-tbtn--enabled"),Ai(o,"aria-pressed"))},isActive:function(){return Cu(t.element,"tox-tbtn--enabled")}}},V0=function(t,r,o,u){return pS({text:t.text,icon:t.icon,tooltip:t.tooltip,role:u,fetch:function(c,f){t.fetch(function(d){f(Cg(d,Jl.CLOSE_ON_EXECUTE,o,!1))})},onSetup:t.onSetup,getApi:gp,columns:1,presets:"normal",classes:[],dropdownBehaviours:[Do.config({})]},r,o.shared)},nl=function(t,r,o){var u=function(f){return function(d){var p=!d.isActive();d.setActive(p),f.storage.set(p),o.shared.getSink().each(function(b){r().getOpt(b).each(function(x){zl(x.element),br(x,Mc,{name:f.name,value:f.storage.get()})})})}},c=function(f){return function(d){d.setActive(f.storage.get())}};return function(f){f(St(t,function(d){var p=d.text.fold(function(){return{}},function(b){return{text:b}});return G(G({type:d.type,active:!1},p),{onAction:u(d),onSetup:c(d)})}))}},_D=function(t,r,o,u,c,f){o===void 0&&(o=[]);var d=r.fold(function(){return{}},function(x){return{action:x}}),p=G({buttonBehaviours:Cn([tl.button(function(){return t.disabled||f.isDisabled()}),Yo(),Do.config({}),$r("button press",[Bk("click"),Bk("mousedown")])].concat(o)),eventOrder:{click:["button press","alloy.base.behaviour"],mousedown:["button press","alloy.base.behaviour"]}},d),b=Ot(p,{dom:u});return Ot(b,{components:c})},yS=function(t,r,o,u){u===void 0&&(u=[]);var c=t.tooltip.map(function(b){return{"aria-label":o.translate(b),title:o.translate(b)}}).getOr({}),f={tag:"button",classes:["tox-tbtn"],attributes:c},d=t.icon.map(function(b){return $0(b,o.icons)}),p=eg([d]);return _D(t,r,u,f,p,o)},MD=function(t,r,o,u){u===void 0&&(u=[]);var c=yS(t,A.some(r),o,u);return Ou.sketch(c)},BD=function(t,r,o,u,c){u===void 0&&(u=[]),c===void 0&&(c=[]);var f=o.translate(t.text),d=t.icon?t.icon.map(function(P){return $0(P,o.icons)}):A.none(),p=d.isSome()?eg([d]):[],b=d.isSome()?{}:{innerHtml:f},x=ct(ct(ct(ct([],!t.primary&&!t.borderless?["tox-button","tox-button--secondary"]:["tox-button"],!0),d.isSome()?["tox-button--icon"]:[],!0),t.borderless?["tox-button--naked"]:[],!0),c,!0),O=G(G({tag:"button",classes:x},b),{attributes:{title:f}});return _D(t,r,u,O,p,o)},wS=function(t,r,o,u,c){u===void 0&&(u=[]),c===void 0&&(c=[]);var f=BD(t,A.some(r),o,u,c);return Ou.sketch(f)},PD=function(t,r){return function(o){r==="custom"?br(o,Mc,{name:t,value:{}}):r==="submit"?da(o,rp):r==="cancel"&&da(o,cd)}},rz=function(t,r){return r==="menu"},az=function(t,r){return r==="custom"||r==="cancel"||r==="submit"},U0=function(t,r,o){if(rz(t,r)){var u=function(){return d},c=t,f=G(G({},t),{onSetup:function(x){return x.setDisabled(t.disabled),ae},fetch:nl(c.items,u,o)}),d=ya(V0(f,"tox-tbtn",o,A.none()));return d.asSpec()}else if(az(t,r)){var p=PD(t.name,r),b=G(G({},t),{borderless:!1});return wS(b,p,o.shared.providers,[])}},oz=function(t,r){var o=PD(t.name,"custom");return uI(A.none(),ca.parts.field(G({factory:Ou},BD(t,A.some(o),r,[vd.memory(""),ac.self()]))))},iz=L([$e("field1Name","field1"),$e("field2Name","field2"),Su("onLockedChange"),Iv(["lockClass"]),$e("locked",!1),Qs.field("coupledFieldBehaviours",[ta,_n])]),RD=function(t,r,o){return La(t,r,o).bind(ta.getCurrent)},CS=function(t,r){return Qi({factory:ca,name:t,overrides:function(o){return{fieldBehaviours:Cn([$r("coupled-input-behaviour",[qt(Qd(),function(u){RD(u,o,r).each(function(c){La(u,o,"lock").each(function(f){na.isOn(f)&&o.onLockedChange(u,c,f)})})})])])}}})},ND=L([CS("field1","field2"),CS("field2","field1"),Qi({factory:Ou,schema:[jt("dom")],name:"lock",overrides:function(t){return{buttonBehaviours:Cn([na.config({selected:t.locked,toggleClass:t.markers.lockClass,aria:{mode:"pressed"}})])}}})]),uz=function(t,r,o,u){return{uid:t.uid,dom:t.dom,components:r,behaviours:Qs.augment(t.coupledFieldBehaviours,[ta.config({find:A.some}),_n.config({store:{mode:"manual",getValue:function(c){var f,d=Z1(c,t,["field1","field2"]);return f={},f[t.field1Name]=_n.getValue(d.field1()),f[t.field2Name]=_n.getValue(d.field2()),f},setValue:function(c,f){var d=Z1(c,t,["field1","field2"]);Bn(f,t.field1Name)&&_n.setValue(d.field1(),f[t.field1Name]),Bn(f,t.field2Name)&&_n.setValue(d.field2(),f[t.field2Name])}}})]),apis:{getField1:function(c){return La(c,t,"field1")},getField2:function(c){return La(c,t,"field2")},getLock:function(c){return La(c,t,"lock")}}}},ls=Au({name:"FormCoupledInputs",configFields:iz(),partFields:ND(),factory:uz,apis:{getField1:function(t,r){return t.getField1(r)},getField2:function(t,r){return t.getField2(r)},getLock:function(t,r){return t.getLock(r)}}}),sz=function(t){var r={"":0,px:0,pt:1,mm:1,pc:2,ex:2,em:2,ch:2,rem:2,cm:3,in:4,"%":4},o=function(c){return c in r?r[c]:1},u=t.value.toFixed(o(t.unit));return u.indexOf(".")!==-1&&(u=u.replace(/\.?0*$/,"")),u+t.unit},xS=function(t){var r=/^\s*(\d+(?:\.\d+)?)\s*(|cm|mm|in|px|pt|pc|em|ex|ch|rem|vw|vh|vmin|vmax|%)\s*$/,o=r.exec(t);if(o!==null){var u=parseFloat(o[1]),c=o[2];return jr.value({value:u,unit:c})}else return jr.error(t)},FD=function(t,r){var o={"":96,px:96,pt:72,cm:2.54,pc:12,mm:25.4,in:1},u=function(c){return Wt(o,c)};return t.unit===r?A.some(t.value):u(t.unit)&&u(r)?o[t.unit]===o[r]?A.some(t.value):A.some(t.value/o[t.unit]*o[r]):A.none()},SS=function(t){return A.none()},lz=function(t,r){return function(o){return FD(o,r).map(function(u){return{value:u*t,unit:r}})}},cz=function(t,r){var o=xS(t).toOptional(),u=xS(r).toOptional();return ha(o,u,function(c,f){return FD(c,f.unit).map(function(d){return f.value/d}).map(function(d){return lz(d,f.unit)}).getOr(SS)}).getOr(SS)},ID=function(t,r){var o=SS,u=Yn("ratio-event"),c=function(P){return gl(P,{tag:"span",classes:["tox-icon","tox-lock-icon__"+P]},r.icons)},f=ls.parts.lock({dom:{tag:"button",classes:["tox-lock","tox-button","tox-button--naked","tox-button--icon"],attributes:{title:r.translate(t.label.getOr("Constrain proportions"))}},components:[c("lock"),c("unlock")],buttonBehaviours:Cn([gr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Yo(),Do.config({})])}),d=function(P){return{dom:{tag:"div",classes:["tox-form__group"]},components:P}},p=function(P){return ca.parts.field({factory:ug,inputClasses:["tox-textfield"],inputBehaviours:Cn([gr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Yo(),Do.config({}),$r("size-input-events",[qt(kf(),function(V,q){br(V,u,{isField1:P})}),qt(em(),function(V,q){br(V,ss,{name:t.name})})])]),selectOnFocus:!1})},b=function(P){return{dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(P)}}},x=ls.parts.field1(d([ca.parts.label(b("Width")),p(!0)])),O=ls.parts.field2(d([ca.parts.label(b("Height")),p(!1)]));return ls.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:[{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:[x,O,d([b("&nbsp;"),f])]}],field1Name:"width",field2Name:"height",locked:!0,markers:{lockClass:"tox-locked"},onLockedChange:function(P,V,q){xS(_n.getValue(P)).each(function(te){o(te).each(function(de){_n.setValue(V,sz(de))})})},coupledFieldBehaviours:Cn([gr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(P){ls.getField1(P).bind(ca.getField).each(gr.disable),ls.getField2(P).bind(ca.getField).each(gr.disable),ls.getLock(P).each(gr.disable)},onEnabled:function(P){ls.getField1(P).bind(ca.getField).each(gr.enable),ls.getField2(P).bind(ca.getField).each(gr.enable),ls.getLock(P).each(gr.enable)}}),Yo(),$r("size-input-events2",[qt(u,function(P,V){var q=V.event.isField1,te=q?ls.getField1(P):ls.getField2(P),de=q?ls.getField2(P):ls.getField1(P),Pe=te.map(_n.getValue).getOr(""),le=de.map(_n.getValue).getOr("");o=cz(Pe,le)})])])})},fz=L(Yn("undo")),vz=L(Yn("redo")),dz=L(Yn("zoom")),mz=L(Yn("back")),gz=L(Yn("apply")),hz=L(Yn("swap")),pz=L(Yn("transform")),zD=L(Yn("temp-transform")),bz=L(Yn("transform-apply")),tu={undo:fz,redo:vz,zoom:dz,back:mz,apply:gz,swap:hz,transform:pz,tempTransform:zD,transformApply:bz},$D=L("save-state"),yz=L("disable"),wz=L("enable"),ju={formActionEvent:Mc,saveState:$D,disable:yz,enable:wz},Cz=function(t,r){var o=function(In,Lr,ka,co){return ya(wS({name:In,text:In,disabled:ka,primary:co,icon:A.none(),borderless:!1},Lr,r))},u=function(In,Lr,ka,co){return ya(MD({name:In,icon:A.some(In),tooltip:A.some(Lr),disabled:co,primary:!1,borderless:!1},ka,r))},c=function(In,Lr){In.map(function(ka){var co=ka.get(Lr);co.hasConfigured(gr)&&gr.disable(co)})},f=function(In,Lr){In.map(function(ka){var co=ka.get(Lr);co.hasConfigured(gr)&&gr.enable(co)})},d={tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools-edit-panel"]},p=ae,b=function(In,Lr,ka){br(In,Lr,ka)},x=function(In){return da(In,ju.disable())},O=function(In){return da(In,ju.enable())},P=function(In,Lr){x(In),b(In,tu.transform(),{transform:Lr}),O(In)},V=function(In,Lr){x(In),b(In,tu.tempTransform(),{transform:Lr}),O(In)},q=function(In){return function(){cc.getOpt(In).each(function(Lr){Dr.set(Lr,[wv])})}},te=function(In,Lr){x(In),b(In,tu.transformApply(),{transform:Lr,swap:q(In)}),O(In)},de=function(){return o("Back",function(In){return b(In,tu.back(),{swap:q(In)})},!1,!1)},Pe=function(){return ya({dom:{tag:"div",classes:["tox-spacer"]},behaviours:Cn([gr.config({})])})},le=function(){return o("Apply",function(In){return b(In,tu.apply(),{swap:q(In)})},!0,!0)},Ie=function(){return function(In){var Lr=t.getRect();return J6(In,Lr.x,Lr.y,Lr.w,Lr.h)}},xt=[de(),Pe(),o("Apply",function(In){var Lr=Ie();te(In,Lr),t.hideCrop()},!1,!0)],yt=eu.sketch({dom:d,components:xt.map(function(In){return In.asSpec()}),containerBehaviours:Cn([$r("image-tools-crop-buttons-events",[qt(ju.disable(),function(In,Lr){c(xt,In)}),qt(ju.enable(),function(In,Lr){f(xt,In)})])])}),Fe=ya(ID({name:"size",label:A.none(),constrain:!0,disabled:!1},r)),lt=function(In,Lr){return function(ka){return xD(ka,In,Lr)}},Mt=[de(),Pe(),Fe,Pe(),o("Apply",function(In){Fe.getOpt(In).each(function(Lr){var ka=_n.getValue(Lr),co=parseInt(ka.width,10),Ru=parseInt(ka.height,10),mu=lt(co,Ru);te(In,mu)})},!1,!0)],En=eu.sketch({dom:d,components:Mt.map(function(In){return In.asSpec()}),containerBehaviours:Cn([$r("image-tools-resize-buttons-events",[qt(ju.disable(),function(In,Lr){c(Mt,In)}),qt(ju.enable(),function(In,Lr){f(Mt,In)})])])}),Lt=function(In,Lr){return function(ka){return In(ka,Lr)}},An=Lt(CD,"h"),Gt=Lt(CD,"v"),Dt=Lt(SD,-90),gn=Lt(SD,90),Xn=function(In,Lr){V(In,Lr)},It=[de(),Pe(),u("flip-horizontally","Flip horizontally",function(In){Xn(In,An)},!1),u("flip-vertically","Flip vertically",function(In){Xn(In,Gt)},!1),u("rotate-left","Rotate counterclockwise",function(In){Xn(In,Dt)},!1),u("rotate-right","Rotate clockwise",function(In){Xn(In,gn)},!1),Pe(),le()],Un=eu.sketch({dom:d,components:It.map(function(In){return In.asSpec()}),containerBehaviours:Cn([$r("image-tools-fliprotate-buttons-events",[qt(ju.disable(),function(In,Lr){c(It,In)}),qt(ju.enable(),function(In,Lr){f(It,In)})])])}),Qn=function(In,Lr,ka,co,Ru){var mu=bl.parts.label({dom:{tag:"label",classes:["tox-label"],innerHtml:r.translate(In)}}),vs=bl.parts.spectrum({dom:{tag:"div",classes:["tox-slider__rail"],attributes:{role:"presentation"}}}),al=bl.parts.thumb({dom:{tag:"div",classes:["tox-slider__handle"],attributes:{role:"presentation"}}});return ya(bl.sketch({dom:{tag:"div",classes:["tox-slider"],attributes:{role:"presentation"}},model:{mode:"x",minX:ka,maxX:Ru,getInitialValue:L({x:co})},components:[mu,vs,al],sliderBehaviours:Cn([_r.config({})]),onChoose:Lr}))},Jr=function(In,Lr,ka,co,Ru){var mu=function(vs,al,Ag){var Ap=Lt(Lr,Ag.x/100);P(vs,Ap)};return Qn(In,mu,ka,co,Ru)},Ca=function(In,Lr,ka,co,Ru){return[de(),Jr(In,Lr,ka,co,Ru),le()]},Ya=function(In,Lr,ka,co,Ru){var mu=Ca(In,Lr,ka,co,Ru);return eu.sketch({dom:d,components:mu.map(function(vs){return vs.asSpec()}),containerBehaviours:Cn([$r("image-tools-filter-panel-buttons-events",[qt(ju.disable(),function(vs,al){c(mu,vs)}),qt(ju.enable(),function(vs,al){f(mu,vs)})])])})},ho=[de(),Pe(),le()],fs=eu.sketch({dom:d,components:ho.map(function(In){return In.asSpec()})}),au=Ya("Brightness",Y6,-100,0,100),gy=Ya("Contrast",Z6,-100,0,100),ci=Ya("Gamma",X6,-100,0,100),xd=function(In,Lr,ka){return function(co){return dp(co,In,Lr,ka)}},Sd=function(In){var Lr=function(ka,co,Ru){var mu=kp.getOpt(ka),vs=Ep.getOpt(ka),al=kd.getOpt(ka);mu.each(function(Ag){vs.each(function(Ap){al.each(function(Og){var V$=_n.getValue(Ag).x/100,U$=_n.getValue(Og).x/100,Td=_n.getValue(Ap).x/100,Dg=xd(V$,U$,Td);P(ka,Dg)})})})};return Qn(In,Lr,0,100,200)},kp=Sd("R"),kd=Sd("G"),Ep=Sd("B"),Pu=[de(),kp,kd,Ep,le()],lc=eu.sketch({dom:d,components:Pu.map(function(In){return In.asSpec()})}),du=function(In,Lr,ka){return function(co){var Ru=function(){cc.getOpt(co).each(function(mu){Dr.set(mu,[In]),ka(mu)})};b(co,tu.swap(),{transform:Lr,swap:Ru})}},Tp=function(In){t.showCrop()},yv=function(In){Fe.getOpt(In).each(function(Lr){var ka=t.getMeasurements(),co=ka.width,Ru=ka.height;_n.setValue(Lr,{width:co,height:Ru})})},Tg=A.some(wD),fi=A.some(K6),gf=[u("crop","Crop",du(yt,A.none(),Tp),!1),u("resize","Resize",du(En,A.none(),yv),!1),u("orientation","Orientation",du(Un,A.none(),p),!1),u("brightness","Brightness",du(au,A.none(),p),!1),u("sharpen","Sharpen",du(fs,Tg,p),!1),u("contrast","Contrast",du(gy,A.none(),p),!1),u("color-levels","Color levels",du(lc,A.none(),p),!1),u("gamma","Gamma",du(ci,A.none(),p),!1),u("invert","Invert",du(fs,fi,p),!1)],wv=eu.sketch({dom:d,components:gf.map(function(In){return In.asSpec()})}),Ed=eu.sketch({dom:{tag:"div"},components:[wv],containerBehaviours:Cn([Dr.config({})])}),cc=ya(Ed),Cv=function(In){return cc.getOpt(In).map(function(Lr){var ka=Lr.components()[0];return ka.components()[ka.components().length-1]})};return{memContainer:cc,getApplyButton:Cv}},LD=tinymce.util.Tools.resolve("tinymce.geom.Rect"),xz=tinymce.util.Tools.resolve("tinymce.util.Observable"),mf=tinymce.util.Tools.resolve("tinymce.util.VK"),Sz=function(t){var r=Math.max,o=t.documentElement,u=t.body,c=r(o.scrollWidth,u.scrollWidth),f=r(o.clientWidth,u.clientWidth),d=r(o.offsetWidth,u.offsetWidth),p=r(o.scrollHeight,u.scrollHeight),b=r(o.clientHeight,u.clientHeight),x=r(o.offsetHeight,u.offsetHeight);return{width:c<d?f:c,height:p<x?b:p}},kz=function(t){return W(t.changedTouches)},kS=function(t){if(kz(t))for(var r="screenX screenY pageX pageY clientX clientY".split(" "),o=0;o<r.length;o++)t[r[o]]=t.changedTouches[0][r[o]]};function Ez(t,r){var o,u,c,f,d=[],p=[],b=(o=r.document)!==null&&o!==void 0?o:document,x=(u=r.root)!==null&&u!==void 0?u:b,O=ce.fromDom(b),P,V,q,te=ce.fromDom(x.getElementById((c=r.handle)!==null&&c!==void 0?c:t)),de=function(xt){var yt=xt.raw,Fe=Sz(b);kS(yt),xt.prevent(),P=yt.button,V=yt.screenX,q=yt.screenY;var lt=Fo(te,"cursor");f=ce.fromTag("div",b),Tl(f,{position:"absolute",top:"0",left:"0",width:Fe.width+"px",height:Fe.height+"px","z-index":"2147483647",opacity:"0.0001",cursor:lt}),qi(Sa(O),f),p.push(jo(O,"mousemove",Pe),jo(O,"touchmove",Pe),jo(O,"mouseup",le),jo(O,"touchend",le)),r.start(yt)},Pe=function(xt){var yt=xt.raw;if(kS(yt),yt.button!==P)return le(xt);yt.deltaX=yt.screenX-V,yt.deltaY=yt.screenY-q,xt.prevent(),r.drag(yt)},le=function(xt){kS(xt.raw),Ke(p,function(yt){return yt.unbind()}),p=[],ys(f),r.stop&&r.stop(xt.raw)},Ie=function(){Ke(p.concat(d),function(xt){return xt.unbind()}),p=[],d=[],W(f)&&ys(f)};return d.push(jo(te,"mousedown",de),jo(te,"touchstart",de)),{destroy:Ie}}var Tz=0,Az=function(t,r,o,u,c){var f,d=[],p="tox-",b=p+"crid-"+Tz++,x=ce.fromDom(u),O=[{name:"move",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:0,deltaH:0,label:"Crop Mask"},{name:"nw",xMul:0,yMul:0,deltaX:1,deltaY:1,deltaW:-1,deltaH:-1,label:"Top Left Crop Handle"},{name:"ne",xMul:1,yMul:0,deltaX:0,deltaY:1,deltaW:1,deltaH:-1,label:"Top Right Crop Handle"},{name:"sw",xMul:0,yMul:1,deltaX:1,deltaY:0,deltaW:-1,deltaH:1,label:"Bottom Left Crop Handle"},{name:"se",xMul:1,yMul:1,deltaX:0,deltaY:0,deltaW:1,deltaH:1,label:"Bottom Right Crop Handle"}],P=["top","right","bottom","left"],V=function(Lt,An){return{x:An.x+Lt.x,y:An.y+Lt.y,w:An.w,h:An.h}},q=function(Lt,An){return{x:An.x-Lt.x,y:An.y-Lt.y,w:An.w,h:An.h}},te=function(){return q(o,t)},de=function(Lt,An,Gt,Dt){var gn=An.x+Gt*Lt.deltaX,Xn=An.y+Dt*Lt.deltaY,It=Math.max(20,An.w+Gt*Lt.deltaW),Un=Math.max(20,An.h+Dt*Lt.deltaH),Qn=t=LD.clamp({x:gn,y:Xn,w:It,h:Un},o,Lt.name==="move");Qn=q(o,Qn),En.fire("updateRect",{rect:Qn}),Fe(Qn)},Pe=function(){var Lt=function(gn){var Xn;return Ez(b,{document:u.ownerDocument,root:vr(x).dom,handle:b+"-"+gn.name,start:function(){Xn=t},drag:function(It){de(gn,Xn,It.deltaX,It.deltaY)}})},An=ce.fromTag("div");Pd(An,{id:b,class:p+"croprect-container",role:"grid","aria-dropeffect":"execute"}),qi(x,An),Ke(P,function(gn){ai(x,"#"+b).each(function(Xn){var It=ce.fromTag("div");Pd(It,{id:b+"-"+gn,class:p+"croprect-block","data-mce-bogus":"all"}),Mr(It,"display","none"),qi(Xn,It)})}),Ke(O,function(gn){ai(x,"#"+b).each(function(Xn){var It=ce.fromTag("div");Pd(It,{id:b+"-"+gn.name,"aria-label":gn.label,"aria-grabbed":"false","data-mce-bogus":"all",role:"gridcell",tabindex:"-1",title:gn.label}),Rv(It,[p+"croprect-handle",p+"croprect-handle-"+gn.name]),Mr(It,"display","none"),qi(Xn,It)})}),f=St(O,Lt),Ie(t);var Gt=function(gn){qr(gn.target,"aria-grabbed",gn.raw.type==="focus"?"true":"false")},Dt=function(gn){var Xn;Ke(O,function(Un){if(vo(gn.target,"id")===b+"-"+Un.name)return Xn=Un,!1});var It=function(Un,Qn,Jr,Ca,Ya){Un.stopPropagation(),Un.preventDefault(),de(Xn,Jr,Ca,Ya)};switch(gn.raw.keyCode){case mf.LEFT:It(gn,Xn,t,-10,0);break;case mf.RIGHT:It(gn,Xn,t,10,0);break;case mf.UP:It(gn,Xn,t,0,-10);break;case mf.DOWN:It(gn,Xn,t,0,10);break;case mf.ENTER:case mf.SPACEBAR:gn.prevent(),c();break}};d.push(jo(x,"focusin",Gt),jo(x,"focusout",Gt),jo(x,"keydown",Dt))},le=function(Lt){var An=ct(ct([],St(O,function(Dt){return"#"+b+"-"+Dt.name}),!0),St(P,function(Dt){return"#"+b+"-"+Dt}),!0).join(","),Gt=Eu(x,An);Lt?Ke(Gt,function(Dt){return Ia(Dt,"display")}):Ke(Gt,function(Dt){return Mr(Dt,"display","none")})},Ie=function(Lt){var An=function(Gt,Dt){ai(x,"#"+b+"-"+Gt).each(function(gn){Tl(gn,{left:Dt.x+"px",top:Dt.y+"px",width:Math.max(0,Dt.w)+"px",height:Math.max(0,Dt.h)+"px"})})};Ke(O,function(Gt){ai(x,"#"+b+"-"+Gt.name).each(function(Dt){Tl(Dt,{left:Lt.w*Gt.xMul+Lt.x+"px",top:Lt.h*Gt.yMul+Lt.y+"px"})})}),An("top",{x:r.x,y:r.y,w:r.w,h:Lt.y-r.y}),An("right",{x:Lt.x+Lt.w,y:Lt.y,w:r.w-Lt.x-Lt.w+r.x,h:Lt.h}),An("bottom",{x:r.x,y:Lt.y+Lt.h,w:r.w,h:r.h-Lt.y-Lt.h+r.y}),An("left",{x:r.x,y:Lt.y,w:Lt.x-r.x,h:Lt.h}),An("move",Lt)},xt=function(Lt){t=Lt,Ie(t)},yt=function(Lt){r=Lt,Ie(t)},Fe=function(Lt){xt(V(o,Lt))},lt=function(Lt){o=Lt,Ie(t)},Mt=function(){Ke(f,function(Lt){return Lt.destroy()}),f=[],Ke(d,function(Lt){return Lt.unbind()}),d=[]};Pe();var En=G(G({},xz),{toggleVisibility:le,setClampRect:lt,setRect:xt,getInnerRect:te,setInnerRect:Fe,setViewPortRect:yt,destroy:Mt});return En},Oz={create:Az},HD=function(t){return new ad(function(r){var o=function(){t.removeEventListener("load",o),r(t)};t.complete?r(t):t.addEventListener("load",o)})},Dz=function(t){var r=ya({dom:{tag:"div",classes:["tox-image-tools__image-bg"],attributes:{role:"presentation"}}}),o=Cr(1),u=Vw(),c=Cr({x:0,y:0,w:1,h:1}),f=Cr({x:0,y:0,w:1,h:1}),d=function(Pe,le){te.getOpt(Pe).each(function(Ie){var xt=o.get(),yt=uu(Ie.element),Fe=ti(Ie.element),lt=le.dom.naturalWidth*xt,Mt=le.dom.naturalHeight*xt,En=Math.max(0,yt/2-lt/2),Lt=Math.max(0,Fe/2-Mt/2),An={left:En.toString()+"px",top:Lt.toString()+"px",width:lt.toString()+"px",height:Mt.toString()+"px",position:"absolute"};Tl(le,An),r.getOpt(Ie).each(function(Gt){Tl(Gt.element,An)}),u.run(function(Gt){var Dt=c.get();Gt.setRect({x:Dt.x*xt+En,y:Dt.y*xt+Lt,w:Dt.w*xt,h:Dt.h*xt}),Gt.setClampRect({x:En,y:Lt,w:lt,h:Mt}),Gt.setViewPortRect({x:0,y:0,w:yt,h:Fe})})})},p=function(Pe,le){te.getOpt(Pe).each(function(Ie){var xt=uu(Ie.element),yt=ti(Ie.element),Fe=le.dom.naturalWidth,lt=le.dom.naturalHeight,Mt=Math.min(xt/Fe,yt/lt);Mt>=1?o.set(1):o.set(Mt)})},b=function(Pe,le){var Ie=ce.fromTag("img");return qr(Ie,"src",le),HD(Ie.dom).then(function(){Pe.getSystem().isConnected()&&te.getOpt(Pe).map(function(xt){var yt=bw({element:Ie});Dr.replaceAt(xt,1,A.some(yt));var Fe=f.get(),lt={x:0,y:0,w:Ie.dom.naturalWidth,h:Ie.dom.naturalHeight};f.set(lt);var Mt=LD.inflate(lt,-20,-20);c.set(Mt),(Fe.w!==lt.w||Fe.h!==lt.h)&&p(xt,Ie),d(xt,Ie)})})},x=function(Pe,le){var Ie=o.get(),xt=le>0?Math.min(2,Ie+.1):Math.max(.1,Ie-.1);o.set(xt),te.getOpt(Pe).each(function(yt){var Fe=yt.components()[1].element;d(yt,Fe)})},O=function(){u.run(function(Pe){Pe.toggleVisibility(!0)})},P=function(){u.run(function(Pe){Pe.toggleVisibility(!1)})},V=function(){return c.get()},q=eu.sketch({dom:{tag:"div",classes:["tox-image-tools__image"]},components:[r.asSpec(),{dom:{tag:"img",attributes:{src:t}}},{dom:{tag:"div"},behaviours:Cn([$r("image-panel-crop-events",[Hr(function(Pe){te.getOpt(Pe).each(function(le){var Ie=le.element.dom,xt=Oz.create({x:10,y:10,w:100,h:100},{x:0,y:0,w:200,h:200},{x:0,y:0,w:200,h:200},Ie,ae);xt.toggleVisibility(!1),xt.on("updateRect",function(yt){var Fe=yt.rect,lt=o.get(),Mt={x:Math.round(Fe.x/lt),y:Math.round(Fe.y/lt),w:Math.round(Fe.w/lt),h:Math.round(Fe.h/lt)};c.set(Mt)}),u.set(xt)})}),Ys(function(){u.clear()})])])}],containerBehaviours:Cn([Dr.config({}),$r("image-panel-events",[Hr(function(Pe){b(Pe,t)})])])}),te=ya(q),de=function(){var Pe=f.get();return{width:Pe.w,height:Pe.h}};return{memContainer:te,updateSrc:b,zoom:x,showCrop:O,hideCrop:P,getRect:V,getMeasurements:de}},W0=function(t,r,o,u,c){return MD({name:t,icon:A.some(r),disabled:o,tooltip:A.some(t),primary:!1,borderless:!1},u,c)},VD=function(t,r){r?gr.enable(t):gr.disable(t)},_z=function(t){var r=function(f,d,p){o.getOpt(f).each(function(b){VD(b,d)}),u.getOpt(f).each(function(b){VD(b,p)})},o=ya(W0("Undo","undo",!0,function(f){br(f,tu.undo(),{direction:1})},t)),u=ya(W0("Redo","redo",!0,function(f){br(f,tu.redo(),{direction:1})},t)),c=eu.sketch({dom:{tag:"div",classes:["tox-image-tools__toolbar","tox-image-tools__sidebar"]},components:[o.asSpec(),u.asSpec(),W0("Zoom in","zoom-in",!1,function(f){br(f,tu.zoom(),{direction:1})},t),W0("Zoom out","zoom-out",!1,function(f){br(f,tu.zoom(),{direction:-1})},t)]});return{container:c,updateButtonUndoStates:r}};function Mz(){var t=[],r=-1,o=function(p){var b=t.splice(++r);return t.push(p),{state:p,removed:b}},u=function(){if(f())return t[--r]},c=function(){if(d())return t[++r]},f=function(){return r>0},d=function(){return r!==-1&&r<t.length-1};return{data:t,add:o,undo:u,redo:c,canUndo:f,canRedo:d}}var Bz=function(t){var r=Cr(t),o=Bo(),u=Mz();u.add(t);var c=function(){return r.get()},f=function(Ie){r.set(Ie)},d=function(){return o.get().getOrThunk(r.get)},p=function(Ie){var xt=b(Ie);return P(),o.set(xt),xt.url},b=function(Ie){return{blob:Ie,url:URL.createObjectURL(Ie)}},x=function(Ie){URL.revokeObjectURL(Ie.url)},O=function(Ie){cv.each(Ie,x)},P=function(){o.on(x),o.clear()},V=function(Ie){var xt=b(Ie);f(xt);var yt=u.add(xt).removed;return O(yt),xt.url},q=function(Ie){var xt=b(Ie);return o.set(xt),xt.url},te=function(Ie){return o.get().fold(ae,function(xt){V(xt.blob),Ie()})},de=function(){var Ie=u.undo();return f(Ie),Ie.url},Pe=function(){var Ie=u.redo();return f(Ie),Ie.url},le=function(){var Ie=u.canUndo(),xt=u.canRedo();return{undoEnabled:Ie,redoEnabled:xt}};return{getBlobState:c,setBlobState:f,addBlobState:V,getTempState:d,updateTempState:p,addTempState:q,applyTempState:te,destroyTempState:P,undo:de,redo:Pe,getHistoryStates:le}},Pz=function(t,r){var o=Bz(t.currentState),u=function(Gt,Dt){var gn=Dt.event.direction;Mt.zoom(Gt,gn)},c=function(Gt){var Dt=o.getHistoryStates();En.updateButtonUndoStates(Gt,Dt.undoEnabled,Dt.redoEnabled),br(Gt,ju.formActionEvent,{name:ju.saveState(),value:Dt.undoEnabled})},f=function(Gt){En.updateButtonUndoStates(Gt,!1,!1)},d=function(Gt,Dt){var gn=o.undo();P(Gt,gn).then(function(Xn){O(Gt),c(Gt)})},p=function(Gt,Dt){var gn=o.redo();P(Gt,gn).then(function(Xn){O(Gt),c(Gt)})},b=function(Gt){return Gt.toBlob()},x=function(Gt){br(Gt,ju.formActionEvent,{name:ju.disable(),value:{}})},O=function(Gt){Lt.getApplyButton(Gt).each(function(Dt){gr.enable(Dt)}),br(Gt,ju.formActionEvent,{name:ju.enable(),value:{}})},P=function(Gt,Dt){return x(Gt),Mt.updateSrc(Gt,Dt)},V=function(Gt,Dt,gn,Xn,It){x(Gt),R6(Dt).then(gn).then(b).then(Xn).then(function(Un){return P(Gt,Un)}).then(function(){c(Gt),It(),O(Gt)}).catch(function(Un){Gt.getSystem().isConnected()&&O(Gt)})},q=function(Gt,Dt,gn){var Xn=o.getBlobState().blob,It=function(Un){return o.updateTempState(Un)};V(Gt,Xn,Dt,It,gn)},te=function(Gt,Dt){var gn=o.getTempState().blob,Xn=function(It){return o.addTempState(It)};V(Gt,gn,Dt,Xn,ae)},de=function(Gt,Dt,gn){var Xn=o.getBlobState().blob,It=function(Un){var Qn=o.addBlobState(Un);return le(Gt),Qn};V(Gt,Xn,Dt,It,gn)},Pe=function(Gt,Dt){var gn=function(){le(Gt);var Xn=Dt.event.swap;Xn()};o.applyTempState(gn)},le=function(Gt){var Dt=o.getBlobState().url;return o.destroyTempState(),c(Gt),Dt},Ie=function(Gt){var Dt=le(Gt);P(Gt,Dt).then(function(gn){O(Gt)})},xt=function(Gt,Dt){Ie(Gt);var gn=Dt.event.swap;gn(),Mt.hideCrop()},yt=function(Gt,Dt){return q(Gt,Dt.event.transform,ae)},Fe=function(Gt,Dt){return te(Gt,Dt.event.transform)},lt=function(Gt,Dt){return de(Gt,Dt.event.transform,Dt.event.swap)},Mt=Dz(t.currentState.url),En=_z(r),Lt=Cz(Mt,r),An=function(Gt,Dt){f(Gt);var gn=Dt.event.transform,Xn=Dt.event.swap;gn.fold(function(){Xn()},function(It){q(Gt,It,Xn)})};return{dom:{tag:"div",attributes:{role:"presentation"}},components:[Lt.memContainer.asSpec(),Mt.memContainer.asSpec(),En.container],behaviours:Cn([_n.config({store:{mode:"manual",getValue:function(){return o.getBlobState()}}}),$r("image-tools-events",[qt(tu.undo(),d),qt(tu.redo(),p),qt(tu.zoom(),u),qt(tu.back(),xt),qt(tu.apply(),Pe),qt(tu.transform(),yt),qt(tu.tempTransform(),Fe),qt(tu.transformApply(),lt),qt(tu.swap(),An)]),ac.self()])}},UD=function(t,r){var o={dom:{tag:"label",innerHtml:r.providers.translate(t.label),classes:["tox-label"]}},u=St(t.items,r.interpreter);return{dom:{tag:"div",classes:["tox-form__group"]},components:[o].concat(u),behaviours:Cn([ac.self(),Dr.config({}),vd.domHtml(A.none()),sr.config({mode:"acyclic"})])}},ES=function(t){return!Wt(t,"items")},WD="data-value",jD=function(t,r,o,u){return St(o,function(c){return ES(c)?{type:"togglemenuitem",text:c.text,value:c.value,active:c.value===u,onAction:function(){_n.setValue(t,c.value),br(t,ss,{name:r}),_r.focus(t)}}:{type:"nestedmenuitem",text:c.text,getSubmenuItems:function(){return jD(t,r,c.items,u)}}})},qD=function(t,r){return Xe(t,function(o){return ES(o)?Ta(o.value===r,o):qD(o.items,r)})},Rz=function(t,r){var o=r.shared.providers,u=Vt(t.items).filter(ES),c=t.label.map(function(p){return sf(p,o)}),f=ca.parts.field({dom:{},factory:{sketch:function(p){return pS({uid:p.uid,text:u.map(function(b){return b.text}),icon:A.none(),tooltip:t.label,role:A.none(),fetch:function(b,x){var O=jD(b,t.name,t.items,_n.getValue(b));x(Cg(O,Jl.CLOSE_ON_EXECUTE,r,!1))},onSetup:L(ae),getApi:L({}),columns:1,presets:"normal",classes:[],dropdownBehaviours:[Do.config({}),_n.config({store:{mode:"manual",initialValue:u.map(function(b){return b.value}).getOr(""),getValue:function(b){return vo(b.element,WD)},setValue:function(b,x){qD(t.items,x).each(function(O){qr(b.element,WD,O.value),br(b,dd,{text:O.text})})}}})]},"tox-listbox",r.shared)}}}),d={dom:{tag:"div",classes:["tox-listboxfield"]},components:[f]};return ca.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ce([c.toArray(),[d]]),fieldBehaviours:Cn([gr.config({disabled:L(t.disabled),onDisabled:function(p){ca.getField(p).each(gr.disable)},onEnabled:function(p){ca.getField(p).each(gr.enable)}})])})},Nz=function(t,r){return{dom:{tag:"div",classes:t.classes},components:St(t.items,r.shared.interpreter)}},GD=function(t,r){var o=St(t.options,function(c){return{dom:{tag:"option",value:c.value,innerHtml:c.text}}}),u=t.data.map(function(c){return gc("initialValue",c)}).getOr({});return{uid:t.uid,dom:{tag:"select",classes:t.selectClasses,attributes:t.selectAttributes},components:o,behaviours:Mi(t.selectBehaviours,[_r.config({}),_n.config({store:G({mode:"manual",getValue:function(c){return If(c.element)},setValue:function(c,f){var d=kt(t.options,function(p){return p.value===f});d.isSome()&&cm(c.element,f)}},u)})])}},md=Bs({name:"HtmlSelect",configFields:[jt("options"),ii("selectBehaviours",[_r,_n]),$e("selectClasses",[]),$e("selectAttributes",{}),Oa("data")],factory:GD}),j0=function(t,r){var o=St(t.items,function(p){return{text:r.translate(p.text),value:p.value}}),u=t.label.map(function(p){return sf(p,r)}),c=ca.parts.field({dom:{},selectAttributes:{size:t.size},options:o,factory:md,selectBehaviours:Cn([gr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Do.config({}),$r("selectbox-change",[qt(em(),function(p,b){br(p,ss,{name:t.name})})])])}),f=t.size>1?A.none():A.some(gl("chevron-down",{tag:"div",classes:["tox-selectfield__icon-js"]},r.icons)),d={dom:{tag:"div",classes:["tox-selectfield"]},components:Ce([[c],f.toArray()])};return ca.sketch({dom:{tag:"div",classes:["tox-form__group"]},components:Ce([u.toArray(),[d]]),fieldBehaviours:Cn([gr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(p){ca.getField(p).each(gr.disable)},onEnabled:function(p){ca.getField(p).each(gr.enable)}}),Yo()])})},Fz=function(t,r){var o=function(p){return{dom:{tag:"th",innerHtml:r.translate(p)}}},u=function(p){return{dom:{tag:"thead"},components:[{dom:{tag:"tr"},components:St(p,o)}]}},c=function(p){return{dom:{tag:"td",innerHtml:r.translate(p)}}},f=function(p){return{dom:{tag:"tr"},components:St(p,c)}},d=function(p){return{dom:{tag:"tbody"},components:St(p,f)}};return{dom:{tag:"table",classes:["tox-dialog__table"]},components:[u(t.header),d(t.cells)],behaviours:Cn([Do.config({}),_r.config({})])}},KD=function(t,r){var o=t.label.map(function(V){return sf(V,r)}),u=[gr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Yo(),sr.config({mode:"execution",useEnter:t.multiline!==!0,useControlEnter:t.multiline===!0,execute:function(V){return da(V,rp),A.some(!0)}}),$r("textfield-change",[qt(Qd(),function(V,q){br(V,ss,{name:t.name})}),qt(Zy(),function(V,q){br(V,ss,{name:t.name})})]),Do.config({})],c=t.validation.map(function(V){return Bc.config({getRoot:function(q){return Lo(q.element)},invalidClass:"tox-invalid",validator:{validate:function(q){var te=_n.getValue(q),de=V.validator(te);return Hi.pure(de===!0?jr.value(te):jr.error(de))},validateOnLoad:V.validateOnLoad}})}).toArray(),f=t.placeholder.fold(L({}),function(V){return{placeholder:r.translate(V)}}),d=t.inputMode.fold(L({}),function(V){return{inputmode:V}}),p=G(G({},f),d),b=ca.parts.field({tag:t.multiline===!0?"textarea":"input",inputAttributes:p,inputClasses:[t.classname],inputBehaviours:Cn(Ce([u,c])),selectOnFocus:!1,factory:ug}),x=t.flex?["tox-form__group--stretched"]:[],O=x.concat(t.maximized?["tox-form-group--maximize"]:[]),P=[gr.config({disabled:function(){return t.disabled||r.isDisabled()},onDisabled:function(V){ca.getField(V).each(gr.disable)},onEnabled:function(V){ca.getField(V).each(gr.enable)}}),Yo()];return tp(o,b,O,P)},TS=function(t,r){return KD({name:t.name,multiline:!1,label:t.label,inputMode:t.inputMode,placeholder:t.placeholder,flex:!1,disabled:t.disabled,classname:"tox-textfield",validation:A.none(),maximized:t.maximized},r)},Iz=function(t,r){return KD({name:t.name,multiline:!0,label:t.label,inputMode:A.none(),placeholder:t.placeholder,flex:!0,disabled:t.disabled,classname:"tox-textarea",validation:A.none(),maximized:t.maximized},r)},zz=function(t,r){var o=t.stream.streams,u=o.setup(t,r);return $a([qt(t.event,u),Ys(function(){return r.cancel()})].concat(t.cancelEvent.map(function(c){return[qt(c,function(){return r.cancel()})]}).getOr([])))},AS=Object.freeze({__proto__:null,events:zz}),OS=function(t){var r=Cr(null),o=function(){return{timer:r.get()!==null?"set":"unset"}},u=function(f){r.set(f)},c=function(){var f=r.get();f!==null&&f.cancel()};return ns({readState:o,setTimer:u,cancel:c})},XD=function(t){return t.stream.streams.state(t)},$z=Object.freeze({__proto__:null,throttle:OS,init:XD}),Lz=function(t,r){var o=t.stream,u=Db(t.onStream,o.delay);return r.setTimer(u),function(c,f){u.throttle(c,f),o.stopEvent&&f.stop()}},Hz=[Ju("stream",Ws("mode",{throttle:[jt("delay"),$e("stopEvent",!0),ro("streams",{setup:Lz,state:OS})]})),$e("event","input"),Oa("cancelEvent"),Su("onStream")],YD=pi({fields:Hz,name:"streaming",active:AS,state:$z}),q0=function(t,r,o){var u=_n.getValue(o);_n.setValue(r,u),ZD(r)},DS=function(t,r){var o=t.element,u=If(o),c=o.dom;vo(o,"type")!=="number"&&r(c,u)},ZD=function(t){DS(t,function(r,o){return r.setSelectionRange(o.length,o.length)})},JD=function(t,r){DS(t,function(o,u){return o.setSelectionRange(r,u.length)})},Vz=function(t,r,o){if(t.selectsOver){var u=_n.getValue(r),c=t.getDisplayText(u),f=_n.getValue(o),d=t.getDisplayText(f);return d.indexOf(c)===0?A.some(function(){q0(t,r,o),JD(r,c.length)}):A.none()}else return A.none()},_S=L("alloy.typeahead.itemexecute"),MS=function(t,r,o,u){var c=function(b,x,O){t.previewing.set(!1);var P=Ro.getCoupled(b,"sandbox");if(ra.isOpen(P))ta.getCurrent(P).each(function(q){Da.getHighlighted(q).fold(function(){O(q)},function(){_k(P,q.element,"keydown",x)})});else{var V=function(q){ta.getCurrent(q).each(O)};Ox(t,d(b),b,P,u,V,ec.HighlightFirst).get(ae)}},f=q4(t),d=function(b){return function(x){return x.map(function(O){var P=Ct(O.menus),V=pt(P,function(te){return We(te.items,function(de){return de.type==="item"})}),q=_n.getState(b);return q.update(St(V,function(te){return te.data})),O})}},p=[_r.config({}),_n.config({onSetValue:t.onSetValue,store:G({mode:"dataset",getDataKey:function(b){return If(b.element)},getFallbackEntry:function(b){return{value:b,meta:{}}},setValue:function(b,x){cm(b.element,t.model.getDisplayText(x))}},t.initialData.map(function(b){return gc("initialValue",b)}).getOr({}))}),YD.config({stream:{mode:"throttle",delay:t.responseTime,stopEvent:!1},onStream:function(b,x){var O=Ro.getCoupled(b,"sandbox"),P=_r.isFocused(b);if(P&&If(b.element).length>=t.minChars){var V=ta.getCurrent(O).bind(function(te){return Da.getHighlighted(te).map(_n.getValue)});t.previewing.set(!0);var q=function(te){ta.getCurrent(O).each(function(de){V.fold(function(){t.model.selectsOver&&Da.highlightFirst(de)},function(Pe){Da.highlightBy(de,function(le){var Ie=_n.getValue(le);return Ie.value===Pe.value}),Da.getHighlighted(de).orThunk(function(){return Da.highlightFirst(de),A.none()})})})};Ox(t,d(b),b,O,u,q,ec.HighlightFirst).get(ae)}},cancelEvent:Qy()}),sr.config({mode:"special",onDown:function(b,x){return c(b,x,Da.highlightFirst),A.some(!0)},onEscape:function(b){var x=Ro.getCoupled(b,"sandbox");return ra.isOpen(x)?(ra.close(x),A.some(!0)):A.none()},onUp:function(b,x){return c(b,x,Da.highlightLast),A.some(!0)},onEnter:function(b){var x=Ro.getCoupled(b,"sandbox"),O=ra.isOpen(x);if(O&&!t.previewing.get())return ta.getCurrent(x).bind(function(V){return Da.getHighlighted(V)}).map(function(V){return br(b,_S(),{item:V}),!0});var P=_n.getValue(b);return da(b,Qy()),t.onExecute(x,b,P),O&&ra.close(x),A.some(!0)}}),na.config({toggleClass:t.markers.openClass,aria:{mode:"expanded"}}),Ro.config({others:{sandbox:function(b){return _x(t,b,{onOpen:function(){return na.on(b)},onClose:function(){return na.off(b)}})}}}),$r("typeaheadevents",[Zs(function(b){var x=ae;lg(t,d(b),b,u,x,ec.HighlightFirst).get(ae)}),qt(_S(),function(b,x){var O=Ro.getCoupled(b,"sandbox");q0(t.model,b,x.event.item),da(b,Qy()),t.onItemExecute(b,O,x.event.item,_n.getValue(b)),ra.close(O),ZD(b)})].concat(t.dismissOnBlur?[qt(Yy(),function(b){var x=Ro.getCoupled(b,"sandbox");Ll(x.element).isNone()&&ra.close(x)})]:[]))];return{uid:t.uid,dom:Rs(Ot(t,{inputAttributes:{role:"combobox","aria-autocomplete":"list","aria-haspopup":"true"}})),behaviours:G(G({},f),Mi(t.typeaheadBehaviours,p)),eventOrder:t.eventOrder}},BS=L([Oa("lazySink"),jt("fetch"),$e("minChars",5),$e("responseTime",1e3),ba("onOpen"),$e("getHotspot",A.some),$e("getAnchorOverrides",L({})),$e("layouts",A.none()),$e("eventOrder",{}),Hy("model",{},[$e("getDisplayText",function(t){return t.meta!==void 0&&t.meta.text!==void 0?t.meta.text:t.value}),$e("selectsOver",!0),$e("populateFromBrowse",!0)]),ba("onSetValue"),rs("onExecute"),ba("onItemExecute"),$e("inputClasses",[]),$e("inputAttributes",{}),$e("inputStyles",{}),$e("matchWidth",!0),$e("useMinWidth",!1),$e("dismissOnBlur",!0),Iv(["openClass"]),Oa("initialData"),ii("typeaheadBehaviours",[_r,_n,YD,sr,na,Ro]),$u("previewing",function(){return Cr(!0)})].concat(lf()).concat(Mx())),hp=L([fl({schema:[m1()],name:"menu",overrides:function(t){return{fakeFocus:!0,onHighlight:function(r,o){t.previewing.get()?r.getSystem().getByUid(t.uid).each(function(u){Vz(t.model,u,o).fold(function(){return Da.dehighlight(r,o)},function(c){return c()})}):r.getSystem().getByUid(t.uid).each(function(u){t.model.populateFromBrowse&&q0(t.model,u,o)}),t.previewing.set(!1)},onExecute:function(r,o){return r.getSystem().getByUid(t.uid).toOptional().map(function(u){return br(u,_S(),{item:o}),!0})},onHover:function(r,o){t.previewing.set(!1),r.getSystem().getByUid(t.uid).each(function(u){t.model.populateFromBrowse&&q0(t.model,u,o)})}}}})]),Uz=Au({name:"Typeahead",configFields:BS(),partFields:hp(),factory:MS}),yl=function(t){var r=function(){return yl(t.toCached())},o=function(b){return yl(t.bind(function(x){return x.fold(function(O){return Hi.pure(jr.error(O))},function(O){return b(O)})}))},u=function(b){return yl(t.map(function(x){return x.bind(b)}))},c=function(b){return yl(t.map(function(x){return x.map(b)}))},f=function(b){return yl(t.map(function(x){return x.mapError(b)}))},d=function(b,x){return t.map(function(O){return O.fold(b,x)})},p=function(b,x){return yl(Hi.nu(function(O){var P=!1,V=setTimeout(function(){P=!0,O(jr.error(x()))},b);t.get(function(q){P||(clearTimeout(V),O(q))})}))};return G(G({},t),{toCached:r,bindFuture:o,bindResult:u,mapResult:c,mapError:f,foldResult:d,withTimeout:p})},QD=function(t){return yl(Hi.nu(t))},e_=function(t){return yl(Hi.pure(jr.value(t)))},Wz=function(t){return yl(Hi.pure(jr.error(t)))},t_=function(t){return yl(Hi.pure(t))},n_=function(t){return yl(t.map(jr.value))},r_=function(t){return QD(function(r){t.then(function(o){r(jr.value(o))},function(o){r(jr.error(o))})})},jz={nu:QD,wrap:yl,pure:e_,value:e_,error:Wz,fromResult:t_,fromFuture:n_,fromPromise:r_},qz={type:"separator"},Gz=function(t){return{type:"menuitem",value:t.url,text:t.title,meta:{attach:t.attach},onAction:ae}},PS=function(t,r){return{type:"menuitem",value:r,text:t,meta:{attach:void 0},onAction:ae}},Kz=function(t){return St(t,Gz)},a_=function(t,r){return We(r,function(o){return o.type===t})},o_=function(t,r){return Kz(a_(t,r))},Xz=function(t){return o_("header",t.targets)},Yz=function(t){return o_("anchor",t.targets)},Zz=function(t){return A.from(t.anchorTop).map(function(r){return PS("<top>",r)}).toArray()},i_=function(t){return A.from(t.anchorBottom).map(function(r){return PS("<bottom>",r)}).toArray()},gd=function(t){return St(t,function(r){return PS(r,r)})},u_=function(t){return zt(t,function(r,o){var u=r.length===0||o.length===0;return u?r.concat(o):r.concat(qz,o)},[])},RS=function(t,r){var o=t.toLowerCase();return We(r,function(u){var c=u.meta!==void 0&&u.meta.text!==void 0?u.meta.text:u.text;return zr(c.toLowerCase(),o)||zr(u.value.toLowerCase(),o)})},Jz=function(t,r,o){var u=_n.getValue(r),c=u.meta.text!==void 0?u.meta.text:u.value,f=o.getLinkInformation();return f.fold(function(){return[]},function(d){var p=RS(c,gd(o.getHistory(t)));return t==="file"?u_([p,RS(c,Xz(d)),RS(c,Ce([Zz(d),Yz(d),i_(d)]))]):p})},s_=Yn("aria-invalid"),l_=function(t,r,o){var u,c=r.shared.providers,f=function(le){var Ie=_n.getValue(le);o.addToHistory(Ie.value,t.filetype)},d=ca.parts.field({factory:Uz,dismissOnBlur:!0,inputClasses:["tox-textfield"],sandboxClasses:["tox-dialog__popups"],inputAttributes:{"aria-errormessage":s_,type:"url"},minChars:0,responseTime:0,fetch:function(le){var Ie=Jz(t.filetype,le,o),xt=Cg(Ie,Jl.BUBBLE_TO_SANDBOX,r,!1);return Hi.pure(xt)},getHotspot:function(le){return q.getOpt(le)},onSetValue:function(le,Ie){le.hasConfigured(Bc)&&Bc.run(le).get(ae)},typeaheadBehaviours:Cn(Ce([o.getValidationHandler().map(function(le){return Bc.config({getRoot:function(Ie){return Lo(Ie.element)},invalidClass:"tox-control-wrap--status-invalid",notify:{onInvalid:function(Ie,xt){x.getOpt(Ie).each(function(yt){qr(yt.element,"title",c.translate(xt))})}},validator:{validate:function(Ie){var xt=_n.getValue(Ie);return jz.nu(function(yt){le({type:t.filetype,url:xt.value},function(Fe){if(Fe.status==="invalid"){var lt=jr.error(Fe.message);yt(lt)}else{var Mt=jr.value(Fe.message);yt(Mt)}})})},validateOnLoad:!1}})}).toArray(),[gr.config({disabled:function(){return t.disabled||c.isDisabled()}}),Do.config({}),$r("urlinput-events",Ce([t.filetype==="file"?[qt(Qd(),function(le){br(le,ss,{name:t.name})})]:[],[qt(em(),function(le){br(le,ss,{name:t.name}),f(le)}),qt(Zy(),function(le){br(le,ss,{name:t.name}),f(le)})]]))]])),eventOrder:(u={},u[Qd()]=["streaming","urlinput-events","invalidating"],u),model:{getDisplayText:function(le){return le.value},selectsOver:!1,populateFromBrowse:!1},markers:{openClass:"tox-textfield--popup-open"},lazySink:r.shared.getSink,parts:{menu:Ib(!1,1,"normal")},onExecute:function(le,Ie,xt){br(Ie,rp,{})},onItemExecute:function(le,Ie,xt,yt){f(le),br(le,ss,{name:t.name})}}),p=t.label.map(function(le){return sf(le,c)}),b=function(le,Ie,xt,yt){return yt===void 0&&(yt=le),gl(xt,{tag:"div",classes:["tox-icon","tox-control-wrap__status-icon-"+le],attributes:G({title:c.translate(yt),"aria-live":"polite"},Ie.fold(function(){return{}},function(Fe){return{id:Fe}}))},c.icons)},x=ya(b("invalid",A.some(s_),"warning")),O=ya({dom:{tag:"div",classes:["tox-control-wrap__status-icon-wrap"]},components:[x.asSpec()]}),P=o.getUrlPicker(t.filetype),V=Yn("browser.url.event"),q=ya({dom:{tag:"div",classes:["tox-control-wrap"]},components:[d,O.asSpec()],behaviours:Cn([gr.config({disabled:function(){return t.disabled||c.isDisabled()}})])}),te=ya(wS({name:t.name,icon:A.some("browse"),text:t.label.getOr(""),disabled:t.disabled,primary:!1,borderless:!0},function(le){return da(le,V)},c,[],["tox-browse-url"])),de=function(){return{dom:{tag:"div",classes:["tox-form__controls-h-stack"]},components:Ce([[q.asSpec()],P.map(function(){return te.asSpec()}).toArray()])}},Pe=function(le){ta.getCurrent(le).each(function(Ie){var xt=_n.getValue(Ie),yt=G({fieldname:t.name},xt);P.each(function(Fe){Fe(yt).get(function(lt){_n.setValue(Ie,lt),br(le,ss,{name:t.name})})})})};return ca.sketch({dom:sI(),components:p.toArray().concat([de()]),fieldBehaviours:Cn([gr.config({disabled:function(){return t.disabled||c.isDisabled()},onDisabled:function(le){ca.getField(le).each(gr.disable),te.getOpt(le).each(gr.disable)},onEnabled:function(le){ca.getField(le).each(gr.enable),te.getOpt(le).each(gr.enable)}}),Yo(),$r("url-input-events",[qt(V,Pe)])])})},Qz=function(t,r){return eu.sketch({dom:{tag:"div",attributes:{role:"alert"},classes:["tox-notification","tox-notification--in","tox-notification--"+t.level]},components:[{dom:{tag:"div",classes:["tox-notification__icon"]},components:[Ou.sketch({dom:{tag:"button",classes:["tox-button","tox-button--naked","tox-button--icon"],innerHtml:QA(t.icon,r.icons),attributes:{title:r.translate(t.iconTooltip)}},action:function(o){br(o,Mc,{name:"alert-banner",value:t.url})},buttonBehaviours:Cn([BC()])})]},{dom:{tag:"div",classes:["tox-notification__body"],innerHtml:r.translate(t.text)}}]})},e8=function(t,r){var o=_n.config({store:{mode:"manual",getValue:function(b){var x=b.element.dom;return x.checked},setValue:function(b,x){var O=b.element.dom;O.checked=x}}}),u=function(b){return b.element.dom.click(),A.some(!0)},c=ca.parts.field({factory:{sketch:_e},dom:{tag:"input",classes:["tox-checkbox__input"],attributes:{type:"checkbox"}},behaviours:Cn([ac.self(),gr.config({disabled:function(){return t.disabled||r.isDisabled()}}),Do.config({}),_r.config({}),o,sr.config({mode:"special",onEnter:u,onSpace:u,stopSpaceKeyup:!0}),$r("checkbox-events",[qt(em(),function(b,x){br(b,ss,{name:t.name})})])])}),f=ca.parts.label({dom:{tag:"span",classes:["tox-checkbox__label"],innerHtml:r.translate(t.label)},behaviours:Cn([fg.config({})])}),d=function(b){var x=b==="checked"?"selected":"unselected";return gl(x,{tag:"span",classes:["tox-icon","tox-checkbox-icon__"+b]},r.icons)},p=ya({dom:{tag:"div",classes:["tox-checkbox__icons"]},components:[d("checked"),d("unchecked")]});return ca.sketch({dom:{tag:"label",classes:["tox-checkbox"]},components:[c,p.asSpec(),f],fieldBehaviours:Cn([gr.config({disabled:function(){return t.disabled||r.isDisabled()},disableClass:"tox-checkbox--disabled",onDisabled:function(b){ca.getField(b).each(gr.disable)},onEnabled:function(b){ca.getField(b).each(gr.enable)}}),Yo()])})},t8=function(t){return t.presets==="presentation"?eu.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html}}):eu.sketch({dom:{tag:"div",classes:["tox-form__group"],innerHtml:t.html,attributes:{role:"document"}},containerBehaviours:Cn([Do.config({}),_r.config({})])})},bi=function(t){return function(r,o,u){return dt(o,"name").fold(function(){return t(o,u)},function(c){return r.field(c,t(o,u))})}},n8=function(t){return function(r,o,u){var c=Ot(o,{source:"dynamic"});return bi(t)(r,c,u)}},r8={bar:bi(function(t,r){return rI(t,r.shared)}),collection:bi(function(t,r){return lI(t,r.shared.providers)}),alertbanner:bi(function(t,r){return Qz(t,r.shared.providers)}),input:bi(function(t,r){return TS(t,r.shared.providers)}),textarea:bi(function(t,r){return Iz(t,r.shared.providers)}),label:bi(function(t,r){return UD(t,r.shared)}),iframe:n8(function(t,r){return k6(t,r.shared.providers)}),button:bi(function(t,r){return oz(t,r.shared.providers)}),checkbox:bi(function(t,r){return e8(t,r.shared.providers)}),colorinput:bi(function(t,r){return kI(t,r.shared,r.colorinput)}),colorpicker:bi(nD),dropzone:bi(function(t,r){return bg(t,r.shared.providers)}),grid:bi(function(t,r){return uD(t,r.shared)}),listbox:bi(function(t,r){return Rz(t,r)}),selectbox:bi(function(t,r){return j0(t,r.shared.providers)}),sizeinput:bi(function(t,r){return ID(t,r.shared.providers)}),urlinput:bi(function(t,r){return l_(t,r,r.urlinput)}),customeditor:bi(aD),htmlpanel:bi(t8),imagetools:bi(function(t,r){return Pz(t,r.shared.providers)}),table:bi(function(t,r){return Fz(t,r.shared.providers)}),panel:bi(function(t,r){return Nz(t,r)})},a8={field:function(t,r){return r}},c_=function(t,r,o){var u=Ot(o,{shared:{interpreter:function(c){return NS(t,c,u)}}});return NS(t,r,u)},NS=function(t,r,o){return dt(r8,r.type).fold(function(){return r},function(u){return u(t,r,o)})},o8=function(t,r){var o=a8;return NS(o,t,r)},FS={valignCentre:[],alignCentre:[],alignLeft:[],alignRight:[],right:[],left:[],bottom:[],top:[]},i8=function(t,r,o){var u=12,c={maxHeightFunction:fh()},f=function(){return{type:"node",root:wn(t()),node:A.from(t()),bubble:wm(u,u,FS),layouts:{onRtl:function(){return[td]},onLtr:function(){return[Hh]}},overrides:c}},d=function(){return{type:"hotspot",hotspot:r(),bubble:wm(-u,u,FS),layouts:{onRtl:function(){return[Yi]},onLtr:function(){return[Zi]}},overrides:c}};return function(){return o()?f():d()}},u8=function(t,r,o){var u=function(){return{type:"node",root:wn(t()),node:A.from(t()),layouts:{onRtl:function(){return[Kl]},onLtr:function(){return[Kl]}}}},c=function(){return{type:"hotspot",hotspot:r(),layouts:{onRtl:function(){return[Ko]},onLtr:function(){return[Ko]}}}};return function(){return o()?u():c()}},s8=function(t,r){return function(){return{type:"selection",root:r(),getSelection:function(){var o=t.selection.getRng();return A.some(gh.range(ce.fromDom(o.startContainer),o.startOffset,ce.fromDom(o.endContainer),o.endOffset))}}}},l8=function(t){return function(r){return{type:"node",root:t(),node:r}}},c8=function(t,r,o){var u=Wb(t),c=function(){return ce.fromDom(t.getBody())},f=function(){return ce.fromDom(t.getContentAreaContainer())},d=function(){return u||!o()};return{inlineDialog:i8(f,r,d),banner:u8(f,r,d),cursor:s8(t,c),node:l8(c)}},IS=function(t){return function(r,o){var u=C4(t);u(r,o)}},f_=function(t){return function(){return m4(t)}},f8=function(t){return function(){return mx(t)}},v8=function(t){return function(){return n0(t)}},d8=function(t){return{colorPicker:IS(t),hasCustomColors:f_(t),getColors:f8(t),getColorCols:v8(t)}},m8=function(t){return function(){return V5(t)}},g8=function(t){return{isDraggableModal:m8(t)}},h8=function(t){var r=Cr(U3(t)?"bottom":"top");return{isPositionedAtTop:function(){return r.get()==="top"},getDockingMode:r.get,setDockingMode:r.set}},v_=[{title:"Headings",items:[{title:"Heading 1",format:"h1"},{title:"Heading 2",format:"h2"},{title:"Heading 3",format:"h3"},{title:"Heading 4",format:"h4"},{title:"Heading 5",format:"h5"},{title:"Heading 6",format:"h6"}]},{title:"Inline",items:[{title:"Bold",format:"bold"},{title:"Italic",format:"italic"},{title:"Underline",format:"underline"},{title:"Strikethrough",format:"strikethrough"},{title:"Superscript",format:"superscript"},{title:"Subscript",format:"subscript"},{title:"Code",format:"code"}]},{title:"Blocks",items:[{title:"Paragraph",format:"p"},{title:"Blockquote",format:"blockquote"},{title:"Div",format:"div"},{title:"Pre",format:"pre"}]},{title:"Align",items:[{title:"Left",format:"alignleft"},{title:"Center",format:"aligncenter"},{title:"Right",format:"alignright"},{title:"Justify",format:"alignjustify"}]}],p8=function(t){return Wt(t,"items")},b8=function(t){return Wt(t,"block")},G0=function(t){return Wt(t,"inline")},y8=function(t){return Wt(t,"selector")},d_=function(t){return zt(t,function(r,o){if(p8(o)){var u=d_(o.items);return{customFormats:r.customFormats.concat(u.customFormats),formats:r.formats.concat([{title:o.title,items:u.formats}])}}else if(G0(o)||b8(o)||y8(o)){var c=_(o.name)?o.name:o.title.toLowerCase(),f="custom-"+c;return{customFormats:r.customFormats.concat([{name:f,format:o}]),formats:r.formats.concat([{title:o.title,format:f,icon:o.icon}])}}else return G(G({},r),{formats:r.formats.concat(o)})},{customFormats:[],formats:[]})},m_=function(t,r){var o=d_(r),u=function(c){Ke(c,function(f){t.formatter.has(f.name)||t.formatter.register(f.name,f.format)})};return t.formatter?u(o.customFormats):t.on("init",function(){u(o.customFormats)}),o.formats},vv=function(t){return R5(t).map(function(r){var o=m_(t,r);return of(t)?v_.concat(o):o}).getOr(v_)},g_=function(t,r,o){var u={type:"formatter",isSelected:r(t.format),getStylePreview:o(t.format)};return Ot(t,u)},K0=function(t,r,o,u){var c=function(b){return g_(b,o,u)},f=function(b){var x={type:"submenu"};return Ot(b,x)},d=function(b){var x=_(b.name)?b.name:Yn(b.title),O="custom-"+x,P={type:"formatter",format:O,isSelected:o(O),getStylePreview:u(O)},V=Ot(b,P);return t.formatter.register(x,V),V},p=function(b){return St(b,function(x){var O=ot(x);if(Bn(x,"items")){var P=p(x.items);return Ot(f(x),{getStyleItems:L(P)})}else return Bn(x,"format")?c(x):O.length===1&&tn(O,"title")?Ot(x,{type:"separator"}):d(x)})};return p(r)},X0=function(t){var r=function(P){return function(){return t.formatter.match(P)}},o=function(P){return function(){var V=t.formatter.get(P);return V!==void 0?A.some({tag:V.length>0&&(V[0].inline||V[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(P))}):A.none()}},u=function(P){var V=P.items;return V!==void 0&&V.length>0?pt(V,u):[P.format]},c=Cr([]),f=Cr([]),d=Cr([]),p=Cr([]),b=Cr(!1);t.on("PreInit",function(P){var V=vv(t),q=K0(t,V,r,o);c.set(q),f.set(pt(q,u))}),t.on("addStyleModifications",function(P){var V=K0(t,P.items,r,o);d.set(V),b.set(P.replace),p.set(pt(V,u))});var x=function(){var P=b.get()?[]:c.get(),V=d.get();return P.concat(V)},O=function(){var P=b.get()?[]:f.get(),V=p.get();return P.concat(V)};return{getData:x,getFlattenedKeys:O}},w8=function(t){return W(t)&&t.nodeType===1},C8=cv.trim,h_=function(t){return function(r){return!!(w8(r)&&(r.contentEditable===t||r.getAttribute("data-mce-contenteditable")===t))}},x8=h_("true"),S8=h_("false"),dv=function(t,r,o,u,c){return{type:t,title:r,url:o,level:u,attach:c}},p_=function(t){for(;t=t.parentNode;){var r=t.contentEditable;if(r&&r!=="inherit")return x8(t)}return!1},k8=function(t,r){return St(Eu(ce.fromDom(r),t),function(o){return o.dom})},b_=function(t){return t.innerText||t.textContent},E8=function(t){return t.id?t.id:Yn("h")},T8=function(t){return t&&t.nodeName==="A"&&(t.id||t.name)!==void 0},A8=function(t){return T8(t)&&Y0(t)},y_=function(t){return t&&/^(H[1-6])$/.test(t.nodeName)},Y0=function(t){return p_(t)&&!S8(t)},pp=function(t){return y_(t)&&Y0(t)},Z0=function(t){return y_(t)?parseInt(t.nodeName.substr(1),10):0},J0=function(t){var r=E8(t),o=function(){t.id=r};return dv("header",b_(t),"#"+r,Z0(t),o)},hd=function(t){var r=t.id||t.name,o=b_(t);return dv("anchor",o||"#"+r,"#"+r,0,ae)},Q0=function(t){return St(We(t,pp),J0)},O8=function(t){return St(We(t,A8),hd)},w_=function(t){var r=k8("h1,h2,h3,h4,h5,h6,a:not([href])",t);return r},C_=function(t){return C8(t.title).length>0},x_=function(t){var r=w_(t);return We(Q0(r).concat(O8(r)),C_)},D8={find:x_},zS="tinymce-url-history",S_=5,k_=function(t){return _(t)&&/^https?/.test(t)},_8=function(t){return z(t)&&t.length<=S_&&pn(t,k_)},ey=function(t){return M(t)&&Ee(t,function(r){return!_8(r)}).isNone()},ty=function(){var t=Jb.getItem(zS);if(t===null)return{};var r;try{r=JSON.parse(t)}catch(o){if(o instanceof SyntaxError)return{};throw o}return ey(r)?r:{}},M8=function(t){if(!ey(t))throw new Error(`Bad format for history:
`+JSON.stringify(t));Jb.setItem(zS,JSON.stringify(t))},E_=function(t){var r=ty();return dt(r,t).getOr([])},B8=function(t,r){if(k_(t)){var o=ty(),u=dt(o,r).getOr([]),c=We(u,function(f){return f!==t});o[r]=[t].concat(c).slice(0,S_),M8(o)}},ny=function(t){return!!t},P8=function(t){return Jt(cv.makeMap(t,/[, ]/),ny)},$S=function(t){return A.from(q5(t)).filter(ve)},pd=function(t){var r=A.some(G5(t)).filter(ny),o=A.some(K5(t)).filter(ny),u=r.or(o).map(P8);return $S(t).fold(je,function(c){return u.fold(Ze,function(f){return ot(f).length>0?f:!1})})},T_=function(t,r){var o=pd(t);return Y(o)?o?$S(t):A.none():o[r]?$S(t):A.none()},R8=function(t,r){return T_(t,r).map(function(o){return function(u){return Hi.nu(function(c){var f=function(p,b){if(!_(p))throw new Error("Expected value to be string");if(b!==void 0&&!M(b))throw new Error("Expected meta to be a object");var x={value:p,meta:b};c(x)},d=G({filetype:r,fieldname:u.fieldname},A.from(u.meta).getOr({}));o.call(t,f,u.value,d)})}})},LS=function(t){return A.from(t).filter(_).getOrUndefined()},N8=function(t){return X5(t)?A.none():A.some({targets:D8.find(t.getBody()),anchorTop:LS(G3(t)),anchorBottom:LS(Y5(t))})},ry=function(t){return A.from(Z5(t))},wl=function(t){return{getHistory:E_,addToHistory:B8,getLinkInformation:function(){return N8(t)},getValidationHandler:function(){return ry(t)},getUrlPicker:function(r){return R8(t,r)}}},F8=function(t,r,o){var u=Cr(!1),c=h8(r),f={shared:{providers:{icons:function(){return r.ui.registry.getAll().icons},menuItems:function(){return r.ui.registry.getAll().menuItems},translate:ml.translate,isDisabled:function(){return r.mode.isReadOnly()||r.ui.isDisabled()},getSetting:r.getParam.bind(r)},interpreter:function(d){return o8(d,f)},anchors:c8(r,o,c.isPositionedAtTop),header:c,getSink:function(){return jr.value(t)}},urlinput:wl(r),styleselect:X0(r),colorinput:d8(r),dialog:g8(r),isContextMenuOpen:function(){return u.get()},setContextMenuState:function(d){return u.set(d)}};return f},Pc=function(t,r,o){var u=function(yt,Fe){Ke([r,o],function(lt){lt.broadcastEvent(yt,Fe)})},c=function(yt,Fe){Ke([r,o],function(lt){lt.broadcastOn([yt],Fe)})},f=function(yt){return c(jv(),{target:yt.target})},d=sh(),p=jo(d,"touchstart",f),b=jo(d,"touchmove",function(yt){return u(ew(),yt)}),x=jo(d,"touchend",function(yt){return u(NM(),yt)}),O=jo(d,"mousedown",f),P=jo(d,"mouseup",function(yt){yt.raw.button===0&&c(f2(),{target:yt.target})}),V=function(yt){return c(jv(),{target:ce.fromDom(yt.target)})},q=function(yt){yt.button===0&&c(f2(),{target:ce.fromDom(yt.target)})},te=function(){Ke(t.editorManager.get(),function(yt){t!==yt&&yt.fire("DismissPopups",{relatedTarget:t})})},de=function(yt){return u(tw(),Ww(yt))},Pe=function(yt){c(Am(),{}),u(Bl(),Ww(yt))},le=function(){return c(Am(),{})},Ie=function(yt){yt.state&&c(jv(),{target:ce.fromDom(t.getContainer())})},xt=function(yt){c(jv(),{target:ce.fromDom(yt.relatedTarget.getContainer())})};t.on("PostRender",function(){t.on("click",V),t.on("tap",V),t.on("mouseup",q),t.on("mousedown",te),t.on("ScrollWindow",de),t.on("ResizeWindow",Pe),t.on("ResizeEditor",le),t.on("AfterProgressState",Ie),t.on("DismissPopups",xt)}),t.on("remove",function(){t.off("click",V),t.off("tap",V),t.off("mouseup",q),t.off("mousedown",te),t.off("ScrollWindow",de),t.off("ResizeWindow",Pe),t.off("ResizeEditor",le),t.off("AfterProgressState",Ie),t.off("DismissPopups",xt),O.unbind(),p.unbind(),b.unbind(),x.unbind(),P.unbind()}),t.on("detach",function(){Tu(r),Tu(o),r.destroy(),o.destroy()})},qu=kr,bd=gT,A_=L([$e("shell",!1),jt("makeItem"),$e("setupItem",ae),Qs.field("listBehaviours",[Dr])]),ay=function(){return{behaviours:Cn([Dr.config({})])}},mv=vl({name:"items",overrides:ay}),Gu=L([mv]),I8=L("CustomList"),O_=function(t,r,o,u){var c=function(p,b){d(p).fold(function(){throw new Error("Custom List was defined to not be a shell, but no item container was specified in components")},function(x){var O=Dr.contents(x),P=b.length,V=P-O.length,q=V>0?X(V,function(){return t.makeItem()}):[],te=O.slice(P);Ke(te,function(Pe){return Dr.remove(x,Pe)}),Ke(q,function(Pe){return Dr.append(x,Pe)});var de=Dr.contents(x);Ke(de,function(Pe,le){t.setupItem(p,Pe,b[le],le)})})},f=t.shell?{behaviours:[Dr.config({})],components:[]}:{behaviours:[],components:r},d=function(p){return t.shell?A.some(p):La(p,t,"items")};return{uid:t.uid,dom:t.dom,components:f.components,behaviours:Mi(t.listBehaviours,f.behaviours),apis:{setItems:c}}},HS=Au({name:I8(),configFields:A_(),partFields:Gu(),factory:O_,apis:{setItems:function(t,r,o){t.setItems(r,o)}}}),yd=L([jt("dom"),$e("shell",!0),ii("toolbarBehaviours",[Dr])]),z8=function(){return{behaviours:Cn([Dr.config({})])}},$8=L([vl({name:"groups",overrides:z8})]),gv=function(t,r,o,u){var c=function(p,b){f(p).fold(function(){throw new Error("Toolbar was defined to not be a shell, but no groups container was specified in components")},function(x){Dr.set(x,b)})},f=function(p){return t.shell?A.some(p):La(p,t,"groups")},d=t.shell?{behaviours:[Dr.config({})],components:[]}:{behaviours:[],components:r};return{uid:t.uid,dom:t.dom,components:d.components,behaviours:Mi(t.toolbarBehaviours,d.behaviours),apis:{setGroups:c},domModification:{attributes:{role:"group"}}}},Cl=Au({name:"Toolbar",configFields:yd(),partFields:$8(),factory:gv,apis:{setGroups:function(t,r,o){t.setGroups(r,o)}}}),xg=ae,oy=je,VS=L([]),L8=Object.freeze({__proto__:null,setup:xg,isDocked:oy,getBehaviours:VS}),D_=function(t){var r=pr(Oi(t,"position"),"fixed"),o=r?A.none():Zu(t);return o.orThunk(function(){var u=ce.fromTag("span");return Lo(t).bind(function(c){qi(c,u);var f=Zu(u);return ys(u),f})})},__=function(t){return D_(t).map(bu).getOrThunk(function(){return Ka(0,0)})},US=Ks.generate([{static:[]},{absolute:["positionCss"]},{fixed:["positionCss"]}]),Sg=function(t,r){var o=t.element;ri(o,r.transitionClass),Go(o,r.fadeOutClass),ri(o,r.fadeInClass),r.onShow(t)},H8=function(t,r){var o=t.element;ri(o,r.transitionClass),Go(o,r.fadeInClass),ri(o,r.fadeOutClass),r.onHide(t)},V8=function(t,r){return t.y<r.bottom&&t.bottom>r.y},U8=function(t,r){return t.y>=r.y},W8=function(t,r){return t.bottom<=r.bottom},M_=function(t,r,o){return pn(t,function(u){switch(u){case"bottom":return W8(r,o);case"top":return U8(r,o)}})},bp=function(t,r){return r.getInitialPos().map(function(o){return mi(o.bounds.x,o.bounds.y,uu(t),ti(t))})},j8=function(t,r,o){o.setInitialPos({style:Lc(t),position:Fo(t,"position")||"static",bounds:r})},WS=function(t,r,o){return o.getInitialPos().bind(function(u){switch(o.clearInitialPos(),u.position){case"static":return A.some(US.static());case"absolute":var c=D_(t).map(gi).getOrThunk(function(){return gi(Aa())});return A.some(US.absolute(cl("absolute",dt(u.style,"left").map(function(f){return r.x-c.x}),dt(u.style,"top").map(function(f){return r.y-c.y}),dt(u.style,"right").map(function(f){return c.right-r.right}),dt(u.style,"bottom").map(function(f){return c.bottom-r.bottom}))));default:return A.none()}})},jS=function(t,r,o){return bp(t,o).filter(function(u){return M_(o.getModes(),u,r)}).bind(function(u){return WS(t,u,o)})},B_=function(t,r,o){var u=gi(t);if(M_(o.getModes(),u,r))return A.none();j8(t,u,o);var c=xs(),f=u.x-c.x,d=r.y-c.y,p=c.bottom-r.bottom,b=u.y<=r.y;return A.some(US.fixed(cl("fixed",A.some(f),b?A.some(d):A.none(),A.none(),b?A.none():A.some(p))))},iy=function(t,r,o){var u=t.element,c=pr(Oi(u,"position"),"fixed");return c?jS(u,r,o):B_(u,r,o)},uy=function(t,r){var o=t.element;return bp(o,r).bind(function(u){return WS(o,u,r)})},hv=function(t,r,o){o.setDocked(!1),Ke(["left","right","top","bottom","position"],function(u){return Ia(t.element,u)}),r.onUndocked(t)},qS=function(t,r,o,u){var c=u.position==="fixed";o.setDocked(c),Hf(t.element,u);var f=c?r.onDocked:r.onUndocked;f(t)},P_=function(t,r,o,u,c){c===void 0&&(c=!1),r.contextual.each(function(f){f.lazyContext(t).each(function(d){var p=V8(d,u);if(p!==o.isVisible())if(o.setVisible(p),c&&!p)Rv(t.element,[f.fadeOutClass]),f.onHide(t);else{var b=p?Sg:H8;b(t,f)}})})},GS=function(t,r,o){var u=r.lazyViewport(t),c=o.isDocked();c&&P_(t,r,o,u),iy(t,u,o).each(function(f){f.fold(function(){return hv(t,r,o)},function(d){return qS(t,r,o,d)},function(d){P_(t,r,o,u,!0),qS(t,r,o,d)})})},q8=function(t,r,o){var u=t.element;o.setDocked(!1),uy(t,o).each(function(c){c.fold(function(){return hv(t,r,o)},function(f){return qS(t,r,o,f)},ae)}),o.setVisible(!0),r.contextual.each(function(c){Os(u,[c.fadeInClass,c.fadeOutClass,c.transitionClass]),c.onShow(t)}),kg(t,r,o)},kg=function(t,r,o){t.getSystem().isConnected()&&GS(t,r,o)},KS=function(t,r,o){o.isDocked()&&q8(t,r,o)},G8=function(t,r,o){return o.isDocked()},K8=function(t,r,o,u){return o.setModes(u)},yp=function(t,r,o){return o.getModes()},XS=Object.freeze({__proto__:null,refresh:kg,reset:KS,isDocked:G8,getModes:yp,setModes:K8}),X8=function(t,r){return $a([Uo(Jg(),function(o,u){t.contextual.each(function(c){if(Cu(o.element,c.transitionClass)){Os(o.element,[c.transitionClass,c.fadeInClass]);var f=r.isVisible()?c.onShown:c.onHidden;f(o)}u.stop()})}),qt(tw(),function(o,u){kg(o,t,r)}),qt(Bl(),function(o,u){KS(o,t,r)})])},Y8=Object.freeze({__proto__:null,events:X8}),R_=[ks("contextual",[Or("fadeInClass"),Or("fadeOutClass"),Or("transitionClass"),cu("lazyContext"),ba("onShow"),ba("onShown"),ba("onHide"),ba("onHidden")]),Xa("lazyViewport",xs),Xg("modes",["top","bottom"],Vo),ba("onDocked"),ba("onUndocked")],Z8=function(t){var r=Cr(!1),o=Cr(!0),u=Bo(),c=Cr(t.modes),f=function(){return"docked:  "+r.get()+", visible: "+o.get()+", modes: "+c.get().join(",")};return ns({isDocked:r.get,setDocked:r.set,getInitialPos:u.get,setInitialPos:u.set,clearInitialPos:u.clear,isVisible:o.get,setVisible:o.set,getModes:c.get,setModes:c.set,readState:f})},J8=Object.freeze({__proto__:null,init:Z8}),e=pi({fields:R_,name:"docking",active:Y8,apis:XS,state:J8}),n=L(Yn("toolbar-height-change")),a={fadeInClass:"tox-editor-dock-fadein",fadeOutClass:"tox-editor-dock-fadeout",transitionClass:"tox-editor-dock-transition"},i="tox-tinymce--toolbar-sticky-on",s="tox-tinymce--toolbar-sticky-off",l=function(t,r){var o=ei(r),u=o.dom.defaultView.innerHeight,c=ws(o),f=ce.fromDom(t.elm),d=mc(f),p=ti(f),b=d.y,x=b+p,O=bu(r),P=ti(r),V=O.top,q=V+P,te=Math.abs(V-c.top)<2,de=Math.abs(q-(c.top+u))<2;if(te&&b<q)Ld(c.left,b-P,o);else if(de&&x>V){var Pe=b-u+p+P;Ld(c.left,Pe,o)}},v=function(t,r){return tn(e.getModes(t),r)},m=function(t){var r=function(u){return bs(u)+(parseInt(Fo(u,"margin-top"),10)||0)+(parseInt(Fo(u,"margin-bottom"),10)||0)},o=t.element;Lo(o).each(function(u){var c="padding-"+e.getModes(t)[0];if(e.isDocked(t)){var f=uu(u);Mr(o,"width",f+"px"),Mr(u,c,r(o)+"px")}else Ia(o,"width"),Ia(u,c)})},g=function(t,r){r?(Go(t,a.fadeOutClass),Rv(t,[a.transitionClass,a.fadeInClass])):(Go(t,a.fadeInClass),Rv(t,[a.fadeOutClass,a.transitionClass]))},E=function(t,r){var o=ce.fromDom(t.getContainer());r?(ri(o,i),Go(o,s)):(ri(o,s),Go(o,i))},N=function(t,r){var o=ei(r);$l(o).filter(function(u){return!_a(r,u)}).filter(function(u){return _a(u,ce.fromDom(o.dom.body))||Wi(t,u)}).each(function(){return zl(r)})},F=function(t,r){return Ll(t).orThunk(function(){return r().toOptional().bind(function(o){return Ll(o.element)})})},$=function(t,r,o){t.inline||(r.header.isPositionedAtTop()||t.on("ResizeEditor",function(){o().each(e.reset)}),t.on("ResizeWindow ResizeEditor",function(){o().each(m)}),t.on("SkinLoaded",function(){o().each(function(u){e.isDocked(u)?e.reset(u):e.refresh(u)})}),t.on("FullscreenStateChanged",function(){o().each(e.reset)})),t.on("AfterScrollIntoView",function(u){o().each(function(c){e.refresh(c);var f=c.element;VT(f)&&l(u,f)})}),t.on("PostRender",function(){E(t,!1)})},ee=function(t){return t().map(e.isDocked).getOr(!1)},ne=function(){var t;return[Uu.config({channels:(t={},t[n()]={onReceive:m},t)})]},re=function(t,r){var o=Bo(),u=r.getSink,c=function(p){u().each(function(b){return p(b.element)})},f=function(p){t.inline||m(p),E(t,e.isDocked(p)),p.getSystem().broadcastOn([Am()],{}),u().each(function(b){return b.getSystem().broadcastOn([Am()],{})})},d=t.inline?[]:ne();return ct([_r.config({}),e.config({contextual:G({lazyContext:function(p){var b=bs(p.element),x=t.inline?t.getContentAreaContainer():t.getContainer(),O=gi(ce.fromDom(x)),P=O.height-b,V=O.y+(v(p,"top")?0:b);return A.some(mi(O.x,V,O.width,P))},onShow:function(){c(function(p){return g(p,!0)})},onShown:function(p){c(function(b){return Os(b,[a.transitionClass,a.fadeInClass])}),o.get().each(function(b){N(p.element,b),o.clear()})},onHide:function(p){F(p.element,u).fold(o.clear,o.set),c(function(b){return g(b,!1)})},onHidden:function(){c(function(p){return Os(p,[a.transitionClass])})}},a),lazyViewport:function(p){var b=xs(),x=H5(t),O=b.y+(v(p,"top")?x:0),P=b.height-(v(p,"bottom")?x:0);return mi(b.x,O,b.width,P)},modes:[r.header.getDockingMode()],onDocked:f,onUndocked:f})],d,!0)},ie=Object.freeze({__proto__:null,setup:$,isDocked:ee,getBehaviours:re}),we=function(t){var r=t.editor,o=t.sticky?re:VS;return{uid:t.uid,dom:t.dom,components:t.components,behaviours:Cn(o(r,t.sharedBackstage))}},ge=dr([Or("type"),Ju("items",zy([$y([Or("name"),yu("items",Vo)]),Vo]))].concat(qm)),Je=function(t){return To("GroupToolbarButton",ge,t)},qe=[no("text"),no("tooltip"),no("icon"),cu("fetch"),Xa("onSetup",function(){return ae})],De=dr(ct([Or("type")],qe,!0)),nt=function(t){return To("menubutton",De,t)},Rt=dr([Or("type"),no("tooltip"),no("icon"),no("text"),Ov("select"),cu("fetch"),Xa("onSetup",function(){return ae}),qs("presets","normal",["normal","color","listpreview"]),$e("columns",1),cu("onAction"),cu("onItemAction")]),en=function(t){return To("SplitButton",Rt,t)},yr=function(t,r){var o=function(c,f){var d=St(f,function(p){var b={type:"menubutton",text:p.text,fetch:function(O){O(p.getItems())}},x=nt(b).mapError(function(O){return Xd(O)}).getOrDie();return V0(x,"tox-mbtn",r.backstage,A.some("menuitem"))});Dr.set(c,d)},u={focus:sr.focusIn,setMenus:o};return{uid:t.uid,dom:t.dom,components:[],behaviours:Cn([Dr.config({}),$r("menubar-events",[Hr(function(c){t.onSetup(c)}),qt(Sf(),function(c,f){ai(c.element,".tox-mbtn--active").each(function(d){Il(f.event.target,".tox-mbtn").each(function(p){_a(d,p)||c.getSystem().getByDom(d).each(function(b){c.getSystem().getByDom(p).each(function(x){pl.expand(x),pl.close(b),_r.focus(x)})})})})}),qt(Zp(),function(c,f){f.event.prevFocus.bind(function(d){return c.getSystem().getByDom(d).toOptional()}).each(function(d){f.event.newFocus.bind(function(p){return c.getSystem().getByDom(p).toOptional()}).each(function(p){pl.isOpen(d)&&(pl.expand(p),pl.close(d))})})})]),sr.config({mode:"flow",selector:".tox-mbtn",onEscape:function(c){return t.onEscape(c),A.some(!0)}}),Do.config({})]),apis:u,domModification:{attributes:{role:"menubar"}}}},Fn=Bs({factory:yr,name:"silver.Menubar",configFields:[jt("dom"),jt("uid"),jt("onEscape"),jt("backstage"),$e("onSetup",ae)],apis:{focus:function(t,r){t.focus(r)},setMenus:function(t,r,o){t.setMenus(r,o)}}}),Ft=function(t,r){return r.getAnimationRoot.fold(function(){return t.element},function(o){return o(t)})},ar=function(t){return t.dimension.property},on=function(t,r){return t.dimension.getDimension(r)},Pn=function(t,r){var o=Ft(t,r);Os(o,[r.shrinkingClass,r.growingClass])},un=function(t,r){Go(t.element,r.openClass),ri(t.element,r.closedClass),Mr(t.element,ar(r),"0px"),Hc(t.element)},xn=function(t,r){Go(t.element,r.closedClass),ri(t.element,r.openClass),Ia(t.element,ar(r))},Vn=function(t,r,o,u){o.setCollapsed(),Mr(t.element,ar(r),on(r,t.element)),Hc(t.element),Pn(t,r),un(t,r),r.onStartShrink(t),r.onShrunk(t)},Yt=function(t,r,o,u){var c=u.getOrThunk(function(){return on(r,t.element)});o.setCollapsed(),Mr(t.element,ar(r),c),Hc(t.element);var f=Ft(t,r);Go(f,r.growingClass),ri(f,r.shrinkingClass),un(t,r),r.onStartShrink(t)},zn=function(t,r,o){var u=on(r,t.element),c=u==="0px"?Vn:Yt;c(t,r,o,A.some(u))},Gr=function(t,r,o){var u=Ft(t,r),c=Cu(u,r.shrinkingClass),f=on(r,t.element);xn(t,r);var d=on(r,t.element),p=function(){Mr(t.element,ar(r),f),Hc(t.element)},b=function(){un(t,r)},x=c?p:b;x(),Go(u,r.shrinkingClass),ri(u,r.growingClass),xn(t,r),Mr(t.element,ar(r),d),o.setExpanded(),r.onStartGrow(t)},ma=function(t,r,o){if(o.isExpanded()){Ia(t.element,ar(r));var u=on(r,t.element);Mr(t.element,ar(r),u)}},fa=function(t,r,o){o.isExpanded()||Gr(t,r,o)},yi=function(t,r,o){o.isExpanded()&&zn(t,r,o)},go=function(t,r,o){o.isExpanded()&&Vn(t,r,o)},vu=function(t,r,o){return o.isExpanded()},cs=function(t,r,o){return o.isCollapsed()},Zt=function(t,r,o){var u=Ft(t,r);return Cu(u,r.growingClass)===!0},hn=function(t,r,o){var u=Ft(t,r);return Cu(u,r.shrinkingClass)===!0},or=function(t,r,o){return Zt(t,r)||hn(t,r)},st=function(t,r,o){var u=o.isExpanded()?zn:Gr;u(t,r,o)},rn=Object.freeze({__proto__:null,refresh:ma,grow:fa,shrink:yi,immediateShrink:go,hasGrown:vu,hasShrunk:cs,isGrowing:Zt,isShrinking:hn,isTransitioning:or,toggleGrow:st,disableTransitions:Pn}),Qt=function(t,r,o){var u=r.expanded;return ll(u?{classes:[r.openClass],styles:{}}:{classes:[r.closedClass],styles:gc(r.dimension.property,"0px")})},lr=function(t,r){return $a([Uo(Jg(),function(o,u){var c=u.event.raw;if(c.propertyName===t.dimension.property){Pn(o,t),r.isExpanded()&&Ia(o.element,t.dimension.property);var f=r.isExpanded()?t.onGrown:t.onShrunk;f(o)}})])},hr=Object.freeze({__proto__:null,exhibit:Qt,events:lr}),Na=[jt("closedClass"),jt("openClass"),jt("shrinkingClass"),jt("growingClass"),Oa("getAnimationRoot"),ba("onShrunk"),ba("onStartShrink"),ba("onGrown"),ba("onStartGrow"),$e("expanded",!1),Ju("dimension",Ws("property",{width:[ro("property","width"),ro("getDimension",function(t){return uu(t)+"px"})],height:[ro("property","height"),ro("getDimension",function(t){return ti(t)+"px"})]}))],si=function(t){var r=Cr(t.expanded),o=function(){return"expanded: "+r.get()};return ns({isExpanded:function(){return r.get()===!0},isCollapsed:function(){return r.get()===!1},setCollapsed:Be(r.set,!1),setExpanded:Be(r.set,!0),readState:o})},Zo=Object.freeze({__proto__:null,init:si}),nu=pi({fields:Na,name:"sliding",active:hr,apis:rn,state:Zo}),ru="container",Mu=[ii("slotBehaviours",[])],Jo=function(t){return"<alloy.field."+t+">"},Is=function(t){var r=function(){var f=[],d=function(p,b){return f.push(p),E2(ru,Jo(p),b)};return{slot:d,record:L(f)}}(),o=t(r),u=r.record(),c=St(u,function(f){return Qi({name:f,pname:Jo(f)})});return _2(ru,Mu,c,Bu,o)},Bu=function(t,r){var o=function(de){return wT(t)},u=function(de,Pe){return La(de,t,Pe)},c=function(de,Pe){return function(le,Ie){return La(le,t,Ie).map(function(xt){return de(xt,Ie)}).getOr(Pe)}},f=function(de){return function(Pe,le){Ke(le,function(Ie){return de(Pe,Ie)})}},d=function(de,Pe){return vo(de.element,"aria-hidden")!=="true"},p=function(de,Pe){if(!d(de)){var le=de.element;Ia(le,"display"),Ai(le,"aria-hidden"),br(de,Jp(),{name:Pe,visible:!0})}},b=function(de,Pe){if(d(de)){var le=de.element;Mr(le,"display","none"),qr(le,"aria-hidden","true"),br(de,Jp(),{name:Pe,visible:!1})}},x=c(d,!1),O=c(b),P=f(O),V=function(de){return P(de,o())},q=c(p),te={getSlotNames:o,getSlot:u,isShowing:x,hideSlot:O,hideAllSlots:V,showSlot:q};return{uid:t.uid,dom:t.dom,components:r,behaviours:W1(t.slotBehaviours),apis:te}},Rc=Jt({getSlotNames:function(t,r){return t.getSlotNames(r)},getSlot:function(t,r,o){return t.getSlot(r,o)},isShowing:function(t,r,o){return t.isShowing(r,o)},hideSlot:function(t,r,o){return t.hideSlot(r,o)},hideAllSlots:function(t,r){return t.hideAllSlots(r)},showSlot:function(t,r,o){return t.showSlot(r,o)}},function(t){return Mo(t)}),ga=G(G({},Rc),{sketch:Is}),ao=dr([no("icon"),no("tooltip"),Xa("onShow",ae),Xa("onHide",ae),Xa("onSetup",function(){return ae})]),li=function(t){return To("sidebar",ao,t)},oc=function(t){var r=t.ui.registry.getAll().sidebars;Ke(ot(r),function(o){var u=r[o],c=function(){return pr(A.from(t.queryCommandValue("ToggleSidebar")),o)};t.ui.registry.addToggleButton(o,{icon:u.icon,tooltip:u.tooltip,onAction:function(f){t.execCommand("ToggleSidebar",!1,o),f.setActive(c())},onSetup:function(f){var d=function(){return f.setActive(c())};return t.on("ToggleSidebar",d),function(){t.off("ToggleSidebar",d)}}})})},ic=function(t){return{element:function(){return t.element.dom}}},uc=function(t,r){var o=St(ot(r),function(u){var c=r[u],f=Dl(li(c));return{name:u,getApi:ic,onSetup:f.onSetup,onShow:f.onShow,onHide:f.onHide}});return St(o,function(u){var c=Cr(ae);return t.slot(u.name,{dom:{tag:"div",classes:["tox-sidebar__pane"]},behaviours:Ym.unnamedEvents([Qm(u,c),Kh(u,c),qt(Jp(),function(f,d){var p=d.event,b=kt(o,function(x){return x.name===p.name});b.each(function(x){var O=p.visible?x.onShow:x.onHide;O(x.getApi(f))})})])})})},pv=function(t){return ga.sketch(function(r){return{dom:{tag:"div",classes:["tox-sidebar__pane-container"]},components:uc(r,t),slotBehaviours:Ym.unnamedEvents([Hr(function(o){return ga.hideAllSlots(o)})])}})},YS=function(t,r){var o=ta.getCurrent(t);o.each(function(u){return Dr.set(u,[pv(r)])})},ZS=function(t,r){var o=ta.getCurrent(t);o.each(function(u){var c=ta.getCurrent(u);c.each(function(f){nu.hasGrown(u)?ga.isShowing(f,r)?nu.shrink(u):(ga.hideAllSlots(f),ga.showSlot(f,r)):(ga.hideAllSlots(f),ga.showSlot(f,r),nu.grow(u))})})},Q8=function(t){var r=ta.getCurrent(t);return r.bind(function(o){var u=nu.isGrowing(o)||nu.hasGrown(o);if(u){var c=ta.getCurrent(o);return c.bind(function(f){return kt(ga.getSlotNames(f),function(d){return ga.isShowing(f,d)})})}else return A.none()})},sy=Yn("FixSizeEvent"),ly=Yn("AutoSizeEvent"),e$=function(t){return{uid:t.uid,dom:{tag:"div",classes:["tox-sidebar"],attributes:{role:"complementary"}},components:[{dom:{tag:"div",classes:["tox-sidebar__slider"]},components:[],behaviours:Cn([Do.config({}),_r.config({}),nu.config({dimension:{property:"width"},closedClass:"tox-sidebar--sliding-closed",openClass:"tox-sidebar--sliding-open",shrinkingClass:"tox-sidebar--sliding-shrinking",growingClass:"tox-sidebar--sliding-growing",onShrunk:function(r){var o=ta.getCurrent(r);o.each(ga.hideAllSlots),da(r,ly)},onGrown:function(r){da(r,ly)},onStartGrow:function(r){br(r,sy,{width:Oi(r.element,"width").getOr("")})},onStartShrink:function(r){br(r,sy,{width:uu(r.element)+"px"})}}),Dr.config({}),ta.config({find:function(r){var o=Dr.contents(r);return Vt(o)}})])}],behaviours:Cn([ac.childAt(0),$r("sidebar-sliding-events",[qt(sy,function(r,o){Mr(r.element,"width",o.event.width)}),qt(ly,function(r,o){Ia(r.element,"width")})])])}},N_=function(t,r,o,u){qr(t.element,"aria-busy",!0);var c=r.getRoot(t).getOr(t),f=Cn([sr.config({mode:"special",onTab:function(){return A.some(!0)},onShiftTab:function(){return A.some(!0)}}),_r.config({})]),d=u(c,f),p=c.getSystem().build(d);Dr.append(c,Ds(p)),p.hasConfigured(sr)&&r.focus&&sr.focusIn(p),o.isBlocked()||r.onBlock(t),o.blockWith(function(){return Dr.remove(c,p)})},t$=function(t,r,o){Ai(t.element,"aria-busy"),o.isBlocked()&&r.onUnblock(t),o.clear()},n$=Object.freeze({__proto__:null,block:N_,unblock:t$}),r$=[Xa("getRoot",A.none),Ao("focus",!0),ba("onBlock"),ba("onUnblock")],a$=function(){var t=Hw(),r=function(o){t.set({destroy:o})};return ns({readState:t.isSet,blockWith:r,clear:t.clear,isBlocked:t.isSet})},wd=Object.freeze({__proto__:null,init:a$}),Nc=pi({fields:r$,name:"blocking",apis:n$,state:wd}),Ne=function(t){return function(r,o){return{dom:{tag:"div",attributes:{"aria-label":t.translate("Loading..."),tabindex:"0"},classes:["tox-throbber__busy-spinner"]},components:[{dom:rf('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}}},ht=function(t){return ta.getCurrent(t).each(function(r){return zl(r.element)})},cn=function(t,r){var o="tabindex",u="data-mce-"+o;A.from(t.iframeElement).map(ce.fromDom).each(function(c){r?(Ho(c,o).each(function(f){return qr(c,u,f)}),qr(c,o,-1)):(Ai(c,o),Ho(c,u).each(function(f){qr(c,o,f),Ai(c,u)}))})},Sn=function(t,r,o,u){var c=r.element;if(cn(t,o),o)Nc.block(r,Ne(u)),Ia(c,"display"),Ai(c,"aria-hidden"),t.hasFocus()&&ht(r);else{var f=ta.getCurrent(r).exists(function(d){return Nw(d.element)});Nc.unblock(r),Mr(c,"display","none"),qr(c,"aria-hidden","true"),f&&t.focus()}},Ur=function(t){return{uid:t.uid,dom:{tag:"div",attributes:{"aria-hidden":"true"},classes:["tox-throbber"],styles:{display:"none"}},behaviours:Cn([Dr.config({}),Nc.config({focus:!1}),ta.config({find:function(r){return Vt(r.components())}})]),components:[]}},wa=function(t){return t.type==="focusin"},lo=function(t){if(wa(t)){var r=t.composed?Vt(t.composedPath()):A.from(t.target);return r.map(ce.fromDom).filter(R).exists(function(o){return Cu(o,"mce-pastebin")})}else return!1},bv=function(t,r,o){var u=Cr(!1),c=Bo(),f=function(p){u.get()&&!lo(p)&&(p.preventDefault(),ht(r()),t.editorManager.setActive(t))};t.inline||t.on("PreInit",function(){t.dom.bind(t.getWin(),"focusin",f),t.on("BeforeExecCommand",function(p){p.command.toLowerCase()==="mcefocus"&&p.value!==!0&&f(p)})});var d=function(p){p!==u.get()&&(u.set(p),Sn(t,r(),p,o.providers),t.fire("AfterProgressState",{state:p}))};t.on("ProgressState",function(p){if(c.on(Xl.clearTimeout),he(p.time)){var b=Xl.setEditorTimeout(t,function(){return d(p.state)},p.time);c.set(b)}else d(p.state),c.clear()})},X9=function(t,r){var o={len:0,list:[]},u=zt(t,function(c,f){var d=r(f,c.len);return d.fold(L(c),function(p){return{len:p.finish,list:c.list.concat([p])}})},o);return u.list},o$=function(t,r,o){return{within:t,extra:r,withinWidth:o}},bL=function(t,r,o){var u=X9(t,function(p,b){var x=o(p);return A.some({element:p,start:b,finish:b+x,width:x})}),c=We(u,function(p){return p.finish<=r}),f=ft(c,function(p,b){return p+b.width},0),d=u.slice(c.length);return{within:c,extra:d,withinWidth:f}},F_=function(t){return St(t,function(r){return r.element})},Y9=function(t,r,o){var u=F_(t.concat(r));return o$(u,[],o)},Z9=function(t,r,o,u){var c=F_(t).concat([o]);return o$(c,F_(r),u)},J9=function(t,r,o){return o$(F_(t),[],o)},Q9=function(t,r,o){var u=bL(r,t,o);return u.extra.length===0?A.some(u):A.none()},eV=function(t,r,o,u){var c=Q9(t,r,o).getOrThunk(function(){return bL(r,t-o(u),o)}),f=c.within,d=c.extra,p=c.withinWidth;return d.length===1&&d[0].width<=o(u)?Y9(f,d,p):d.length>=1?Z9(f,d,u,p):J9(f,d,p)},yL=function(t,r){var o=St(r,function(u){return Ds(u)});Cl.setGroups(t,o)},tV=function(t){return Xe(t,function(r){return Ll(r.element).bind(function(o){return r.getSystem().getByDom(o).toOptional()})})},wL=function(t,r,o){var u=r.builtGroups.get();if(u.length!==0){var c=Ac(t,r,"primary"),f=Ro.getCoupled(t,"overflowGroup");Mr(c.element,"visibility","hidden");var d=u.concat([f]),p=tV(d);o([]),yL(c,d);var b=uu(c.element),x=eV(b,r.builtGroups.get(),function(O){return uu(O.element)},f);x.extra.length===0?(Dr.remove(c,f),o([])):(yL(c,x.within),o(x.extra)),Ia(c.element,"visibility"),Hc(c.element),p.each(_r.focus)}},CL=L([ii("splitToolbarBehaviours",[Ro]),$u("builtGroups",function(){return Cr([])})]),nV=L([Iv(["overflowToggledClass"]),Ov("getOverflowBounds"),jt("lazySink"),$u("overflowGroups",function(){return Cr([])})].concat(CL())),rV=L([Qi({factory:Cl,schema:yd(),name:"primary"}),fl({schema:yd(),name:"overflow"}),fl({name:"overflow-button"}),fl({name:"overflow-group"})]),i$=L(function(t,r){Us(t,Math.floor(r))}),aV=L([Iv(["toggledClass"]),jt("lazySink"),cu("fetch"),Ov("getBounds"),ks("fireDismissalEventInstead",[$e("event",Pl())]),Vf()]),oV=L([fl({name:"button",overrides:function(t){return{dom:{attributes:{"aria-haspopup":"true"}},buttonBehaviours:Cn([na.config({toggleClass:t.markers.toggledClass,aria:{mode:"expanded"},toggleOnExecute:!1})])}}}),fl({factory:Cl,schema:yd(),name:"toolbar",overrides:function(t){return{toolbarBehaviours:Cn([sr.config({mode:"cyclic",onEscape:function(r){return La(r,t,"button").each(_r.focus),A.none()}})])}}})]),xL=function(t,r){var o=Ro.getCoupled(t,"toolbarSandbox");ra.isOpen(o)?ra.close(o):ra.open(o,r.toolbar())},u$=function(t,r,o,u){var c=o.getBounds.map(function(d){return d()}),f=o.lazySink(t).getOrDie();Po.positionWithinBounds(f,r,{anchor:{type:"hotspot",hotspot:t,layouts:u,overrides:{maxWidthFunction:i$()}}},c)},SL=function(t,r,o,u,c){Cl.setGroups(r,c),u$(t,r,o,u),na.on(t)},iV=function(t,r,o){var u=Nv(),c=function(d,p){o.fetch().get(function(b){SL(t,p,o,r.layouts,b),u.link(t.element),sr.focusIn(p)})},f=function(){na.off(t),_r.focus(t),u.unlink(t.element)};return{dom:{tag:"div",attributes:{id:u.id}},behaviours:Cn([sr.config({mode:"special",onEscape:function(d){return ra.close(d),A.some(!0)}}),ra.config({onOpen:c,onClose:f,isPartOf:function(d,p,b){return Fv(p,b)||Fv(t,b)},getAttachPoint:function(){return o.lazySink(t).getOrDie()}}),Uu.config({channels:G(G({},os(G({isExtraPart:je},o.fireDismissalEventInstead.map(function(d){return{fireEventInstead:{event:d.event}}}).getOr({})))),qv({doReposition:function(){ra.getState(Ro.getCoupled(t,"toolbarSandbox")).each(function(d){u$(t,d,o,r.layouts)})}}))})])}},uV=function(t,r,o,u){return G(G({},Ou.sketch(G(G({},u.button()),{action:function(c){xL(c,u)},buttonBehaviours:Qs.augment({dump:u.button().buttonBehaviours},[Ro.config({others:{toolbarSandbox:function(c){return iV(c,o,t)}}})])}))),{apis:{setGroups:function(c,f){ra.getState(Ro.getCoupled(c,"toolbarSandbox")).each(function(d){SL(c,d,t,o.layouts,f)})},reposition:function(c){ra.getState(Ro.getCoupled(c,"toolbarSandbox")).each(function(f){u$(c,f,t,o.layouts)})},toggle:function(c){xL(c,u)},getToolbar:function(c){return ra.getState(Ro.getCoupled(c,"toolbarSandbox"))},isOpen:function(c){return ra.isOpen(Ro.getCoupled(c,"toolbarSandbox"))}}})},wp=Au({name:"FloatingToolbarButton",factory:uV,configFields:aV(),partFields:oV(),apis:{setGroups:function(t,r,o){t.setGroups(r,o)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},getToolbar:function(t,r){return t.getToolbar(r)},isOpen:function(t,r){return t.isOpen(r)}}}),sV=L([jt("items"),Iv(["itemSelector"]),ii("tgroupBehaviours",[sr])]),lV=L([Y1({name:"items",unit:"item"})]),cV=function(t,r,o,u){return{uid:t.uid,dom:t.dom,components:r,behaviours:Mi(t.tgroupBehaviours,[sr.config({mode:"flow",selector:t.markers.itemSelector})]),domModification:{attributes:{role:"toolbar"}}}},I_=Au({name:"ToolbarGroup",configFields:sV(),partFields:lV(),factory:cV}),kL=function(t){return St(t,function(r){return Ds(r)})},EL=function(t,r,o){wL(t,o,function(u){o.overflowGroups.set(u),r.getOpt(t).each(function(c){wp.setGroups(c,kL(u))})})},fV=function(t,r,o,u){var c=ya(wp.sketch({fetch:function(){return Hi.nu(function(f){f(kL(t.overflowGroups.get()))})},layouts:{onLtr:function(){return[Zi,Yi]},onRtl:function(){return[Yi,Zi]},onBottomLtr:function(){return[ku,Hu]},onBottomRtl:function(){return[Hu,ku]}},getBounds:o.getOverflowBounds,lazySink:t.lazySink,fireDismissalEventInstead:{},markers:{toggledClass:t.markers.overflowToggledClass},parts:{button:u["overflow-button"](),toolbar:u.overflow()}}));return{uid:t.uid,dom:t.dom,components:r,behaviours:Mi(t.splitToolbarBehaviours,[Ro.config({others:{overflowGroup:function(){return I_.sketch(G(G({},u["overflow-group"]()),{items:[c.asSpec()]}))}}})]),apis:{setGroups:function(f,d){t.builtGroups.set(St(d,f.getSystem().build)),EL(f,c,t)},refresh:function(f){return EL(f,c,t)},toggle:function(f){c.getOpt(f).each(function(d){wp.toggle(d)})},isOpen:function(f){return c.getOpt(f).map(wp.isOpen).getOr(!1)},reposition:function(f){c.getOpt(f).each(function(d){wp.reposition(d)})},getOverflow:function(f){return c.getOpt(f).bind(wp.getToolbar)}},domModification:{attributes:{role:"group"}}}},TL=Au({name:"SplitFloatingToolbar",configFields:nV(),partFields:rV(),factory:fV,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},reposition:function(t,r){t.reposition(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)},getOverflow:function(t,r){return t.getOverflow(r)}}}),vV=L([Iv(["closedClass","openClass","shrinkingClass","growingClass","overflowToggledClass"]),ba("onOpened"),ba("onClosed")].concat(CL())),dV=L([Qi({factory:Cl,schema:yd(),name:"primary"}),Qi({factory:Cl,schema:yd(),name:"overflow",overrides:function(t){return{toolbarBehaviours:Cn([nu.config({dimension:{property:"height"},closedClass:t.markers.closedClass,openClass:t.markers.openClass,shrinkingClass:t.markers.shrinkingClass,growingClass:t.markers.growingClass,onShrunk:function(r){La(r,t,"overflow-button").each(function(o){na.off(o),_r.focus(o)}),t.onClosed(r)},onGrown:function(r){sr.focusIn(r),t.onOpened(r)},onStartGrow:function(r){La(r,t,"overflow-button").each(na.on)}}),sr.config({mode:"acyclic",onEscape:function(r){return La(r,t,"overflow-button").each(_r.focus),A.some(!0)}})])}}}),fl({name:"overflow-button",overrides:function(t){return{buttonBehaviours:Cn([na.config({toggleClass:t.markers.overflowToggledClass,aria:{mode:"pressed"},toggleOnExecute:!1})])}}}),fl({name:"overflow-group"})]),mV=function(t,r){return La(t,r,"overflow").map(nu.hasGrown).getOr(!1)},AL=function(t,r){La(t,r,"overflow-button").bind(function(){return La(t,r,"overflow")}).each(function(o){s$(t,r),nu.toggleGrow(o)})},s$=function(t,r){La(t,r,"overflow").each(function(o){wL(t,r,function(u){var c=St(u,function(f){return Ds(f)});Cl.setGroups(o,c)}),La(t,r,"overflow-button").each(function(u){nu.hasGrown(o)&&na.on(u)}),nu.refresh(o)})},gV=function(t,r,o,u){var c="alloy.toolbar.toggle",f=function(d,p){var b=St(p,d.getSystem().build);t.builtGroups.set(b)};return{uid:t.uid,dom:t.dom,components:r,behaviours:Mi(t.splitToolbarBehaviours,[Ro.config({others:{overflowGroup:function(d){return I_.sketch(G(G({},u["overflow-group"]()),{items:[Ou.sketch(G(G({},u["overflow-button"]()),{action:function(p){da(d,c)}}))]}))}}}),$r("toolbar-toggle-events",[qt(c,function(d){AL(d,t)})])]),apis:{setGroups:function(d,p){f(d,p),s$(d,t)},refresh:function(d){return s$(d,t)},toggle:function(d){return AL(d,t)},isOpen:function(d){return mV(d,t)}},domModification:{attributes:{role:"group"}}}},l$=Au({name:"SplitSlidingToolbar",configFields:vV(),partFields:dV(),factory:gV,apis:{setGroups:function(t,r,o){t.setGroups(r,o)},refresh:function(t,r){t.refresh(r)},toggle:function(t,r){t.toggle(r)},isOpen:function(t,r){return t.isOpen(r)}}}),OL=function(t){var r=t.title.fold(function(){return{}},function(o){return{attributes:{title:o}}});return{dom:G({tag:"div",classes:["tox-toolbar__group"]},r),components:[I_.parts.items({})],items:t.items,markers:{itemSelector:"*:not(.tox-split-button) > .tox-tbtn:not([disabled]), .tox-split-button:not([disabled]), .tox-toolbar-nav-js:not([disabled])"},tgroupBehaviours:Cn([Do.config({}),_r.config({})])}},z_=function(t){return I_.sketch(OL(t))},DL=function(t,r){var o=Hr(function(u){var c=St(t.initGroups,z_);Cl.setGroups(u,c)});return Cn([tl.toolbarButton(t.providers.isDisabled),Yo(),sr.config({mode:r,onEscape:t.onEscape,selector:".tox-toolbar__group"}),$r("toolbar-events",[o])])},_L=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return{uid:t.uid,dom:{tag:"div",classes:["tox-toolbar-overlord"]},parts:{"overflow-group":OL({title:A.none(),items:[]}),"overflow-button":yS({name:"more",icon:A.some("more-drawer"),disabled:!1,tooltip:A.some("More..."),primary:!1,borderless:!1},A.none(),t.providers)},splitToolbarBehaviours:DL(t,r)}},hV=function(t){var r=_L(t),o=4,u=TL.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}});return TL.sketch(G(G({},r),{lazySink:t.getSink,getOverflowBounds:function(){var c=t.moreDrawerData.lazyHeader().element,f=mc(c),d=Tt(c),p=mc(d),b=Math.max(d.dom.scrollHeight,p.height);return mi(f.x+o,p.y,f.width-o*2,b)},parts:G(G({},r.parts),{overflow:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:t.attributes}}}),components:[u],markers:{overflowToggledClass:"tox-tbtn--enabled"}}))},pV=function(t){var r=l$.parts.primary({dom:{tag:"div",classes:["tox-toolbar__primary"]}}),o=l$.parts.overflow({dom:{tag:"div",classes:["tox-toolbar__overflow"]}}),u=_L(t);return l$.sketch(G(G({},u),{components:[r,o],markers:{openClass:"tox-toolbar__overflow--open",closedClass:"tox-toolbar__overflow--closed",growingClass:"tox-toolbar__overflow--growing",shrinkingClass:"tox-toolbar__overflow--shrinking",overflowToggledClass:"tox-tbtn--enabled"},onOpened:function(c){c.getSystem().broadcastOn([n()],{type:"opened"})},onClosed:function(c){c.getSystem().broadcastOn([n()],{type:"closed"})}}))},$_=function(t){var r=t.cyclicKeying?"cyclic":"acyclic";return Cl.sketch({uid:t.uid,dom:{tag:"div",classes:["tox-toolbar"].concat(t.type===Ps.scrolling?["tox-toolbar--scrolling"]:[])},components:[Cl.parts.groups({})],toolbarBehaviours:DL(t,r)})},bV=function(t,r,o){var u={getSocket:function(c){return qu.getPart(c,t,"socket")},setSidebar:function(c,f){qu.getPart(c,t,"sidebar").each(function(d){return YS(d,f)})},toggleSidebar:function(c,f){qu.getPart(c,t,"sidebar").each(function(d){return ZS(d,f)})},whichSidebar:function(c){return qu.getPart(c,t,"sidebar").bind(Q8).getOrNull()},getHeader:function(c){return qu.getPart(c,t,"header")},getToolbar:function(c){return qu.getPart(c,t,"toolbar")},setToolbar:function(c,f){qu.getPart(c,t,"toolbar").each(function(d){d.getApis().setGroups(d,f)})},setToolbars:function(c,f){qu.getPart(c,t,"multiple-toolbar").each(function(d){HS.setItems(d,f)})},refreshToolbar:function(c){var f=qu.getPart(c,t,"toolbar");f.each(function(d){return d.getApis().refresh(d)})},toggleToolbarDrawer:function(c){qu.getPart(c,t,"toolbar").each(function(f){Va(f.getApis().toggle,function(d){return d(f)})})},isToolbarDrawerToggled:function(c){return qu.getPart(c,t,"toolbar").bind(function(f){return A.from(f.getApis().isOpen).map(function(d){return d(f)})}).getOr(!1)},getThrobber:function(c){return qu.getPart(c,t,"throbber")},focusToolbar:function(c){var f=qu.getPart(c,t,"toolbar").orThunk(function(){return qu.getPart(c,t,"multiple-toolbar")});f.each(function(d){sr.focusIn(d)})},setMenubar:function(c,f){qu.getPart(c,t,"menubar").each(function(d){Fn.setMenus(d,f)})},focusMenubar:function(c){qu.getPart(c,t,"menubar").each(function(f){Fn.focus(f)})}};return{uid:t.uid,dom:t.dom,components:r,apis:u,behaviours:t.behaviours}},yV=bd.optional({factory:Fn,name:"menubar",schema:[jt("backstage")]}),wV=function(t){return t.type===Ps.sliding?pV:t.type===Ps.floating?hV:$_},CV=bd.optional({factory:{sketch:function(t){return HS.sketch({uid:t.uid,dom:t.dom,listBehaviours:Cn([sr.config({mode:"acyclic",selector:".tox-toolbar"})]),makeItem:function(){return $_({type:t.type,uid:Yn("multiple-toolbar-item"),cyclicKeying:!1,initGroups:[],providers:t.providers,onEscape:function(){return t.onEscape(),A.some(!0)}})},setupItem:function(r,o,u,c){Cl.setGroups(o,u)},shell:!0})}},name:"multiple-toolbar",schema:[jt("dom"),jt("onEscape")]}),xV=bd.optional({factory:{sketch:function(t){var r=wV(t),o={type:t.type,uid:t.uid,onEscape:function(){return t.onEscape(),A.some(!0)},cyclicKeying:!1,initGroups:[],getSink:t.getSink,providers:t.providers,moreDrawerData:{lazyToolbar:t.lazyToolbar,lazyMoreButton:t.lazyMoreButton,lazyHeader:t.lazyHeader},attributes:t.attributes};return r(o)}},name:"toolbar",schema:[jt("dom"),jt("onEscape"),jt("getSink")]}),SV=bd.optional({factory:{sketch:we},name:"header",schema:[jt("dom")]}),kV=bd.optional({name:"socket",schema:[jt("dom")]}),EV=bd.optional({factory:{sketch:e$},name:"sidebar",schema:[jt("dom")]}),TV=bd.optional({factory:{sketch:Ur},name:"throbber",schema:[jt("dom")]}),zo=Au({name:"OuterContainer",factory:bV,configFields:[jt("dom"),jt("behaviours")],partFields:[SV,yV,xV,CV,kV,EV,TV],apis:{getSocket:function(t,r){return t.getSocket(r)},setSidebar:function(t,r,o){t.setSidebar(r,o)},toggleSidebar:function(t,r,o){t.toggleSidebar(r,o)},whichSidebar:function(t,r){return t.whichSidebar(r)},getHeader:function(t,r){return t.getHeader(r)},getToolbar:function(t,r){return t.getToolbar(r)},setToolbar:function(t,r,o){var u=St(o,function(c){return z_(c)});t.setToolbar(r,u)},setToolbars:function(t,r,o){var u=St(o,function(c){return St(c,z_)});t.setToolbars(r,u)},refreshToolbar:function(t,r){return t.refreshToolbar(r)},toggleToolbarDrawer:function(t,r){t.toggleToolbarDrawer(r)},isToolbarDrawerToggled:function(t,r){return t.isToolbarDrawerToggled(r)},getThrobber:function(t,r){return t.getThrobber(r)},setMenubar:function(t,r,o){t.setMenubar(r,o)},focusMenubar:function(t,r){t.focusMenubar(r)},focusToolbar:function(t,r){t.focusToolbar(r)}}}),AV="file edit view insert format tools table help",ML={file:{title:"File",items:"newdocument restoredraft | preview | export print | deleteallconversations"},edit:{title:"Edit",items:"undo redo | cut copy paste pastetext | selectall | searchreplace"},view:{title:"View",items:"code | visualaid visualchars visualblocks | spellchecker | preview fullscreen | showcomments"},insert:{title:"Insert",items:"image link media addcomment pageembed template codesample inserttable | charmap emoticons hr | pagebreak nonbreaking anchor toc | insertdatetime"},format:{title:"Format",items:"bold italic underline strikethrough superscript subscript codeformat | formats blockformats fontformats fontsizes align lineheight | forecolor backcolor | language | removeformat"},tools:{title:"Tools",items:"spellchecker spellcheckerlanguage | a11ycheck code wordcount"},table:{title:"Table",items:"inserttable | cell row column | advtablesort | tableprops deletetable"},help:{title:"Help",items:"help"}},OV=function(t,r,o){var u=ex(o).split(/[ ,]/);return{text:t.title,getItems:function(){return pt(t.items,function(c){var f=c.toLowerCase();return f.trim().length===0?[]:sn(u,function(d){return d===f})?[]:f==="separator"||f==="|"?[{type:"separator"}]:r.menuItems[f]?[r.menuItems[f]]:[]})}}},c$=function(t){return typeof t=="string"?t.split(" "):t},BL=function(t,r){var o=G(G({},ML),r.menus),u=ot(r.menus).length>0,c=r.menubar===void 0||r.menubar===!0?c$(AV):c$(r.menubar===!1?"":r.menubar),f=We(c,function(p){var b=Wt(ML,p);return u?b||dt(r.menus,p).exists(function(x){return Wt(x,"items")}):b}),d=St(f,function(p){var b=o[p];return OV({title:b.title,items:c$(b.items)},r,t)});return We(d,function(p){var b=function(x){return x.type!=="separator"};return p.getItems().length>0&&sn(p.getItems(),b)})},PL=function(t){var r=function(){t._skinLoaded=!0,gF(t)};return function(){t.initialized?r():t.on("init",r)}},DV=function(t,r){return function(){return hF(t,{message:r})}},RL=function(t,r,o){return new ad(function(u,c){o.load(r,u,c),t.on("remove",function(){return o.unload(r)})})},_V=function(t,r){var o=r+"/skin.min.css";return RL(t,o,t.ui.styleSheetLoader)},MV=function(t,r){var o=qn(ce.fromDom(t.getElement()));if(o){var u=r+"/skin.shadowdom.min.css";return RL(t,u,qh.DOM.styleSheetLoader)}else return ad.resolve()},NL=function(t,r){var o=M5(r);o&&r.contentCSS.push(o+(t?"/content.inline":"/content")+".min.css"),P5(r)===!1&&_(o)?ad.all([_V(r,o),MV(r,o)]).then(PL(r),DV(r,"Skin could not be loaded")):PL(r)()},BV=Be(NL,!1),PV=Be(NL,!0),L_=function(t,r){return function(o){var u=ym(),c=function(){o.setActive(t.formatter.match(r));var f=t.formatter.formatChanged(r,o.setActive);u.set(f)};return t.initialized?c():t.once("init",c),function(){t.off("init",c),u.clear()}}},H_=function(t,r,o){return function(u){var c=function(){return o(u)},f=function(){o(u),t.on(r,c)};return t.initialized?f():t.once("init",f),function(){t.off("init",f),t.off(r,c)}}},FL=function(t){return function(r){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("mceToggleFormat",!1,r.format)})}}},sc=function(t,r){return function(){return t.execCommand(r)}},RV=function(t,r,o){var u=function(p,b,x,O){var P=r.shared.providers.translate(p.title);if(p.type==="separator")return A.some({type:"separator",text:P});if(p.type==="submenu"){var V=pt(p.getStyleItems(),function(q){return c(q,b,O)});return b===0&&V.length<=0?A.none():A.some({type:"nestedmenuitem",text:P,disabled:V.length<=0,getSubmenuItems:function(){return pt(p.getStyleItems(),function(q){return c(q,b,O)})}})}else return A.some(G({type:"togglemenuitem",text:P,icon:p.icon,active:p.isSelected(O),disabled:x,onAction:o.onAction(p)},p.getStylePreview().fold(function(){return{}},function(q){return{meta:{style:q}}})))},c=function(p,b,x){var O=p.type==="formatter"&&o.isInvalid(p);return b===0?O?[]:u(p,b,!1,x).toArray():u(p,b,O,x).toArray()},f=function(p){var b=o.getCurrentValue(),x=o.shouldHide?0:1;return pt(p,function(O){return c(O,x,b)})},d=function(p,b){return function(x,O){var P=b(),V=f(P),q=Cg(V,Jl.CLOSE_ON_EXECUTE,p,!1);O(q)}};return{validateItems:f,getFetch:d}},cy=function(t,r,o){var u=o.dataset,c=u.type==="basic"?function(){return St(u.data,function(f){return g_(f,o.isSelectedFor,o.getPreviewFor)})}:u.getData;return{items:RV(t,r,o),getStyleItems:c}},JS=function(t,r,o){var u=cy(t,r,o),c=u.items,f=u.getStyleItems,d=function(b){return{getComponent:L(b)}},p=H_(t,"NodeChange",function(b){var x=b.getComponent();o.updateText(x)});return pS({text:o.icon.isSome()?A.none():o.text,icon:o.icon,tooltip:A.from(o.tooltip),role:A.none(),fetch:c.getFetch(r,f),onSetup:p,getApi:d,columns:1,presets:"normal",classes:o.icon.isSome()?[]:["bespoke"],dropdownBehaviours:[]},"tox-tbtn",r.shared)},NV=function(t){return St(t,function(r){var o=r,u=r,c=r.split("=");return c.length>1&&(o=c[0],u=c[1]),{title:o,format:u}})},FV=function(t){return{type:"basic",data:t}},fy;(function(t){t[t.SemiColon=0]="SemiColon",t[t.Space=1]="Space"})(fy||(fy={}));var IV=function(t,r){return r===fy.SemiColon?t.replace(/;$/,"").split(";"):t.split(" ")},f$=function(t,r,o,u){var c=t.getParam(r,o,"string"),f=NV(IV(c,u));return{type:"basic",data:f}},v$=[{title:"Left",icon:"align-left",format:"alignleft",command:"JustifyLeft"},{title:"Center",icon:"align-center",format:"aligncenter",command:"JustifyCenter"},{title:"Right",icon:"align-right",format:"alignright",command:"JustifyRight"},{title:"Justify",icon:"align-justify",format:"alignjustify",command:"JustifyFull"}],IL=function(t){var r=function(){return kt(v$,function(p){return t.formatter.match(p.format)})},o=function(p){return function(){return t.formatter.match(p)}},u=function(p){return A.none},c=function(p){var b=r(),x=b.fold(L("left"),function(O){return O.title.toLowerCase()});br(p,hS,{icon:"align-"+x})},f=FV(v$),d=function(p){return function(){return kt(v$,function(b){return b.format===p.format}).each(function(b){return t.execCommand(b.command)})}};return{tooltip:"Align",text:A.none(),icon:A.some("align-left"),isSelectedFor:o,getCurrentValue:A.none,getPreviewFor:u,onAction:d,updateText:c,dataset:f,shouldHide:!1,isInvalid:function(p){return!t.formatter.canApply(p.format)}}},zV=function(t,r){return JS(t,r,IL(t))},$V=function(t,r){var o=cy(t,r,IL(t));t.ui.registry.addNestedMenuItem("align",{text:r.shared.providers.translate("Align"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},LV="Andale Mono=andale mono,monospace;Arial=arial,helvetica,sans-serif;Arial Black=arial black,sans-serif;Book Antiqua=book antiqua,palatino,serif;Comic Sans MS=comic sans ms,sans-serif;Courier New=courier new,courier,monospace;Georgia=georgia,palatino,serif;Helvetica=helvetica,arial,sans-serif;Impact=impact,sans-serif;Symbol=symbol;Tahoma=tahoma,arial,helvetica,sans-serif;Terminal=terminal,monaco,monospace;Times New Roman=times new roman,times,serif;Trebuchet MS=trebuchet ms,geneva,sans-serif;Verdana=verdana,geneva,sans-serif;Webdings=webdings;Wingdings=wingdings,zapf dingbats",HV=["-apple-system","Segoe UI","Roboto","Helvetica Neue","sans-serif"],zL=function(t){var r=t.split(/\s*,\s*/);return St(r,function(o){return o.replace(/^['"]+|['"]+$/g,"")})},VV=function(t){var r=function(){var o=zL(t.toLowerCase());return pn(HV,function(u){return o.indexOf(u.toLowerCase())>-1})};return t.indexOf("-apple-system")===0&&r()},$L=function(t){var r="System Font",o=function(){var x=function(te){return te?zL(te)[0]:""},O=t.queryCommandValue("FontName"),P=b.data,V=O?O.toLowerCase():"",q=kt(P,function(te){var de=te.format;return de.toLowerCase()===V||x(de).toLowerCase()===x(V).toLowerCase()}).orThunk(function(){return Ta(VV(V),{title:r,format:V})});return{matchOpt:q,font:O}},u=function(x){return function(O){return O.exists(function(P){return P.format===x})}},c=function(){var x=o().matchOpt;return x},f=function(x){return function(){return A.some({tag:"div",styles:x.indexOf("dings")===-1?{"font-family":x}:{}})}},d=function(x){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontName",!1,x.format)})}},p=function(x){var O=o(),P=O.matchOpt,V=O.font,q=P.fold(L(V),function(te){return te.title});br(x,dd,{text:q})},b=f$(t,"font_formats",LV,fy.SemiColon);return{tooltip:"Fonts",text:A.some(r),icon:A.none(),isSelectedFor:u,getCurrentValue:c,getPreviewFor:f,onAction:d,updateText:p,dataset:b,shouldHide:!1,isInvalid:je}},UV=function(t,r){return JS(t,r,$L(t))},WV=function(t,r){var o=cy(t,r,$L(t));t.ui.registry.addNestedMenuItem("fontformats",{text:r.shared.providers.translate("Fonts"),getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},jV="8pt 10pt 12pt 14pt 18pt 24pt 36pt",qV={"8pt":"1","10pt":"2","12pt":"3","14pt":"4","18pt":"5","24pt":"6","36pt":"7"},GV={"xx-small":"7pt","x-small":"8pt",small:"10pt",medium:"12pt",large:"14pt","x-large":"18pt","xx-large":"24pt"},KV=function(t,r){var o=Math.pow(10,r);return Math.round(t*o)/o},XV=function(t,r){return/[0-9.]+px$/.test(t)?KV(parseInt(t,10)*72/96,r||0)+"pt":dt(GV,t).getOr(t)},YV=function(t){return dt(qV,t).getOr("")},LL=function(t){var r=function(){var b=A.none(),x=p.data,O=t.queryCommandValue("FontSize");if(O)for(var P=function(q){var te=XV(O,q),de=YV(te);b=kt(x,function(Pe){return Pe.format===O||Pe.format===te||Pe.format===de})},V=3;b.isNone()&&V>=0;V--)P(V);return{matchOpt:b,size:O}},o=function(b){return function(x){return x.exists(function(O){return O.format===b})}},u=function(){var b=r().matchOpt;return b},c=L(A.none),f=function(b){return function(){t.undoManager.transact(function(){t.focus(),t.execCommand("FontSize",!1,b.format)})}},d=function(b){var x=r(),O=x.matchOpt,P=x.size,V=O.fold(L(P),function(q){return q.title});br(b,dd,{text:V})},p=f$(t,"fontsize_formats",jV,fy.Space);return{tooltip:"Font sizes",text:A.some("12pt"),icon:A.none(),isSelectedFor:o,getPreviewFor:c,getCurrentValue:u,onAction:f,updateText:d,dataset:p,shouldHide:!1,isInvalid:je}},ZV=function(t,r){return JS(t,r,LL(t))},JV=function(t,r){var o=cy(t,r,LL(t));t.ui.registry.addNestedMenuItem("fontsizes",{text:"Font sizes",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},HL=function(t,r){var o=r(),u=St(o,function(c){return c.format});return A.from(t.formatter.closest(u)).bind(function(c){return kt(o,function(f){return f.format===c})}).orThunk(function(){return Ta(t.formatter.match("p"),{title:"Paragraph",format:"p"})})},QV="Paragraph=p;Heading 1=h1;Heading 2=h2;Heading 3=h3;Heading 4=h4;Heading 5=h5;Heading 6=h6;Preformatted=pre",VL=function(t){var r="Paragraph",o=function(d){return function(){return t.formatter.match(d)}},u=function(d){return function(){var p=t.formatter.get(d);return A.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(d))})}},c=function(d){var p=HL(t,function(){return f.data}),b=p.fold(L(r),function(x){return x.title});br(d,dd,{text:b})},f=f$(t,"block_formats",QV,fy.SemiColon);return{tooltip:"Blocks",text:A.some(r),icon:A.none(),isSelectedFor:o,getCurrentValue:A.none,getPreviewFor:u,onAction:FL(t),updateText:c,dataset:f,shouldHide:!1,isInvalid:function(d){return!t.formatter.canApply(d.format)}}},eU=function(t,r){return JS(t,r,VL(t))},tU=function(t,r){var o=cy(t,r,VL(t));t.ui.registry.addNestedMenuItem("blockformats",{text:"Blocks",getSubmenuItems:function(){return o.items.validateItems(o.getStyleItems())}})},UL=function(t,r){var o="Paragraph",u=function(d){return function(){return t.formatter.match(d)}},c=function(d){return function(){var p=t.formatter.get(d);return p!==void 0?A.some({tag:p.length>0&&(p[0].inline||p[0].block)||"div",styles:t.dom.parseStyle(t.formatter.getCssText(d))}):A.none()}},f=function(d){var p=function(P){var V=P.items;return V!==void 0&&V.length>0?pt(V,p):[{title:P.title,format:P.format}]},b=pt(vv(t),p),x=HL(t,L(b)),O=x.fold(L(o),function(P){return P.title});br(d,dd,{text:O})};return{tooltip:"Formats",text:A.some(o),icon:A.none(),isSelectedFor:u,getCurrentValue:A.none,getPreviewFor:c,onAction:FL(t),updateText:f,shouldHide:t.getParam("style_formats_autohide",!1,"boolean"),isInvalid:function(d){return!t.formatter.canApply(d.format)},dataset:r}},nU=function(t,r){var o=G({type:"advanced"},r.styleselect);return JS(t,r,UL(t,o))},rU=function(t,r){var o=G({type:"advanced"},r.styleselect),u=cy(t,r,UL(t,o));t.ui.registry.addNestedMenuItem("formats",{text:"Formats",getSubmenuItems:function(){return u.items.validateItems(u.getStyleItems())}})},aU=function(t,r){var o=function(u,c){t.updateState.each(function(f){var d=f(u,c);r.set(d)}),t.renderComponents.each(function(f){var d=f(c,r.get()),p=St(d,u.getSystem().build);u2(u,p)})};return $a([qt(Xs(),function(u,c){var f=c;if(!f.universal){var d=t.channel;tn(f.channels,d)&&o(u,f.data)}}),Hr(function(u,c){t.initialData.each(function(f){o(u,f)})})])},oU=Object.freeze({__proto__:null,events:aU}),iU=function(t,r,o){return o},uU=Object.freeze({__proto__:null,getState:iU}),sU=[jt("channel"),Oa("renderComponents"),Oa("updateState"),Oa("initialData")],lU=function(){var t=Cr(A.none()),r=function(){return t.set(A.none())},o=function(){return t.get().getOr("none")};return{readState:o,get:t.get,set:t.set,clear:r}},cU=Object.freeze({__proto__:null,init:lU}),rl=pi({fields:sU,name:"reflecting",active:oU,apis:uU,state:cU}),fU=L([jt("toggleClass"),jt("fetch"),Su("onExecute"),$e("getHotspot",A.some),$e("getAnchorOverrides",L({})),Vf(),Su("onItemExecute"),Oa("lazySink"),jt("dom"),ba("onOpen"),ii("splitDropdownBehaviours",[Ro,sr,_r]),$e("matchWidth",!1),$e("useMinWidth",!1),$e("eventOrder",{}),Oa("role")].concat(Mx())),vU=Qi({factory:Ou,schema:[jt("dom")],name:"arrow",defaults:function(){return{buttonBehaviours:Cn([_r.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(As)},buttonBehaviours:Cn([na.config({toggleOnExecute:!1,toggleClass:t.toggleClass})])}}}),dU=Qi({factory:Ou,schema:[jt("dom")],name:"button",defaults:function(){return{buttonBehaviours:Cn([_r.revoke()])}},overrides:function(t){return{dom:{tag:"span",attributes:{role:"presentation"}},action:function(r){r.getSystem().getByUid(t.uid).each(function(o){t.onExecute(o,r)})}}}}),mU=L([vU,dU,vl({factory:{sketch:function(t){return{uid:t.uid,dom:{tag:"span",styles:{display:"none"},attributes:{"aria-hidden":"true"},innerHtml:t.text}}}},schema:[jt("text")],name:"aria-descriptor"}),fl({schema:[m1()],name:"menu",defaults:function(t){return{onExecute:function(r,o){r.getSystem().getByUid(t.uid).each(function(u){t.onItemExecute(u,r,o)})}}}}),iO()]),gU=function(t,r,o,u){var c,f=function(P){ta.getCurrent(P).each(function(V){Da.highlightFirst(V),sr.focusIn(V)})},d=function(P){var V=f;lg(t,_e,P,u,V,ec.HighlightFirst).get(ae)},p=function(P){return d(P),A.some(!0)},b=function(P){var V=Ac(P,t,"button");return As(V),A.some(!0)},x=G(G({},$a([Hr(function(P,V){var q=La(P,t,"aria-descriptor");q.each(function(te){var de=Yn("aria");qr(te.element,"id",de),qr(P.element,"aria-describedby",de)})})])),yb(A.some(d))),O={repositionMenus:function(P){na.isOn(P)&&sO(P)}};return{uid:t.uid,dom:t.dom,components:r,apis:O,eventOrder:G(G({},t.eventOrder),(c={},c[Es()]=["disabling","toggling","alloy.base.behaviour"],c)),events:x,behaviours:Mi(t.splitDropdownBehaviours,[Ro.config({others:{sandbox:function(P){var V=Ac(P,t,"arrow"),q={onOpen:function(){na.on(V),na.on(P)},onClose:function(){na.off(V),na.off(P)}};return _x(t,P,q)}}}),sr.config({mode:"special",onSpace:b,onEnter:b,onDown:p}),_r.config({}),na.config({toggleOnExecute:!1,aria:{mode:"expanded"}})]),domModification:{attributes:{role:t.role.getOr("button"),"aria-haspopup":!0}}}},V_=Au({name:"SplitDropdown",configFields:fU(),partFields:mU(),factory:gU,apis:{repositionMenus:function(t,r){return t.repositionMenus(r)}}}),hU=function(t){return{isDisabled:function(){return gr.isDisabled(t)},setDisabled:function(r){return gr.set(t,r)}}},pU=function(t){return{setActive:function(r){na.set(t,r)},isActive:function(){return na.isOn(t)},isDisabled:function(){return gr.isDisabled(t)},setDisabled:function(r){return gr.set(t,r)}}},WL=function(t,r){return t.map(function(o){return{"aria-label":r.translate(o),title:r.translate(o)}}).getOr({})},jL=Yn("focus-button"),d$=function(t,r,o,u,c,f){var d;return{dom:{tag:"button",classes:["tox-tbtn"].concat(r.isSome()?["tox-tbtn--select"]:[]),attributes:WL(o,f)},components:eg([t.map(function(p){return $0(p,f.icons)}),r.map(function(p){return gS(p,"tox-tbtn",f)})]),eventOrder:(d={},d[sl()]=["focusing","alloy.base.behaviour","common-button-display-events"],d),buttonBehaviours:Cn([tl.toolbarButton(f.isDisabled),Yo(),$r("common-button-display-events",[qt(sl(),function(p,b){b.event.prevent(),da(p,jL)})])].concat(u.map(function(p){return rl.config({channel:p,initialData:{icon:t,text:r},renderComponents:function(b,x){return eg([b.icon.map(function(O){return $0(O,f.icons)}),b.text.map(function(O){return gS(O,"tox-tbtn",f)})])}})}).toArray()).concat(c.getOr([])))}},bU=function(t,r,o,u){var c=r.shared;return wp.sketch({lazySink:c.getSink,fetch:function(){return Hi.nu(function(f){f(St(o(t.items),z_))})},markers:{toggledClass:"tox-tbtn--enabled"},parts:{button:d$(t.icon,t.text,t.tooltip,A.none(),A.none(),c.providers),toolbar:{dom:{tag:"div",classes:["tox-toolbar__overflow"],attributes:u}}}})},qL=function(t,r,o){var u=Cr(ae),c=d$(t.icon,t.text,t.tooltip,A.none(),A.none(),o);return Ou.sketch({dom:c.dom,components:c.components,eventOrder:AD,buttonBehaviours:Cn([$r("toolbar-button-events",[Q6({onAction:t.onAction,getApi:r.getApi}),Qm(r,u),Kh(r,u)]),tl.toolbarButton(function(){return t.disabled||o.isDisabled()}),Yo()].concat(r.toolbarButtonBehaviours))})},yU=function(t,r){return GL(t,r,[])},GL=function(t,r,o){return qL(t,{toolbarButtonBehaviours:[].concat(o.length>0?[$r("toolbarButtonWith",o)]:[]),getApi:hU,onSetup:t.onSetup},r)},wU=function(t,r){return KL(t,r,[])},KL=function(t,r,o){return Ot(qL(t,{toolbarButtonBehaviours:[Dr.config({}),na.config({toggleClass:"tox-tbtn--enabled",aria:{mode:"pressed"},toggleOnExecute:!1})].concat(o.length>0?[$r("toolbarToggleButtonWith",o)]:[]),getApi:pU,onSetup:t.onSetup},r))},CU=function(t,r,o){return function(u){return Hi.nu(function(c){return r.fetch(c)}).map(function(c){return A.from(M4(Ot(og(Yn("menu-value"),c,function(f){r.onItemAction(t(u),f)},r.columns,r.presets,Jl.CLOSE_ON_EXECUTE,r.select.getOr(je),o),{movement:a0(r.columns,r.presets),menuBehaviours:Ym.unnamedEvents(r.columns!=="auto"?[]:[Hr(function(f,d){JC(f,4,WC(r.presets)).each(function(p){var b=p.numRows,x=p.numColumns;sr.setGridSize(f,b,x)})})])})))})}},xU=function(t,r){var o,u=Yn("channel-update-split-dropdown-display"),c=function(p){return{isDisabled:function(){return gr.isDisabled(p)},setDisabled:function(b){return gr.set(p,b)},setIconFill:function(b,x){ai(p.element,'svg path[id="'+b+'"], rect[id="'+b+'"]').each(function(O){qr(O,"fill",x)})},setIconStroke:function(b,x){ai(p.element,'svg path[id="'+b+'"], rect[id="'+b+'"]').each(function(O){qr(O,"stroke",x)})},setActive:function(b){qr(p.element,"aria-pressed",b),ai(p.element,"span").each(function(x){p.getSystem().getByDom(x).each(function(O){return na.set(O,b)})})},isActive:function(){return ai(p.element,"span").exists(function(b){return p.getSystem().getByDom(b).exists(na.isOn)})}}},f=Cr(ae),d={getApi:c,onSetup:t.onSetup};return V_.sketch({dom:{tag:"div",classes:["tox-split-button"],attributes:G({"aria-pressed":!1},WL(t.tooltip,r.providers))},onExecute:function(p){t.onAction(c(p))},onItemExecute:function(p,b,x){},splitDropdownBehaviours:Cn([tl.splitButton(r.providers.isDisabled),Yo(),$r("split-dropdown-events",[qt(jL,_r.focus),Qm(d,f),Kh(d,f)]),fg.config({})]),eventOrder:(o={},o[Ts()]=["alloy.base.behaviour","split-dropdown-events"],o),toggleClass:"tox-tbtn--enabled",lazySink:r.getSink,fetch:CU(c,t,r.providers),parts:{menu:Ib(!1,t.columns,t.presets)},components:[V_.parts.button(d$(t.icon,t.text,A.none(),A.some(u),A.some([na.config({toggleClass:"tox-tbtn--enabled",toggleOnExecute:!1})]),r.providers)),V_.parts.arrow({dom:{tag:"button",classes:["tox-tbtn","tox-split-button__chevron"],innerHtml:QA("chevron-down",r.providers.icons)},buttonBehaviours:Cn([tl.splitButton(r.providers.isDisabled),Yo(),BC()])}),V_.parts["aria-descriptor"]({text:r.providers.translate("To open the popup, press Shift+Enter")})]})},SU=[{name:"history",items:["undo","redo"]},{name:"styles",items:["styleselect"]},{name:"formatting",items:["bold","italic"]},{name:"alignment",items:["alignleft","aligncenter","alignright","alignjustify"]},{name:"indentation",items:["outdent","indent"]},{name:"permanent pen",items:["permanentpen"]},{name:"comments",items:["addcomment"]}],QS=function(t,r){return function(o,u,c){var f=t(o).mapError(function(d){return Xd(d)}).getOrDie();return r(f,u,c)}},vy={button:QS(b3,function(t,r){return yU(t,r.backstage.shared.providers)}),togglebutton:QS(zC,function(t,r){return wU(t,r.backstage.shared.providers)}),menubutton:QS(nt,function(t,r){return V0(t,"tox-tbtn",r.backstage,A.none())}),splitbutton:QS(en,function(t,r){return xU(t,r.backstage.shared)}),grouptoolbarbutton:QS(Je,function(t,r,o){var u,c=o.ui.registry.getAll().buttons,f=function(p){return U_(o,{buttons:c,toolbar:p,allowToolbarGroups:!1},r,A.none())},d=(u={},u[qw]=r.backstage.shared.header.isPositionedAtTop()?Cc.TopToBottom:Cc.BottomToTop,u);switch(Gh(o)){case Ps.floating:return bU(t,r.backstage,f,d);default:throw new Error("Toolbar groups are only supported when using floating toolbar mode")}}),styleSelectButton:function(t,r){return nU(t,r.backstage)},fontsizeSelectButton:function(t,r){return ZV(t,r.backstage)},fontSelectButton:function(t,r){return UV(t,r.backstage)},formatButton:function(t,r){return eU(t,r.backstage)},alignMenuButton:function(t,r){return zV(t,r.backstage)}},kU=function(t,r,o){return dt(vy,t.type).fold(function(){return A.none()},function(u){return A.some(u(t,r,o))})},XL={styleselect:vy.styleSelectButton,fontsizeselect:vy.fontsizeSelectButton,fontselect:vy.fontSelectButton,formatselect:vy.formatButton,align:vy.alignMenuButton},EU=function(t){var r=St(SU,function(o){var u=We(o.items,function(c){return Wt(t,c)||Wt(XL,c)});return{name:o.name,items:u}});return We(r,function(o){return o.items.length>0})},TU=function(t){var r=t.split("|");return St(r,function(o){return{items:o.trim().split(" ")}})},AU=function(t){return be(t,function(r){return Wt(r,"name")&&Wt(r,"items")})},OU=function(t){var r=t.toolbar,o=t.buttons;return r===!1?[]:r===void 0||r===!0?EU(o):_(r)?TU(r):AU(r)?r:[]},DU=function(t,r,o,u,c,f){return dt(r,o.toLowerCase()).orThunk(function(){return f.bind(function(d){return Xe(d,function(p){return dt(r,p+o.toLowerCase())})})}).fold(function(){return dt(XL,o.toLowerCase()).map(function(d){return d(t,c)}).orThunk(function(){return A.none()})},function(d){return d.type==="grouptoolbarbutton"&&!u?A.none():kU(d,c,t)})},U_=function(t,r,o,u){var c=OU(r),f=St(c,function(d){var p=pt(d.items,function(b){return b.trim().length===0?[]:DU(t,r.buttons,b,r.allowToolbarGroups,o,u).toArray()});return{title:A.from(t.translate(d.name)),items:p}});return We(f,function(d){return d.items.length>0})},YL=function(t,r,o,u){var c=r.outerContainer,f=o.toolbar,d=o.buttons;if(be(f,_)){var p=f.map(function(b){var x={toolbar:b,buttons:d,allowToolbarGroups:o.allowToolbarGroups};return U_(t,x,{backstage:u},A.none())});zo.setToolbars(c,p)}else zo.setToolbar(c,U_(t,o,{backstage:u},A.none()))},ZL=an(),_U=ZL.os.isiOS()&&ZL.os.version.major<=12,MU=function(t,r){var o=t.dom,u=t.getWin(),c=t.getDoc().documentElement,f=Cr(Ka(u.innerWidth,u.innerHeight)),d=Cr(Ka(c.offsetWidth,c.offsetHeight)),p=function(){var V=f.get();(V.left!==u.innerWidth||V.top!==u.innerHeight)&&(f.set(Ka(u.innerWidth,u.innerHeight)),fx(t))},b=function(){var V=t.getDoc().documentElement,q=d.get();(q.left!==V.offsetWidth||q.top!==V.offsetHeight)&&(d.set(Ka(V.offsetWidth,V.offsetHeight)),fx(t))},x=function(V){return bF(t,V)};o.bind(u,"resize",p),o.bind(u,"scroll",x);var O=T1(ce.fromDom(t.getBody()),"load",b),P=r.uiMothership.element;t.on("hide",function(){Mr(P,"display","none")}),t.on("show",function(){Ia(P,"display")}),t.on("NodeChange",b),t.on("remove",function(){O.unbind(),o.unbind(u,"resize",p),o.unbind(u,"scroll",x),u=null})},BU=function(t,r,o,u,c){var f=Cr(0),d=r.outerContainer;BV(t);var p=ce.fromDom(c.targetNode),b=wn(vr(p));Wl(p,r.mothership),Wf(b,r.uiMothership),t.on("PostRender",function(){YL(t,r,o,u),f.set(t.getWin().innerWidth),zo.setMenubar(d,BL(t,o)),zo.setSidebar(d,o.sidebar),MU(t,r)});var x=zo.getSocket(d).getOrDie("Could not find expected socket element");if(_U){Tl(x.element,{overflow:"scroll","-webkit-overflow-scrolling":"touch"});var O=NN(function(){t.fire("ScrollContent")},20),P=jo(x.element,"scroll",O.throttle);t.on("remove",P.unbind)}X3(t,r),t.addCommand("ToggleSidebar",function(de,Pe){zo.toggleSidebar(d,Pe),t.fire("ToggleSidebar")}),t.addQueryValueHandler("ToggleSidebar",function(){return zo.whichSidebar(d)});var V=Gh(t),q=function(){zo.refreshToolbar(r.outerContainer)};(V===Ps.sliding||V===Ps.floating)&&t.on("ResizeWindow ResizeEditor ResizeContent",function(){var de=t.getWin().innerWidth;de!==f.get()&&(q(),f.set(de))});var te={enable:function(){Jm(r,!1)},disable:function(){Jm(r,!0)},isDisabled:function(){return gr.isDisabled(d)}};return{iframeContainer:x.element.dom,editorContainer:d.element.dom,api:te}},PU=Object.freeze({__proto__:null,render:BU}),m$=function(t){var r=/^[0-9\.]+(|px)$/i;return r.test(""+t)?A.some(parseInt(""+t,10)):A.none()},g$=function(t){return he(t)?t+"px":t},W_=function(t,r,o){var u=r.filter(function(f){return t<f}),c=o.filter(function(f){return t>f});return u.or(c).getOr(t)},RU=function(t){var r=F3(t),o=$3(t),u=L3(t);return m$(r).map(function(c){return W_(c,o,u)})},NU=function(t){var r=RU(t);return r.getOr(F3(t))},JL=function(t){var r=I3(t),o=z3(t),u=Vb(t);return m$(r).map(function(c){return W_(c,o,u)})},FU=function(t){var r=JL(t);return r.getOr(I3(t))},IU=function(t,r,o,u,c){var f=o.uiMothership,d=o.outerContainer,p=qh.DOM,b=Wb(t),x=jb(t),O=Vb(t).or(JL(t)),P=u.shared.header,V=P.isPositionedAtTop,q=Gh(t),te=q===Ps.sliding||q===Ps.floating,de=Cr(!1),Pe=function(){return de.get()&&!t.removed},le=function(Gt){return te?Gt.fold(L(0),function(Dt){return Dt.components().length>1?ti(Dt.components()[1].element):0}):0},Ie=function(Gt){switch(V3(t)){case sd.auto:var Dt=zo.getToolbar(d),gn=le(Dt),Xn=ti(Gt.element)-gn,It=gi(r),Un=It.y>Xn;if(Un)return"top";var Qn=Tt(r),Jr=Math.max(Qn.dom.scrollHeight,ti(Qn)),Ca=It.bottom<Jr-Xn;if(Ca)return"bottom";var Ya=xs(),ho=Ya.bottom<It.bottom-Xn;return ho?"bottom":"top";case sd.bottom:return"bottom";case sd.top:default:return"top"}},xt=function(Gt){var Dt=c.get();e.setModes(Dt,[Gt]),P.setDockingMode(Gt);var gn=V()?Cc.TopToBottom:Cc.BottomToTop;qr(Dt.element,qw,gn)},yt=function(){var Gt=O.getOrThunk(function(){var Dt=m$(Fo(Aa(),"margin-left")).getOr(0);return uu(Aa())-bu(r).left+Dt});Mr(c.get().element,"max-width",Gt+"px")},Fe=function(){var Gt=zo.getToolbar(d),Dt=le(Gt),gn=gi(r),Xn=V()?Math.max(gn.y-ti(c.get().element)+Dt,0):gn.bottom;Tl(d.element,{position:"absolute",top:Math.round(Xn)+"px",left:Math.round(gn.x)+"px"})},lt=function(){f.broadcastOn([Am()],{})},Mt=function(Gt){if(Gt===void 0&&(Gt=!1),!!Pe()){if(b||yt(),te&&zo.refreshToolbar(d),b||Fe(),x){var Dt=c.get();Gt?e.reset(Dt):e.refresh(Dt)}lt()}},En=function(Gt){if(Gt===void 0&&(Gt=!0),!(b||!x||!Pe())){var Dt=P.getDockingMode(),gn=Ie(c.get());gn!==Dt&&(xt(gn),Gt&&Mt(!0))}},Lt=function(){de.set(!0),Mr(d.element,"display","flex"),p.addClass(t.getBody(),"mce-edit-focus"),Ia(f.element,"display"),En(!1),Mt()},An=function(){de.set(!1),o.outerContainer&&(Mr(d.element,"display","none"),p.removeClass(t.getBody(),"mce-edit-focus")),Mr(f.element,"display","none")};return{isVisible:Pe,isPositionedAtTop:V,show:Lt,hide:An,update:Mt,updateMode:En,repositionPopups:lt}},QL=function(t,r){var o=gi(t);return{pos:r?o.y:o.bottom,bounds:o}},zU=function(t,r,o,u){var c=Cr(QL(r,o.isPositionedAtTop())),f=function(p){var b=QL(r,o.isPositionedAtTop()),x=b.pos,O=b.bounds,P=c.get(),V=P.pos,q=P.bounds,te=O.height!==q.height||O.width!==q.width;c.set({pos:x,bounds:O}),te&&fx(t,p),o.isVisible()&&(V!==x?o.update(!0):te&&(o.updateMode(),o.repositionPopups()))};u||(t.on("activate",o.show),t.on("deactivate",o.hide)),t.on("SkinLoaded ResizeWindow",function(){return o.update(!0)}),t.on("NodeChange keydown",function(p){Xl.requestAnimationFrame(function(){return f(p)})}),t.on("ScrollWindow",function(){return o.updateMode()});var d=ym();d.set(T1(ce.fromDom(t.getBody()),"load",f)),t.on("remove",function(){d.clear()})},$U=function(t,r,o,u,c){var f=r.mothership,d=r.uiMothership,p=r.outerContainer,b=Cr(null),x=ce.fromDom(c.targetNode),O=IU(t,x,r,u,b),P=L5(t);PV(t);var V=function(){if(b.get()){O.show();return}b.set(zo.getHeader(p).getOrDie());var te=j3(t);Wf(te,f),Wf(te,d),YL(t,r,o,u),zo.setMenubar(p,BL(t,o)),O.show(),zU(t,x,O,P),t.nodeChanged()};t.on("show",V),t.on("hide",O.hide),P||(t.on("focus",V),t.on("blur",O.hide)),t.on("init",function(){(t.hasFocus()||P)&&V()}),X3(t,r);var q={show:function(){O.show()},hide:function(){O.hide()},enable:function(){Jm(r,!1)},disable:function(){Jm(r,!0)},isDisabled:function(){return gr.isDisabled(p)}};return{editorContainer:p.element.dom,api:q}},LU=Object.freeze({__proto__:null,render:$U}),HU="contexttoolbar-show",e7="contexttoolbar-hide",VU=function(t){return{hide:function(){return da(t,eh())},getValue:function(){return _n.getValue(t)}}},t7=function(t,r){return qt(TD,function(o,u){var c=t.get(o),f=VU(c);r.onAction(f,u.event.buttonApi)})},UU=function(t,r,o){var u=r.original;u.primary;var c=xe(u,["primary"]),f=Dl(b3(G(G({},c),{type:"button",onAction:ae})));return GL(f,o.backstage.shared.providers,[t7(t,r)])},WU=function(t,r,o){var u=r.original;u.primary;var c=xe(u,["primary"]),f=Dl(zC(G(G({},c),{type:"togglebutton",onAction:ae})));return KL(f,o.backstage.shared.providers,[t7(t,r)])},jU=function(t,r,o){var u={backstage:{shared:{providers:o}}};return r.type==="contextformtogglebutton"?WU(t,r,u):UU(t,r,u)},qU=function(t,r,o){var u=St(r,function(d){return ya(jU(t,d,o))}),c=function(){return St(u,function(d){return d.asSpec()})},f=function(d){return Xe(r,function(p,b){return p.primary?A.from(u[b]).bind(function(x){return x.getOpt(d)}).filter(gt(gr.isDisabled)):A.none()})};return{asSpecs:c,findPrimary:f}},n7=function(t,r){var o=t.label.fold(function(){return{}},function(f){return{"aria-label":f}}),u=ya(ug.sketch({inputClasses:["tox-toolbar-textfield","tox-toolbar-nav-js"],data:t.initValue(),inputAttributes:o,selectOnFocus:!0,inputBehaviours:Cn([sr.config({mode:"special",onEnter:function(f){return c.findPrimary(f).map(function(d){return As(d),!0})},onLeft:function(f,d){return d.cut(),A.none()},onRight:function(f,d){return d.cut(),A.none()}})])})),c=qU(u,t.commands,r);return[{title:A.none(),items:[u.asSpec()]},{title:A.none(),items:c.asSpecs()}]},GU=function(t,r,o){return $_({type:t,uid:Yn("context-toolbar"),initGroups:n7(r,o),onEscape:A.none,cyclicKeying:!0,providers:o})},KU={renderContextForm:GU,buildInitGroups:n7},r7=function(t,r,o){return o===void 0&&(o=.01),r.bottom-t.y>=o&&t.bottom-r.y>=o},XU=function(t){var r=t.getBoundingClientRect();if(r.height<=0&&r.width<=0){var o=ue(ce.fromDom(t.startContainer),t.startOffset).element,u=Z(o)?Lo(o):A.some(o);return u.filter(R).map(function(c){return c.dom.getBoundingClientRect()}).getOr(r)}else return r},h$=function(t){var r=t.selection.getRng(),o=XU(r);if(t.inline){var u=ws();return mi(u.left+o.left,u.top+o.top,o.width,o.height)}else{var c=mc(ce.fromDom(t.getBody()));return mi(c.x+o.left,c.y+o.top,o.width,o.height)}},YU=function(t,r){return r.filter(wr).map(mc).getOrThunk(function(){return h$(t)})},ZU=function(t,r,o){var u=Math.max(t.x+o,r.x),c=Math.min(t.right-o,r.right);return{x:u,width:c-u}},JU=function(t,r,o,u,c,f){var d=ce.fromDom(t.getContainer()),p=ai(d,".tox-editor-header").getOr(d),b=gi(p),x=b.y>=r.bottom,O=u&&!x;if(t.inline&&O)return{y:Math.max(b.bottom+f,o.y),bottom:o.bottom};if(t.inline&&!O)return{y:o.y,bottom:Math.min(b.y-f,o.bottom)};var P=c==="line"?gi(d):r;return O?{y:Math.max(b.bottom+f,o.y),bottom:Math.min(P.bottom-f,o.bottom)}:{y:Math.max(P.y+f,o.y),bottom:Math.min(b.y-f,o.bottom)}},a7=function(t,r,o,u){u===void 0&&(u=0);var c=Ev(window),f=gi(ce.fromDom(t.getContentAreaContainer())),d=Xo(t)||tx(t)||Ub(t),p=ZU(f,c,u),b=p.x,x=p.width;if(t.inline&&!d)return mi(b,c.y,x,c.height);var O=r.header.isPositionedAtTop(),P=JU(t,f,c,O,o,u),V=P.y,q=P.bottom;return mi(b,V,x,q-V)},j_=12,o7={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"],inset:["tox-pop--inset"]},i7={maxHeightFunction:fh(),maxWidthFunction:i$()},QU=function(t,r){var o=t.selection.getRng(),u=ue(ce.fromDom(o.startContainer),o.startOffset);return o.startContainer===o.endContainer&&o.startOffset===o.endOffset-1&&_a(u.element,r)},eW=function(t,r,o){var u=Oi(t,"position");Mr(t,"position",r);var c=o(t);return u.each(function(f){return Mr(t,"position",f)}),c},u7=function(t){return t==="node"},tW=function(t,r,o,u,c){var f=h$(t),d=u.lastElement().exists(function(x){return _a(o,x)});if(QU(t,o))return d?dC:Kl;if(d)return eW(r,u.getMode(),function(){var x=r7(f,gi(r));return x&&!u.isReposition()?lN:dC});var p=u.getMode()==="fixed"?c.y+ws().top:c.y,b=ti(r)+j_;return p+b<=f.y?Kl:Lm},nW=function(t,r,o,u){var c=function(b){return function(x,O,P,V,q){var te=tW(t,V,b,o,q),de=G(G({},x),{y:q.y,height:q.height});return G(G({},te(de,O,P,V,q)),{alwaysFit:!0})}},f=function(b){return u7(u)?[c(b)]:[]},d={onLtr:function(b){return[Vu,Ko,Hu,Yi,ku,Zi].concat(f(b))},onRtl:function(b){return[Vu,Ko,ku,Zi,Hu,Yi].concat(f(b))}},p={onLtr:function(b){return[Ko,Yi,Zi,Hu,ku,Vu].concat(f(b))},onRtl:function(b){return[Ko,Zi,Yi,ku,Hu,Vu].concat(f(b))}};return r?p:d},rW=function(t,r,o,u){return r==="line"?{bubble:wm(j_,0,o7),layouts:{onLtr:function(){return[y1]},onRtl:function(){return[w1]}},overrides:i7}:{bubble:wm(0,j_,o7,1/j_),layouts:nW(t,o,u,r),overrides:i7}},p$=function(t,r){var o=We(r,function(d){return d.predicate(t.dom)}),u=Ue(o,function(d){return d.type==="contexttoolbar"}),c=u.pass,f=u.fail;return{contextToolbars:c,contextForms:f}},aW=function(t){if(t.length<=1)return t;var r=function(p){return sn(t,function(b){return b.position===p})},o=function(p){return We(t,function(b){return b.position===p})},u=r("selection"),c=r("node");if(u||c)if(c&&u){var f=o("node"),d=St(o("selection"),function(p){return G(G({},p),{position:"node"})});return f.concat(d)}else return o(u?"selection":"node");else return o("line")},oW=function(t){if(t.length<=1)return t;var r=function(u){return kt(t,function(c){return c.position===u})},o=r("selection").orThunk(function(){return r("node")}).orThunk(function(){return r("line")}).map(function(u){return u.position});return o.fold(function(){return[]},function(u){return We(t,function(c){return c.position===u})})},iW=function(t,r,o){var u=p$(t,r);if(u.contextForms.length>0)return A.some({elem:t,toolbars:[u.contextForms[0]]});var c=p$(t,o);if(c.contextForms.length>0)return A.some({elem:t,toolbars:[c.contextForms[0]]});if(u.contextToolbars.length>0||c.contextToolbars.length>0){var f=aW(u.contextToolbars.concat(c.contextToolbars));return A.some({elem:t,toolbars:f})}else return A.none()},uW=function(t,r,o){return t(r)?A.none():Wy(r,function(u){if(R(u)){var c=p$(u,o.inNodeScope),f=c.contextToolbars,d=c.contextForms,p=d.length>0?d:oW(f);return p.length>0?A.some({elem:u,toolbars:p}):A.none()}else return A.none()},t)},sW=function(t,r){var o=ce.fromDom(r.getBody()),u=function(d){return _a(d,o)},c=function(d){return!u(d)&&!Wi(o,d)},f=ce.fromDom(r.selection.getNode());return c(f)?A.none():iW(f,t.inNodeScope,t.inEditorScope).orThunk(function(){return uW(u,f,t)})},lW=function(t,r){var o={},u=[],c=[],f={},d={},p=function(O,P){var V=Dl(XN(P));o[O]=V,V.launch.map(function(q){f["form:"+O]=G(G({},P.launch),{type:q.type==="contextformtogglebutton"?"togglebutton":"button",onAction:function(){r(V)}})}),V.scope==="editor"?c.push(V):u.push(V),d[O]=V},b=function(O,P){ZN(P).each(function(V){P.scope==="editor"?c.push(V):u.push(V),d[O]=V})},x=ot(t);return Ke(x,function(O){var P=t[O];P.type==="contextform"?p(O,P):P.type==="contexttoolbar"&&b(O,P)}),{forms:o,inNodeScope:u,inEditorScope:c,lookupTable:d,formNavigators:f}},s7=Yn("forward-slide"),l7=Yn("backward-slide"),b$=Yn("change-slide-event"),y$="tox-pop--resizing",cW=function(t){var r=Cr([]);return wo.sketch({dom:{tag:"div",classes:["tox-pop"]},fireDismissalEventInstead:{event:"doNotDismissYet"},onShow:function(o){r.set([]),wo.getContent(o).each(function(u){Ia(u.element,"visibility")}),Go(o.element,y$),Ia(o.element,"width")},inlineBehaviours:Cn([$r("context-toolbar-events",[Uo(Jg(),function(o,u){u.event.raw.propertyName==="width"&&(Go(o.element,y$),Ia(o.element,"width"))}),qt(b$,function(o,u){var c=o.element;Ia(c,"width");var f=uu(c);wo.setContent(o,u.event.contents),ri(c,y$);var d=uu(c);Mr(c,"width",f+"px"),wo.getContent(o).each(function(p){u.event.focus.bind(function(b){return zl(b),Ll(c)}).orThunk(function(){return sr.focusIn(p),$l(vr(c))})}),Xl.setTimeout(function(){Mr(o.element,"width",d+"px")},0)}),qt(s7,function(o,u){wo.getContent(o).each(function(c){r.set(r.get().concat([{bar:c,focus:$l(vr(o.element))}]))}),br(o,b$,{contents:u.event.forwardContents,focus:A.none()})}),qt(l7,function(o,u){Ut(r.get()).each(function(c){r.set(r.get().slice(0,r.get().length-1)),br(o,b$,{contents:Ds(c.bar),focus:c.focus})})})]),sr.config({mode:"special",onEscape:function(o){return Ut(r.get()).fold(function(){return t.onEscape()},function(u){return da(o,l7),A.some(!0)})}})]),lazySink:function(){return jr.value(t.sink)}})},w$="tox-pop--transition",fW=function(t,r,o,u){var c=u.backstage,f=c.shared,d=an().deviceType.isTouch,p=Bo(),b=Bo(),x=Bo(),O=Wo(cW({sink:o,onEscape:function(){return t.focus(),A.some(!0)}})),P=function(){var Lt=x.get().getOr("node"),An=u7(Lt)?1:0;return a7(t,f,Lt,An)},V=function(){return!t.removed&&!(d()&&c.isContextMenuOpen())},q=function(Lt){return pr(ha(Lt,p.get(),_a),!0)},te=function(){if(V()){var Lt=P(),An=pr(x.get(),"node")?YU(t,p.get()):h$(t);return Lt.height<=0||!r7(An,Lt)}else return!0},de=function(){p.clear(),b.clear(),x.clear(),wo.hide(O)},Pe=function(){if(wo.isOpen(O)){var Lt=O.element;Ia(Lt,"display"),te()?Mr(Lt,"display","none"):(b.set(0),wo.reposition(O))}},le=function(Lt){return{dom:{tag:"div",classes:["tox-pop__dialog"]},components:[Lt],behaviours:Cn([sr.config({mode:"acyclic"}),$r("pop-dialog-wrap-events",[Hr(function(An){t.shortcuts.add("ctrl+F9","focus statusbar",function(){return sr.focusIn(An)})}),Ys(function(An){t.shortcuts.remove("ctrl+F9")})])])}},Ie=Qe(function(){return lW(r,function(Lt){var An=Fe([Lt]);br(O,s7,{forwardContents:le(An)})})}),xt=function(Lt,An){return U_(t,{buttons:Lt,toolbar:An.items,allowToolbarGroups:!1},u,A.some(["form:"]))},yt=function(Lt,An){return KU.buildInitGroups(Lt,An)},Fe=function(Lt){var An=t.ui.registry.getAll().buttons,Gt=Ie(),Dt=G(G({},An),Gt.formNavigators),gn=Gh(t)===Ps.scrolling?Ps.scrolling:Ps.default,Xn=Ce(St(Lt,function(It){return It.type==="contexttoolbar"?xt(Dt,It):yt(It,f.providers)}));return $_({type:gn,uid:Yn("context-toolbar"),initGroups:Xn,onEscape:A.none,cyclicKeying:!0,providers:f.providers})},lt=function(Lt,An){var Gt=Lt==="node"?f.anchors.node(An):f.anchors.cursor(),Dt=rW(t,Lt,d(),{lastElement:p.get,isReposition:function(){return pr(b.get(),0)},getMode:function(){return Po.getMode(o)}});return Ot(Gt,Dt)},Mt=function(Lt,An){if(En.cancel(),!!V()){var Gt=Fe(Lt),Dt=Lt[0].position,gn=lt(Dt,An);x.set(Dt),b.set(1);var Xn=O.element;Ia(Xn,"display"),q(An)||(Go(Xn,w$),Po.reset(o,O)),wo.showWithinBounds(O,le(Gt),{anchor:gn,transition:{classes:[w$],mode:"placement"}},function(){return A.some(P())}),An.fold(p.clear,p.set),te()&&Mr(Xn,"display","none")}},En=Db(function(){if(!(!t.hasFocus()||t.removed))if(Cu(O.element,w$))En.throttle();else{var Lt=Ie();sW(Lt,t).fold(de,function(An){Mt(An.toolbars,A.some(An.elem))})}},17);t.on("init",function(){t.on("remove",de),t.on("ScrollContent ScrollWindow ObjectResized ResizeEditor longpress",Pe),t.on("click keyup focus SetContent",En.throttle),t.on(e7,de),t.on(HU,function(Lt){var An=Ie();dt(An.lookupTable,Lt.toolbarKey).each(function(Gt){Mt([Gt],Ta(Lt.target!==t,Lt.target)),wo.getContent(O).each(sr.focusIn)})}),t.on("focusout",function(Lt){Xl.setEditorTimeout(t,function(){Ll(o.element).isNone()&&Ll(O.element).isNone()&&de()},0)}),t.on("SwitchMode",function(){t.mode.isReadOnly()&&de()}),t.on("AfterProgressState",function(Lt){Lt.state?de():t.hasFocus()&&En.throttle()}),t.on("NodeChange",function(Lt){Ll(O.element).fold(En.throttle,ae)})})},vW=function(t){var r=[{name:"alignleft",text:"Align left",cmd:"JustifyLeft",icon:"align-left"},{name:"aligncenter",text:"Align center",cmd:"JustifyCenter",icon:"align-center"},{name:"alignright",text:"Align right",cmd:"JustifyRight",icon:"align-right"},{name:"alignjustify",text:"Justify",cmd:"JustifyFull",icon:"align-justify"}];Ke(r,function(o){t.ui.registry.addToggleButton(o.name,{tooltip:o.text,icon:o.icon,onAction:sc(t,o.cmd),onSetup:L_(t,o.name)})}),t.ui.registry.addButton("alignnone",{tooltip:"No alignment",icon:"align-none",onAction:sc(t,"JustifyNone")})},dW={unsupportedLength:["em","ex","cap","ch","ic","rem","lh","rlh","vw","vh","vi","vb","vmin","vmax","cm","mm","Q","in","pc","pt","px"],fixed:["px","pt"],relative:["%"],empty:[""]},mW=function(){var t="[0-9]+",r="[+-]?"+t,o="[eE]"+r,u="\\.",c=function(p){return"(?:"+p+")?"},f=["Infinity",t+u+c(t)+c(o),u+t+c(o),t+c(o)].join("|"),d="[+-]?(?:"+f+")";return new RegExp("^("+d+")(.*)$")}(),gW=function(t,r){return sn(r,function(o){return sn(dW[o],function(u){return t===u})})},hW=function(t,r){var o=A.from(mW.exec(t));return o.bind(function(u){var c=Number(u[1]),f=u[2];return gW(f,r)?A.some({value:c,unit:f}):A.none()})},pW=function(t,r){return hW(t,r).map(function(o){var u=o.value,c=o.unit;return u+c})},c7=function(t,r){var o=function(){var u=r.getOptions(t),c=r.getCurrent(t).map(r.hash),f=Bo();return St(u,function(d){return{type:"togglemenuitem",text:r.display(d),onSetup:function(p){var b=function(O){O&&(f.on(function(P){return P.setActive(!1)}),f.set(p)),p.setActive(O)};b(pr(c,r.hash(d)));var x=r.watcher(t,d,b);return function(){f.clear(),x()}},onAction:function(){return r.setCurrent(t,d)}}})};t.ui.registry.addMenuButton(r.name,{tooltip:r.text,icon:r.icon,fetch:function(u){return u(o())},onSetup:r.onToolbarSetup}),t.ui.registry.addNestedMenuItem(r.name,{type:"nestedmenuitem",text:r.text,getSubmenuItems:o,onSetup:r.onMenuSetup})},bW={name:"lineheight",text:"Line height",icon:"line-height",getOptions:N5,hash:function(t){return pW(t,["fixed","relative","empty"]).getOr(t)},display:_e,watcher:function(t,r,o){return t.formatter.formatChanged("lineheight",o,!1,{value:r}).unbind},getCurrent:function(t){return A.from(t.queryCommandValue("LineHeight"))},setCurrent:function(t,r){return t.execCommand("LineHeight",!1,r)}},yW=function(t){var r=A.from(F5(t));return r.map(function(o){return{name:"language",text:"Language",icon:"language",getOptions:L(o),hash:function(u){return ye(u.customCode)?u.code:u.code+"/"+u.customCode},display:function(u){return u.title},watcher:function(u,c,f){return u.formatter.formatChanged("lang",f,!1,{value:c.code,customValue:c.customCode}).unbind},getCurrent:function(u){var c=ce.fromDom(u.selection.getNode());return jy(c,function(f){return A.some(f).filter(R).bind(function(d){var p=Ho(d,"lang");return p.map(function(b){var x=Ho(d,"data-mce-lang").getOrUndefined();return{code:b,customCode:x,title:""}})})})},setCurrent:function(u,c){return u.execCommand("Lang",!1,c)},onToolbarSetup:function(u){var c=ym();return u.setActive(t.formatter.match("lang",{},void 0,!0)),c.set(t.formatter.formatChanged("lang",u.setActive,!0)),c.clear}}})},wW=function(t){c7(t,bW),yW(t).each(function(r){return c7(t,r)})},CW=function(t,r){$V(t,r),WV(t,r),rU(t,r),tU(t,r),JV(t,r)},xW=function(t){return H_(t,"NodeChange",function(r){r.setDisabled(!t.queryCommandState("outdent"))})},SW=function(t){t.ui.registry.addButton("outdent",{tooltip:"Decrease indent",icon:"outdent",onSetup:xW(t),onAction:sc(t,"outdent")}),t.ui.registry.addButton("indent",{tooltip:"Increase indent",icon:"indent",onAction:sc(t,"indent")})},kW=function(t){SW(t)},C$=function(t,r){return function(){t.execCommand("mceToggleFormat",!1,r)}},EW=function(t){cv.each([{name:"bold",text:"Bold",icon:"bold"},{name:"italic",text:"Italic",icon:"italic"},{name:"underline",text:"Underline",icon:"underline"},{name:"strikethrough",text:"Strikethrough",icon:"strike-through"},{name:"subscript",text:"Subscript",icon:"subscript"},{name:"superscript",text:"Superscript",icon:"superscript"}],function(u,c){t.ui.registry.addToggleButton(u.name,{tooltip:u.text,icon:u.icon,onSetup:L_(t,u.name),onAction:C$(t,u.name)})});for(var r=1;r<=6;r++){var o="h"+r;t.ui.registry.addToggleButton(o,{text:o.toUpperCase(),tooltip:"Heading "+r,onSetup:L_(t,o),onAction:C$(t,o)})}},TW=function(t){cv.each([{name:"cut",text:"Cut",action:"Cut",icon:"cut"},{name:"copy",text:"Copy",action:"Copy",icon:"copy"},{name:"paste",text:"Paste",action:"Paste",icon:"paste"},{name:"help",text:"Help",action:"mceHelp",icon:"help"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all"},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document"},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting"},{name:"remove",text:"Remove",action:"Delete",icon:"remove"}],function(r){t.ui.registry.addButton(r.name,{tooltip:r.text,icon:r.icon,onAction:sc(t,r.action)})})},AW=function(t){cv.each([{name:"blockquote",text:"Blockquote",action:"mceBlockQuote",icon:"quote"}],function(r){t.ui.registry.addToggleButton(r.name,{tooltip:r.text,icon:r.icon,onAction:sc(t,r.action),onSetup:L_(t,r.name)})})},OW=function(t){EW(t),TW(t),AW(t)},DW=function(t){cv.each([{name:"bold",text:"Bold",action:"Bold",icon:"bold",shortcut:"Meta+B"},{name:"italic",text:"Italic",action:"Italic",icon:"italic",shortcut:"Meta+I"},{name:"underline",text:"Underline",action:"Underline",icon:"underline",shortcut:"Meta+U"},{name:"strikethrough",text:"Strikethrough",action:"Strikethrough",icon:"strike-through",shortcut:""},{name:"subscript",text:"Subscript",action:"Subscript",icon:"subscript",shortcut:""},{name:"superscript",text:"Superscript",action:"Superscript",icon:"superscript",shortcut:""},{name:"removeformat",text:"Clear formatting",action:"RemoveFormat",icon:"remove-formatting",shortcut:""},{name:"newdocument",text:"New document",action:"mceNewDocument",icon:"new-document",shortcut:""},{name:"cut",text:"Cut",action:"Cut",icon:"cut",shortcut:"Meta+X"},{name:"copy",text:"Copy",action:"Copy",icon:"copy",shortcut:"Meta+C"},{name:"paste",text:"Paste",action:"Paste",icon:"paste",shortcut:"Meta+V"},{name:"selectall",text:"Select all",action:"SelectAll",icon:"select-all",shortcut:"Meta+A"}],function(r){t.ui.registry.addMenuItem(r.name,{text:r.text,icon:r.icon,shortcut:r.shortcut,onAction:sc(t,r.action)})}),t.ui.registry.addMenuItem("codeformat",{text:"Code",icon:"sourcecode",onAction:C$(t,"code")})},_W=function(t){OW(t),DW(t)},q_=function(t,r){return H_(t,"Undo Redo AddUndo TypingUndo ClearUndos SwitchMode",function(o){o.setDisabled(t.mode.isReadOnly()||!t.undoManager[r]())})},MW=function(t){t.ui.registry.addMenuItem("undo",{text:"Undo",icon:"undo",shortcut:"Meta+Z",onSetup:q_(t,"hasUndo"),onAction:sc(t,"undo")}),t.ui.registry.addMenuItem("redo",{text:"Redo",icon:"redo",shortcut:"Meta+Y",onSetup:q_(t,"hasRedo"),onAction:sc(t,"redo")})},BW=function(t){t.ui.registry.addButton("undo",{tooltip:"Undo",icon:"undo",disabled:!0,onSetup:q_(t,"hasUndo"),onAction:sc(t,"undo")}),t.ui.registry.addButton("redo",{tooltip:"Redo",icon:"redo",disabled:!0,onSetup:q_(t,"hasRedo"),onAction:sc(t,"redo")})},PW=function(t){MW(t),BW(t)},RW=function(t){return H_(t,"VisualAid",function(r){r.setActive(t.hasVisual)})},NW=function(t){t.ui.registry.addToggleMenuItem("visualaid",{text:"Visual aids",onSetup:RW(t),onAction:sc(t,"mceToggleVisualAid")})},FW=function(t){t.ui.registry.addButton("visualaid",{tooltip:"Visual aids",text:"Visual aids",onAction:sc(t,"mceToggleVisualAid")})},IW=function(t){FW(t),NW(t)},zW=function(t,r){vW(t),_W(t),CW(t,r),PW(t),_F(t),IW(t),kW(t),wW(t)},ek=function(t,r){return{type:"makeshift",x:t,y:r}},$W=function(t,r,o){return ek(t.x+r,t.y+o)},f7=function(t){return t.type==="longpress"||t.type.indexOf("touch")===0},LW=function(t){if(f7(t)){var r=t.touches[0];return ek(r.pageX,r.pageY)}else return ek(t.pageX,t.pageY)},HW=function(t){if(f7(t)){var r=t.touches[0];return ek(r.clientX,r.clientY)}else return ek(t.clientX,t.clientY)},VW=function(t,r){var o=qh.DOM.getPos(t);return $W(r,o.x,o.y)},UW=function(t,r){return r.type==="contextmenu"||r.type==="longpress"?t.inline?LW(r):VW(t.getContentAreaContainer(),HW(r)):v7(t)},v7=function(t){return{type:"selection",root:ce.fromDom(t.selection.getNode())}},WW=function(t){return{type:"node",node:A.some(ce.fromDom(t.selection.getNode())),root:ce.fromDom(t.getBody())}},d7=function(t,r,o){switch(o){case"node":return WW(t);case"point":return UW(t,r);case"selection":return v7(t)}},jW=function(t,r,o,u,c,f){var d=o(),p=d7(t,r,f);Cg(d,Jl.CLOSE_ON_EXECUTE,u,!1).map(function(b){r.preventDefault(),wo.showMenuAt(c,{anchor:p},{menu:{markers:Km("normal")},data:b})})},qW={onLtr:function(){return[Ko,Yi,Zi,Hu,ku,Vu,Kl,Lm,td,Lh,Hh,$h]},onRtl:function(){return[Ko,Zi,Yi,ku,Hu,Vu,Kl,Lm,Hh,$h,td,Lh]}},GW=12,KW={valignCentre:[],alignCentre:[],alignLeft:["tox-pop--align-left"],alignRight:["tox-pop--align-right"],right:["tox-pop--right"],left:["tox-pop--left"],bottom:["tox-pop--bottom"],top:["tox-pop--top"]},XW=function(t,r){var o=t.selection;if(o.isCollapsed()||r.touches.length<1)return!1;var u=r.touches[0],c=o.getRng(),f=Jw(t.getWin(),gh.domRange(c));return f.exists(function(d){return d.left<=u.clientX&&d.right>=u.clientX&&d.top<=u.clientY&&d.bottom>=u.clientY})},YW=function(t){var r=t.selection.getRng(),o=function(){Xl.setEditorTimeout(t,function(){t.selection.setRng(r)},10),f()};t.once("touchend",o);var u=function(d){d.preventDefault(),d.stopImmediatePropagation()};t.on("mousedown",u,!0);var c=function(){return f()};t.once("longpresscancel",c);var f=function(){t.off("touchend",o),t.off("longpresscancel",c),t.off("mousedown",u)}},ZW=function(t,r,o){var u=d7(t,r,o),c=o==="point"?GW:0;return G({bubble:wm(0,c,KW),layouts:qW,overrides:{maxWidthFunction:i$(),maxHeightFunction:fh()}},u)},JW=function(t,r,o,u,c,f,d){var p=ZW(t,r,f);Cg(o,Jl.CLOSE_ON_EXECUTE,u,!0).map(function(b){r.preventDefault(),wo.showMenuWithinBounds(c,{anchor:p},{menu:{markers:Km("normal"),highlightImmediately:d},data:b,type:"horizontal"},function(){return A.some(a7(t,u.shared,f==="node"?"node":"selection"))}),t.fire(e7)})},QW=function(t,r,o,u,c,f){var d=an(),p=d.os.isiOS(),b=d.os.isOSX(),x=d.os.isAndroid(),O=d.deviceType.isTouch(),P=function(){return!(x||p||b&&O)},V=function(){var te=o();JW(t,r,te,u,c,f,P())};if((b||p)&&f!=="node"){var q=function(){YW(t),V()};XW(t,r)?q():(t.once("selectionchange",q),t.once("touchend",function(){return t.off("selectionchange",q)}))}else V()},m7=function(t){return typeof t=="string"?t.split(/[ ,]/):t},g7=function(t){return t.getParam("contextmenu_never_use_native",!1,"boolean")},ej=function(t,r,o){var u=t.ui.registry.getAll().contextMenus;return A.from(t.getParam(r)).map(m7).getOrThunk(function(){return We(m7(o),function(c){return Wt(u,c)})})},tj=function(t){return t.getParam("contextmenu")===!1},nj=function(t){return ej(t,"contextmenu","link linkchecker image imagetools table spellchecker configurepermanentpen")},rj=function(t){return t.getParam("contextmenu_avoid_overlap","","string")},h7=function(t){return _(t)?t==="|":t.type==="separator"},x$={type:"separator"},p7=function(t){var r=function(o){return{text:o.text,icon:o.icon,disabled:o.disabled,shortcut:o.shortcut}};if(_(t))return t;switch(t.type){case"separator":return x$;case"submenu":return G(G({type:"nestedmenuitem"},r(t)),{getSubmenuItems:function(){var o=t.getSubmenuItems();return _(o)?o:St(o,p7)}});default:return G(G({type:"menuitem"},r(t)),{onAction:Ae(t.onAction)})}},b7=function(t,r){if(r.length===0)return t;var o=Ut(t).filter(function(c){return!h7(c)}),u=o.fold(function(){return[]},function(c){return[x$]});return t.concat(u).concat(r).concat([x$])},aj=function(t,r,o){var u=zt(r,function(c,f){return dt(t,f.toLowerCase()).map(function(d){var p=d.update(o);if(_(p))return b7(c,p.split(" "));if(p.length>0){var b=St(p,p7);return b7(c,b)}else return c}).getOrThunk(function(){return c.concat([f])})},[]);return u.length>0&&h7(u[u.length-1])&&u.pop(),u},oj=function(t,r){return r.ctrlKey&&!g7(t)},y7=function(t,r){return r.type!=="longpress"&&(r.button!==2||r.target===t.getBody()&&r.pointerType==="")},w7=function(t,r){return y7(t,r)?t.selection.getStart(!0):r.target},ij=function(t,r){var o=rj(t),u=y7(t,r)?"selection":"point";if(So(o)){var c=w7(t,r),f=ep(ce.fromDom(c),o);return f?"node":u}else return u},uj=function(t,r,o){var u=an(),c=u.deviceType.isTouch,f=Wo(wo.sketch({dom:{tag:"div"},lazySink:r,onEscape:function(){return t.focus()},onShow:function(){return o.setContextMenuState(!0)},onHide:function(){return o.setContextMenuState(!1)},fireDismissalEventInstead:{},inlineBehaviours:Cn([$r("dismissContextMenu",[qt(Pl(),function(b,x){ra.close(b),t.focus()})])])})),d=function(b){return wo.hide(f)},p=function(b){if(g7(t)&&b.preventDefault(),!(oj(t,b)||tj(t))){var x=ij(t,b),O=function(){var V=w7(t,b),q=t.ui.registry.getAll(),te=nj(t);return aj(q.contextMenus,te,V)},P=c()?QW:jW;P(t,b,O,o,f,x)}};t.on("init",function(){var b="ResizeEditor ScrollContent ScrollWindow longpresscancel"+(c()?"":" ResizeWindow");t.on(b,d),t.on("longpress contextmenu",p)})},S$=Ks.generate([{offset:["x","y"]},{absolute:["x","y"]},{fixed:["x","y"]}]),G_=function(t){return function(r){return r.translate(-t.left,-t.top)}},K_=function(t){return function(r){return r.translate(t.left,t.top)}},Cd=function(t){return function(r,o){return zt(t,function(u,c){return c(u)},Ka(r,o))}},X_=function(t,r,o){return t.fold(Cd([K_(o),G_(r)]),Cd([G_(r)]),Cd([]))},dy=function(t,r,o){return t.fold(Cd([K_(o)]),Cd([]),Cd([K_(r)]))},C7=function(t,r,o){return t.fold(Cd([]),Cd([G_(o)]),Cd([K_(r),G_(o)]))},sj=function(t,r,o,u,c,f){var d=dy(t,c,f),p=dy(r,c,f);return Math.abs(d.left-p.left)<=o&&Math.abs(d.top-p.top)<=u},lj=function(t,r,o,u,c,f){var d=dy(t,c,f),p=dy(r,c,f),b=Math.abs(d.left-p.left),x=Math.abs(d.top-p.top);return Ka(b,x)},x7=function(t,r,o){var u=t.fold(function(c,f){return{position:A.some("absolute"),left:A.some(c+"px"),top:A.some(f+"px")}},function(c,f){return{position:A.some("absolute"),left:A.some(c-o.left+"px"),top:A.some(f-o.top+"px")}},function(c,f){return{position:A.some("fixed"),left:A.some(c+"px"),top:A.some(f+"px")}});return G({right:A.none(),bottom:A.none()},u)},cj=function(t,r,o){return t.fold(function(u,c){return Y_(u+r,c+o)},function(u,c){return Eg(u+r,c+o)},function(u,c){return Cp(u+r,c+o)})},k$=function(t,r,o,u){var c=function(f,d){return function(p,b){var x=f(r,o,u);return d(p.getOr(x.left),b.getOr(x.top))}};return t.fold(c(C7,Y_),c(dy,Eg),c(X_,Cp))},Y_=S$.offset,Eg=S$.absolute,Cp=S$.fixed,S7=function(t,r){var o=vo(t,r);return ye(o)?NaN:parseInt(o,10)},fj=function(t,r){var o=t.element,u=S7(o,r.leftAttr),c=S7(o,r.topAttr);return isNaN(u)||isNaN(c)?A.none():A.some(Ka(u,c))},vj=function(t,r,o){var u=t.element;qr(u,r.leftAttr,o.left+"px"),qr(u,r.topAttr,o.top+"px")},dj=function(t,r){var o=t.element;Ai(o,r.leftAttr),Ai(o,r.topAttr)},mj=function(t,r,o,u){return fj(t,r).fold(function(){return o},function(c){return Cp(c.left+u.left,c.top+u.top)})},gj=function(t,r,o,u,c,f){var d=mj(t,r,o,u),p=r.mustSnap?pj(t,r,d,c,f):bj(t,r,d,c,f),b=X_(d,c,f);return vj(t,r,b),p.fold(function(){return{coord:Cp(b.left,b.top),extra:A.none()}},function(x){return{coord:x.output,extra:x.extra}})},hj=function(t,r){dj(t,r)},k7=function(t,r,o,u){return Xe(t,function(c){var f=c.sensor,d=sj(r,f,c.range.left,c.range.top,o,u);return d?A.some({output:k$(c.output,r,o,u),extra:c.extra}):A.none()})},pj=function(t,r,o,u,c){var f=r.getSnapPoints(t),d=k7(f,o,u,c);return d.orThunk(function(){var p=zt(f,function(b,x){var O=x.sensor,P=lj(o,O,x.range.left,x.range.top,u,c);return b.deltas.fold(function(){return{deltas:A.some(P),snap:A.some(x)}},function(V){var q=(P.left+P.top)/2,te=(V.left+V.top)/2;return q<=te?{deltas:A.some(P),snap:A.some(x)}:b})},{deltas:A.none(),snap:A.none()});return p.snap.map(function(b){return{output:k$(b.output,o,u,c),extra:b.extra}})})},bj=function(t,r,o,u,c){var f=r.getSnapPoints(t);return k7(f,o,u,c)},yj=function(t,r,o){return{coord:k$(t.output,t.output,r,o),extra:t.extra}},wj=function(t,r,o,u){var c=r.getTarget(t.element);if(r.repositionTarget){var f=ei(t.element),d=ws(f),p=__(c),b=yj(u,d,p),x=x7(b.coord,d,p);vc(c,x)}},Cj=Object.freeze({__proto__:null,snapTo:wj}),E$="data-initial-z-index",xj=function(t){Lo(t.element).filter(R).each(function(r){Ho(r,E$).fold(function(){return Ia(r,"z-index")},function(o){return Mr(r,"z-index",o)}),Ai(r,E$)})},Sj=function(t){Lo(t.element).filter(R).each(function(r){Oi(r,"z-index").each(function(o){qr(r,E$,o)}),Mr(r,"z-index",Fo(t.element,"z-index"))})},E7=function(t,r){t.getSystem().addToGui(r),Sj(r)},kj=function(t){xj(t),t.getSystem().removeFromGui(t)},T7=function(t,r,o){return t.getSystem().build(eu.sketch({dom:{styles:{left:"0px",top:"0px",width:"100%",height:"100%",position:"fixed","z-index":"1000000000000000"},classes:[r]},events:o}))},Ej=ks("snaps",[jt("getSnapPoints"),ba("onSensor"),jt("leftAttr"),jt("topAttr"),$e("lazyViewport",xs),$e("mustSnap",!1)]),T$=[$e("useFixed",je),jt("blockerClass"),$e("getTarget",_e),$e("onDrag",ae),$e("repositionTarget",!0),$e("onDrop",ae),Xa("getBounds",xs),Ej],Tj=function(t){return Ja(Oi(t,"left"),Oi(t,"top"),Oi(t,"position"),function(r,o,u){var c=u==="fixed"?Cp:Y_;return c(parseInt(r,10),parseInt(o,10))}).getOrThunk(function(){var r=bu(t);return Eg(r.left,r.top)})},Aj=function(t,r,o,u,c){var f=c.bounds,d=dy(r,o,u),p=as(d.left,f.x,f.x+f.width-c.width),b=as(d.top,f.y,f.y+f.height-c.height),x=Eg(p,b);return r.fold(function(){var O=C7(x,o,u);return Y_(O.left,O.top)},L(x),function(){var O=X_(x,o,u);return Cp(O.left,O.top)})},Oj=function(t,r,o,u,c,f,d){var p=r.fold(function(){var b=cj(o,f.left,f.top),x=X_(b,u,c);return Cp(x.left,x.top)},function(b){var x=gj(t,b,o,f,u,c);return x.extra.each(function(O){b.onSensor(t,O)}),x.coord});return Aj(t,p,u,c,d)},Dj=function(t,r,o,u){var c=r.getTarget(t.element);if(r.repositionTarget){var f=ei(t.element),d=ws(f),p=__(c),b=Tj(c),x=Oj(t,r.snaps,b,d,p,u,o),O=x7(x,d,p);vc(c,O)}r.onDrag(t,c,u)},A7=function(t,r){return{bounds:t.getBounds(),height:bs(r.element),width:dc(r.element)}},A$=function(t,r,o,u,c){var f=o.update(u,c),d=o.getStartData().getOrThunk(function(){return A7(r,t)});f.each(function(p){Dj(t,r,d,p)})},O7=function(t,r,o,u){r.each(kj),o.snaps.each(function(f){hj(t,f)});var c=o.getTarget(t.element);u.reset(),o.onDrop(t,c)},O$=function(t){return function(r,o){var u=function(c){o.setStartData(A7(r,c))};return $a(ct([qt(tw(),function(c){o.getStartData().each(function(){return u(c)})})],t(r,o,u),!0))}},_j=function(t){return $a([qt(sl(),t.forceDrop),qt(Ky(),t.drop),qt(_v(),function(r,o){t.move(o.event)}),qt(Gy(),t.delayDrop)])},Mj=function(t){return A.from(Ka(t.x,t.y))},Bj=function(t,r){return Ka(r.left-t.left,r.top-t.top)},Pj=Object.freeze({__proto__:null,getData:Mj,getDelta:Bj}),D7=function(t,r,o){return[qt(sl(),function(u,c){var f=c.event.raw;if(f.button===0){c.stop();var d=function(){return O7(u,A.some(x),t,r)},p=px(d,200),b={drop:d,delayDrop:p.schedule,forceDrop:d,move:function(P){p.cancel(),A$(u,t,r,Pj,P)}},x=T7(u,t.blockerClass,_j(b)),O=function(){o(u),E7(u,x)};O()}})]},Rj=ct(ct([],T$,!0),[ro("dragger",{handlers:O$(D7)})],!1),Nj=function(t){return $a([qt(Jc(),t.forceDrop),qt(Yg(),t.drop),qt(Ak(),t.drop),qt(Ml(),function(r,o){t.move(o.event)})])},Fj=function(t){var r=t[0];return A.some(Ka(r.clientX,r.clientY))},Ij=function(t){var r=t.raw,o=r.touches;return o.length===1?Fj(o):A.none()},zj=function(t,r){return Ka(r.left-t.left,r.top-t.top)},_7=Object.freeze({__proto__:null,getData:Ij,getDelta:zj}),M7=function(t,r,o){var u=Bo(),c=function(f){O7(f,u.get(),t,r),u.clear()};return[qt(Jc(),function(f,d){d.stop();var p=function(){return c(f)},b={drop:p,delayDrop:ae,forceDrop:p,move:function(P){A$(f,t,r,_7,P)}},x=T7(f,t.blockerClass,Nj(b));u.set(x);var O=function(){o(f),E7(f,x)};O()}),qt(Ml(),function(f,d){d.stop(),A$(f,t,r,_7,d.event)}),qt(Yg(),function(f,d){d.stop(),c(f)}),qt(Ak(),c)]},$j=ct(ct([],T$,!0),[ro("dragger",{handlers:O$(M7)})],!1),Lj=function(t,r,o){return ct(ct([],D7(t,r,o),!0),M7(t,r,o),!0)},Hj=ct(ct([],T$,!0),[ro("dragger",{handlers:O$(Lj)})],!1),Vj=Rj,Uj=$j,Wj=Hj,jj=Object.freeze({__proto__:null,mouse:Vj,touch:Uj,mouseOrTouch:Wj}),qj=function(){var t=A.none(),r=A.none(),o=function(){t=A.none(),r=A.none()},u=function(b,x){var O=t.map(function(P){return b.getDelta(P,x)});return t=A.some(x),O},c=function(b,x){return b.getData(x).bind(function(O){return u(b,O)})},f=function(b){r=A.some(b)},d=function(){return r},p=L({});return ns({readState:p,reset:o,update:c,getStartData:d,setStartData:f})},Gj=Object.freeze({__proto__:null,init:qj}),xp=bm({branchKey:"mode",branches:jj,name:"dragging",active:{events:function(t,r){var o=t.dragger;return o.handlers(t,r)}},extra:{snap:function(t){return{sensor:t.sensor,range:t.range,output:t.output,extra:A.from(t.extra)}}},state:Gj,apis:Cj}),D$=40,Z_=D$/2,B7=function(t,r,o,u,c,f){return t.fold(function(){return xp.snap({sensor:Eg(o-Z_,u-Z_),range:Ka(c,f),output:Eg(A.some(o),A.some(u)),extra:{td:r}})},function(d){var p=o-Z_,b=u-Z_,x=D$,O=D$,P=d.element.dom.getBoundingClientRect();return xp.snap({sensor:Eg(p,b),range:Ka(x,O),output:Eg(A.some(o-P.width/2),A.some(u-P.height/2)),extra:{td:r}})})},P7=function(t,r,o){var u=function(c,f){return c.exists(function(d){return _a(d,f)})};return{getSnapPoints:t,leftAttr:"data-drag-left",topAttr:"data-drag-top",onSensor:function(c,f){var d=f.td;u(r.get(),d)||(r.set(d),o(d))},mustSnap:!0}},R7=function(t){return ya(Ou.sketch({dom:{tag:"div",classes:["tox-selector"]},buttonBehaviours:Cn([xp.config({mode:"mouseOrTouch",blockerClass:"blocker",snaps:t}),fg.config({})]),eventOrder:{mousedown:["dragging","alloy.base.behaviour"],touchstart:["dragging","alloy.base.behaviour"]}}))},Kj=function(t,r){var o=Cr([]),u=Cr([]),c=Cr(!1),f=Bo(),d=Bo(),p=function(Mt){var En=mc(Mt);return B7(q.getOpt(r),Mt,En.x,En.y,En.width,En.height)},b=function(){return St(o.get(),function(Mt){return p(Mt)})},x=function(Mt){var En=mc(Mt);return B7(te.getOpt(r),Mt,En.right,En.bottom,En.width,En.height)},O=function(){return St(u.get(),function(Mt){return x(Mt)})},P=P7(b,f,function(Mt){d.get().each(function(En){t.fire("TableSelectorChange",{start:Mt,finish:En})})}),V=P7(O,d,function(Mt){f.get().each(function(En){t.fire("TableSelectorChange",{start:En,finish:Mt})})}),q=R7(P),te=R7(V),de=Wo(q.asSpec()),Pe=Wo(te.asSpec()),le=function(Mt,En,Lt,An){var Gt=En.dom.getBoundingClientRect();Ia(Mt.element,"display");var Dt=ps(ce.fromDom(t.getBody())).dom.innerHeight,gn=Lt(Gt),Xn=An(Gt,Dt);(gn||Xn)&&Mr(Mt.element,"display","none")},Ie=function(Mt,En,Lt,An){var Gt=Lt(En);xp.snapTo(Mt,Gt);var Dt=function(Xn){return Xn[An]<0},gn=function(Xn,It){return Xn[An]>It};le(Mt,En,Dt,gn)},xt=function(Mt){return Ie(de,Mt,p,"top")},yt=function(){return f.get().each(xt)},Fe=function(Mt){return Ie(Pe,Mt,x,"bottom")},lt=function(){return d.get().each(Fe)};an().deviceType.isTouch()&&(t.on("TableSelectionChange",function(Mt){c.get()||(Uv(r,de),Uv(r,Pe),c.set(!0)),f.set(Mt.start),d.set(Mt.finish),Mt.otherCells.each(function(En){o.set(En.upOrLeftCells),u.set(En.downOrRightCells),xt(Mt.start),Fe(Mt.finish)})}),t.on("ResizeEditor ResizeWindow ScrollContent",function(){yt(),lt()}),t.on("TableSelectionClear",function(){c.get()&&(Sc(de),Sc(Pe),c.set(!1)),f.clear(),d.clear()}))},Xj=function(t){return!!(t.nodeType===1&&(t.nodeName==="BR"||t.getAttribute("data-mce-bogus")||t.getAttribute("data-mce-type")==="bookmark"))},Yj=function(t,r,o){r.delimiter||(r.delimiter="»");var u=function(f){var d=f||[],p=St(d,function(x,O){return Ou.sketch({dom:{tag:"div",classes:["tox-statusbar__path-item"],attributes:{role:"button","data-index":O,"tab-index":-1,"aria-level":O+1},innerHtml:x.name},action:function(P){t.focus(),t.selection.select(x.element),t.nodeChanged()},buttonBehaviours:Cn([tl.button(o.isDisabled),Yo()])})}),b={dom:{tag:"div",classes:["tox-statusbar__path-divider"],attributes:{"aria-hidden":!0},innerHtml:" "+r.delimiter+" "}};return zt(p.slice(1),function(x,O){var P=x;return P.push(b),P.push(O),P},[p[0]])},c=function(f){for(var d=[],p=f.length;p-- >0;){var b=f[p];if(b.nodeType===1&&!Xj(b)){var x=t.fire("ResolveName",{name:b.nodeName.toLowerCase(),target:b});if(x.isDefaultPrevented()||d.push({name:x.name,element:b}),x.isPropagationStopped())break}}return d};return{dom:{tag:"div",classes:["tox-statusbar__path"],attributes:{role:"navigation"}},behaviours:Cn([sr.config({mode:"flow",selector:"div[role=button]"}),gr.config({disabled:o.isDisabled}),Yo(),Do.config({}),Dr.config({}),$r("elementPathEvents",[Hr(function(f,d){t.shortcuts.add("alt+F11","focus statusbar elementpath",function(){return sr.focusIn(f)}),t.on("NodeChange",function(p){var b=c(p.parents);b.length>0?Dr.set(f,u(b)):Dr.set(f,[])})})])]),components:[]}},Sp;(function(t){t[t.None=0]="None",t[t.Both=1]="Both",t[t.Vertical=2]="Vertical"})(Sp||(Sp={}));var Zj=function(t,r,o,u,c){var f={};return f.height=W_(u+r.top,$3(t),L3(t)),o===Sp.Both&&(f.width=W_(c+r.left,z3(t),Vb(t))),f},N7=function(t,r,o){var u=ce.fromDom(t.getContainer()),c=Zj(t,r,o,ti(u),uu(u));yn(c,function(f,d){return Mr(u,d,g$(f))}),pF(t)},Jj=function(t){var r=!t.hasPlugin("autoresize"),o=t.getParam("resize",r);return o===!1?Sp.None:o==="both"?Sp.Both:Sp.Vertical},J_=function(t,r,o,u){var c=20,f=Ka(o*c,u*c);return N7(t,f,r),A.some(!0)},Qj=function(t,r){var o=Jj(t);return o===Sp.None?A.none():A.some(gl("resize-handle",{tag:"div",classes:["tox-statusbar__resize-handle"],attributes:{title:r.translate("Resize")},behaviours:[xp.config({mode:"mouse",repositionTarget:!1,onDrag:function(u,c,f){return N7(t,f,o)},blockerClass:"tox-blocker"}),sr.config({mode:"special",onLeft:function(){return J_(t,o,-1,0)},onRight:function(){return J_(t,o,1,0)},onUp:function(){return J_(t,o,0,-1)},onDown:function(){return J_(t,o,0,1)}}),Do.config({}),_r.config({})]},r.icons))},eq=function(t,r){var o,u=function(c,f,d){return Dr.set(c,[Xi(r.translate(["{0} "+d,f[d]]))])};return Ou.sketch({dom:{tag:"button",classes:["tox-statusbar__wordcount"]},components:[],buttonBehaviours:Cn([tl.button(r.isDisabled),Yo(),Do.config({}),Dr.config({}),_n.config({store:{mode:"memory",initialValue:{mode:"words",count:{words:0,characters:0}}}}),$r("wordcount-events",[Zs(function(c){var f=_n.getValue(c),d=f.mode==="words"?"characters":"words";_n.setValue(c,{mode:d,count:f.count}),u(c,f.count,d)}),Hr(function(c){t.on("wordCountUpdate",function(f){var d=_n.getValue(c).mode;_n.setValue(c,{mode:d,count:f.wordCount}),u(c,f.wordCount,d)})})])]),eventOrder:(o={},o[Es()]=["disabling","alloy.base.behaviour","wordcount-events"],o)})},tq=function(t,r){var o=function(){var f=ml.translate(["Powered by {0}","Tiny"]),d='<a href="https://www.tiny.cloud/?utm_campaign=editor_referral&amp;utm_medium=poweredby&amp;utm_source=tinymce&amp;utm_content=v5" rel="noopener" target="_blank" tabindex="-1" aria-label="'+f+'">'+f+"</a>";return{dom:{tag:"span",classes:["tox-statusbar__branding"],innerHtml:d}}},u=function(){var f=[];return t.getParam("elementpath",!0,"boolean")&&f.push(Yj(t,{},r)),t.hasPlugin("wordcount")&&f.push(eq(t,r)),t.getParam("branding",!0,"boolean")&&f.push(o()),f.length>0?[{dom:{tag:"div",classes:["tox-statusbar__text-container"]},components:f}]:[]},c=function(){var f=u(),d=Qj(t,r);return f.concat(d.toArray())};return{dom:{tag:"div",classes:["tox-statusbar"]},components:c()}},nq=function(t){var r,o=t.inline,u=o?LU:PU,c=jb(t)?ie:L8,f=A.none(),d=an(),p=d.browser.isIE(),b=p?["tox-platform-ie"]:[],x=d.deviceType.isTouch(),O="tox-platform-touch",P=x?[O]:[],V=U3(t),q=j3(t),te=ml.isRtl()?{attributes:{dir:"rtl"}}:{},de={attributes:(r={},r[qw]=V?Cc.BottomToTop:Cc.TopToBottom,r)},Pe=function(){return f.bind(zo.getHeader)},le=function(){return c.isDocked(Pe)},Ie=function(){Mr(du.element,"width",document.body.clientWidth+"px")},xt=function(){var fi=_a(Aa(),q)&&Fo(q,"display")==="grid",gf={dom:G({tag:"div",classes:["tox","tox-silver-sink","tox-tinymce-aux"].concat(b).concat(P)},te),behaviours:Cn([Po.config({useFixed:function(){return le()}})])},wv={dom:{styles:{width:document.body.clientWidth+"px"}},events:$a([qt(Bl(),Ie)])};return Ot(gf,fi?wv:{})},yt=Wo(xt()),Fe=function(){return jr.value(yt)},lt=ya({dom:{tag:"div",classes:["tox-anchorbar"]}}),Mt=function(){return f.bind(function(fi){return lt.getOpt(fi)}).getOrDie("Could not find a anchor bar element")},En=function(){return f.bind(function(fi){return zo.getToolbar(fi)}).getOrDie("Could not find more toolbar element")},Lt=function(){return f.bind(function(fi){return zo.getThrobber(fi)}).getOrDie("Could not find throbber element")},An=F8(yt,t,Mt),Gt=zo.parts.menubar({dom:{tag:"div",classes:["tox-menubar"]},backstage:An,onEscape:function(){t.focus()}}),Dt=Gh(t),gn=zo.parts.toolbar(G({dom:{tag:"div",classes:["tox-toolbar"]},getSink:Fe,providers:An.shared.providers,onEscape:function(){t.focus()},type:Dt,lazyToolbar:En,lazyHeader:function(){return Pe().getOrDie("Could not find header element")}},de)),Xn=zo.parts["multiple-toolbar"]({dom:{tag:"div",classes:["tox-toolbar-overlord"]},providers:An.shared.providers,onEscape:function(){t.focus()},type:Dt}),It=zo.parts.socket({dom:{tag:"div",classes:["tox-edit-area"]}}),Un=zo.parts.sidebar({dom:{tag:"div",classes:["tox-sidebar"]}}),Qn=zo.parts.throbber({dom:{tag:"div",classes:["tox-throbber"]},backstage:An}),Jr=t.getParam("statusbar",!0,"boolean"),Ca=Jr&&!o?A.some(tq(t,An.shared.providers)):A.none(),Ya={dom:{tag:"div",classes:["tox-sidebar-wrap"]},components:[It,Un]},ho=Ub(t),fs=tx(t),au=Xo(t),gy=function(){return ho?[Xn]:fs?[gn]:[]},ci=zo.parts.header({dom:G({tag:"div",classes:["tox-editor-header"]},de),components:Ce([au?[Gt]:[],gy(),Wb(t)?[]:[lt.asSpec()]]),sticky:jb(t),editor:t,sharedBackstage:An.shared}),xd=Ce([V?[]:[ci],o?[]:[Ya],V?[ci]:[]]),Sd={dom:{tag:"div",classes:["tox-editor-container"]},components:xd},kp=Ce([[Sd],o?[]:Ca.toArray(),[Qn]]),kd=q3(t),Ep=G(G({role:"application"},ml.isRtl()?{dir:"rtl"}:{}),kd?{"aria-hidden":"true"}:{}),Pu=Wo(zo.sketch({dom:{tag:"div",classes:["tox","tox-tinymce"].concat(o?["tox-tinymce-inline"]:[]).concat(V?["tox-tinymce--toolbar-bottom"]:[]).concat(P).concat(b),styles:G({visibility:"hidden"},kd?{opacity:"0",border:"0"}:{}),attributes:Ep},components:kp,behaviours:Cn([Yo(),gr.config({disableClass:"tox-tinymce--disabled"}),sr.config({mode:"cyclic",selector:".tox-menubar, .tox-toolbar, .tox-toolbar__primary, .tox-toolbar__overflow--open, .tox-sidebar__overflow--open, .tox-statusbar__path, .tox-statusbar__wordcount, .tox-statusbar__branding a, .tox-statusbar__resize-handle"})])}));f=A.some(Pu),t.shortcuts.add("alt+F9","focus menubar",function(){zo.focusMenubar(Pu)}),t.shortcuts.add("alt+F10","focus toolbar",function(){zo.focusToolbar(Pu)}),t.addCommand("ToggleToolbarDrawer",function(){zo.toggleToolbarDrawer(Pu)}),t.addQueryStateHandler("ToggleToolbarDrawer",function(){return zo.isToolbarDrawerToggled(Pu)});var lc=H4(Pu),du=H4(yt);Pc(t,lc,du);var Tp=function(){var fi={broadcastAll:du.broadcast,broadcastOn:du.broadcastOn,register:ae};return{channels:fi}},yv=function(){var fi=g$(NU(t)),gf=g$(FU(t));return t.inline||(bf("div","width",gf)&&Mr(Pu.element,"width",gf),bf("div","height",fi)?Mr(Pu.element,"height",fi):Mr(Pu.element,"height","200px")),fi},Tg=function(){c.setup(t,An.shared,Pe),zW(t,An),uj(t,Fe,An),oc(t),bv(t,Lt,An.shared),Jt(I5(t),function(mu,vs){t.ui.registry.addGroupToolbarButton(vs,mu)});var fi=t.ui.registry.getAll(),gf=fi.buttons,wv=fi.menuItems,Ed=fi.contextToolbars,cc=fi.sidebars,Cv=H3(t),In={menuItems:wv,menus:U5(t),menubar:W5(t),toolbar:Cv.getOrThunk(function(){return j5(t)}),allowToolbarGroups:Dt===Ps.floating,buttons:gf,sidebar:cc};fW(t,Ed,yt,{backstage:An}),Kj(t,yt);var Lr=t.getElement(),ka=yv(),co={mothership:lc,uiMothership:du,outerContainer:Pu},Ru={targetNode:Lr,height:ka};return u.render(t,co,In,An,Ru)};return{mothership:lc,uiMothership:du,backstage:An,renderUI:Tg,getUi:Tp}},rq=function(t,r){var o=A.from(vo(t,"id")).fold(function(){var u=Yn("dialog-describe");return qr(r,"id",u),u},_e);qr(t,"aria-describedby",o)},aq=function(t,r){var o=Ho(t,"id").fold(function(){var u=Yn("dialog-label");return qr(r,"id",u),u},_e);qr(t,"aria-labelledby",o)},oq=L([jt("lazySink"),Oa("dragBlockClass"),Xa("getBounds",xs),$e("useTabstopAt",Ze),$e("eventOrder",{}),ii("modalBehaviours",[sr]),rs("onExecute"),Lu("onEscape")]),_$={sketch:_e},iq=L([vl({name:"draghandle",overrides:function(t,r){return{behaviours:Cn([xp.config({mode:"mouse",getTarget:function(o){return f1(o,'[role="dialog"]').getOr(o)},blockerClass:t.dragBlockClass.getOrDie(new Error(`The drag blocker class was not specified for a dialog with a drag handle: 
`+JSON.stringify(r,null,2)).message),getBounds:t.getDragBounds})])}}}),Qi({schema:[jt("dom")],name:"title"}),Qi({factory:_$,schema:[jt("dom")],name:"close"}),Qi({factory:_$,schema:[jt("dom")],name:"body"}),vl({factory:_$,schema:[jt("dom")],name:"footer"}),fl({factory:{sketch:function(t,r){return G(G({},t),{dom:r.dom,components:r.components})}},schema:[$e("dom",{tag:"div",styles:{position:"fixed",left:"0px",top:"0px",right:"0px",bottom:"0px"}}),$e("components",[])],name:"blocker"})]),uq=function(t,r,o,u){var c,f=Bo(),d=function(te){f.set(te);var de=t.lazySink(te).getOrDie(),Pe=u.blocker(),le=de.getSystem().build(G(G({},Pe),{components:Pe.components.concat([Ds(te)]),behaviours:Cn([_r.config({}),$r("dialog-blocker-events",[Uo(kf(),function(){sr.focusIn(te)})])])}));Uv(de,le),sr.focusIn(te)},p=function(te){f.clear(),Lo(te.element).each(function(de){te.getSystem().getByDom(de).each(function(Pe){Sc(Pe)})})},b=function(te){return Ac(te,t,"body")},x=function(te){return Ac(te,t,"footer")},O=function(te,de){Nc.block(te,de)},P=function(te){Nc.unblock(te)},V=Yn("modal-events"),q=G(G({},t.eventOrder),(c={},c[Ts()]=[V].concat(t.eventOrder["alloy.system.attached"]||[]),c));return{uid:t.uid,dom:t.dom,components:r,apis:{show:d,hide:p,getBody:b,getFooter:x,setIdle:P,setBusy:O},eventOrder:q,domModification:{attributes:{role:"dialog","aria-modal":"true"}},behaviours:Mi(t.modalBehaviours,[Dr.config({}),sr.config({mode:"cyclic",onEnter:t.onExecute,onEscape:t.onEscape,useTabstopAt:t.useTabstopAt}),Nc.config({getRoot:f.get}),$r(V,[Hr(function(te){aq(te.element,Ac(te,t,"title").element),rq(te.element,Ac(te,t,"body").element)})])])}},wi=Au({name:"ModalDialog",configFields:oq(),partFields:iq(),factory:uq,apis:{show:function(t,r){t.show(r)},hide:function(t,r){t.hide(r)},getBody:function(t,r){return t.getBody(r)},getFooter:function(t,r){return t.getFooter(r)},setBusy:function(t,r,o){t.setBusy(r,o)},setIdle:function(t,r){t.setIdle(r)}}}),sq=dr([Or("type"),Or("name")].concat(Xm)),lq=Di,F7=[hi("name","name",la(function(){return Yn("button-name")}),Vo),no("icon"),qs("align","end",["start","end"]),Ao("primary",!1),Ao("disabled",!1)],I7=ct(ct([],F7,!0),[Or("text")],!1),M$=ct([js("type",["submit","cancel","custom"])],I7,!0),cq=ct([js("type",["menu"]),no("text"),no("tooltip"),no("icon"),yu("items",sq)],F7,!0),fq=Ws("type",{submit:M$,cancel:M$,custom:M$,menu:cq}),vq=[Or("type"),Or("text"),js("level",["info","warn","error","success"]),Or("icon"),$e("url","")],dq=dr(vq),mq=function(t){return[Or("type"),t]},gq=[Or("type"),Or("text"),Ao("disabled",!1),Ao("primary",!1),hi("name","name",la(function(){return Yn("button-name")}),Vo),no("icon"),Ao("borderless",!1)],hq=dr(gq),pq=[Or("type"),Or("name"),Or("label"),Ao("disabled",!1)],bq=dr(pq),yq=Di,B$=[Or("type"),Or("name")],Fc=B$.concat([no("label")]),wq=Fc.concat([$e("columns","auto")]),Cq=dr(wq),xq=$y([Or("value"),Or("text"),Or("icon")]),Sq=Fc,kq=dr(Sq),Eq=Vo,Tq=Fc,Aq=dr(Tq),Oq=Vo,Dq=B$.concat([Zd("tag","textarea"),Or("scriptId"),Or("scriptUrl"),Gs("settings",void 0)]),_q=B$.concat([Zd("tag","textarea"),cu("init")]),Mq=Kd(function(t){return To("customeditor.old",Ss(_q),t).orThunk(function(){return To("customeditor.new",Ss(Dq),t)})}),Bq=Vo,Pq=Fc,Rq=dr(Pq),Nq=CM(),Fq=function(t){return[Or("type"),xf("columns"),t]},Iq=[Or("type"),Or("html"),qs("presets","presentation",["presentation","document"])],zq=dr(Iq),$q=Fc.concat([Ao("sandboxed",!0)]),Lq=dr($q),Hq=Vo,Vq=Fc.concat([Ju("currentState",dr([jt("blob"),Or("url")]))]),Uq=dr(Vq),Wq=Fc.concat([no("inputMode"),no("placeholder"),Ao("maximized",!1),Ao("disabled",!1)]),jq=dr(Wq),qq=Vo,Gq=function(t){return[Or("type"),Or("label"),t]},Kq=[Or("text"),Or("value")],Xq=[Or("text"),yu("items",xM("items",function(){return z7}))],z7=zy([dr(Kq),dr(Xq)]),Yq=Fc.concat([yu("items",z7),Ao("disabled",!1)]),Zq=dr(Yq),Jq=Vo,Qq=Fc.concat([qp("items",[Or("text"),Or("value")]),ts("size",1),Ao("disabled",!1)]),eG=dr(Qq),tG=Vo,nG=Fc.concat([Ao("constrain",!0),Ao("disabled",!1)]),rG=dr(nG),$7=dr([Or("width"),Or("height")]),aG=[Or("type"),yu("header",Vo),yu("cells",Yc(Vo))],oG=dr(aG),iG=Fc.concat([no("placeholder"),Ao("maximized",!1),Ao("disabled",!1)]),uG=dr(iG),sG=Vo,lG=Fc.concat([qs("filetype","file",["image","media","file"]),$e("disabled",!1)]),cG=dr(lG),fG=dr([Or("value"),$e("meta",{})]),P$=function(t){return hi("items","items",Nr(),Yc(Kd(function(r){return To("Checking item of "+t,R$,r).fold(function(o){return jr.error(Xd(o))},function(o){return jr.value(o)})})))},R$=yk(function(){return jp("type",{alertbanner:dq,bar:dr(mq(P$("bar"))),button:hq,checkbox:bq,colorinput:kq,colorpicker:Aq,dropzone:Rq,grid:dr(Fq(P$("grid"))),iframe:Lq,input:jq,listbox:Zq,selectbox:eG,sizeinput:rG,textarea:uG,urlinput:cG,customeditor:Mq,htmlpanel:zq,imagetools:Uq,collection:Cq,label:dr(Gq(P$("label"))),table:oG,panel:L7})}),vG=[Or("type"),$e("classes",[]),yu("items",R$)],L7=dr(vG),dG=[hi("name","name",la(function(){return Yn("tab-name")}),Vo),Or("title"),yu("items",R$)],mG=[Or("type"),qp("tabs",dG)],gG=dr(mG),hG=I7,pG=fq,bG=dr([Or("title"),Ju("body",jp("type",{panel:L7,tabpanel:gG})),Zd("size","normal"),yu("buttons",pG),$e("initialData",{}),Xa("onAction",ae),Xa("onChange",ae),Xa("onSubmit",ae),Xa("onClose",ae),Xa("onCancel",ae),$e("onTabChange",ae)]),yG=function(t){return To("dialog",bG,t)},wG=dr(ct([js("type",["cancel","custom"])],hG,!0)),CG=dr([Or("title"),Or("url"),Kg("height"),Kg("width"),Qu("buttons",wG),Xa("onAction",ae),Xa("onCancel",ae),Xa("onClose",ae),Xa("onMessage",ae)]),xG=function(t){return To("dialog",CG,t)},N$=function(t){return M(t)?[t].concat(pt(Ct(t),N$)):z(t)?pt(t,N$):[]},SG=function(t){return _(t.type)&&_(t.name)},kG={checkbox:yq,colorinput:Eq,colorpicker:Oq,dropzone:Nq,input:qq,iframe:Hq,sizeinput:$7,selectbox:tG,listbox:Jq,size:$7,textarea:sG,urlinput:fG,customeditor:Bq,collection:xq,togglemenuitem:lq},EG=function(t){return A.from(kG[t.type])},TG=function(t){return We(N$(t),SG)},AG=function(t){var r=TG(t),o=pt(r,function(u){return EG(u).fold(function(){return[]},function(c){return[Ju(u.name,c)]})});return dr(o)},H7=function(t){var r=Dl(yG(t)),o=AG(t),u=t.initialData;return{internalDialog:r,dataValidator:o,initialData:u}},tk={open:function(t,r){var o=H7(r);return t(o.internalDialog,o.initialData,o.dataValidator)},openUrl:function(t,r){var o=Dl(xG(r));return t(o)},redial:function(t){return H7(t)}},V7=function(t){var r=[],o={};return yn(t,function(u,c){u.fold(function(){r.push(c)},function(f){o[c]=f})}),r.length>0?jr.error(r):jr.value(o)},OG=function(t,r){var o=ya(pg.sketch(function(u){return{dom:{tag:"div",classes:["tox-form"].concat(t.classes)},components:St(t.items,function(c){return c_(u,c,r)})}}));return{dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[o.asSpec()]}],behaviours:Cn([sr.config({mode:"acyclic",useTabstopAt:gt(fp)}),ac.memento(o),vd.memento(o,{postprocess:function(u){return V7(u).fold(function(c){return{}},_e)}})])}},DG=function(t,r){return{uid:t.uid,dom:t.dom,components:t.components,events:yb(t.action),behaviours:Mi(t.tabButtonBehaviours,[_r.config({}),sr.config({mode:"execution",useSpace:!0,useEnter:!0}),_n.config({store:{mode:"memory",initialValue:t.value}})]),domModification:t.domModification}},_G=Bs({name:"TabButton",configFields:[$e("uid",void 0),jt("value"),hi("dom","dom",lu(function(){return{attributes:{role:"tab",id:Yn("aria"),"aria-selected":"false"}}}),Ol()),Oa("action"),$e("domModification",{}),ii("tabButtonBehaviours",[_r,sr,_n]),jt("view")],factory:DG}),MG=L([jt("tabs"),jt("dom"),$e("clickToDismiss",!1),ii("tabbarBehaviours",[Da,sr]),Iv(["tabClass","selectedClass"])]),BG=Y1({factory:_G,name:"tabs",unit:"tab",overrides:function(t){var r=function(u,c){Da.dehighlight(u,c),br(u,Ii(),{tabbar:u,button:c})},o=function(u,c){Da.highlight(u,c),br(u,Dk(),{tabbar:u,button:c})};return{action:function(u){var c=u.getSystem().getByUid(t.uid).getOrDie(),f=Da.isHighlighted(c,u),d=function(){return f&&t.clickToDismiss?r:f?ae:o}();d(c,u)},domModification:{classes:[t.markers.tabClass]}}}}),PG=L([BG]),RG=function(t,r,o,u){return{uid:t.uid,dom:t.dom,components:r,"debug.sketcher":"Tabbar",domModification:{attributes:{role:"tablist"}},behaviours:Mi(t.tabbarBehaviours,[Da.config({highlightClass:t.markers.selectedClass,itemClass:t.markers.tabClass,onHighlight:function(c,f){qr(f.element,"aria-selected","true")},onDehighlight:function(c,f){qr(f.element,"aria-selected","false")}}),sr.config({mode:"flow",getInitial:function(c){return Da.getHighlighted(c).map(function(f){return f.element})},selector:"."+t.markers.tabClass,executeOnMove:!0})])}},U7=Au({name:"Tabbar",configFields:MG(),partFields:PG(),factory:RG}),NG=function(t,r){return{uid:t.uid,dom:t.dom,behaviours:Mi(t.tabviewBehaviours,[Dr.config({})]),domModification:{attributes:{role:"tabpanel"}}}},FG=Bs({name:"Tabview",configFields:[ii("tabviewBehaviours",[Dr])],factory:NG}),IG=L([$e("selectFirst",!0),ba("onChangeTab"),ba("onDismissTab"),$e("tabs",[]),ii("tabSectionBehaviours",[])]),zG=Qi({factory:U7,schema:[jt("dom"),Zc("markers",[jt("tabClass"),jt("selectedClass")])],name:"tabbar",defaults:function(t){return{tabs:t.tabs}}}),$G=Qi({factory:FG,name:"tabview"}),LG=L([zG,$G]),HG=function(t,r,o,u){var c=function(d){var p=_n.getValue(d);La(d,t,"tabview").each(function(b){var x=kt(t.tabs,function(O){return O.value===p});x.each(function(O){var P=O.view();Ho(d.element,"id").each(function(V){qr(b.element,"aria-labelledby",V)}),Dr.set(b,P),t.onChangeTab(b,d,P)})})},f=function(d,p){La(d,t,"tabbar").each(function(b){p(b).each(As)})};return{uid:t.uid,dom:t.dom,components:r,behaviours:W1(t.tabSectionBehaviours),events:$a(Ce([t.selectFirst?[Hr(function(d,p){f(d,Da.getFirst)})]:[],[qt(Dk(),function(d,p){var b=p.event.button;c(b)}),qt(Ii(),function(d,p){var b=p.event.button;t.onDismissTab(d,b)})]])),apis:{getViewItems:function(d){return La(d,t,"tabview").map(function(p){return Dr.contents(p)}).getOr([])},showTab:function(d,p){var b=function(x){var O=Da.getCandidates(x),P=kt(O,function(V){return _n.getValue(V)===p});return P.filter(function(V){return!Da.isHighlighted(x,V)})};f(d,b)}}}},my=Au({name:"TabSection",configFields:IG(),partFields:LG(),factory:HG,apis:{getViewItems:function(t,r){return t.getViewItems(r)},showTab:function(t,r,o){t.showTab(r,o)}}}),VG=function(t,r,o){return St(t,function(u,c){Dr.set(o,t[c].view());var f=r.dom.getBoundingClientRect();return Dr.set(o,[]),f.height})},UG=function(t){return Vt(Xr(t,function(r,o){return r>o?-1:r<o?1:0}))},WG=function(t,r,o){var u=Tt(t).dom,c=f1(t,".tox-dialog-wrap").getOr(t),f=Fo(c,"position")==="fixed",d;f?d=Math.max(u.clientHeight,window.innerHeight):d=Math.max(u.offsetHeight,u.scrollHeight);var p=ti(r),b=r.dom.offsetLeft>=o.dom.offsetLeft+uu(o),x=b?Math.max(ti(o),p):p,O=parseInt(Fo(t,"margin-top"),10)||0,P=parseInt(Fo(t,"margin-bottom"),10)||0,V=ti(t)+O+P,q=V-x;return d-q},jG=function(t,r){Vt(t).each(function(o){return my.showTab(r,o.value)})},W7=function(t,r){Mr(t,"height",r+"px"),an().browser.isIE()?Ia(t,"flex-basis"):Mr(t,"flex-basis",r+"px")},Q_=function(t,r,o){f1(t,'[role="dialog"]').each(function(u){ai(u,'[role="tablist"]').each(function(c){o.get().map(function(f){return Mr(r,"height","0"),Mr(r,"flex-basis","0"),Math.min(f,WG(u,r,c))}).each(function(f){W7(r,f)})})})},F$=function(t){return ai(t,'[role="tabpanel"]')},qG=function(t){var r=function(){var u=Bo(),c=[Hr(function(d){var p=d.element;F$(p).each(function(b){Mr(b,"visibility","hidden"),d.getSystem().getByDom(b).toOptional().each(function(x){var O=VG(t,b,x),P=UG(O);P.fold(u.clear,u.set)}),Q_(p,b,u),Ia(b,"visibility"),jG(t,d),Xl.requestAnimationFrame(function(){Q_(p,b,u)})})}),qt(Bl(),function(d){var p=d.element;F$(p).each(function(b){Q_(p,b,u)})}),qt(j4,function(d,p){var b=d.element;F$(b).each(function(x){var O=$l(vr(x));Mr(x,"visibility","hidden");var P=Oi(x,"height").map(function(te){return parseInt(te,10)});Ia(x,"height"),Ia(x,"flex-basis");var V=x.dom.getBoundingClientRect().height,q=P.forall(function(te){return V>te});q?(u.set(V),Q_(b,x,u)):P.each(function(te){W7(x,te)}),Ia(x,"visibility"),O.each(zl)})})],f=!1;return{extraEvents:c,selectFirst:f}}(),o=function(){var u=[],c=!0;return{extraEvents:u,selectFirst:c}}();return{smartTabHeight:r,naiveTabHeight:o}},j7="send-data-to-section",q7="send-data-to-view",GG=function(t,r){var o=Cr({}),u=function(b){var x=_n.getValue(b),O=V7(x).getOr({}),P=o.get(),V=Ot(P,O);o.set(V)},c=function(b){var x=o.get();_n.setValue(b,x)},f=Cr(null),d=St(t.tabs,function(b){return{value:b.name,dom:{tag:"div",classes:["tox-dialog__body-nav-item"],innerHtml:r.shared.providers.translate(b.title)},view:function(){return[pg.sketch(function(x){return{dom:{tag:"div",classes:["tox-form"]},components:St(b.items,function(O){return c_(x,O,r)}),formBehaviours:Cn([sr.config({mode:"acyclic",useTabstopAt:gt(fp)}),$r("TabView.form.events",[Hr(c),Ys(u)]),Uu.config({channels:Dv([{key:j7,value:{onReceive:u}},{key:q7,value:{onReceive:c}}])})])}})]}}}),p=qG(d).smartTabHeight;return my.sketch({dom:{tag:"div",classes:["tox-dialog__body"]},onChangeTab:function(b,x,O){var P=_n.getValue(x);br(b,rv,{name:P,oldName:f.get()}),f.set(P)},tabs:d,components:[my.parts.tabbar({dom:{tag:"div",classes:["tox-dialog__body-nav"]},components:[U7.parts.tabs({})],markers:{tabClass:"tox-tab",selectedClass:"tox-dialog__body-nav-item--active"},tabbarBehaviours:Cn([Do.config({})])}),my.parts.tabview({dom:{tag:"div",classes:["tox-dialog__body-content"]}})],selectFirst:p.selectFirst,tabSectionBehaviours:Cn([$r("tabpanel",p.extraEvents),sr.config({mode:"acyclic"}),ta.config({find:function(b){return Vt(my.getViewItems(b))}}),_n.config({store:{mode:"manual",getValue:function(b){return b.getSystem().broadcastOn([j7],{}),o.get()},setValue:function(b,x){o.set(x),b.getSystem().broadcastOn([q7],{})}}})])})},I$=Yn("update-dialog"),G7=Yn("update-title"),K7=Yn("update-body"),X7=Yn("update-footer"),Y7=Yn("body-send-message"),Z7=function(t,r,o,u){var c=function(p){switch(p.body.type){case"tabpanel":return[GG(p.body,o)];default:return[OG(p.body,o)]}},f=function(p,b){return A.some({isTabPanel:function(){return b.body.type==="tabpanel"}})},d={"aria-live":"polite"};return{dom:{tag:"div",classes:["tox-dialog__content-js"],attributes:G(G({},r.map(function(p){return{id:p}}).getOr({})),u?d:{})},components:[],behaviours:Cn([ac.childAt(0),rl.config({channel:K7,updateState:f,renderComponents:c,initialData:t})])}},KG=function(t,r,o,u){return Z7(t,A.some(r),o,u)},XG=function(t,r){var o=Z7(t,A.none(),r,!1);return wi.parts.body(o)},YG=function(t){var r={dom:{tag:"div",classes:["tox-dialog__content-js"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-iframe"]},components:[lD({dom:{tag:"iframe",attributes:{src:t.url}},behaviours:Cn([Do.config({}),_r.config({})])})]}],behaviours:Cn([sr.config({mode:"acyclic",useTabstopAt:gt(fp)})])};return wi.parts.body(r)},ZG=Gb.deviceType.isTouch(),J7=function(t,r){return{dom:{tag:"div",styles:{display:"none"},classes:["tox-dialog__header"]},components:[t,r]}},Q7=function(t,r){return wi.parts.close(Ou.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":r.translate("Close")}},action:t,buttonBehaviours:Cn([Do.config({})])}))},eH=function(){return wi.parts.title({dom:{tag:"div",classes:["tox-dialog__title"],innerHtml:"",styles:{display:"none"}}})},tH=function(t,r){return wi.parts.body({dom:{tag:"div",classes:["tox-dialog__body"]},components:[{dom:{tag:"div",classes:["tox-dialog__body-content"]},components:[{dom:rf("<p>"+Ab(r.translate(t))+"</p>")}]}]})},nH=function(t){return wi.parts.footer({dom:{tag:"div",classes:["tox-dialog__footer"]},components:t})},rH=function(t,r){return[eu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-start"]},components:t}),eu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-end"]},components:r})]},z$=function(t){var r,o="tox-dialog",u=o+"-wrap",c=u+"__backdrop",f=o+"__disable-scroll";return wi.sketch({lazySink:t.lazySink,onEscape:function(d){return t.onEscape(d),A.some(!0)},useTabstopAt:function(d){return!fp(d)},dom:{tag:"div",classes:[o].concat(t.extraClasses),styles:G({position:"relative"},t.extraStyles)},components:ct([t.header,t.body],t.footer.toArray(),!0),parts:{blocker:{dom:rf('<div class="'+u+'"></div>'),components:[{dom:{tag:"div",classes:ZG?[c,c+"--opaque"]:[c]}}]}},dragBlockClass:u,modalBehaviours:Cn(ct([_r.config({}),$r("dialog-events",t.dialogEvents.concat([Uo(kf(),function(d,p){sr.focusIn(d)})])),$r("scroll-lock",[Hr(function(){ri(Aa(),f)}),Ys(function(){Go(Aa(),f)})])],t.extraBehaviours,!0)),eventOrder:G((r={},r[Es()]=["dialog-events"],r[Ts()]=["scroll-lock","dialog-events","alloy.base.behaviour"],r[nh()]=["alloy.base.behaviour","dialog-events","scroll-lock"],r),t.eventOrder)})},aH=function(t){return Ou.sketch({dom:{tag:"button",classes:["tox-button","tox-button--icon","tox-button--naked"],attributes:{type:"button","aria-label":t.translate("Close"),title:t.translate("Close")}},components:[gl("close",{tag:"div",classes:["tox-icon"]},t.icons)],action:function(r){da(r,cd)}})},oH=function(t,r,o){var u=function(c){return[Xi(o.translate(c.title))]};return{dom:{tag:"div",classes:["tox-dialog__title"],attributes:G({},r.map(function(c){return{id:c}}).getOr({}))},components:u(t),behaviours:Cn([rl.config({channel:G7,renderComponents:u})])}},iH=function(){return{dom:rf('<div class="tox-dialog__draghandle"></div>')}},JG=function(t,r,o){return eu.sketch({dom:rf('<div class="tox-dialog__header"></div>'),components:[oH(t,A.some(r),o),iH(),aH(o)],containerBehaviours:Cn([xp.config({mode:"mouse",blockerClass:"blocker",getTarget:function(u){return Il(u,'[role="dialog"]').getOrDie()},snaps:{getSnapPoints:function(){return[]},leftAttr:"data-drag-left",topAttr:"data-drag-top"}})])})},QG=function(t,r){var o=wi.parts.title(oH(t,A.none(),r)),u=wi.parts.draghandle(iH()),c=wi.parts.close(aH(r)),f=[o].concat(t.draggable?[u]:[]).concat([c]);return eu.sketch({dom:rf('<div class="tox-dialog__header"></div>'),components:f})},uH=function(t,r){return QG({title:r.shared.providers.translate(t),draggable:r.dialog.isDraggableModal()},r.shared.providers)},sH=function(t,r,o){return{dom:{tag:"div",classes:["tox-dialog__busy-spinner"],attributes:{"aria-label":o.translate(t)},styles:{left:"0px",right:"0px",bottom:"0px",top:"0px",position:"absolute"}},behaviours:r,components:[{dom:rf('<div class="tox-spinner"><div></div><div></div><div></div></div>')}]}},lH=function(t,r,o){return{onClose:function(){return o.closeWindow()},onBlock:function(u){wi.setBusy(t(),function(c,f){return sH(u.message,f,r)})},onUnblock:function(){wi.setIdle(t())}}},cH=function(t,r,o,u){var c,f=function(d,p){return A.some(p)};return Wo(z$(G(G({},t),{lazySink:u.shared.getSink,extraBehaviours:ct([rl.config({channel:I$,updateState:f,initialData:r}),vd.memory({})],t.extraBehaviours,!0),onEscape:function(d){da(d,cd)},dialogEvents:o,eventOrder:(c={},c[Xs()]=[rl.name(),Uu.name()],c[Ts()]=["scroll-lock",rl.name(),"messages","dialog-events","alloy.base.behaviour"],c[nh()]=["alloy.base.behaviour","dialog-events","messages",rl.name(),"scroll-lock"],c)})))},fH=function(t){var r=function(o){var u=St(o.items,function(c){var f=Cr(!1);return G(G({},c),{storage:f})});return G(G({},o),{items:u})};return St(t,function(o){return o.type==="menu"?r(o):o})},vH=function(t){return zt(t,function(r,o){if(o.type==="menu"){var u=o;return zt(u.items,function(c,f){return c[f.name]=f.storage,c},r)}return r},{})},dH=function(t,r){return[Ef(kf(),fD),t(np,function(o,u){r.onClose(),u.onClose()}),t(cd,function(o,u,c,f){u.onCancel(o),da(f,np)}),qt(Ex,function(o,u){return r.onUnblock()}),qt(kx,function(o,u){return r.onBlock(u.event)})]},eK=function(t,r){var o=function(c,f){return qt(c,function(d,p){u(d,function(b,x){f(t(),b,p.event,d)})})},u=function(c,f){rl.getState(c).get().each(function(d){f(d,c)})};return ct(ct([],dH(o,r),!0),[o(Mc,function(c,f,d){f.onAction(c,{name:d.name})})],!1)},tK=function(t,r,o){var u=function(f,d){return qt(f,function(p,b){c(p,function(x,O){d(t(),x,b.event,p)})})},c=function(f,d){rl.getState(f).get().each(function(p){d(p.internalDialog,f)})};return ct(ct([],dH(u,r),!0),[u(rp,function(f,d){return d.onSubmit(f)}),u(ss,function(f,d,p){d.onChange(f,{name:p.name})}),u(Mc,function(f,d,p,b){var x=function(){return sr.focusIn(b)},O=function(q){return zp(q,"disabled")||Ho(q,"aria-disabled").exists(function(te){return te==="true"})},P=vr(b.element),V=$l(P);d.onAction(f,{name:p.name,value:p.value}),$l(P).fold(x,function(q){O(q)||V.exists(function(te){return Wi(q,te)&&O(te)})?x():o().toOptional().filter(function(te){return!Wi(te.element,q)}).each(x)})}),u(rv,function(f,d,p){d.onTabChange(f,{newTabName:p.name,oldTabName:p.oldName})}),Ys(function(f){var d=t();_n.setValue(f,d.getData())})],!1)},$$={initUrlDialog:eK,initDialog:tK},nK=function(t,r){return U0(t,t.type,r)},rK=function(t,r,o){return kt(r,function(u){return u.name===o}).bind(function(u){return u.memento.getOpt(t)})},aK=function(t,r){var o=r.map(function(p){return p.footerButtons}).getOr([]),u=Ue(o,function(p){return p.align==="start"}),c=function(p,b){return eu.sketch({dom:{tag:"div",classes:["tox-dialog__footer-"+p]},components:St(b,function(x){return x.memento.asSpec()})})},f=c("start",u.pass),d=c("end",u.fail);return[f,d]},mH=function(t,r){var o=function(u,c){var f=St(c.buttons,function(p){var b=ya(nK(p,r));return{name:p.name,align:p.align,memento:b}}),d=function(p,b){return rK(p,f,b)};return A.some({lookupByName:d,footerButtons:f})};return{dom:rf('<div class="tox-dialog__footer"></div>'),components:[],behaviours:Cn([rl.config({channel:X7,initialData:t,updateState:o,renderComponents:aK})])}},oK=function(t,r){return mH(t,r)},gH=function(t,r){return wi.parts.footer(mH(t,r))},L$=function(t,r){var o=t.getRoot();if(o.getSystem().isConnected()){var u=ta.getCurrent(t.getFormWrapper()).getOr(t.getFormWrapper());return pg.getField(u,r).fold(function(){var c=t.getFooter(),f=rl.getState(c);return f.get().bind(function(d){return d.lookupByName(u,r)})},function(c){return A.some(c)})}else return A.none()},iK=function(t,r){var o=t.getRoot();return rl.getState(o).get().map(function(u){return Dl(To("data",u.dataValidator,r))}).getOr(r)},hH=function(t,r,o){var u=function(de){var Pe=t.getRoot();Pe.getSystem().isConnected()&&de(Pe)},c=function(){var de=t.getRoot(),Pe=de.getSystem().isConnected()?t.getFormWrapper():de,le=_n.getValue(Pe),Ie=Jt(o,function(xt){return xt.get()});return G(G({},le),Ie)},f=function(de){u(function(Pe){var le=te.getData(),Ie=G(G({},le),de),xt=iK(t,Ie),yt=t.getFormWrapper();_n.setValue(yt,xt),yn(o,function(Fe,lt){Wt(Ie,lt)&&Fe.set(Ie[lt])})})},d=function(de){L$(t,de).each(gr.disable)},p=function(de){L$(t,de).each(gr.enable)},b=function(de){L$(t,de).each(_r.focus)},x=function(de){if(!_(de))throw new Error("The dialogInstanceAPI.block function should be passed a blocking message of type string as an argument");u(function(Pe){br(Pe,kx,{message:de})})},O=function(){u(function(de){da(de,Ex)})},P=function(de){u(function(Pe){var le=t.getBody(),Ie=rl.getState(le);Ie.get().exists(function(xt){return xt.isTabPanel()})&&ta.getCurrent(le).each(function(xt){my.showTab(xt,de)})})},V=function(de){u(function(Pe){var le=r(de);Pe.getSystem().broadcastOn([I$],le),Pe.getSystem().broadcastOn([G7],le.internalDialog),Pe.getSystem().broadcastOn([K7],le.internalDialog),Pe.getSystem().broadcastOn([X7],le.internalDialog),te.setData(le.initialData)})},q=function(){u(function(de){da(de,np)})},te={getData:c,setData:f,disable:d,enable:p,focus:b,block:x,unblock:O,showTab:P,redial:V,close:q};return te},uK=function(t){switch(t){case"large":return["tox-dialog--width-lg"];case"medium":return["tox-dialog--width-md"];default:return[]}},sK=function(t,r,o){var u=uH(t.internalDialog.title,o),c=XG({body:t.internalDialog.body},o),f=fH(t.internalDialog.buttons),d=vH(f),p=gH({buttons:f},o),b=$$.initDialog(function(){return q},lH(function(){return P},o.shared.providers,r),o.shared.getSink),x=uK(t.internalDialog.size),O={header:u,body:c,footer:A.some(p),extraClasses:x,extraBehaviours:[],extraStyles:{}},P=cH(O,t,b,o),V=function(){var te=function(){var de=wi.getBody(P);return ta.getCurrent(de).getOr(de)};return{getRoot:L(P),getBody:function(){return wi.getBody(P)},getFooter:function(){return wi.getFooter(P)},getFormWrapper:te}}(),q=hH(V,r.redial,d);return{dialog:P,instanceApi:q}},lK=function(t,r,o,u){var c,f,d=Yn("dialog-label"),p=Yn("dialog-content"),b=function(le,Ie){return A.some(Ie)},x=ya(JG({title:t.internalDialog.title,draggable:!0},d,o.shared.providers)),O=ya(KG({body:t.internalDialog.body},p,o,u)),P=fH(t.internalDialog.buttons),V=vH(P),q=ya(oK({buttons:P},o)),te=$$.initDialog(function(){return Pe},{onBlock:function(le){Nc.block(de,function(Ie,xt){return sH(le.message,xt,o.shared.providers)})},onUnblock:function(){Nc.unblock(de)},onClose:function(){return r.closeWindow()}},o.shared.getSink),de=Wo({dom:{tag:"div",classes:["tox-dialog","tox-dialog-inline"],attributes:(c={role:"dialog"},c["aria-labelledby"]=d,c["aria-describedby"]=p,c)},eventOrder:(f={},f[Xs()]=[rl.name(),Uu.name()],f[Es()]=["execute-on-form"],f[Ts()]=["reflecting","execute-on-form"],f),behaviours:Cn([sr.config({mode:"cyclic",onEscape:function(le){return da(le,np),A.some(!0)},useTabstopAt:function(le){return!fp(le)&&(pe(le)!=="button"||vo(le,"disabled")!=="disabled")}}),rl.config({channel:I$,updateState:b,initialData:t}),_r.config({}),$r("execute-on-form",te.concat([Uo(kf(),function(le,Ie){sr.focusIn(le)})])),Nc.config({getRoot:function(){return A.some(de)}}),Dr.config({}),vd.memory({})]),components:[x.asSpec(),O.asSpec(),q.asSpec()]}),Pe=hH({getRoot:L(de),getFooter:function(){return q.get(de)},getBody:function(){return O.get(de)},getFormWrapper:function(){var le=O.get(de);return ta.getCurrent(le).getOr(le)}},r.redial,V);return{dialog:de,instanceApi:Pe}},H$=tinymce.util.Tools.resolve("tinymce.util.URI"),cK=function(t){var r=function(d){t.getSystem().isConnected()&&d(t)},o=function(d){if(!_(d))throw new Error("The urlDialogInstanceAPI.block function should be passed a blocking message of type string as an argument");r(function(p){br(p,kx,{message:d})})},u=function(){r(function(d){da(d,Ex)})},c=function(){r(function(d){da(d,np)})},f=function(d){r(function(p){p.getSystem().broadcastOn([Y7],d)})};return{block:o,unblock:u,close:c,sendMessage:f}},fK=["insertContent","setContent","execCommand","close","block","unblock"],pH=function(t){return M(t)&&fK.indexOf(t.mceAction)!==-1},vK=function(t){return!pH(t)&&M(t)&&Wt(t,"mceAction")},dK=function(t,r,o){switch(o.mceAction){case"insertContent":t.insertContent(o.content);break;case"setContent":t.setContent(o.content);break;case"execCommand":var u=Y(o.ui)?o.ui:!1;t.execCommand(o.cmd,u,o.value);break;case"close":r.close();break;case"block":r.block(o.message);break;case"unblock":r.unblock();break}},mK=function(t,r,o,u){var c,f=uH(t.title,u),d=YG(t),p=t.buttons.bind(function(Ie){return Ie.length===0?A.none():A.some(gH({buttons:Ie},u))}),b=$$.initUrlDialog(function(){return le},lH(function(){return Pe},u.shared.providers,r)),x=G(G({},t.height.fold(function(){return{}},function(Ie){return{height:Ie+"px","max-height":Ie+"px"}})),t.width.fold(function(){return{}},function(Ie){return{width:Ie+"px","max-width":Ie+"px"}})),O=t.width.isNone()&&t.height.isNone()?["tox-dialog--width-lg"]:[],P=new H$(t.url,{base_uri:new H$(window.location.href)}),V=P.protocol+"://"+P.host+(P.port?":"+P.port:""),q=ym(),te=[$r("messages",[Hr(function(){var Ie=jo(ce.fromDom(window),"message",function(xt){if(P.isSameOrigin(new H$(xt.raw.origin))){var yt=xt.raw.data;pH(yt)?dK(o,le,yt):vK(yt)&&t.onMessage(le,yt)}});q.set(Ie)}),Ys(q.clear)]),Uu.config({channels:(c={},c[Y7]={onReceive:function(Ie,xt){ai(Ie.element,"iframe").each(function(yt){var Fe=yt.dom.contentWindow;Fe.postMessage(xt,V)})}},c)})],de={header:f,body:d,footer:p,extraClasses:O,extraBehaviours:te,extraStyles:x},Pe=cH(de,t,b,u),le=cK(Pe);return{dialog:Pe,instanceApi:le}},gK=function(t){var r=t.backstage.shared,o=function(u,c){var f=function(){wi.hide(x),c()},d=ya(U0({name:"close-alert",text:"OK",primary:!0,align:"end",disabled:!1,icon:A.none()},"cancel",t.backstage)),p=eH(),b=Q7(f,r.providers),x=Wo(z$({lazySink:function(){return r.getSink()},header:J7(p,b),body:tH(u,r.providers),footer:A.some(nH(rH([],[d.asSpec()]))),onEscape:f,extraClasses:["tox-alert-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[qt(cd,f)],eventOrder:{}}));wi.show(x);var O=d.get(x);_r.focus(O)};return{open:o}},hK=function(t){var r=t.backstage.shared,o=function(u,c){var f=function(V){wi.hide(O),c(V)},d=ya(U0({name:"yes",text:"Yes",primary:!0,align:"end",disabled:!1,icon:A.none()},"submit",t.backstage)),p=U0({name:"no",text:"No",primary:!1,align:"end",disabled:!1,icon:A.none()},"cancel",t.backstage),b=eH(),x=Q7(function(){return f(!1)},r.providers),O=Wo(z$({lazySink:function(){return r.getSink()},header:J7(b,x),body:tH(u,r.providers),footer:A.some(nH(rH([],[p,d.asSpec()]))),onEscape:function(){return f(!1)},extraClasses:["tox-confirm-dialog"],extraBehaviours:[],extraStyles:{},dialogEvents:[qt(cd,function(){return f(!1)}),qt(rp,function(){return f(!0)})],eventOrder:{}}));wi.show(O);var P=d.get(O);_r.focus(P)};return{open:o}},pK=function(t,r){return Dl(To("data",r,t))},bK=function(t){return ep(t,".tox-alert-dialog")||ep(t,".tox-confirm-dialog")},yK=function(t,r,o){return r&&o?[]:[e.config({contextual:{lazyContext:function(){return A.some(gi(ce.fromDom(t.getContentAreaContainer())))},fadeInClass:"tox-dialog-dock-fadein",fadeOutClass:"tox-dialog-dock-fadeout",transitionClass:"tox-dialog-dock-transition"},modes:["top"]})]},wK=function(t){var r=t.backstage,o=t.editor,u=jb(o),c=gK(t),f=hK(t),d=function(te,de,Pe){return de!==void 0&&de.inline==="toolbar"?O(te,r.shared.anchors.inlineDialog(),Pe,de.ariaAttrs):de!==void 0&&de.inline==="cursor"?O(te,r.shared.anchors.cursor(),Pe,de.ariaAttrs):x(te,Pe)},p=function(te,de){return b(te,de)},b=function(te,de){var Pe=function(le){var Ie=mK(le,{closeWindow:function(){wi.hide(Ie.dialog),de(Ie.instanceApi)}},o,r);return wi.show(Ie.dialog),Ie.instanceApi};return tk.openUrl(Pe,te)},x=function(te,de){var Pe=function(le,Ie,xt){var yt=Ie,Fe={dataValidator:xt,initialData:yt,internalDialog:le},lt=sK(Fe,{redial:tk.redial,closeWindow:function(){wi.hide(lt.dialog),de(lt.instanceApi)}},r);return wi.show(lt.dialog),lt.instanceApi.setData(yt),lt.instanceApi};return tk.open(Pe,te)},O=function(te,de,Pe,le){var Ie=function(xt,yt,Fe){var lt=pK(yt,Fe),Mt=Bo(),En=r.shared.header.isPositionedAtTop(),Lt={dataValidator:Fe,initialData:lt,internalDialog:xt},An=function(){return Mt.on(function(gn){wo.reposition(gn),e.refresh(gn)})},Gt=lK(Lt,{redial:tk.redial,closeWindow:function(){Mt.on(wo.hide),o.off("ResizeEditor",An),Mt.clear(),Pe(Gt.instanceApi)}},r,le),Dt=Wo(wo.sketch(G(G({lazySink:r.shared.getSink,dom:{tag:"div",classes:[]},fireDismissalEventInstead:{}},En?{}:{fireRepositionEventInstead:{}}),{inlineBehaviours:Cn(ct([$r("window-manager-inline-events",[qt(Pl(),function(gn,Xn){da(Gt.dialog,cd)})])],yK(o,u,En),!0)),isExtraPart:function(gn,Xn){return bK(Xn)}})));return Mt.set(Dt),wo.showWithin(Dt,Ds(Gt.dialog),{anchor:de},A.some(Aa())),(!u||!En)&&(e.refresh(Dt),o.on("ResizeEditor",An)),Gt.instanceApi.setData(lt),sr.focusIn(Gt.dialog),Gt.instanceApi};return tk.open(Ie,te)},P=function(te,de){f.open(te,function(Pe){de(Pe)})},V=function(te,de){c.open(te,function(){de()})},q=function(te){te.close()};return{open:d,openUrl:p,alert:V,close:q,confirm:P}};function CK(){it.add("silver",function(t){var r=nq(t),o=r.uiMothership,u=r.backstage,c=r.renderUI,f=r.getUi;nv.register(t,u.shared);var d=wK({editor:t,backstage:u});return{renderUI:c,getWindowManagerImpl:L(d),getNotificationManagerImpl:function(){return RC(t,{backstage:u},o)},ui:f()}})}CK()})();tinymce.IconManager.add("default",{icons:{"accessibility-check":'<svg width="24" height="24"><path d="M12 2a2 2 0 012 2 2 2 0 01-2 2 2 2 0 01-2-2c0-1.1.9-2 2-2zm8 7h-5v12c0 .6-.4 1-1 1a1 1 0 01-1-1v-5c0-.6-.4-1-1-1a1 1 0 00-1 1v5c0 .6-.4 1-1 1a1 1 0 01-1-1V9H4a1 1 0 110-2h16c.6 0 1 .4 1 1s-.4 1-1 1z" fill-rule="nonzero"/></svg>',"action-next":'<svg width="24" height="24"><path fill-rule="nonzero" d="M5.7 7.3a1 1 0 00-1.4 1.4l7.7 7.7 7.7-7.7a1 1 0 10-1.4-1.4L12 13.6 5.7 7.3z"/></svg>',"action-prev":'<svg width="24" height="24"><path fill-rule="nonzero" d="M18.3 15.7a1 1 0 001.4-1.4L12 6.6l-7.7 7.7a1 1 0 001.4 1.4L12 9.4l6.3 6.3z"/></svg>',"align-center":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm3 4h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm-3-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-justify":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0 4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-left":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 4h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"align-none":'<svg width="24" height="24"><path d="M14.2 5L13 7H5a1 1 0 110-2h9.2zm4 0h.8a1 1 0 010 2h-2l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h6.8zm4 0H19a1 1 0 010 2h-4.4l1.2-2zm-6.4 4l-1.2 2H5a1 1 0 010-2h4.4zm4 0H19a1 1 0 010 2h-6.8l1.2-2zM7 17l-1.2 2H5a1 1 0 010-2h2zm4 0h8a1 1 0 010 2H9.8l1.2-2zm5.2-13.5l1.3.7-9.7 16.3-1.3-.7 9.7-16.3z" fill-rule="evenodd"/></svg>',"align-right":'<svg width="24" height="24"><path d="M5 5h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm6 4h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 8h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-6-4h14c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2z" fill-rule="evenodd"/></svg>',"arrow-left":'<svg width="24" height="24"><path d="M5.6 13l12 6a1 1 0 001.4-1V6a1 1 0 00-1.4-.9l-12 6a1 1 0 000 1.8z" fill-rule="evenodd"/></svg>',"arrow-right":'<svg width="24" height="24"><path d="M18.5 13l-12 6A1 1 0 015 18V6a1 1 0 011.4-.9l12 6a1 1 0 010 1.8z" fill-rule="evenodd"/></svg>',bold:'<svg width="24" height="24"><path d="M7.8 19c-.3 0-.5 0-.6-.2l-.2-.5V5.7c0-.2 0-.4.2-.5l.6-.2h5c1.5 0 2.7.3 3.5 1 .7.6 1.1 1.4 1.1 2.5a3 3 0 01-.6 1.9c-.4.6-1 1-1.6 1.2.4.1.9.3 1.3.6s.8.7 1 1.2c.4.4.5 1 .5 1.6 0 1.3-.4 2.3-1.3 3-.8.7-2.1 1-3.8 1H7.8zm5-8.3c.6 0 1.2-.1 1.6-.5.4-.3.6-.7.6-1.3 0-1.1-.8-1.7-2.3-1.7H9.3v3.5h3.4zm.5 6c.7 0 1.3-.1 1.7-.4.4-.4.6-.9.6-1.5s-.2-1-.7-1.4c-.4-.3-1-.4-2-.4H9.4v3.8h4z" fill-rule="evenodd"/></svg>',bookmark:'<svg width="24" height="24"><path d="M6 4v17l6-4 6 4V4c0-.6-.4-1-1-1H7a1 1 0 00-1 1z" fill-rule="nonzero"/></svg>',"border-style":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="2" x="3" y="6" rx="1"/><rect width="2.8" height="2" x="3" y="16" rx="1"/><rect width="2.8" height="2" x="6.8" y="16" rx="1"/><rect width="2.8" height="2" x="10.6" y="16" rx="1"/><rect width="2.8" height="2" x="14.4" y="16" rx="1"/><rect width="2.8" height="2" x="18.2" y="16" rx="1"/><rect width="8" height="2" x="3" y="11" rx="1"/><rect width="8" height="2" x="13" y="11" rx="1"/></g></svg>',"border-width":'<svg width="24" height="24"><g fill-rule="evenodd"><rect width="18" height="5" x="3" y="5" rx="1"/><rect width="18" height="3.5" x="3" y="11.5" rx="1"/><rect width="18" height="2" x="3" y="17" rx="1"/></g></svg>',brightness:'<svg width="24" height="24"><path d="M12 17c.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7v-1c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3zm0-10a1 1 0 01-.7-.3A1 1 0 0111 6V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v1c0 .3-.1.5-.3.7a1 1 0 01-.7.3zm7 4c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3h-1a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1zM7 12c0 .3-.1.5-.3.7a1 1 0 01-.7.3H5a1 1 0 01-.7-.3A1 1 0 014 12c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h1c.3 0 .5.1.7.3.2.2.3.4.3.7zm10 3.5l.7.8c.2.1.3.4.3.6 0 .3-.1.6-.3.8a1 1 0 01-.8.3 1 1 0 01-.6-.3l-.8-.7a1 1 0 01-.3-.8c0-.2.1-.5.3-.7a1 1 0 011.4 0zm-10-7l-.7-.8a1 1 0 01-.3-.6c0-.3.1-.6.3-.8.2-.2.5-.3.8-.3.2 0 .5.1.7.3l.7.7c.2.2.3.5.3.8 0 .2-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.8-.3zm10 0a1 1 0 01-.8.3 1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.6.3-.8l.8-.7c.1-.2.4-.3.6-.3.3 0 .6.1.8.3.2.2.3.5.3.8 0 .2-.1.5-.3.7l-.7.7zm-10 7c.2-.2.5-.3.8-.3.2 0 .5.1.7.3a1 1 0 010 1.4l-.8.8a1 1 0 01-.6.3 1 1 0 01-.8-.3 1 1 0 01-.3-.8c0-.2.1-.5.3-.6l.7-.8zM12 8a4 4 0 013.7 2.4 4 4 0 010 3.2A4 4 0 0112 16a4 4 0 01-3.7-2.4 4 4 0 010-3.2A4 4 0 0112 8zm0 6.5c.7 0 1.3-.2 1.8-.7.5-.5.7-1.1.7-1.8s-.2-1.3-.7-1.8c-.5-.5-1.1-.7-1.8-.7s-1.3.2-1.8.7c-.5.5-.7 1.1-.7 1.8s.2 1.3.7 1.8c.5.5 1.1.7 1.8.7z" fill-rule="evenodd"/></svg>',browse:'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2h-4v-2h4V8H5v10h4v2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9.4l-2.3 2.3a1 1 0 11-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 01-1.4 1.4L13 13.4V20a1 1 0 01-2 0v-6.6z" fill-rule="nonzero"/></svg>',cancel:'<svg width="24" height="24"><path d="M12 4.6a7.4 7.4 0 110 14.8 7.4 7.4 0 010-14.8zM12 3a9 9 0 100 18 9 9 0 000-18zm0 8L14.8 8l1 1.1-2.7 2.8 2.7 2.7-1.1 1.1-2.7-2.7-2.7 2.7-1-1.1 2.6-2.7-2.7-2.7 1-1.1 2.8 2.7z" fill-rule="nonzero"/></svg>',"cell-background-color":'<svg width="24" height="24"><path d="M15.7 2l1.6 1.6-2.7 2.6 5.9 5.8c.7.7.7 1.7 0 2.4l-6.3 6.1a1.7 1.7 0 01-2.4 0l-6.3-6.1c-.7-.7-.7-1.7 0-2.4L15.7 2zM18 12l-4.5-4L9 12h9zM4 16s2 2.4 2 3.8C6 21 5.1 22 4 22s-2-1-2-2.2C2 18.4 4 16 4 16z"/></svg>',"cell-border-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M5 13v5h2v2H5a2 2 0 01-2-2v-5h2zm8-7V4h6a2 2 0 012 2h-8z" opacity=".2"/><path fill-rule="nonzero" d="M13 4v2H5v7H3V6c0-1.1.9-2 2-2h8zm-2.6 14.1l.1-.1.1.1.2.3.2.2.2.2c.4.6.8 1.2.8 1.7 0 .8-.7 1.5-1.5 1.5S9 21.3 9 20.5c0-.5.4-1.1.8-1.7l.2-.2.2-.2.2-.3z"/><path d="M13 11l-2 2H5v-2h6V6h2z"/><path fill-rule="nonzero" d="M18.4 8l1 1-1.8 1.9 4 4c.5.4.5 1.1 0 1.6l-4.3 4.2a1.2 1.2 0 01-1.6 0l-4.4-4.2c-.4-.5-.4-1.2 0-1.7l7-6.8zm1.6 7l-3-3-3 3h6z"/></g></svg>',"change-case":'<svg width="24" height="24"><path d="M18.4 18.2v-.6c-.5.8-1.3 1.2-2.4 1.2-2.2 0-3.3-1.6-3.3-4.8 0-3.1 1-4.7 3.3-4.7 1.1 0 1.8.3 2.4 1.1v-.6c0-.5.4-.8.8-.8s.8.3.8.8v8.4c0 .5-.4.8-.8.8a.8.8 0 01-.8-.8zm-2-7.4c-1.3 0-1.8.9-1.8 3.2 0 2.4.5 3.3 1.7 3.3 1.3 0 1.8-.9 1.8-3.2 0-2.4-.5-3.3-1.7-3.3zM10 15.7H5.5l-.8 2.6a1 1 0 01-1 .7h-.2a.7.7 0 01-.7-1l4-12a1 1 0 012 0l4 12a.7.7 0 01-.8 1h-.2a1 1 0 01-1-.7l-.8-2.6zm-.3-1.5l-2-6.5-1.9 6.5h3.9z" fill-rule="evenodd"/></svg>',"character-count":'<svg width="24" height="24"><path d="M4 11.5h16v1H4v-1zm4.8-6.8V10H7.7V5.8h-1v-1h2zM11 8.3V9h2v1h-3V7.7l2-1v-.9h-2v-1h3v2.4l-2 1zm6.3-3.4V10h-3.1V9h2.1V8h-2.1V6.8h2.1v-1h-2.1v-1h3.1zM5.8 16.4c0-.5.2-.8.5-1 .2-.2.6-.3 1.2-.3l.8.1c.2 0 .4.2.5.3l.4.4v2.8l.2.3H8.2v-.1-.2l-.6.3H7c-.4 0-.7 0-1-.2a1 1 0 01-.3-.9c0-.3 0-.6.3-.8.3-.2.7-.4 1.2-.4l.6-.2h.3v-.2l-.1-.2a.8.8 0 00-.5-.1 1 1 0 00-.4 0l-.3.4h-1zm2.3.8h-.2l-.2.1-.4.1a1 1 0 00-.4.2l-.2.2.1.3.5.1h.4l.4-.4v-.6zm2-3.4h1.2v1.7l.5-.3h.5c.5 0 .9.1 1.2.5.3.4.5.8.5 1.4 0 .6-.2 1.1-.5 1.5-.3.4-.7.6-1.3.6l-.6-.1-.4-.4v.4h-1.1v-5.4zm1.1 3.3c0 .3 0 .6.2.8a.7.7 0 001.2 0l.2-.8c0-.4 0-.6-.2-.8a.7.7 0 00-.6-.3l-.6.3-.2.8zm6.1-.5c0-.2 0-.3-.2-.4a.8.8 0 00-.5-.2c-.3 0-.5.1-.6.3l-.2.9c0 .3 0 .6.2.8.1.2.3.3.6.3.2 0 .4 0 .5-.2l.2-.4h1.1c0 .5-.3.8-.6 1.1a2 2 0 01-1.3.4c-.5 0-1-.2-1.3-.6a2 2 0 01-.5-1.4c0-.6.1-1.1.5-1.5.3-.4.8-.5 1.4-.5.5 0 1 0 1.2.3.4.3.5.7.5 1.2h-1v-.1z" fill-rule="evenodd"/></svg>',"checklist-rtl":'<svg width="24" height="24"><path d="M5 17h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1H5a1 1 0 110-2zm14.2 11c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L18 8c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checklist:'<svg width="24" height="24"><path d="M11 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8a1 1 0 010 2h-8a1 1 0 010-2zM7.2 16c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 20c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 14c-.2.3-.7.4-1 0l-1.3-1.3a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8zm0-6c.2-.4.6-.5.9-.3.3.2.4.6.2 1L6 8c-.2.3-.7.4-1 0L3.8 6.9a.7.7 0 010-1c.3-.2.7-.2 1 0l.7.9 1.7-2.8z" fill-rule="evenodd"/></svg>',checkmark:'<svg width="24" height="24"><path d="M18.2 5.4a1 1 0 011.6 1.2l-8 12a1 1 0 01-1.5.1l-5-5a1 1 0 111.4-1.4l4.1 4.1 7.4-11z" fill-rule="nonzero"/></svg>',"chevron-down":'<svg width="10" height="10"><path d="M8.7 2.2c.3-.3.8-.3 1 0 .4.4.4.9 0 1.2L5.7 7.8c-.3.3-.9.3-1.2 0L.2 3.4a.8.8 0 010-1.2c.3-.3.8-.3 1.1 0L5 6l3.7-3.8z" fill-rule="nonzero"/></svg>',"chevron-left":'<svg width="10" height="10"><path d="M7.8 1.3L4 5l3.8 3.7c.3.3.3.8 0 1-.4.4-.9.4-1.2 0L2.2 5.7a.8.8 0 010-1.2L6.6.2C7 0 7.4 0 7.8.2c.3.3.3.8 0 1.1z" fill-rule="nonzero"/></svg>',"chevron-right":'<svg width="10" height="10"><path d="M2.2 1.3a.8.8 0 010-1c.4-.4.9-.4 1.2 0l4.4 4.1c.3.4.3.9 0 1.2L3.4 9.8c-.3.3-.8.3-1.2 0a.8.8 0 010-1.1L6 5 2.2 1.3z" fill-rule="nonzero"/></svg>',"chevron-up":'<svg width="10" height="10"><path d="M8.7 7.8L5 4 1.3 7.8c-.3.3-.8.3-1 0a.8.8 0 010-1.2l4.1-4.4c.3-.3.9-.3 1.2 0l4.2 4.4c.3.3.3.9 0 1.2-.3.3-.8.3-1.1 0z" fill-rule="nonzero"/></svg>',close:'<svg width="24" height="24"><path d="M17.3 8.2L13.4 12l3.9 3.8a1 1 0 01-1.5 1.5L12 13.4l-3.8 3.9a1 1 0 01-1.5-1.5l3.9-3.8-3.9-3.8a1 1 0 011.5-1.5l3.8 3.9 3.8-3.9a1 1 0 011.5 1.5z" fill-rule="evenodd"/></svg>',"code-sample":'<svg width="24" height="26"><path d="M7.1 11a2.8 2.8 0 01-.8 2 2.8 2.8 0 01.8 2v1.7c0 .3.1.6.4.8.2.3.5.4.8.4.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.7 0-1.4-.3-2-.8-.5-.6-.8-1.3-.8-2V15c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4v-.8c0-.2.2-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V9.3c0-.7.3-1.4.8-2 .6-.5 1.3-.8 2-.8.3 0 .4.2.4.4v.8c0 .2-.1.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8V11zm9.8 0V9.3c0-.3-.1-.6-.4-.8-.2-.3-.5-.4-.8-.4a.4.4 0 01-.4-.4V7c0-.2.1-.4.4-.4.7 0 1.4.3 2 .8.5.6.8 1.3.8 2V11c0 .3.1.6.4.8.2.3.5.4.8.4.2 0 .4.2.4.4v.8c0 .2-.2.4-.4.4-.3 0-.6.1-.8.4-.3.2-.4.5-.4.8v1.7c0 .7-.3 1.4-.8 2-.6.5-1.3.8-2 .8a.4.4 0 01-.4-.4v-.8c0-.2.1-.4.4-.4.3 0 .6-.1.8-.4.3-.2.4-.5.4-.8V15a2.8 2.8 0 01.8-2 2.8 2.8 0 01-.8-2zm-3.3-.4c0 .4-.1.8-.5 1.1-.3.3-.7.5-1.1.5-.4 0-.8-.2-1.1-.5-.4-.3-.5-.7-.5-1.1 0-.5.1-.9.5-1.2.3-.3.7-.4 1.1-.4.4 0 .8.1 1.1.4.4.3.5.7.5 1.2zM12 13c.4 0 .8.1 1.1.5.4.3.5.7.5 1.1 0 1-.1 1.6-.5 2a3 3 0 01-1.1 1c-.4.3-.8.4-1.1.4a.5.5 0 01-.5-.5V17a3 3 0 001-.2l.6-.6c-.6 0-1-.2-1.3-.5-.2-.3-.3-.7-.3-1 0-.5.1-1 .5-1.2.3-.4.7-.5 1.1-.5z" fill-rule="evenodd"/></svg>',"color-levels":'<svg width="24" height="24"><path d="M17.5 11.4A9 9 0 0118 14c0 .5 0 1-.2 1.4 0 .4-.3.9-.5 1.3a6.2 6.2 0 01-3.7 3 5.7 5.7 0 01-3.2 0A5.9 5.9 0 017.6 18a6.2 6.2 0 01-1.4-2.6 6.7 6.7 0 010-2.8c0-.4.1-.9.3-1.3a13.6 13.6 0 012.3-4A20 20 0 0112 4a26.4 26.4 0 013.2 3.4 18.2 18.2 0 012.3 4zm-2 4.5c.4-.7.5-1.4.5-2a7.3 7.3 0 00-1-3.2c.2.6.2 1.2.2 1.9a4.5 4.5 0 01-1.3 3 5.3 5.3 0 01-2.3 1.5 4.9 4.9 0 01-2 .1 4.3 4.3 0 002.4.8 4 4 0 002-.6 4 4 0 001.5-1.5z" fill-rule="evenodd"/></svg>',"color-picker":'<svg width="24" height="24"><path d="M12 3a9 9 0 000 18 1.5 1.5 0 001.1-2.5c-.2-.3-.4-.6-.4-1 0-.8.7-1.5 1.5-1.5H16a5 5 0 005-5c0-4.4-4-8-9-8zm-5.5 9a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3-4a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm5 0a1.5 1.5 0 110-3 1.5 1.5 0 010 3zm3 4a1.5 1.5 0 110-3 1.5 1.5 0 010 3z" fill-rule="nonzero"/></svg>',"color-swatch-remove-color":'<svg width="24" height="24"><path stroke="#000" stroke-width="2" d="M21 3L3 21" fill-rule="evenodd"/></svg>',"color-swatch":'<svg width="24" height="24"><rect x="3" y="3" width="18" height="18" rx="1" fill-rule="evenodd"/></svg>',"comment-add":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/><path d="M13 10h2a1 1 0 010 2h-2v2a1 1 0 01-2 0v-2H9a1 1 0 010-2h2V8a1 1 0 012 0v2z"/></g></svg>',comment:'<svg width="24" height="24"><path fill-rule="nonzero" d="M9 19l3-2h7c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H5a1 1 0 00-1 1v10c0 .6.4 1 1 1h4v2zm-2 4v-4H5a3 3 0 01-3-3V6a3 3 0 013-3h14a3 3 0 013 3v10a3 3 0 01-3 3h-6.4L7 23z"/></svg>',contrast:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-6 8a6 6 0 006 6V6a6 6 0 00-6 6z" fill-rule="evenodd"/></svg>',copy:'<svg width="24" height="24"><path d="M16 3H6a2 2 0 00-2 2v11h2V5h10V3zm1 4a2 2 0 012 2v10a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7zm0 12V9h-7v10h7z" fill-rule="nonzero"/></svg>',crop:'<svg width="24" height="24"><path d="M17 8v7h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v2c0 .6-.4 1-1 1a1 1 0 01-1-1v-2H7V9H5a1 1 0 110-2h2V5c0-.6.4-1 1-1s1 .4 1 1v2h7l3-3 1 1-3 3zM9 9v5l5-5H9zm1 6h5v-5l-5 5z" fill-rule="evenodd"/></svg>',"cut-column":'<svg width="24" height="24"><path fill-rule="evenodd" d="M7.2 4.5c.9 0 1.6.4 2.2 1A3.7 3.7 0 0110.5 8v.5l1 1 4-4 1-.5a3.3 3.3 0 012 0c.4 0 .7.3 1 .5L17 8h4v13h-6V10l-1.5 1.5.5.5v4l-2.5-2.5-1 1v.5c0 .4 0 .8-.3 1.2-.2.5-.4.9-.8 1.2-.6.7-1.3 1-2.2 1-.8.2-1.5 0-2-.6l-.5-.8-.2-1c0-.4 0-.8.3-1.2A3.9 3.9 0 017 12.7c.5-.2 1-.3 1.5-.2l1-1-1-1c-.5 0-1 0-1.5-.2-.5-.1-1-.4-1.4-.9-.4-.3-.6-.7-.8-1.2L4.5 7c0-.4 0-.7.2-1 0-.3.3-.6.5-.8.5-.5 1.2-.8 2-.7zm12.3 5h-3v10h3v-10zM8 13.8h-.3l-.4.2a2.8 2.8 0 00-.7.4v.1a2.8 2.8 0 00-.6.8l-.1.4v.7l.2.5.5.2h.7a2.6 2.6 0 00.8-.3 2.4 2.4 0 00.7-.7 2.5 2.5 0 00.3-.8 1.5 1.5 0 000-.8 1 1 0 00-.2-.4 1 1 0 00-.5-.2H8zm3.5-3.7c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zM7 5.8h-.4a1 1 0 00-.5.3 1 1 0 00-.2.5v.7a2.5 2.5 0 00.3.8l.2.3h.1l.4.4.4.2.4.1h.7L9 9l.2-.4a1.6 1.6 0 000-.8 2.6 2.6 0 00-.3-.8A2.5 2.5 0 007.7 6l-.4-.1H7z"/></svg>',"cut-row":'<svg width="24" height="24"><path fill-rule="evenodd" d="M22 3v5H9l3 3 2-2h4l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8.7.6 1 1.3 1 2.2.2.8 0 1.5-.6 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l2 2V3h14zM8.5 15.3h-.3a2.6 2.6 0 00-.8.4 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3L9 18V18l.4-.4.2-.4.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2h-.5zm7 0H15a1 1 0 00-.4.3 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4a2.8 2.8 0 00.5.7h.1a2.8 2.8 0 00.8.6l.4.1h.7l.5-.2.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3h-.3zM12 11.6c-.4 0-.7.1-1 .4-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4s.7-.1 1-.4c.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4zm8.5-7.1h-11v2h11v-2z"/></svg>',cut:'<svg width="24" height="24"><path d="M18 15c.6.7 1 1.4 1 2.3 0 .8-.2 1.5-.7 2l-.8.5-1 .2c-.4 0-.8 0-1.2-.3a3.9 3.9 0 01-2.1-2.2c-.2-.5-.3-1-.2-1.5l-1-1-1 1c0 .5 0 1-.2 1.5-.1.5-.4 1-.9 1.4-.3.4-.7.6-1.2.8l-1.2.3c-.4 0-.7 0-1-.2-.3 0-.6-.3-.8-.5-.5-.5-.8-1.2-.7-2 0-.9.4-1.6 1-2.2A3.7 3.7 0 018.6 14H9l1-1-4-4-.5-1a3.3 3.3 0 010-2c0-.4.3-.7.5-1l6 6 6-6 .5 1a3.3 3.3 0 010 2c0 .4-.3.7-.5 1l-4 4 1 1h.5c.4 0 .8 0 1.2.3.5.2.9.4 1.2.8zm-8.5 2.2l.1-.4v-.3-.4a1 1 0 00-.2-.5 1 1 0 00-.4-.2 1.6 1.6 0 00-.8 0 2.6 2.6 0 00-.8.3 2.5 2.5 0 00-.9 1.1l-.1.4v.7l.2.5.5.2h.7a2.5 2.5 0 00.8-.3 2.8 2.8 0 001-1zm2.5-2.8c.4 0 .7-.1 1-.4.3-.3.4-.6.4-1s-.1-.7-.4-1c-.3-.3-.6-.4-1-.4s-.7.1-1 .4c-.3.3-.4.6-.4 1s.1.7.4 1c.3.3.6.4 1 .4zm5.4 4l.2-.5v-.4-.3a2.6 2.6 0 00-.3-.8 2.4 2.4 0 00-.7-.7 2.5 2.5 0 00-.8-.3 1.5 1.5 0 00-.8 0 1 1 0 00-.4.2 1 1 0 00-.2.5 1.5 1.5 0 000 .7v.4l.3.4.3.4a2.8 2.8 0 00.8.5l.4.1h.7l.5-.2z" fill-rule="evenodd"/></svg>',"document-properties":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',drag:'<svg width="24" height="24"><path d="M13 5h2v2h-2V5zm0 4h2v2h-2V9zM9 9h2v2H9V9zm4 4h2v2h-2v-2zm-4 0h2v2H9v-2zm0 4h2v2H9v-2zm4 0h2v2h-2v-2zM9 5h2v2H9V5z" fill-rule="evenodd"/></svg>',"duplicate-column":'<svg width="24" height="24"><path d="M17 6v16h-7V6h7zm-2 2h-3v12h3V8zm-2-6v2H8v15H6V2h7z"/></svg>',"duplicate-row":'<svg width="24" height="24"><path d="M22 11v7H6v-7h16zm-2 2H8v3h12v-3zm-1-6v2H4v5H2V7h17z"/></svg>',duplicate:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M16 3v2H6v11H4V5c0-1.1.9-2 2-2h10zm3 8h-2V9h-7v10h9a2 2 0 01-2 2h-7a2 2 0 01-2-2V9c0-1.2.9-2 2-2h7a2 2 0 012 2v2z"/><path d="M17 14h1a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1h-1a1 1 0 010-2h1v-1a1 1 0 012 0v1z"/></g></svg>',"edit-block":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19.8 8.8l-9.4 9.4c-.2.2-.5.4-.9.4l-5.4 1.2 1.2-5.4.5-.8 9.4-9.4c.7-.7 1.8-.7 2.5 0l2.1 2.1c.7.7.7 1.8 0 2.5zm-2-.2l1-.9v-.3l-2.2-2.2a.3.3 0 00-.3 0l-1 1L18 8.5zm-1 1l-2.5-2.4-6 6 2.5 2.5 6-6zm-7 7.1l-2.6-2.4-.3.3-.1.2-.7 3 3.1-.6h.1l.4-.5z"/></svg>',"edit-image":'<svg width="24" height="24"><path d="M18 16h2V7a2 2 0 00-2-2H7v2h11v9zM6 17h15a1 1 0 010 2h-1v1a1 1 0 01-2 0v-1H6a2 2 0 01-2-2V7H3a1 1 0 110-2h1V4a1 1 0 112 0v13zm3-5.3l1.3 2 3-4.7 3.7 6H7l2-3.3z" fill-rule="nonzero"/></svg>',"embed-page":'<svg width="24" height="24"><path d="M19 6V5H5v14h2A13 13 0 0119 6zm0 1.4c-.8.8-1.6 2.4-2.2 4.6H19V7.4zm0 5.6h-2.4c-.4 1.8-.6 3.8-.6 6h3v-6zm-4 6c0-2.2.2-4.2.6-6H13c-.7 1.8-1.1 3.8-1.1 6h3zm-4 0c0-2.2.4-4.2 1-6H9.6A12 12 0 008 19h3zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm11.8 9c.4-1.9 1-3.4 1.8-4.5a9.2 9.2 0 00-4 4.5h2.2zm-3.4 0a12 12 0 012.8-4 12 12 0 00-5 4h2.2z" fill-rule="nonzero"/></svg>',embed:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm4.8 2.6l5.6 4a.5.5 0 010 .8l-5.6 4A.5.5 0 019 16V8a.5.5 0 01.8-.4z" fill-rule="nonzero"/></svg>',emoji:'<svg width="24" height="24"><path d="M9 11c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm6 0c.6 0 1-.4 1-1s-.4-1-1-1a1 1 0 00-1 1c0 .6.4 1 1 1zm-3 5.5c2.1 0 4-1.5 4.4-3.5H7.6c.5 2 2.3 3.5 4.4 3.5zM12 4a8 8 0 100 16 8 8 0 000-16zm0 14.5a6.5 6.5 0 110-13 6.5 6.5 0 010 13z" fill-rule="nonzero"/></svg>',export:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M14.4 3L18 7v1h-5V5H7v14h9a1 1 0 012 0c0 1-.8 2-1.9 2H7c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2h7.5z"/><path d="M18.1 12c.5 0 .9.4.9 1 0 .5-.3 1-.8 1h-7.3c-.5 0-.9-.4-.9-1 0-.5.3-1 .8-1h7.3z"/><path d="M16.4 9.2a1 1 0 011.4.2l2.4 3.6-2.4 3.6a1 1 0 01-1.7-1v-.2l1.7-2.4-1.6-2.4a1 1 0 01.2-1.4z"/></g></svg>',fill:'<svg width="24" height="26"><path d="M16.6 12l-9-9-1.4 1.4 2.4 2.4-5.2 5.1c-.5.6-.5 1.6 0 2.2L9 19.6a1.5 1.5 0 002.2 0l5.5-5.5c.5-.6.5-1.6 0-2.2zM5.2 13L10 8.2l4.8 4.8H5.2zM19 14.5s-2 2.2-2 3.5c0 1.1.9 2 2 2a2 2 0 002-2c0-1.3-2-3.5-2-3.5z" fill-rule="nonzero"/></svg>',"flip-horizontally":'<svg width="24" height="24"><path d="M14 19h2v-2h-2v2zm4-8h2V9h-2v2zM4 7v10c0 1.1.9 2 2 2h3v-2H6V7h3V5H6a2 2 0 00-2 2zm14-2v2h2a2 2 0 00-2-2zm-7 16h2V3h-2v18zm7-6h2v-2h-2v2zm-4-8h2V5h-2v2zm4 12a2 2 0 002-2h-2v2z" fill-rule="nonzero"/></svg>',"flip-vertically":'<svg width="24" height="24"><path d="M5 14v2h2v-2H5zm8 4v2h2v-2h-2zm4-14H7a2 2 0 00-2 2v3h2V6h10v3h2V6a2 2 0 00-2-2zm2 14h-2v2a2 2 0 002-2zM3 11v2h18v-2H3zm6 7v2h2v-2H9zm8-4v2h2v-2h-2zM5 18c0 1.1.9 2 2 2v-2H5z" fill-rule="nonzero"/></svg>',"format-painter":'<svg width="24" height="24"><path d="M18 5V4c0-.5-.4-1-1-1H5a1 1 0 00-1 1v4c0 .6.5 1 1 1h12c.6 0 1-.4 1-1V7h1v4H9v9c0 .6.4 1 1 1h2c.6 0 1-.4 1-1v-7h8V5h-3z" fill-rule="nonzero"/></svg>',format:'<svg width="24" height="24"><path fill-rule="evenodd" d="M17 5a1 1 0 010 2h-4v11a1 1 0 01-2 0V7H7a1 1 0 110-2h10z"/></svg>',fullscreen:'<svg width="24" height="24"><path d="M15.3 10l-1.2-1.3 2.9-3h-2.3a.9.9 0 110-1.7H19c.5 0 .9.4.9.9v4.4a.9.9 0 11-1.8 0V7l-2.9 3zm0 4l3 3v-2.3a.9.9 0 111.7 0V19c0 .5-.4.9-.9.9h-4.4a.9.9 0 110-1.8H17l-3-2.9 1.3-1.2zM10 15.4l-2.9 3h2.3a.9.9 0 110 1.7H5a.9.9 0 01-.9-.9v-4.4a.9.9 0 111.8 0V17l2.9-3 1.2 1.3zM8.7 10L5.7 7v2.3a.9.9 0 01-1.7 0V5c0-.5.4-.9.9-.9h4.4a.9.9 0 010 1.8H7l3 2.9-1.3 1.2z" fill-rule="nonzero"/></svg>',gallery:'<svg width="24" height="24"><path fill-rule="nonzero" d="M5 15.7l2.3-2.2c.3-.3.7-.3 1 0L11 16l5.1-5c.3-.4.8-.4 1 0l2 1.9V8H5v7.7zM5 18V19h3l1.8-1.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 6h16c.6 0 1 .4 1 1v13c0 .6-.4 1-1 1H4a1 1 0 01-1-1V7c0-.6.4-1 1-1zm6 7a2 2 0 110-4 2 2 0 010 4zM4.5 4h15a.5.5 0 110 1h-15a.5.5 0 010-1zm2-2h11a.5.5 0 110 1h-11a.5.5 0 010-1z"/></svg>',gamma:'<svg width="24" height="24"><path d="M4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm1 2v14h14V5H5zm6.5 11.8V14L9.2 8.7a5.1 5.1 0 00-.4-.8l-.1-.2H8 8v-1l.3-.1.3-.1h.7a1 1 0 01.6.5l.1.3a8.5 8.5 0 01.3.6l1.9 4.6 2-5.2a1 1 0 011-.6.5.5 0 01.5.6L13 14v2.8a.7.7 0 01-1.4 0z" fill-rule="nonzero"/></svg>',help:'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M12 5.5a6.5 6.5 0 00-6 9 6.3 6.3 0 001.4 2l1 1a6.3 6.3 0 003.6 1 6.5 6.5 0 006-9 6.3 6.3 0 00-1.4-2l-1-1a6.3 6.3 0 00-3.6-1zM12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4z"/><path d="M9.6 9.7a.7.7 0 01-.7-.8c0-1.1 1.5-1.8 3.2-1.8 1.8 0 3.2.8 3.2 2.4 0 1.4-.4 2.1-1.5 2.8-.2 0-.3.1-.3.2a2 2 0 00-.8.8.8.8 0 01-1.4-.6c.3-.7.8-1 1.3-1.5l.4-.2c.7-.4.8-.6.8-1.5 0-.5-.6-.9-1.7-.9-.5 0-1 .1-1.4.3-.2 0-.3.1-.3.2v-.2c0 .4-.4.8-.8.8z" fill-rule="nonzero"/><circle cx="12" cy="16" r="1"/></g></svg>',"highlight-bg-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-highlight-bg-color__color" d="M3 18h18v3H3z"/><path fill-rule="nonzero" d="M7.7 16.7H3l3.3-3.3-.7-.8L10.2 8l4 4.1-4 4.2c-.2.2-.6.2-.8 0l-.6-.7-1.1 1.1zm5-7.5L11 7.4l3-2.9a2 2 0 012.6 0L18 6c.7.7.7 2 0 2.7l-2.9 2.9-1.8-1.8-.5-.6"/></g></svg>',home:'<svg width="24" height="24"><path fill-rule="nonzero" d="M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"/></svg>',"horizontal-rule":'<svg width="24" height="24"><path d="M4 11h16v2H4z" fill-rule="evenodd"/></svg>',"image-options":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',image:'<svg width="24" height="24"><path d="M5 15.7l3.3-3.2c.3-.3.7-.3 1 0L12 15l4.1-4c.3-.4.8-.4 1 0l2 1.9V5H5v10.7zM5 18V19h3l2.8-2.9-2-2L5 17.9zm14-3l-2.5-2.4-6.4 6.5H19v-4zM4 3h16c.6 0 1 .4 1 1v16c0 .6-.4 1-1 1H4a1 1 0 01-1-1V4c0-.6.4-1 1-1zm6 8a2 2 0 100-4 2 2 0 000 4z" fill-rule="nonzero"/></svg>',indent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm-2.6-3.8L6.2 12l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',info:'<svg width="24" height="24"><path d="M12 4a7.8 7.8 0 015.7 2.3A8 8 0 1112 4zm-1 3v2h2V7h-2zm3 10v-1h-1v-5h-3v1h1v4h-1v1h4z" fill-rule="evenodd"/></svg>',"insert-character":'<svg width="24" height="24"><path d="M15 18h4l1-2v4h-6v-3.3l1.4-1a6 6 0 001.8-2.9 6.3 6.3 0 00-.1-4.1 5.8 5.8 0 00-3-3.2c-.6-.3-1.3-.5-2.1-.5a5.1 5.1 0 00-3.9 1.8 6.3 6.3 0 00-1.3 6 6.2 6.2 0 001.8 3l1.4.9V20H4v-4l1 2h4v-.5l-2-1L5.4 15A6.5 6.5 0 014 11c0-1 .2-1.9.6-2.7A7 7 0 016.3 6C7.1 5.4 8 5 9 4.5c1-.3 2-.5 3.1-.5a8.8 8.8 0 015.7 2 7 7 0 011.7 2.3 6 6 0 01.2 4.8c-.2.7-.6 1.3-1 1.9a7.6 7.6 0 01-3.6 2.5v.5z" fill-rule="evenodd"/></svg>',"insert-time":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M12 19a7 7 0 100-14 7 7 0 000 14zm0 2a9 9 0 110-18 9 9 0 010 18z"/><path d="M16 12h-3V7c0-.6-.4-1-1-1a1 1 0 00-1 1v7h5c.6 0 1-.4 1-1s-.4-1-1-1z"/></g></svg>',invert:'<svg width="24" height="24"><path d="M18 19.3L16.5 18a5.8 5.8 0 01-3.1 1.9 6.1 6.1 0 01-5.5-1.6A5.8 5.8 0 016 14v-.3l.1-1.2A13.9 13.9 0 017.7 9l-3-3 .7-.8 2.8 2.9 9 8.9 1.5 1.6-.7.6zm0-5.5v.3l-.1 1.1-.4 1-1.2-1.2a4.3 4.3 0 00.2-1v-.2c0-.4 0-.8-.2-1.3l-.5-1.4a14.8 14.8 0 00-3-4.2L12 6a26.1 26.1 0 00-2.2 2.5l-1-1a20.9 20.9 0 012.9-3.3L12 4l1 .8a22.2 22.2 0 014 5.4c.6 1.2 1 2.4 1 3.6z" fill-rule="evenodd"/></svg>',italic:'<svg width="24" height="24"><path d="M16.7 4.7l-.1.9h-.3c-.6 0-1 0-1.4.3-.3.3-.4.6-.5 1.1l-2.1 9.8v.6c0 .5.4.8 1.4.8h.2l-.2.8H8l.2-.8h.2c1.1 0 1.8-.5 2-1.5l2-9.8.1-.5c0-.6-.4-.8-1.4-.8h-.3l.2-.9h5.8z" fill-rule="evenodd"/></svg>',language:'<svg width="24" height="24"><path d="M12 3a9 9 0 110 18 9 9 0 010-18zm4.3 13.3c-.5 1-1.2 2-2 2.9a7.5 7.5 0 003.2-2.1l-.2-.2a6 6 0 00-1-.6zm-8.6 0c-.5.2-.9.5-1.2.8.9 1 2 1.7 3.2 2a10 10 0 01-2-2.8zm3.6-.8c-.8 0-1.6.1-2.2.3.5 1 1.2 1.9 2.1 2.7zm1.5 0v3c.9-.8 1.6-1.7 2.1-2.7-.6-.2-1.4-.3-2.1-.3zm-6-2.7H4.5c.2 1 .5 2.1 1 3h.3l1.3-1a10 10 0 01-.3-2zm12.7 0h-2.3c0 .7-.1 1.4-.3 2l1.6 1.1c.5-1 .9-2 1-3.1zm-3.8 0h-3V14c1 0 2 .1 2.7.4.2-.5.3-1 .3-1.6zm-4.4 0h-3l.3 1.6c.8-.3 1.7-.4 2.7-.4v-1.3zm-5.5-5c-.7 1-1.1 2.2-1.3 3.5h2.3c0-1 .2-1.8.5-2.6l-1.5-1zm2.9 1.4v.1c-.2.6-.4 1.3-.4 2h3V9.4c-1 0-1.8-.1-2.6-.3zm6.6 0h-.1l-2.4.3v1.8h3l-.5-2.1zm3-1.4l-.3.1-1.3.8c.3.8.5 1.6.5 2.6h2.3a7.5 7.5 0 00-1.3-3.5zm-9 0l2 .2V5.5a9 9 0 00-2 2.2zm3.5-2.3V8c.6 0 1.3 0 1.9-.2a9 9 0 00-2-2.3zm-3-.7h-.1c-1.1.4-2.1 1-3 1.8l1.2.7a10 10 0 011.9-2.5zm4.4 0l.1.1a10 10 0 011.8 2.4l1.1-.7a7.5 7.5 0 00-3-1.8z"/></svg>',"line-height":'<svg width="24" height="24"><path d="M21 5a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zm0 4a1 1 0 01.1 2H13a1 1 0 01-.1-2H21zM7 3.6l3.7 3.7a1 1 0 01-1.3 1.5h-.1L8 7.3v9.2l1.3-1.3a1 1 0 011.3 0h.1c.4.4.4 1 0 1.3v.1L7 20.4l-3.7-3.7a1 1 0 011.3-1.5h.1L6 16.7V7.4L4.7 8.7a1 1 0 01-1.3 0h-.1a1 1 0 010-1.3v-.1L7 3.6z"/></svg>',line:'<svg width="24" height="24"><path d="M15 9l-8 8H4v-3l8-8 3 3zm1-1l-3-3 1-1h1c-.2 0 0 0 0 0l2 2s0 .2 0 0v1l-1 1zM4 18h16v2H4v-2z" fill-rule="evenodd"/></svg>',link:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2.1 2a2 2 0 102.7 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2-2a2 2 0 10-2.6-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2z" fill-rule="nonzero"/></svg>',"list-bull-circle":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M11 16a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 26a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6zM11 36a2 2 0 100-4 2 2 0 000 4zm0 1a3 3 0 110-6 3 3 0 010 6z" fill-rule="nonzero"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-default":'<svg width="48" height="48"><g fill-rule="evenodd"><circle cx="11" cy="14" r="3"/><circle cx="11" cy="24" r="3"/><circle cx="11" cy="34" r="3"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-bull-square":'<svg width="48" height="48"><g fill-rule="evenodd"><path d="M8 11h6v6H8zM8 21h6v6H8zM8 31h6v6H8z"/><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/></g></svg>',"list-num-default-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 17v-4.8l-1.6 1v-1.1l1.6-1h1.2V17zM33.3 17.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm1.7 5.7c0-1.2 1-2 2.2-2 1.3 0 2.1.8 2.1 1.8 0 .7-.3 1.2-1.3 2.2l-1.2 1v.2h2.6v1h-4.3v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H35zm-1.7 4.3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm3.2 7.3v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H35c0-1.1 1-1.8 2.2-1.8 1.2 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.7.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .6 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm-3.3 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-default":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10 17v-4.8l-1.5 1v-1.1l1.6-1h1.2V17h-1.2zm3.6.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-5 5.7c0-1.2.8-2 2.1-2s2.1.8 2.1 1.8c0 .7-.3 1.2-1.4 2.2l-1.1 1v.2h2.6v1H8.6v-.9l2-1.9c.8-.8 1-1.1 1-1.5 0-.5-.4-.8-1-.8-.5 0-.9.3-.9.9H8.5zm6.3 4.3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM10 34.4v-1h.7c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7s-1 .3-1 .8H8.6c0-1.1 1-1.8 2.2-1.8 1.3 0 2.1.6 2.1 1.6 0 .7-.4 1.2-1 1.3v.1c.8.1 1.3.7 1.3 1.4 0 1-1 1.9-2.4 1.9-1.3 0-2.2-.8-2.3-2h1.2c0 .6.5 1 1.1 1 .7 0 1-.4 1-1 0-.5-.3-.8-1-.8h-.7zm4.7 2.7c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7z"/></g></svg>',"list-num-lower-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M36.5 16c-.9 0-1.5-.5-1.5-1.3s.6-1.3 1.8-1.4h1v-.4c0-.4-.2-.6-.7-.6-.4 0-.7.1-.8.4h-1.1c0-.8.8-1.4 2-1.4S39 12 39 13V16h-1.2v-.6c-.3.4-.8.7-1.4.7zm.4-.8c.6 0 1-.4 1-.9V14h-1c-.5.1-.7.3-.7.6 0 .4.3.6.7.6zM33.1 16.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zM37.7 26c-.7 0-1.2-.2-1.5-.7v.7H35v-6.3h1.2v2.5c.3-.5.8-.9 1.5-.9 1.1 0 1.8 1 1.8 2.4 0 1.5-.7 2.4-1.8 2.4zm-.5-3.6c-.6 0-1 .5-1 1.3s.4 1.4 1 1.4c.7 0 1-.6 1-1.4 0-.8-.3-1.3-1-1.3zM33.2 26.1c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm6 7h-1c-.1-.5-.4-.8-1-.8s-1 .5-1 1.4c0 1 .4 1.4 1 1.4.5 0 .9-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm-6.1 3c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.3 15.2c.5 0 1-.4 1-.9V14h-1c-.5.1-.8.3-.8.6 0 .4.3.6.8.6zm-.4.9c-1 0-1.5-.6-1.5-1.4 0-.8.6-1.3 1.7-1.4h1.1v-.4c0-.4-.2-.6-.7-.6-.5 0-.8.1-.9.4h-1c0-.8.8-1.4 2-1.4 1.1 0 1.8.6 1.8 1.6V16h-1.1v-.6h-.1c-.2.4-.7.7-1.3.7zm4.6 0c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-3.2 10c-.6 0-1.2-.3-1.4-.8v.7H8.5v-6.3H10v2.5c.3-.5.8-.9 1.4-.9 1.2 0 1.9 1 1.9 2.4 0 1.5-.7 2.4-1.9 2.4zm-.4-3.7c-.7 0-1 .5-1 1.3s.3 1.4 1 1.4c.6 0 1-.6 1-1.4 0-.8-.4-1.3-1-1.3zm4 3.7c-.5 0-.7-.3-.7-.7 0-.4.2-.7.7-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-2.2 7h-1.2c0-.5-.4-.8-.9-.8-.6 0-1 .5-1 1.4 0 1 .4 1.4 1 1.4.5 0 .8-.2 1-.7h1c0 1-.8 1.7-2 1.7-1.4 0-2.2-.9-2.2-2.4s.8-2.4 2.2-2.4c1.2 0 2 .7 2 1.7zm1.8 3c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M37.4 16c-1.2 0-2-.8-2-2.3 0-1.5.8-2.4 2-2.4.6 0 1 .4 1.3 1v-.9H40v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1-.7h-.2c-.2.4-.7.8-1.3.8zm.3-1c.6 0 1-.5 1-1.3s-.4-1.3-1-1.3-1 .5-1 1.3.4 1.4 1 1.4zM33.3 16.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM36 21.9c0-1.5.8-2.3 2.1-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.9 1.3.9.3 1.3.8 1.3 1.7 0 1.2-.7 1.9-1.8 1.9-.6 0-1.1-.3-1.4-.8v2.2H36V22zm1.8 1.2v-1h.3c.5 0 .9-.2.9-.7 0-.5-.3-.8-.9-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1 1.3s1-.4 1-1-.4-1-1.2-1h-.3zM33.3 26.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zM37.1 34.6L34.8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.2.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zM33.3 36.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-greek":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M10.5 15c.7 0 1-.5 1-1.3s-.3-1.3-1-1.3c-.5 0-.9.5-.9 1.3s.4 1.4 1 1.4zm-.3 1c-1.1 0-1.8-.8-1.8-2.3 0-1.5.7-2.4 1.8-2.4.7 0 1.1.4 1.3 1h.1v-.9h1.2v3.2c0 .4.1.5.4.5h.2v.9h-.6c-.6 0-1-.2-1.1-.7h-.1c-.2.4-.7.8-1.4.8zm5 .1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.7-.7.5 0 .8.3.8.7 0 .4-.3.7-.8.7zm-4.9 7v-1h.3c.6 0 1-.2 1-.7 0-.5-.4-.8-1-.8-.5 0-.8.3-.8 1v2.2c0 .8.4 1.3 1.1 1.3.6 0 1-.4 1-1s-.5-1-1.3-1h-.3zM8.6 22c0-1.5.7-2.3 2-2.3 1.2 0 2 .6 2 1.6 0 .6-.3 1-.8 1.3.8.3 1.3.8 1.3 1.7 0 1.2-.8 1.9-1.9 1.9-.6 0-1.1-.3-1.3-.8v2.2H8.5V22zm6.2 4.2c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm-4.5 8.5L8 30h1.4l1.7 3.5 1.7-3.5h1.1l-2.2 4.6v.1c.5.8.7 1.4.7 1.8 0 .4-.1.8-.4 1-.2.2-.6.3-1 .3-.9 0-1.3-.4-1.3-1.2 0-.5.2-1 .5-1.7l.1-.2zm.7 1a2 2 0 00-.4.9c0 .3.1.4.4.4.3 0 .4-.1.4-.4 0-.2-.1-.6-.4-1zm4.5.5c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-lower-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M32.9 16v-1.2h-1.3V16H33zm0 10v-1.2h-1.3V26H33zm0 10v-1.2h-1.3V36H33z"/><path fill-rule="nonzero" d="M36 21h-1.5v5H36zM36 31h-1.5v5H36zM39 21h-1.5v5H39zM39 31h-1.5v5H39zM42 31h-1.5v5H42zM36 11h-1.5v5H36zM36 19h-1.5v1H36zM36 29h-1.5v1H36zM39 19h-1.5v1H39zM39 29h-1.5v1H39zM42 29h-1.5v1H42zM36 9h-1.5v1H36z"/></g></svg>',"list-num-lower-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 16v-1.2h1.3V16H15zm0 10v-1.2h1.3V26H15zm0 10v-1.2h1.3V36H15z"/><path fill-rule="nonzero" d="M12 21h1.5v5H12zM12 31h1.5v5H12zM9 21h1.5v5H9zM9 31h1.5v5H9zM6 31h1.5v5H6zM12 11h1.5v5H12zM12 19h1.5v1H12zM12 29h1.5v1H12zM9 19h1.5v1H9zM9 29h1.5v1H9zM6 29h1.5v1H6zM12 9h1.5v1H12z"/></g></svg>',"list-num-upper-alpha-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M39.3 17l-.5-1.4h-2l-.5 1.4H35l2-6h1.6l2 6h-1.3zm-1.6-4.7l-.7 2.3h1.6l-.8-2.3zM33.4 17c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zm4.7 9.9h-2.7v-6H38c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zm-1.4-5v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4h1.1c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9h-1.1V26zM33 27.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm4.9 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm-4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-alpha":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M12.6 17l-.5-1.4h-2L9.5 17H8.3l2-6H12l2 6h-1.3zM11 12.3l-.7 2.3h1.6l-.8-2.3zm4.7 4.8c-.4 0-.7-.3-.7-.7 0-.4.3-.7.7-.7.5 0 .7.3.7.7 0 .4-.2.7-.7.7zM11.4 27H8.7v-6h2.6c1.2 0 1.9.6 1.9 1.5 0 .6-.5 1.2-1 1.3.7.1 1.3.7 1.3 1.5 0 1-.8 1.7-2 1.7zM10 22v1.5h1c.6 0 1-.3 1-.8 0-.4-.4-.7-1-.7h-1zm0 4H11c.7 0 1.1-.3 1.1-.8 0-.6-.4-.9-1.1-.9H10V26zm5.4 1.1c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7zm-4.1 10c-1.8 0-2.8-1.1-2.8-3.1s1-3.1 2.8-3.1c1.4 0 2.5.9 2.6 2.2h-1.3c0-.7-.6-1.1-1.3-1.1-1 0-1.6.7-1.6 2s.6 2 1.6 2c.7 0 1.2-.4 1.4-1h1.2c-.1 1.3-1.2 2.2-2.6 2.2zm4.5 0c-.5 0-.8-.3-.8-.7 0-.4.3-.7.8-.7.4 0 .7.3.7.7 0 .4-.3.7-.7.7z"/></g></svg>',"list-num-upper-roman-rtl":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M8 12h22v4H8zM8 22h22v4H8zM8 32h22v4H8z"/><path d="M31.6 17v-1.2H33V17h-1.3zm0 10v-1.2H33V27h-1.3zm0 10v-1.2H33V37h-1.3z"/><path fill-rule="nonzero" d="M34.5 20H36v7h-1.5zM34.5 30H36v7h-1.5zM37.5 20H39v7h-1.5zM37.5 30H39v7h-1.5zM40.5 30H42v7h-1.5zM34.5 10H36v7h-1.5z"/></g></svg>',"list-num-upper-roman":'<svg width="48" height="48"><g fill-rule="evenodd"><path opacity=".2" d="M18 12h22v4H18zM18 22h22v4H18zM18 32h22v4H18z"/><path d="M15.1 17v-1.2h1.3V17H15zm0 10v-1.2h1.3V27H15zm0 10v-1.2h1.3V37H15z"/><path fill-rule="nonzero" d="M12 20h1.5v7H12zM12 30h1.5v7H12zM9 20h1.5v7H9zM9 30h1.5v7H9zM6 30h1.5v7H6zM12 10h1.5v7H12z"/></g></svg>',lock:'<svg width="24" height="24"><path d="M16.3 11c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H8V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h.3zM10 8v3h4V8a1 1 0 00-.3-.7A1 1 0 0013 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7z" fill-rule="evenodd"/></svg>',ltr:'<svg width="24" height="24"><path d="M11 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 017.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L11 5zM4.4 16.2L6.2 15l-1.8-1.2a1 1 0 011.2-1.6l3 2a1 1 0 010 1.6l-3 2a1 1 0 11-1.2-1.6z" fill-rule="evenodd"/></svg>',"more-drawer":'<svg width="24" height="24"><path d="M6 10a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm12 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2zm-6 0a2 2 0 00-2 2c0 1.1.9 2 2 2a2 2 0 002-2 2 2 0 00-2-2z" fill-rule="nonzero"/></svg>',"new-document":'<svg width="24" height="24"><path d="M14.4 3H7a2 2 0 00-2 2v14c0 1.1.9 2 2 2h10a2 2 0 002-2V7.6L14.4 3zM17 19H7V5h6v4h4v10z" fill-rule="nonzero"/></svg>',"new-tab":'<svg width="24" height="24"><path d="M15 13l2-2v8H5V7h8l-2 2H7v8h8v-4zm4-8v5.5l-2-2-5.6 5.5H10v-1.4L15.5 7l-2-2H19z" fill-rule="evenodd"/></svg>',"non-breaking":'<svg width="24" height="24"><path d="M11 11H8a1 1 0 110-2h3V6c0-.6.4-1 1-1s1 .4 1 1v3h3c.6 0 1 .4 1 1s-.4 1-1 1h-3v3c0 .6-.4 1-1 1a1 1 0 01-1-1v-3zm10 4v5H3v-5c0-.6.4-1 1-1s1 .4 1 1v3h14v-3c0-.6.4-1 1-1s1 .4 1 1z" fill-rule="evenodd"/></svg>',notice:'<svg width="24" height="24"><path d="M17.8 9.8L15.4 4 20 8.5v7L15.5 20h-7L4 15.5v-7L8.5 4h7l2.3 5.8zm0 0l2.2 5.7-2.3-5.8zM13 17v-2h-2v2h2zm0-4V7h-2v6h2z" fill-rule="evenodd"/></svg>',"ordered-list-rtl":'<svg width="24" height="24"><path d="M6 17h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 010-2zm0-6h8a1 1 0 010 2H6a1 1 0 110-2zm13-1v3.5a.5.5 0 11-1 0V5h-.5a.5.5 0 110-1H19zm-1 8.8l.2.2h1.3a.5.5 0 110 1h-1.6a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2h-1.3a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zm2 4.2v2c0 .6-.4 1-1 1h-1.5a.5.5 0 010-1h1.2a.3.3 0 100-.6h-1.3a.4.4 0 110-.8h1.3a.3.3 0 000-.6h-1.2a.5.5 0 110-1H19c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',"ordered-list":'<svg width="24" height="24"><path d="M10 17h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0-6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 110-2zM6 4v3.5c0 .3-.2.5-.5.5a.5.5 0 01-.5-.5V5h-.5a.5.5 0 010-1H6zm-1 8.8l.2.2h1.3c.3 0 .5.2.5.5s-.2.5-.5.5H4.9a1 1 0 01-.9-1V13c0-.4.3-.8.6-1l1.2-.4.2-.3a.2.2 0 00-.2-.2H4.5a.5.5 0 01-.5-.5c0-.3.2-.5.5-.5h1.6c.5 0 .9.4.9 1v.1c0 .4-.3.8-.6 1l-1.2.4-.2.3zM7 17v2c0 .6-.4 1-1 1H4.5a.5.5 0 010-1h1.2c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.4a.4.4 0 110-.8h1.3c.2 0 .3-.1.3-.3 0-.2-.1-.3-.3-.3H4.5a.5.5 0 110-1H6c.6 0 1 .4 1 1z" fill-rule="evenodd"/></svg>',orientation:'<svg width="24" height="24"><path d="M7.3 6.4L1 13l6.4 6.5 6.5-6.5-6.5-6.5zM3.7 13l3.6-3.7L11 13l-3.7 3.7-3.6-3.7zM12 6l2.8 2.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0L9.2 5.7a.8.8 0 010-1.2L13.6.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L12 4h1a9 9 0 11-4.3 16.9l1.5-1.5A7 7 0 1013 6h-1z" fill-rule="nonzero"/></svg>',outdent:'<svg width="24" height="24"><path d="M7 5h12c.6 0 1 .4 1 1s-.4 1-1 1H7a1 1 0 110-2zm5 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm0 4h7c.6 0 1 .4 1 1s-.4 1-1 1h-7a1 1 0 010-2zm-5 4h12a1 1 0 010 2H7a1 1 0 010-2zm1.6-3.8a1 1 0 01-1.2 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 011.2 1.6L6.8 12l1.8 1.2z" fill-rule="evenodd"/></svg>',"page-break":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M5 11c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h1c.6 0 1 .4 1 1s-.4 1-1 1h-1a1 1 0 010-2zm4 0c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zM7 3v5h10V3c0-.6.4-1 1-1s1 .4 1 1v7H5V3c0-.6.4-1 1-1s1 .4 1 1zM6 22a1 1 0 01-1-1v-7h14v7c0 .6-.4 1-1 1a1 1 0 01-1-1v-5H7v5c0 .6-.4 1-1 1z"/></g></svg>',paragraph:'<svg width="24" height="24"><path fill-rule="evenodd" d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z"/></svg>',"paste-column-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h7v2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm8 7v12h-6V8h6zm-1.5 1.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-column-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V18c0 1-.8 2-1.9 2H11v-2h7V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v2H4V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm-2 7v12H4V8h6zM8.5 9.5h-3v9h3v-9zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-after":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V11h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h14c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 11v5H8v-5h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-row-before":'<svg width="24" height="24"><path fill-rule="evenodd" d="M12 1a3 3 0 012.8 2H18c1 0 2 .8 2 1.9V7h-2V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h12v-4h2v4c0 1-.8 2-1.9 2H6c-1 0-2-.8-2-1.9V5c0-1 .8-2 1.9-2H9.2A3 3 0 0112 1zm10 7v5H8V8h14zm-1.5 1.5h-11v2h11v-2zM12 3a1 1 0 100 2 1 1 0 000-2z"/></svg>',"paste-text":'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1zm0 9h6v2h-.5l-.5-1h-1v4h.8v1h-3.6v-1h.8v-4h-1l-.5 1H12v-2z" fill-rule="nonzero"/></svg>',paste:'<svg width="24" height="24"><path d="M18 9V5h-2v1c0 .6-.4 1-1 1H9a1 1 0 01-1-1V5H6v13h3V9h9zM9 20H6a2 2 0 01-2-2V5c0-1.1.9-2 2-2h3.2A3 3 0 0112 1a3 3 0 012.8 2H18a2 2 0 012 2v4h1v12H9v-1zm1.5-9.5v9h9v-9h-9zM12 3a1 1 0 00-1 1c0 .5.4 1 1 1s1-.5 1-1-.4-1-1-1z" fill-rule="nonzero"/></svg>',"permanent-pen":'<svg width="24" height="24"><path d="M10.5 17.5L8 20H3v-3l3.5-3.5a2 2 0 010-3L14 3l1 1-7.3 7.3a1 1 0 000 1.4l3.6 3.6c.4.4 1 .4 1.4 0L20 9l1 1-7.6 7.6a2 2 0 01-2.8 0l-.1-.1z" fill-rule="nonzero"/></svg>',plus:'<svg width="24" height="24"><path d="M12 4c.5 0 1 .4 1 .9V11h6a1 1 0 01.1 2H13v6a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H11V5c0-.6.4-1 1-1z"/></svg>',preferences:'<svg width="24" height="24"><path d="M20.1 13.5l-1.9.2a5.8 5.8 0 01-.6 1.5l1.2 1.5c.4.4.3 1 0 1.4l-.7.7a1 1 0 01-1.4 0l-1.5-1.2a6.2 6.2 0 01-1.5.6l-.2 1.9c0 .5-.5.9-1 .9h-1a1 1 0 01-1-.9l-.2-1.9a5.8 5.8 0 01-1.5-.6l-1.5 1.2a1 1 0 01-1.4 0l-.7-.7a1 1 0 010-1.4l1.2-1.5a6.2 6.2 0 01-.6-1.5l-1.9-.2a1 1 0 01-.9-1v-1c0-.5.4-1 .9-1l1.9-.2a5.8 5.8 0 01.6-1.5L5.2 7.3a1 1 0 010-1.4l.7-.7a1 1 0 011.4 0l1.5 1.2a6.2 6.2 0 011.5-.6l.2-1.9c0-.5.5-.9 1-.9h1c.5 0 1 .4 1 .9l.2 1.9a5.8 5.8 0 011.5.6l1.5-1.2a1 1 0 011.4 0l.7.7c.3.4.4 1 0 1.4l-1.2 1.5a6.2 6.2 0 01.6 1.5l1.9.2c.5 0 .9.5.9 1v1c0 .5-.4 1-.9 1zM12 15a3 3 0 100-6 3 3 0 000 6z" fill-rule="evenodd"/></svg>',preview:'<svg width="24" height="24"><path d="M3.5 12.5c.5.8 1.1 1.6 1.8 2.3 2 2 4.2 3.2 6.7 3.2s4.7-1.2 6.7-3.2a16.2 16.2 0 002.1-2.8 15.7 15.7 0 00-2.1-2.8c-2-2-4.2-3.2-6.7-3.2a9.3 9.3 0 00-6.7 3.2A16.2 16.2 0 003.2 12c0 .2.2.3.3.5zm-2.4-1l.7-1.2L4 7.8C6.2 5.4 8.9 4 12 4c3 0 5.8 1.4 8.1 3.8a18.2 18.2 0 012.8 3.7v1l-.7 1.2-2.1 2.5c-2.3 2.4-5 3.8-8.1 3.8-3 0-5.8-1.4-8.1-3.8a18.2 18.2 0 01-2.8-3.7 1 1 0 010-1zm12-3.3a2 2 0 102.7 2.6 4 4 0 11-2.6-2.6z" fill-rule="nonzero"/></svg>',print:'<svg width="24" height="24"><path d="M18 8H6a3 3 0 00-3 3v6h2v3h14v-3h2v-6a3 3 0 00-3-3zm-1 10H7v-4h10v4zm.5-5c-.8 0-1.5-.7-1.5-1.5s.7-1.5 1.5-1.5 1.5.7 1.5 1.5-.7 1.5-1.5 1.5zm.5-8H6v2h12V5z" fill-rule="nonzero"/></svg>',quote:'<svg width="24" height="24"><path d="M7.5 17h.9c.4 0 .7-.2.9-.6L11 13V8c0-.6-.4-1-1-1H6a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3zm8 0h.9c.4 0 .7-.2.9-.6L19 13V8c0-.6-.4-1-1-1h-4a1 1 0 00-1 1v4c0 .6.4 1 1 1h2l-1.3 2.7a1 1 0 00.8 1.3z" fill-rule="nonzero"/></svg>',redo:'<svg width="24" height="24"><path d="M17.6 10H12c-2.8 0-4.4 1.4-4.9 3.5-.4 2 .3 4 1.4 4.6a1 1 0 11-1 1.8c-2-1.2-2.9-4.1-2.3-6.8.6-3 3-5.1 6.8-5.1h5.6l-3.3-3.3a1 1 0 111.4-1.4l5 5a1 1 0 010 1.4l-5 5a1 1 0 01-1.4-1.4l3.3-3.3z" fill-rule="nonzero"/></svg>',reload:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M5 22.1l-1.2-4.7v-.2a1 1 0 011-1l5 .4a1 1 0 11-.2 2l-2.2-.2a7.8 7.8 0 008.4.2 7.5 7.5 0 003.5-6.4 1 1 0 112 0 9.5 9.5 0 01-4.5 8 9.9 9.9 0 01-10.2 0l.4 1.4a1 1 0 11-2 .5zM13.6 7.4c0-.5.5-1 1-.9l2.8.2a8 8 0 00-9.5-1 7.5 7.5 0 00-3.6 7 1 1 0 01-2 0 9.5 9.5 0 014.5-8.6 10 10 0 0110.9.3l-.3-1a1 1 0 012-.5l1.1 4.8a1 1 0 01-1 1.2l-5-.4a1 1 0 01-.9-1z"/></g></svg>',"remove-formatting":'<svg width="24" height="24"><path d="M13.2 6a1 1 0 010 .2l-2.6 10a1 1 0 01-1 .8h-.2a.8.8 0 01-.8-1l2.6-10H8a1 1 0 110-2h9a1 1 0 010 2h-3.8zM5 18h7a1 1 0 010 2H5a1 1 0 010-2zm13 1.5L16.5 18 15 19.5a.7.7 0 01-1-1l1.5-1.5-1.5-1.5a.7.7 0 011-1l1.5 1.5 1.5-1.5a.7.7 0 011 1L17.5 17l1.5 1.5a.7.7 0 01-1 1z" fill-rule="evenodd"/></svg>',remove:'<svg width="24" height="24"><path d="M16 7h3a1 1 0 010 2h-1v9a3 3 0 01-3 3H9a3 3 0 01-3-3V9H5a1 1 0 110-2h3V6a3 3 0 013-3h2a3 3 0 013 3v1zm-2 0V6c0-.6-.4-1-1-1h-2a1 1 0 00-1 1v1h4zm2 2H8v9c0 .6.4 1 1 1h6c.6 0 1-.4 1-1V9zm-7 3a1 1 0 012 0v4a1 1 0 01-2 0v-4zm4 0a1 1 0 012 0v4a1 1 0 01-2 0v-4z" fill-rule="nonzero"/></svg>',"resize-handle":'<svg width="10" height="10"><g fill-rule="nonzero"><path d="M8.1 1.1A.5.5 0 119 2l-7 7A.5.5 0 111 8l7-7zM8.1 5.1A.5.5 0 119 6l-3 3A.5.5 0 115 8l3-3z"/></g></svg>',resize:'<svg width="24" height="24"><path d="M4 5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h6c.3 0 .5.1.7.3.2.2.3.4.3.7 0 .3-.1.5-.3.7a1 1 0 01-.7.3H7.4L18 16.6V13c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3.3 0 .5.1.7.3.2.2.3.4.3.7v6c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-6a1 1 0 01-.7-.3 1 1 0 01-.3-.7c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3.6L6 7.4V11c0 .3-.1.5-.3.7a1 1 0 01-.7.3 1 1 0 01-.7-.3A1 1 0 014 11V5z" fill-rule="evenodd"/></svg>',"restore-draft":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M17 13c0 .6-.4 1-1 1h-4V8c0-.6.4-1 1-1s1 .4 1 1v4h2c.6 0 1 .4 1 1z"/><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></g></svg>',"rotate-left":'<svg width="24" height="24"><path d="M4.7 10H9a1 1 0 010 2H3a1 1 0 01-1-1V5a1 1 0 112 0v3l2.5-2.4a9.2 9.2 0 0110.8-1.5A9 9 0 0113.4 21c-2.4.1-4.7-.7-6.5-2.2a1 1 0 111.3-1.5 7.2 7.2 0 0011.6-3.7 7 7 0 00-3.5-7.7A7.2 7.2 0 008 7L4.7 10z" fill-rule="nonzero"/></svg>',"rotate-right":'<svg width="24" height="24"><path d="M20 8V5a1 1 0 012 0v6c0 .6-.4 1-1 1h-6a1 1 0 010-2h4.3L16 7A7.2 7.2 0 007.7 6a7 7 0 003 13.1c1.9.1 3.7-.5 5-1.7a1 1 0 011.4 1.5A9.2 9.2 0 012.2 14c-.9-3.9 1-8 4.5-9.9 3.5-1.9 8-1.3 10.8 1.5L20 8z" fill-rule="nonzero"/></svg>',rtl:'<svg width="24" height="24"><path d="M8 5h8v2h-2v12h-2V7h-2v12H8v-7c-.5 0-1 0-1.4-.3A3.4 3.4 0 014.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L8 5zm12 11.2a1 1 0 11-1 1.6l-3-2a1 1 0 010-1.6l3-2a1 1 0 111 1.6L18.4 15l1.8 1.2z" fill-rule="evenodd"/></svg>',save:'<svg width="24" height="24"><path d="M5 16h14a2 2 0 012 2v2a2 2 0 01-2 2H5a2 2 0 01-2-2v-2c0-1.1.9-2 2-2zm0 2v2h14v-2H5zm10 0h2v2h-2v-2zm-4-6.4L8.7 9.3a1 1 0 10-1.4 1.4l4 4c.4.4 1 .4 1.4 0l4-4a1 1 0 10-1.4-1.4L13 11.6V4a1 1 0 00-2 0v7.6z" fill-rule="nonzero"/></svg>',search:'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12z" fill-rule="nonzero"/></svg>',"select-all":'<svg width="24" height="24"><path d="M3 5h2V3a2 2 0 00-2 2zm0 8h2v-2H3v2zm4 8h2v-2H7v2zM3 9h2V7H3v2zm10-6h-2v2h2V3zm6 0v2h2a2 2 0 00-2-2zM5 21v-2H3c0 1.1.9 2 2 2zm-2-4h2v-2H3v2zM9 3H7v2h2V3zm2 18h2v-2h-2v2zm8-8h2v-2h-2v2zm0 8a2 2 0 002-2h-2v2zm0-12h2V7h-2v2zm0 8h2v-2h-2v2zm-4 4h2v-2h-2v2zm0-16h2V3h-2v2zM7 17h10V7H7v10zm2-8h6v6H9V9z" fill-rule="nonzero"/></svg>',selected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm3.6 10.9L7 12.3a.7.7 0 00-1 1L9.6 17 18 8.6a.7.7 0 000-1 .7.7 0 00-1 0l-7.4 7.3z"/></svg>',settings:'<svg width="24" height="24"><path d="M11 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V8H5a1 1 0 110-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.5V6zM8 8h2V6H8v2zm9 2.8v.2h2c.6 0 1 .4 1 1s-.4 1-1 1h-2v.3c0 .2 0 .3-.2.5l-.6.2h-2.4c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V13H5a1 1 0 010-2h8v-.3c0-.2 0-.3.2-.5l.6-.2h2.4c.3 0 .4 0 .6.2l.2.6zM14 13h2v-2h-2v2zm-3 2.8v.2h8c.6 0 1 .4 1 1s-.4 1-1 1h-8v.3c0 .2 0 .3-.2.5l-.6.2H7.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6V18H5a1 1 0 010-2h2v-.3c0-.2 0-.3.2-.5l.5-.2h2.5c.3 0 .4 0 .6.2l.2.6zM8 18h2v-2H8v2z" fill-rule="evenodd"/></svg>',sharpen:'<svg width="24" height="24"><path d="M16 6l4 4-8 9-8-9 4-4h8zm-4 10.2l5.5-6.2-.1-.1H12v-.3h5.1l-.2-.2H12V9h4.6l-.2-.2H12v-.3h4.1l-.2-.2H12V8h3.6l-.2-.2H8.7L6.5 10l.1.1H12v.3H6.9l.2.2H12v.3H7.3l.2.2H12v.3H7.7l.3.2h4v.3H8.2l.2.2H12v.3H8.6l.3.2H12v.3H9l.3.2H12v.3H9.5l.2.2H12v.3h-2l.2.2H12v.3h-1.6l.2.2H12v.3h-1.1l.2.2h.9v.3h-.7l.2.2h.5v.3h-.3l.3.2z" fill-rule="evenodd"/></svg>',sourcecode:'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M9.8 15.7c.3.3.3.8 0 1-.3.4-.9.4-1.2 0l-4.4-4.1a.8.8 0 010-1.2l4.4-4.2c.3-.3.9-.3 1.2 0 .3.3.3.8 0 1.1L6 12l3.8 3.7zM14.2 15.7c-.3.3-.3.8 0 1 .4.4.9.4 1.2 0l4.4-4.1c.3-.3.3-.9 0-1.2l-4.4-4.2a.8.8 0 00-1.2 0c-.3.3-.3.8 0 1.1L18 12l-3.8 3.7z"/></g></svg>',"spell-check":'<svg width="24" height="24"><path d="M6 8v3H5V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h2c.3 0 .5.1.7.3.2.2.3.4.3.7v6H8V8H6zm0-3v2h2V5H6zm13 0h-3v5h3v1h-3a1 1 0 01-.7-.3 1 1 0 01-.3-.7V5c0-.3.1-.5.3-.7.2-.2.4-.3.7-.3h3v1zm-5 1.5l-.1.7c-.1.2-.3.3-.6.3.3 0 .5.1.6.3l.1.7V10c0 .3-.1.5-.3.7a1 1 0 01-.7.3h-3V4h3c.3 0 .5.1.7.3.2.2.3.4.3.7v1.5zM13 10V8h-2v2h2zm0-3V5h-2v2h2zm3 5l1 1-6.5 7L7 15.5l1.3-1 2.2 2.2L16 12z" fill-rule="evenodd"/></svg>',"strike-through":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M15.6 8.5c-.5-.7-1-1.1-1.3-1.3-.6-.4-1.3-.6-2-.6-2.7 0-2.8 1.7-2.8 2.1 0 1.6 1.8 2 3.2 2.3 4.4.9 4.6 2.8 4.6 3.9 0 1.4-.7 4.1-5 4.1A6.2 6.2 0 017 16.4l1.5-1.1c.4.6 1.6 2 3.7 2 1.6 0 2.5-.4 3-1.2.4-.8.3-2-.8-2.6-.7-.4-1.6-.7-2.9-1-1-.2-3.9-.8-3.9-3.6C7.6 6 10.3 5 12.4 5c2.9 0 4.2 1.6 4.7 2.4l-1.5 1.1z"/><path d="M5 11h14a1 1 0 010 2H5a1 1 0 010-2z" fill-rule="nonzero"/></g></svg>',subscript:'<svg width="24" height="24"><path d="M10.4 10l4.6 4.6-1.4 1.4L9 11.4 4.4 16 3 14.6 7.6 10 3 5.4 4.4 4 9 8.6 13.6 4 15 5.4 10.4 10zM21 19h-5v-1l1-.8 1.7-1.6c.3-.4.5-.8.5-1.2 0-.3 0-.6-.2-.7-.2-.2-.5-.3-.9-.3a2 2 0 00-.8.2l-.7.3-.4-1.1 1-.6 1.2-.2c.8 0 1.4.3 1.8.7.4.4.6.9.6 1.5s-.2 1.1-.5 1.6a8 8 0 01-1.3 1.3l-.6.6h2.6V19z" fill-rule="nonzero"/></svg>',superscript:'<svg width="24" height="24"><path d="M15 9.4L10.4 14l4.6 4.6-1.4 1.4L9 15.4 4.4 20 3 18.6 7.6 14 3 9.4 4.4 8 9 12.6 13.6 8 15 9.4zm5.9 1.6h-5v-1l1-.8 1.7-1.6c.3-.5.5-.9.5-1.3 0-.3 0-.5-.2-.7-.2-.2-.5-.3-.9-.3l-.8.2-.7.4-.4-1.2c.2-.2.5-.4 1-.5.3-.2.8-.2 1.2-.2.8 0 1.4.2 1.8.6.4.4.6 1 .6 1.6 0 .5-.2 1-.5 1.5l-1.3 1.4-.6.5h2.6V11z" fill-rule="nonzero"/></svg>',"table-caption":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="12" height="2" x="3" y="4" rx="1"/><path d="M19 8a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2v-8c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></g></svg>',"table-cell-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M13 4v9H3V6c0-1.1.9-2 2-2h8zm-2 2H5v5h6V6z"/><path fill-rule="nonzero" d="M13 4h6a2 2 0 012 2v7h-8v-2h6V6h-6V4z" opacity=".2"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/><path fill-rule="nonzero" d="M3 13v5c0 1.1.9 2 2 2h8v-7h-2v5H5v-5H3z" opacity=".2"/></g></svg>',"table-cell-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8 0h-6v5h6v-5zm-8-7H5v5h6V6z"/></svg>',"table-cell-select-all":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z" opacity=".2"/></g></svg>',"table-cell-select-inner":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v12h14V6z" opacity=".2"/><path d="M13 6v5h6v2h-6v5h-2v-5H5v-2h6V6h2z"/></g></svg>',"table-classes":'<svg width="24" height="24"><g fill-rule="evenodd"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v7h-8v7H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 9H5v5h6v-5zm8-7h-6v5h6V6zm-8 0H5v5h6V6z"/><path d="M18 20l-2.6 1.6.7-3-2.4-2 3.1-.2 1.2-2.9 1.2 2.9 3 .2-2.3 2 .7 3z"/></g></svg>',"table-delete-column":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-4 4h-2V6h-2v2H9V6H5v12h4v-2h2v2h2v-2h2v2h4V6h-4v2zm.3.5l1 1.2-3 2.3 3 2.3-1 1.2L12 13l-3.3 2.6-1-1.2 3-2.3-3-2.3 1-1.2L12 11l3.3-2.5z"/></svg>',"table-delete-row":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 2H5v3h2.5v2H5v2h2.5v2H5v3h14v-3h-2.5v-2H19v-2h-2.5V9H19V6zm-4.7 1.8l1.2 1L13 12l2.6 3.3-1.2 1-2.3-3-2.3 3-1.2-1L11 12 8.5 8.7l1.2-1 2.3 3 2.3-3z"/></svg>',"table-delete-table":'<svg width="24" height="24"><g fill-rule="nonzero"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 6v12h14V6H5z"/><path d="M14.4 8.6l1 1-2.3 2.4 2.3 2.4-1 1-2.4-2.3-2.4 2.3-1-1 2.3-2.4-2.3-2.4 1-1 2.4 2.3z"/></g></svg>',"table-insert-column-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M20 4c.6 0 1 .4 1 1v2a1 1 0 01-2 0V6h-8v12h8v-1a1 1 0 012 0v2c0 .5-.4 1-.9 1H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h15zM9 13H5v5h4v-5zm7-5c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H17v2a1 1 0 01-2 .1V13h-2a1 1 0 01-.1-2H15V9c0-.6.4-1 1-1zM9 6H5v5h4V6z"/></svg>',"table-insert-column-before":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H4a1 1 0 01-1-1v-2a1 1 0 012 0v1h8V6H5v1a1 1 0 11-2 0V5c0-.6.4-1 1-1h15zm0 9h-4v5h4v-5zM8 8c.5 0 1 .4 1 .9V11h2a1 1 0 01.1 2H9v2a1 1 0 01-2 .1V13H5a1 1 0 01-.1-2H7V9c0-.6.4-1 1-1zm11-2h-4v5h4V6z"/></svg>',"table-insert-row-above":'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4a1 1 0 110 2H5v6h14V6h-1a1 1 0 010-2h2c.6 0 1 .4 1 1v13a2 2 0 01-2 2H5a2 2 0 01-2-2V5c0-.6.4-1 1-1h2zm5 10H5v4h6v-4zm8 0h-6v4h6v-4zM12 3c.5 0 1 .4 1 .9V6h2a1 1 0 010 2h-2v2a1 1 0 01-2 .1V8H9a1 1 0 010-2h2V4c0-.6.4-1 1-1z"/></svg>',"table-insert-row-after":'<svg width="24" height="24"><path fill-rule="nonzero" d="M12 13c.5 0 1 .4 1 .9V16h2a1 1 0 01.1 2H13v2a1 1 0 01-2 .1V18H9a1 1 0 01-.1-2H11v-2c0-.6.4-1 1-1zm6 7a1 1 0 010-2h1v-6H5v6h1a1 1 0 010 2H4a1 1 0 01-1-1V6c0-1.1.9-2 2-2h14a2 2 0 012 2v13c0 .5-.4 1-.9 1H18zM11 6H5v4h6V6zm8 0h-6v4h6V6z"/></svg>',"table-left-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm0 9h-4v5h4v-5zm-6 0H9v5h4v-5zm0-7H9v5h4V6zm6 0h-4v5h4V6z"/></svg>',"table-merge-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15.5V18h3v-2.5H5zm14-5h-9V18h9v-7.5zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6zm-8 7.5h3v-3H5v3z"/></svg>',"table-row-numbering-rtl":'<svg width="24" height="24"><path d="M6 4a2 2 0 00-2 2v13c0 1.1.9 2 2 2h12a2 2 0 002-2V6a2 2 0 00-2-2H6zm0 12h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 11h8v3H6v-3zm11 0c.6 0 1 .4 1 1v1a1 1 0 01-2 0v-1c0-.6.4-1 1-1zM6 6h8v3H6V6zm11 0c.6 0 1 .4 1 1v1a1 1 0 11-2 0V7c0-.6.4-1 1-1z"/></svg>',"table-row-numbering":'<svg width="24" height="24"><path d="M18 4a2 2 0 012 2v13a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2h12zm0 12h-8v3h8v-3zM7 16a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8v-3zM7 11a1 1 0 00-1 1v1a1 1 0 002 0v-1c0-.6-.4-1-1-1zm11-5h-8v3h8V6zM7 6a1 1 0 00-1 1v1a1 1 0 102 0V7c0-.6-.4-1-1-1z"/></svg>',"table-row-properties":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 15v3h6v-3H5zm14 0h-6v3h6v-3zm0-9h-6v3h6V6zM5 9h6V6H5v3z"/></svg>',"table-split-cells":'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM8 15.5H5V18h3v-2.5zm11-5h-9V18h9v-7.5zm-2.5 1l1 1-2 2 2 2-1 1-2-2-2 2-1-1 2-2-2-2 1-1 2 2 2-2zm-8.5-1H5v3h3v-3zM19 6h-4v2.5h4V6zM8 6H5v2.5h3V6zm5 0h-3v2.5h3V6z"/></svg>',"table-top-header":'<svg width="24" height="24"><path d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zm-8 11H5v3h6v-3zm8 0h-6v3h6v-3zm0-5h-6v3h6v-3zM5 13h6v-3H5v3z"/></svg>',table:'<svg width="24" height="24"><path fill-rule="nonzero" d="M19 4a2 2 0 012 2v12a2 2 0 01-2 2H5a2 2 0 01-2-2V6c0-1.1.9-2 2-2h14zM5 14v4h6v-4H5zm14 0h-6v4h6v-4zm0-6h-6v4h6V8zM5 12h6V8H5v4z"/></svg>',template:'<svg width="24" height="24"><path d="M19 19v-1H5v1h14zM9 16v-4a5 5 0 116 0v4h4a2 2 0 012 2v3H3v-3c0-1.1.9-2 2-2h4zm4 0v-5l.8-.6a3 3 0 10-3.6 0l.8.6v5h2z" fill-rule="nonzero"/></svg>',"temporary-placeholder":'<svg width="24" height="24"><g fill-rule="evenodd"><path d="M9 7.6V6h2.5V4.5a.5.5 0 111 0V6H15v1.6a8 8 0 11-6 0zm-2.6 5.3a.5.5 0 00.3.6c.3 0 .6 0 .6-.3l.1-.2a5 5 0 013.3-2.8c.3-.1.4-.4.4-.6-.1-.3-.4-.5-.6-.4a6 6 0 00-4.1 3.7z"/><circle cx="14" cy="4" r="1"/><circle cx="12" cy="2" r="1"/><circle cx="10" cy="4" r="1"/></g></svg>',"text-color":'<svg width="24" height="24"><g fill-rule="evenodd"><path id="tox-icon-text-color__color" d="M3 18h18v3H3z"/><path d="M8.7 16h-.8a.5.5 0 01-.5-.6l2.7-9c.1-.3.3-.4.5-.4h2.8c.2 0 .4.1.5.4l2.7 9a.5.5 0 01-.5.6h-.8a.5.5 0 01-.4-.4l-.7-2.2c0-.3-.3-.4-.5-.4h-3.4c-.2 0-.4.1-.5.4l-.7 2.2c0 .3-.2.4-.4.4zm2.6-7.6l-.6 2a.5.5 0 00.5.6h1.6a.5.5 0 00.5-.6l-.6-2c0-.3-.3-.4-.5-.4h-.4c-.2 0-.4.1-.5.4z"/></g></svg>',toc:'<svg width="24" height="24"><path d="M5 5c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 110-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h11c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2zm0-4c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 110-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm-3 8c.6 0 1 .4 1 1s-.4 1-1 1a1 1 0 010-2zm3 0h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',translate:'<svg width="24" height="24"><path d="M12.7 14.3l-.3.7-.4.7-2.2-2.2-3.1 3c-.3.4-.8.4-1 0a.7.7 0 010-1l3.1-3A12.4 12.4 0 016.7 9H8a10.1 10.1 0 001.7 2.4c.5-.5 1-1.1 1.4-1.8l.9-2H4.7a.7.7 0 110-1.5h4.4v-.7c0-.4.3-.8.7-.8.4 0 .7.4.7.8v.7H15c.4 0 .8.3.8.7 0 .4-.4.8-.8.8h-1.4a12.3 12.3 0 01-1 2.4 13.5 13.5 0 01-1.7 2.3l1.9 1.8zm4.3-3l2.7 7.3a.5.5 0 01-.4.7 1 1 0 01-1-.7l-.6-1.5h-3.4l-.6 1.5a1 1 0 01-1 .7.5.5 0 01-.4-.7l2.7-7.4a1 1 0 012 0zm-2.2 4.4h2.4L16 12.5l-1.2 3.2z" fill-rule="evenodd"/></svg>',underline:'<svg width="24" height="24"><path d="M16 5c.6 0 1 .4 1 1v5.5a4 4 0 01-.4 1.8l-1 1.4a5.3 5.3 0 01-5.5 1 5 5 0 01-1.6-1c-.5-.4-.8-.9-1.1-1.4a4 4 0 01-.4-1.8V6c0-.6.4-1 1-1s1 .4 1 1v5.5c0 .3 0 .6.2 1l.6.7a3.3 3.3 0 002.2.8 3.4 3.4 0 002.2-.8c.3-.2.4-.5.6-.8l.2-.9V6c0-.6.4-1 1-1zM8 17h8c.6 0 1 .4 1 1s-.4 1-1 1H8a1 1 0 010-2z" fill-rule="evenodd"/></svg>',undo:'<svg width="24" height="24"><path d="M6.4 8H12c3.7 0 6.2 2 6.8 5.1.6 2.7-.4 5.6-2.3 6.8a1 1 0 01-1-1.8c1.1-.6 1.8-2.7 1.4-4.6-.5-2.1-2.1-3.5-4.9-3.5H6.4l3.3 3.3a1 1 0 11-1.4 1.4l-5-5a1 1 0 010-1.4l5-5a1 1 0 011.4 1.4L6.4 8z" fill-rule="nonzero"/></svg>',unlink:'<svg width="24" height="24"><path d="M6.2 12.3a1 1 0 011.4 1.4l-2 2a2 2 0 102.6 2.8l4.8-4.8a1 1 0 000-1.4 1 1 0 111.4-1.3 2.9 2.9 0 010 4L9.6 20a3.9 3.9 0 01-5.5-5.5l2-2zm11.6-.6a1 1 0 01-1.4-1.4l2.1-2a2 2 0 10-2.7-2.8L11 10.3a1 1 0 000 1.4A1 1 0 119.6 13a2.9 2.9 0 010-4L14.4 4a3.9 3.9 0 015.5 5.5l-2 2zM7.6 6.3a.8.8 0 01-1 1.1L3.3 4.2a.7.7 0 111-1l3.2 3.1zM5.1 8.6a.8.8 0 010 1.5H3a.8.8 0 010-1.5H5zm5-3.5a.8.8 0 01-1.5 0V3a.8.8 0 011.5 0V5zm6 11.8a.8.8 0 011-1l3.2 3.2a.8.8 0 01-1 1L16 17zm-2.2 2a.8.8 0 011.5 0V21a.8.8 0 01-1.5 0V19zm5-3.5a.7.7 0 110-1.5H21a.8.8 0 010 1.5H19z" fill-rule="nonzero"/></svg>',unlock:'<svg width="24" height="24"><path d="M16 5c.8 0 1.5.3 2.1.9.6.6.9 1.3.9 2.1v3h-2V8a1 1 0 00-.3-.7A1 1 0 0016 7h-2a1 1 0 00-.7.3 1 1 0 00-.3.7v3h.3c.2 0 .3 0 .5.2l.2.6v7.4c0 .3 0 .4-.2.6l-.6.2H4.8c-.3 0-.4 0-.6-.2a.7.7 0 01-.2-.6v-7.4c0-.3 0-.4.2-.6l.5-.2H11V8c0-.8.3-1.5.9-2.1.6-.6 1.3-.9 2.1-.9h2z" fill-rule="evenodd"/></svg>',"unordered-list":'<svg width="24" height="24"><path d="M11 5h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zm0 6h8c.6 0 1 .4 1 1s-.4 1-1 1h-8a1 1 0 010-2zM4.5 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1zm0 6c0-.4.1-.8.4-1 .3-.4.7-.5 1.1-.5.4 0 .8.1 1 .4.4.3.5.7.5 1.1 0 .4-.1.8-.4 1-.3.4-.7.5-1.1.5-.4 0-.8-.1-1-.4-.4-.3-.5-.7-.5-1.1z" fill-rule="evenodd"/></svg>',unselected:'<svg width="24" height="24"><path fill-rule="nonzero" d="M6 4h12a2 2 0 012 2v12a2 2 0 01-2 2H6a2 2 0 01-2-2V6c0-1.1.9-2 2-2zm0 1a1 1 0 00-1 1v12c0 .6.4 1 1 1h12c.6 0 1-.4 1-1V6c0-.6-.4-1-1-1H6z"/></svg>',upload:'<svg width="24" height="24"><path d="M18 19v-2a1 1 0 012 0v3c0 .6-.4 1-1 1H5a1 1 0 01-1-1v-3a1 1 0 012 0v2h12zM11 6.4L8.7 8.7a1 1 0 01-1.4-1.4l4-4a1 1 0 011.4 0l4 4a1 1 0 11-1.4 1.4L13 6.4V16a1 1 0 01-2 0V6.4z" fill-rule="nonzero"/></svg>',user:'<svg width="24" height="24"><path d="M12 24a12 12 0 110-24 12 12 0 010 24zm-8.7-5.3a11 11 0 0017.4 0C19.4 16.3 14.6 15 12 15c-2.6 0-7.4 1.3-8.7 3.7zM12 13c2.2 0 4-2 4-4.5S14.2 4 12 4 8 6 8 8.5 9.8 13 12 13z" fill-rule="nonzero"/></svg>',"vertical-align":'<svg width="24" height="24"><g fill-rule="nonzero"><rect width="18" height="2" x="3" y="11" rx="1"/><path d="M12 2c.6 0 1 .4 1 1v4l2-1.3a1 1 0 011.2 1.5l-.1.1-4.1 3-4-3a1 1 0 011-1.7l2 1.5V3c0-.6.4-1 1-1zm0 11.8l4 2.9a1 1 0 01-1 1.7l-2-1.5V21c0 .5-.4 1-.9 1H12a1 1 0 01-1-1v-4l-2 1.3a1 1 0 01-1.2-.1l-.1-.1a1 1 0 01.1-1.3l.1-.1 4.1-3z"/></g></svg>',visualblocks:'<svg width="24" height="24"><path d="M9 19v2H7v-2h2zm-4 0v2a2 2 0 01-2-2h2zm8 0v2h-2v-2h2zm8 0a2 2 0 01-2 2v-2h2zm-4 0v2h-2v-2h2zM15 7a1 1 0 010 2v7a1 1 0 01-2 0V9h-1v7a1 1 0 01-2 0v-4a2.5 2.5 0 01-.2-5H15zM5 15v2H3v-2h2zm16 0v2h-2v-2h2zM5 11v2H3v-2h2zm16 0v2h-2v-2h2zM5 7v2H3V7h2zm16 0v2h-2V7h2zM5 3v2H3c0-1.1.9-2 2-2zm8 0v2h-2V3h2zm6 0a2 2 0 012 2h-2V3zM9 3v2H7V3h2zm8 0v2h-2V3h2z" fill-rule="evenodd"/></svg>',visualchars:'<svg width="24" height="24"><path d="M10 5h7a1 1 0 010 2h-1v11a1 1 0 01-2 0V7h-2v11a1 1 0 01-2 0v-6c-.5 0-1 0-1.4-.3A3.4 3.4 0 016.8 10a3.3 3.3 0 010-2.8 3.4 3.4 0 011.8-1.8L10 5z" fill-rule="evenodd"/></svg>',warning:'<svg width="24" height="24"><path d="M19.8 18.3c.2.5.3.9 0 1.2-.1.3-.5.5-1 .5H5.2c-.5 0-.9-.2-1-.5-.3-.3-.2-.7 0-1.2L11 4.7l.5-.5.5-.2c.2 0 .3 0 .5.2.2 0 .3.3.5.5l6.8 13.6zM12 18c.3 0 .5-.1.7-.3.2-.2.3-.4.3-.7a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7c0 .3.1.5.3.7.2.2.4.3.7.3zm.7-3l.3-4a1 1 0 00-.3-.7 1 1 0 00-.7-.3 1 1 0 00-.7.3 1 1 0 00-.3.7l.3 4h1.4z" fill-rule="evenodd"/></svg>',"zoom-in":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-1-9a1 1 0 012 0v6a1 1 0 01-2 0V8zm-2 4a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>',"zoom-out":'<svg width="24" height="24"><path d="M16 17.3a8 8 0 111.4-1.4l4.3 4.4a1 1 0 01-1.4 1.4l-4.4-4.3zm-5-.3a6 6 0 100-12 6 6 0 000 12zm-3-5a1 1 0 010-2h6a1 1 0 010 2H8z" fill-rule="nonzero"/></svg>'}});(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(xe,ct,Tn){var bt=ct==="UL"?"InsertUnorderedList":"InsertOrderedList";xe.execCommand(bt,!1,Tn===!1?null:{"list-style-type":Tn})},C=function(xe){xe.addCommand("ApplyUnorderedListStyle",function(ct,Tn){y(xe,"UL",Tn["list-style-type"])}),xe.addCommand("ApplyOrderedListStyle",function(ct,Tn){y(xe,"OL",Tn["list-style-type"])})},S=tinymce.util.Tools.resolve("tinymce.util.Tools"),_=function(xe){var ct=xe.getParam("advlist_number_styles","default,lower-alpha,lower-greek,lower-roman,upper-alpha,upper-roman");return ct?ct.split(/[ ,]/):[]},M=function(xe){var ct=xe.getParam("advlist_bullet_styles","default,circle,square");return ct?ct.split(/[ ,]/):[]},z=function(){},K=function(xe){return function(){return xe}},Y=function(xe){return xe},ye=K(!1),Q=K(!0),W=function(){return ve},ve=function(){var xe=function(bt){return bt()},ct=Y,Tn={fold:function(bt,er){return bt()},isSome:ye,isNone:Q,getOr:ct,getOrThunk:xe,getOrDie:function(bt){throw new Error(bt||"error: getOrDie called on none.")},getOrNull:K(null),getOrUndefined:K(void 0),or:ct,orThunk:xe,map:W,each:z,bind:W,exists:ye,forall:Q,filter:function(){return W()},toArray:function(){return[]},toString:K("none()")};return Tn}(),he=function(xe){var ct=K(xe),Tn=function(){return er},bt=function(Er){return Er(xe)},er={fold:function(Er,A){return A(xe)},isSome:Q,isNone:ye,getOr:ct,getOrThunk:ct,getOrDie:ct,getOrNull:ct,getOrUndefined:ct,or:Tn,orThunk:Tn,map:function(Er){return he(Er(xe))},each:function(Er){Er(xe)},bind:bt,exists:bt,forall:bt,filter:function(Er){return Er(xe)?er:ve},toArray:function(){return[xe]},toString:function(){return"some("+xe+")"}};return er},be=function(xe){return xe==null?ve:he(xe)},ae={some:he,none:W,from:be},Ae=function(xe,ct){return xe.$.contains(xe.getBody(),ct)},Ye=function(xe){return xe&&/^(TH|TD)$/.test(xe.nodeName)},Ve=function(xe){return function(ct){return ct&&/^(OL|UL|DL)$/.test(ct.nodeName)&&Ae(xe,ct)}},L=function(xe){var ct=xe.dom.getParent(xe.selection.getNode(),"ol,ul"),Tn=xe.dom.getStyle(ct,"listStyleType");return ae.from(Tn)},_e=function(xe,ct){for(var Tn=0;Tn<xe.length;Tn++){var bt=xe[Tn];if(ct(bt))return Tn}return-1},Te=function(xe){return xe.replace(/\-/g," ").replace(/\b\w/g,function(ct){return ct.toUpperCase()})},Be=function(xe,ct,Tn){var bt=_e(ct.parents,Ye),er=bt!==-1?ct.parents.slice(0,bt):ct.parents,Er=S.grep(er,Ve(xe));return Er.length>0&&Er[0].nodeName===Tn},gt=function(xe,ct){return function(Tn){var bt=function(er){Tn.setActive(Be(xe,er,ct))};return xe.on("NodeChange",bt),function(){return xe.off("NodeChange",bt)}}},Se=function(xe,ct,Tn,bt,er,Er){xe.ui.registry.addSplitButton(ct,{tooltip:Tn,icon:er==="OL"?"ordered-list":"unordered-list",presets:"listpreview",columns:3,fetch:function(A){var Ht=S.map(Er,function(Kt){var Rn=er==="OL"?"num":"bull",et=Kt==="disc"||Kt==="decimal"?"default":Kt,nn=Kt==="default"?"":Kt,tn=Te(Kt);return{type:"choiceitem",value:nn,icon:"list-"+Rn+"-"+et,text:tn}});A(Ht)},onAction:function(){return xe.execCommand(bt)},onItemAction:function(A,Ht){y(xe,er,Ht)},select:function(A){var Ht=L(xe);return Ht.map(function(Kt){return A===Kt}).getOr(!1)},onSetup:gt(xe,er)})},je=function(xe,ct,Tn,bt,er,Er){xe.ui.registry.addToggleButton(ct,{active:!1,tooltip:Tn,icon:er==="OL"?"ordered-list":"unordered-list",onSetup:gt(xe,er),onAction:function(){return xe.execCommand(bt)}})},Ze=function(xe,ct,Tn,bt,er,Er){Er.length>1?Se(xe,ct,Tn,bt,er,Er):je(xe,ct,Tn,bt,er)},it=function(xe){Ze(xe,"numlist","Numbered list","InsertOrderedList","OL",_(xe)),Ze(xe,"bullist","Bullet list","InsertUnorderedList","UL",M(xe))};function G(){D.add("advlist",function(xe){xe.hasPlugin("lists")&&(it(xe),C(xe))})}G()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),C=tinymce.util.Tools.resolve("tinymce.util.Tools"),S=function(it){return it.getParam("allow_html_in_named_anchor",!1,"boolean")},_="a:not([href])",M=function(it){return!it},z=function(it){var G=it.getAttribute("id")||it.getAttribute("name");return G||""},K=function(it){return it&&it.nodeName.toLowerCase()==="a"},Y=function(it){return K(it)&&!it.getAttribute("href")&&z(it)!==""},ye=function(it){return Y(it)&&!it.firstChild},Q=function(it){var G=it.dom;y(G).walk(it.selection.getRng(),function(xe){C.each(xe,function(ct){ye(ct)&&G.remove(ct,!1)})})},W=function(it){return/^[A-Za-z][A-Za-z0-9\-:._]*$/.test(it)},ve=function(it){return it.dom.getParent(it.selection.getStart(),_)},he=function(it){var G=ve(it);return G?z(G):""},be=function(it,G){it.undoManager.transact(function(){S(it)||it.selection.collapse(!0),it.selection.isCollapsed()?it.insertContent(it.dom.createHTML("a",{id:G})):(Q(it),it.formatter.remove("namedAnchor",null,null,!0),it.formatter.apply("namedAnchor",{value:G}),it.addVisual())})},ae=function(it,G,xe){xe.removeAttribute("name"),xe.id=G,it.addVisual(),it.undoManager.add()},Ae=function(it,G){var xe=ve(it);xe?ae(it,G,xe):be(it,G),it.focus()},Ye=function(it,G){return W(G)?(Ae(it,G),!0):(it.windowManager.alert("Id should start with a letter, followed only by letters, numbers, dashes, dots, colons or underscores."),!1)},Ve=function(it){var G=he(it);it.windowManager.open({title:"Anchor",size:"normal",body:{type:"panel",items:[{name:"id",type:"input",label:"ID",placeholder:"example"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{id:G},onSubmit:function(xe){Ye(it,xe.getData().id)&&xe.close()}})},L=function(it){it.addCommand("mceAnchor",function(){Ve(it)})},_e=function(it){return it&&M(it.attr("href"))&&!M(it.attr("id")||it.attr("name"))},Te=function(it){return _e(it)&&!it.firstChild},Be=function(it){return function(G){for(var xe=0;xe<G.length;xe++){var ct=G[xe];Te(ct)&&ct.attr("contenteditable",it)}}},gt=function(it){it.on("PreInit",function(){it.parser.addNodeFilter("a",Be("false")),it.serializer.addNodeFilter("a",Be(null))})},Se=function(it){it.formatter.register("namedAnchor",{inline:"a",selector:_,remove:"all",split:!0,deep:!0,attributes:{id:"%value"},onmatch:function(G,xe,ct){return Y(G)}})},je=function(it){it.ui.registry.addToggleButton("anchor",{icon:"bookmark",tooltip:"Anchor",onAction:function(){return it.execCommand("mceAnchor")},onSetup:function(G){return it.selection.selectorChangedWithUnbind("a:not([href])",G.setActive).unbind}}),it.ui.registry.addMenuItem("anchor",{icon:"bookmark",text:"Anchor...",onAction:function(){return it.execCommand("mceAnchor")}})};function Ze(){D.add("anchor",function(it){gt(it),L(it),je(it),it.on("PreInit",function(){Se(it)})})}Ze()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(Se,je,Ze){return Se.length>=je.length&&Se.substr(Ze,Ze+je.length)===je},C=function(Se,je){return Se.indexOf(je)!==-1},S=function(Se,je){return y(Se,je,0)},_=tinymce.util.Tools.resolve("tinymce.Env"),M=function(){return/(?:[A-Za-z][A-Za-z\d.+-]{0,14}:\/\/(?:[-.~*+=!&;:'%@?^${}(),\w]+@)?|www\.|[-;:&=+$,.\w]+@)[A-Za-z\d-]+(?:\.[A-Za-z\d-]+)*(?::\d+)?(?:\/(?:[-.~*+=!;:'%@$(),\/\w]*[-~*+=%@$()\/\w])?)?(?:\?(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?(?:#(?:[-.~*+=!&;:'%@?^${}(),\/\w]+))?/g},z=new RegExp("^"+M().source+"$","i"),K=function(Se){return Se.getParam("autolink_pattern",z)},Y=function(Se){return Se.getParam("default_link_target",!1)},ye=function(Se){return Se.getParam("link_default_protocol","http","string")},Q=function(Se){return/^[(\[{ \u00a0]$/.test(Se)},W=function(Se){return Se.nodeType===3},ve=function(Se){return Se.nodeType===1},he=function(Se){return Te(Se,-1)},be=function(Se){return Te(Se,0)},ae=function(Se){return Te(Se,-1)},Ae=function(Se,je){if(je<0&&(je=0),W(Se)){var Ze=Se.data.length;je>Ze&&(je=Ze)}return je},Ye=function(Se,je,Ze){!ve(je)||je.hasChildNodes()?Se.setStart(je,Ae(je,Ze)):Se.setStartBefore(je)},Ve=function(Se,je,Ze){!ve(je)||je.hasChildNodes()?Se.setEnd(je,Ae(je,Ze)):Se.setEndAfter(je)},L=function(Se){return/^([A-Za-z][A-Za-z\d.+-]*:\/\/)|mailto:/.test(Se)},_e=function(Se){return/[?!,.;:]/.test(Se)},Te=function(Se,je){var Ze,it,G,xe,ct,Tn,bt,er=K(Se),Er=Y(Se);if(Se.dom.getParent(Se.selection.getNode(),"a[href]")===null){var A=Se.selection.getRng().cloneRange();if(A.startOffset<5){if(ct=A.endContainer.previousSibling,!ct){if(!A.endContainer.firstChild||!A.endContainer.firstChild.nextSibling)return;ct=A.endContainer.firstChild.nextSibling}if(Tn=ct.length,Ye(A,ct,Tn),Ve(A,ct,Tn),A.endOffset<5)return;Ze=A.endOffset,it=ct}else{if(it=A.endContainer,!W(it)&&it.firstChild){for(;!W(it)&&it.firstChild;)it=it.firstChild;W(it)&&(Ye(A,it,0),Ve(A,it,it.nodeValue.length))}A.endOffset===1?Ze=2:Ze=A.endOffset-1-je}var Ht=Ze;do Ye(A,it,Ze>=2?Ze-2:0),Ve(A,it,Ze>=1?Ze-1:0),Ze-=1,bt=A.toString();while(!Q(bt)&&Ze-2>=0);Q(A.toString())?(Ye(A,it,Ze),Ve(A,it,Ht),Ze+=1):A.startOffset===0?(Ye(A,it,0),Ve(A,it,Ht)):(Ye(A,it,Ze),Ve(A,it,Ht)),xe=A.toString(),_e(xe.charAt(xe.length-1))&&Ve(A,it,Ht-1),xe=A.toString().trim();var Kt=xe.match(er),Rn=ye(Se);if(Kt){var et=Kt[0];S(et,"www.")?et=Rn+"://"+et:C(et,"@")&&!L(et)&&(et="mailto:"+et),G=Se.selection.getBookmark(),Se.selection.setRng(A),Se.execCommand("createlink",!1,et),Er!==!1&&Se.dom.setAttrib(Se.selection.getNode(),"target",Er),Se.selection.moveToBookmark(G),Se.nodeChanged()}}},Be=function(Se){var je;if(Se.on("keydown",function(Ze){if(Ze.keyCode===13)return ae(Se)}),_.browser.isIE()){Se.on("focus",function(){if(!je){je=!0;try{Se.execCommand("AutoUrlDetect",!1,!0)}catch(Ze){}}});return}Se.on("keypress",function(Ze){if(Ze.keyCode===41||Ze.keyCode===93||Ze.keyCode===125)return he(Se)}),Se.on("keyup",function(Ze){if(Ze.keyCode===32)return be(Se)})};function gt(){D.add("autolink",function(Se){Be(Se)})}gt()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(G){return function(xe){return G===xe}},C=y(void 0),S=tinymce.util.Tools.resolve("tinymce.util.Delay"),_=tinymce.util.Tools.resolve("tinymce.util.LocalStorage"),M=tinymce.util.Tools.resolve("tinymce.util.Tools"),z=function(G){return G.fire("RestoreDraft")},K=function(G){return G.fire("StoreDraft")},Y=function(G){return G.fire("RemoveDraft")},ye=function(G,xe){var ct={s:1e3,m:6e4},Tn=G||xe,bt=/^(\d+)([ms]?)$/.exec(""+Tn);return(bt[2]?ct[bt[2]]:1)*parseInt(Tn,10)},Q=function(G){return G.getParam("autosave_ask_before_unload",!0)},W=function(G){var xe=document.location;return G.getParam("autosave_prefix","tinymce-autosave-{path}{query}{hash}-{id}-").replace(/{path}/g,xe.pathname).replace(/{query}/g,xe.search).replace(/{hash}/g,xe.hash).replace(/{id}/g,G.id)},ve=function(G){return G.getParam("autosave_restore_when_empty",!1)},he=function(G){return ye(G.getParam("autosave_interval"),"30s")},be=function(G){return ye(G.getParam("autosave_retention"),"20m")},ae=function(G,xe){if(C(xe))return G.dom.isEmpty(G.getBody());var ct=M.trim(xe);if(ct==="")return!0;var Tn=new DOMParser().parseFromString(ct,"text/html");return G.dom.isEmpty(Tn)},Ae=function(G){var xe=parseInt(_.getItem(W(G)+"time"),10)||0;return new Date().getTime()-xe>be(G)?(Ye(G,!1),!1):!0},Ye=function(G,xe){var ct=W(G);_.removeItem(ct+"draft"),_.removeItem(ct+"time"),xe!==!1&&Y(G)},Ve=function(G){var xe=W(G);!ae(G)&&G.isDirty()&&(_.setItem(xe+"draft",G.getContent({format:"raw",no_events:!0})),_.setItem(xe+"time",new Date().getTime().toString()),K(G))},L=function(G){var xe=W(G);Ae(G)&&(G.setContent(_.getItem(xe+"draft"),{format:"raw"}),z(G))},_e=function(G){var xe=he(G);S.setEditorInterval(G,function(){Ve(G)},xe)},Te=function(G){G.undoManager.transact(function(){L(G),Ye(G)}),G.focus()},Be=function(G){return{hasDraft:function(){return Ae(G)},storeDraft:function(){return Ve(G)},restoreDraft:function(){return L(G)},removeDraft:function(xe){return Ye(G,xe)},isEmpty:function(xe){return ae(G,xe)}}},gt=tinymce.util.Tools.resolve("tinymce.EditorManager"),Se=function(G){G.editorManager.on("BeforeUnload",function(xe){var ct;M.each(gt.get(),function(Tn){Tn.plugins.autosave&&Tn.plugins.autosave.storeDraft(),!ct&&Tn.isDirty()&&Q(Tn)&&(ct=Tn.translate("You have unsaved changes are you sure you want to navigate away?"))}),ct&&(xe.preventDefault(),xe.returnValue=ct)})},je=function(G){return function(xe){xe.setDisabled(!Ae(G));var ct=function(){return xe.setDisabled(!Ae(G))};return G.on("StoreDraft RestoreDraft RemoveDraft",ct),function(){return G.off("StoreDraft RestoreDraft RemoveDraft",ct)}}},Ze=function(G){_e(G),G.ui.registry.addButton("restoredraft",{tooltip:"Restore last draft",icon:"restore-draft",onAction:function(){Te(G)},onSetup:je(G)}),G.ui.registry.addMenuItem("restoredraft",{text:"Restore last draft",icon:"restore-draft",onAction:function(){Te(G)},onSetup:je(G)})};function it(){D.add("autosave",function(G){return Se(G),Ze(G),G.on("init",function(){ve(G)&&G.dom.isEmpty(G.getBody())&&L(G)}),Be(G)})}it()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(K,Y){K.focus(),K.undoManager.transact(function(){K.setContent(Y)}),K.selection.setCursorLocation(),K.nodeChanged()},C=function(K){return K.getContent({source_view:!0})},S=function(K){var Y=C(K);K.windowManager.open({title:"Source Code",size:"large",body:{type:"panel",items:[{type:"textarea",name:"code"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{code:Y},onSubmit:function(ye){y(K,ye.getData().code),ye.close()}})},_=function(K){K.addCommand("mceCodeEditor",function(){S(K)})},M=function(K){var Y=function(){return K.execCommand("mceCodeEditor")};K.ui.registry.addButton("code",{icon:"sourcecode",tooltip:"Source code",onAction:Y}),K.ui.registry.addMenuItem("code",{icon:"sourcecode",text:"Source code",onAction:Y})};function z(){D.add("code",function(K){return _(K),M(K),{}})}z()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(){},C=function(Ht){return function(){return Ht}},S=function(Ht){return Ht},_=C(!1),M=C(!0),z=function(){return K},K=function(){var Ht=function(et){return et()},Kt=S,Rn={fold:function(et,nn){return et()},isSome:_,isNone:M,getOr:Kt,getOrThunk:Ht,getOrDie:function(et){throw new Error(et||"error: getOrDie called on none.")},getOrNull:C(null),getOrUndefined:C(void 0),or:Kt,orThunk:Ht,map:z,each:y,bind:z,exists:_,forall:M,filter:function(){return z()},toArray:function(){return[]},toString:C("none()")};return Rn}(),Y=function(Ht){var Kt=C(Ht),Rn=function(){return nn},et=function(tn){return tn(Ht)},nn={fold:function(tn,sn){return sn(Ht)},isSome:M,isNone:_,getOr:Kt,getOrThunk:Kt,getOrDie:Kt,getOrNull:Kt,getOrUndefined:Kt,or:Rn,orThunk:Rn,map:function(tn){return Y(tn(Ht))},each:function(tn){tn(Ht)},bind:et,exists:et,forall:et,filter:function(tn){return tn(Ht)?nn:K},toArray:function(){return[Ht]},toString:function(){return"some("+Ht+")"}};return nn},ye=function(Ht){return Ht==null?K:Y(Ht)},Q={some:Y,none:z,from:ye},W=function(Ht,Kt){return Kt<Ht.length?Q.some(Ht[Kt]):Q.none()},ve=function(Ht){return W(Ht,0)},he=function(Ht,Kt){return Ht?Q.some(Kt):Q.none()},be=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),ae=function(Ht){return Ht&&Ht.nodeName==="PRE"&&Ht.className.indexOf("language-")!==-1},Ae=function(Ht){return function(Kt,Rn){return Ht(Rn)}},Ye=typeof window!="undefined"?window:Function("return this;")(),Ve={},L={exports:Ve},_e={};(function(Ht,Kt,Rn,et){var nn=window.Prism;window.Prism={manual:!0},function(sn,X){typeof Kt=="object"&&typeof Rn!="undefined"?Rn.exports=X():(sn=typeof globalThis!="undefined"?globalThis:sn||self,sn.EphoxContactWrapper=X())}(this,function(){var sn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof _e!="undefined"?_e:typeof self!="undefined"?self:{},X={exports:{}};(function(Ke){var bn=typeof window!="undefined"?window:typeof WorkerGlobalScope!="undefined"&&self instanceof WorkerGlobalScope?self:{},Ue=function(We){var ft=/(?:^|\s)lang(?:uage)?-([\w-]+)(?=\s|$)/i,zt=0,vt={},kt={manual:We.Prism&&We.Prism.manual,disableWorkerMessageHandler:We.Prism&&We.Prism.disableWorkerMessageHandler,util:{encode:function Vt(Ut){return Ut instanceof jn?new jn(Ut.type,Vt(Ut.content),Ut.alias):Array.isArray(Ut)?Ut.map(Vt):Ut.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/\u00a0/g," ")},type:function(Vt){return Object.prototype.toString.call(Vt).slice(8,-1)},objId:function(Vt){return Vt.__id||Object.defineProperty(Vt,"__id",{value:++zt}),Vt.__id},clone:function Vt(Ut,Bt){Bt=Bt||{};var Xe,ot;switch(kt.util.type(Ut)){case"Object":if(ot=kt.util.objId(Ut),Bt[ot])return Bt[ot];Xe={},Bt[ot]=Xe;for(var Xt in Ut)Ut.hasOwnProperty(Xt)&&(Xe[Xt]=Vt(Ut[Xt],Bt));return Xe;case"Array":return ot=kt.util.objId(Ut),Bt[ot]?Bt[ot]:(Xe=[],Bt[ot]=Xe,Ut.forEach(function(yn,Jt){Xe[Jt]=Vt(yn,Bt)}),Xe);default:return Ut}},getLanguage:function(Vt){for(;Vt;){var Ut=ft.exec(Vt.className);if(Ut)return Ut[1].toLowerCase();Vt=Vt.parentElement}return"none"},setLanguage:function(Vt,Ut){Vt.className=Vt.className.replace(RegExp(ft.source,"gi"),""),Vt.classList.add("language-"+Ut)},currentScript:function(){if(typeof document=="undefined")return null;if("currentScript"in document)return document.currentScript;try{throw new Error}catch(Xe){var Vt=(/at [^(\r\n]*\((.*):[^:]+:[^:]+\)$/i.exec(Xe.stack)||[])[1];if(Vt){var Ut=document.getElementsByTagName("script");for(var Bt in Ut)if(Ut[Bt].src==Vt)return Ut[Bt]}return null}},isActive:function(Vt,Ut,Bt){for(var Xe="no-"+Ut;Vt;){var ot=Vt.classList;if(ot.contains(Ut))return!0;if(ot.contains(Xe))return!1;Vt=Vt.parentElement}return!!Bt}},languages:{plain:vt,plaintext:vt,text:vt,txt:vt,extend:function(Vt,Ut){var Bt=kt.util.clone(kt.languages[Vt]);for(var Xe in Ut)Bt[Xe]=Ut[Xe];return Bt},insertBefore:function(Vt,Ut,Bt,Xe){Xe=Xe||kt.languages;var ot=Xe[Vt],Xt={};for(var yn in ot)if(ot.hasOwnProperty(yn)){if(yn==Ut)for(var Jt in Bt)Bt.hasOwnProperty(Jt)&&(Xt[Jt]=Bt[Jt]);Bt.hasOwnProperty(yn)||(Xt[yn]=ot[yn])}var ze=Xe[Vt];return Xe[Vt]=Xt,kt.languages.DFS(kt.languages,function($t,fn){fn===ze&&$t!=Vt&&(this[$t]=Xt)}),Xt},DFS:function Vt(Ut,Bt,Xe,ot){ot=ot||{};var Xt=kt.util.objId;for(var yn in Ut)if(Ut.hasOwnProperty(yn)){Bt.call(Ut,yn,Ut[yn],Xe||yn);var Jt=Ut[yn],ze=kt.util.type(Jt);ze==="Object"&&!ot[Xt(Jt)]?(ot[Xt(Jt)]=!0,Vt(Jt,Bt,null,ot)):ze==="Array"&&!ot[Xt(Jt)]&&(ot[Xt(Jt)]=!0,Vt(Jt,Bt,yn,ot))}}},plugins:{},highlightAll:function(Vt,Ut){kt.highlightAllUnder(document,Vt,Ut)},highlightAllUnder:function(Vt,Ut,Bt){var Xe={callback:Bt,container:Vt,selector:'code[class*="language-"], [class*="language-"] code, code[class*="lang-"], [class*="lang-"] code'};kt.hooks.run("before-highlightall",Xe),Xe.elements=Array.prototype.slice.apply(Xe.container.querySelectorAll(Xe.selector)),kt.hooks.run("before-all-elements-highlight",Xe);for(var ot=0,Xt;Xt=Xe.elements[ot++];)kt.highlightElement(Xt,Ut===!0,Xe.callback)},highlightElement:function(Vt,Ut,Bt){var Xe=kt.util.getLanguage(Vt),ot=kt.languages[Xe];kt.util.setLanguage(Vt,Xe);var Xt=Vt.parentElement;Xt&&Xt.nodeName.toLowerCase()==="pre"&&kt.util.setLanguage(Xt,Xe);var yn=Vt.textContent,Jt={element:Vt,language:Xe,grammar:ot,code:yn};function ze(fn){Jt.highlightedCode=fn,kt.hooks.run("before-insert",Jt),Jt.element.innerHTML=Jt.highlightedCode,kt.hooks.run("after-highlight",Jt),kt.hooks.run("complete",Jt),Bt&&Bt.call(Jt.element)}if(kt.hooks.run("before-sanity-check",Jt),Xt=Jt.element.parentElement,Xt&&Xt.nodeName.toLowerCase()==="pre"&&!Xt.hasAttribute("tabindex")&&Xt.setAttribute("tabindex","0"),!Jt.code){kt.hooks.run("complete",Jt),Bt&&Bt.call(Jt.element);return}if(kt.hooks.run("before-highlight",Jt),!Jt.grammar){ze(kt.util.encode(Jt.code));return}if(Ut&&We.Worker){var $t=new Worker(kt.filename);$t.onmessage=function(fn){ze(fn.data)},$t.postMessage(JSON.stringify({language:Jt.language,code:Jt.code,immediateClose:!0}))}else ze(kt.highlight(Jt.code,Jt.grammar,Jt.language))},highlight:function(Vt,Ut,Bt){var Xe={code:Vt,grammar:Ut,language:Bt};if(kt.hooks.run("before-tokenize",Xe),!Xe.grammar)throw new Error('The language "'+Xe.language+'" has no grammar.');return Xe.tokens=kt.tokenize(Xe.code,Xe.grammar),kt.hooks.run("after-tokenize",Xe),jn.stringify(kt.util.encode(Xe.tokens),Xe.language)},tokenize:function(Vt,Ut){var Bt=Ut.rest;if(Bt){for(var Xe in Bt)Ut[Xe]=Bt[Xe];delete Ut.rest}var ot=new pn;return Nn(ot,ot.head,Vt),pt(Vt,ot,Ut,ot.head,0),tr(ot)},hooks:{all:{},add:function(Vt,Ut){var Bt=kt.hooks.all;Bt[Vt]=Bt[Vt]||[],Bt[Vt].push(Ut)},run:function(Vt,Ut){var Bt=kt.hooks.all[Vt];if(!(!Bt||!Bt.length))for(var Xe=0,ot;ot=Bt[Xe++];)ot(Ut)}},Token:jn};We.Prism=kt;function jn(Vt,Ut,Bt,Xe){this.type=Vt,this.content=Ut,this.alias=Bt,this.length=(Xe||"").length|0}jn.stringify=function Vt(Ut,Bt){if(typeof Ut=="string")return Ut;if(Array.isArray(Ut)){var Xe="";return Ut.forEach(function(ze){Xe+=Vt(ze,Bt)}),Xe}var ot={type:Ut.type,content:Vt(Ut.content,Bt),tag:"span",classes:["token",Ut.type],attributes:{},language:Bt},Xt=Ut.alias;Xt&&(Array.isArray(Xt)?Array.prototype.push.apply(ot.classes,Xt):ot.classes.push(Xt)),kt.hooks.run("wrap",ot);var yn="";for(var Jt in ot.attributes)yn+=" "+Jt+'="'+(ot.attributes[Jt]||"").replace(/"/g,"&quot;")+'"';return"<"+ot.tag+' class="'+ot.classes.join(" ")+'"'+yn+">"+ot.content+"</"+ot.tag+">"};function Ce(Vt,Ut,Bt,Xe){Vt.lastIndex=Ut;var ot=Vt.exec(Bt);if(ot&&Xe&&ot[1]){var Xt=ot[1].length;ot.index+=Xt,ot[0]=ot[0].slice(Xt)}return ot}function pt(Vt,Ut,Bt,Xe,ot,Xt){for(var yn in Bt)if(!(!Bt.hasOwnProperty(yn)||!Bt[yn])){var Jt=Bt[yn];Jt=Array.isArray(Jt)?Jt:[Jt];for(var ze=0;ze<Jt.length;++ze){if(Xt&&Xt.cause==yn+","+ze)return;var $t=Jt[ze],fn=$t.inside,vn=!!$t.lookbehind,Ln=!!$t.greedy,Ee=$t.alias;if(Ln&&!$t.pattern.global){var Ct=$t.pattern.toString().match(/[imsuy]*$/)[0];$t.pattern=RegExp($t.pattern.source,Ct+"g")}for(var dt=$t.pattern||$t,Wt=Xe.next,Bn=ot;Wt!==Ut.tail&&!(Xt&&Bn>=Xt.reach);Bn+=Wt.value.length,Wt=Wt.next){var pr=Wt.value;if(Ut.length>Vt.length)return;if(!(pr instanceof jn)){var xa=1,Ar;if(Ln){if(Ar=Ce(dt,Bn,Vt,vn),!Ar||Ar.index>=Vt.length)break;var Va=Ar.index,xr=Ar.index+Ar[0].length,ha=Bn;for(ha+=Wt.value.length;Va>=ha;)Wt=Wt.next,ha+=Wt.value.length;if(ha-=Wt.value.length,Bn=ha,Wt.value instanceof jn)continue;for(var Ja=Wt;Ja!==Ut.tail&&(ha<xr||typeof Ja.value=="string");Ja=Ja.next)xa++,ha+=Ja.value.length;xa--,pr=Vt.slice(Bn,ha),Ar.index-=Bn}else if(Ar=Ce(dt,0,pr,vn),!Ar)continue;var Va=Ar.index,Ta=Ar[0],Ga=pr.slice(0,Va),xo=pr.slice(Va+Ta.length),Qa=Bn+pr.length;Xt&&Qa>Xt.reach&&(Xt.reach=Qa);var Pa=Wt.prev;Ga&&(Pa=Nn(Ut,Pa,Ga),Bn+=Ga.length),Hn(Ut,Pa,xa);var po=new jn(yn,fn?kt.tokenize(Ta,fn):Ta,Ee,Ta);if(Wt=Nn(Ut,Pa,po),xo&&Nn(Ut,Wt,xo),xa>1){var zr={cause:yn+","+ze,reach:Qa};pt(Vt,Ut,Bt,Wt.prev,Bn,zr),Xt&&zr.reach>Xt.reach&&(Xt.reach=zr.reach)}}}}}}function pn(){var Vt={value:null,prev:null,next:null},Ut={value:null,prev:Vt,next:null};Vt.next=Ut,this.head=Vt,this.tail=Ut,this.length=0}function Nn(Vt,Ut,Bt){var Xe=Ut.next,ot={value:Bt,prev:Ut,next:Xe};return Ut.next=ot,Xe.prev=ot,Vt.length++,ot}function Hn(Vt,Ut,Bt){for(var Xe=Ut.next,ot=0;ot<Bt&&Xe!==Vt.tail;ot++)Xe=Xe.next;Ut.next=Xe,Xe.prev=Ut,Vt.length-=ot}function tr(Vt){for(var Ut=[],Bt=Vt.head.next;Bt!==Vt.tail;)Ut.push(Bt.value),Bt=Bt.next;return Ut}if(!We.document)return We.addEventListener&&(kt.disableWorkerMessageHandler||We.addEventListener("message",function(Vt){var Ut=JSON.parse(Vt.data),Bt=Ut.language,Xe=Ut.code,ot=Ut.immediateClose;We.postMessage(kt.highlight(Xe,kt.languages[Bt],Bt)),ot&&We.close()},!1)),kt;var Fr=kt.util.currentScript();Fr&&(kt.filename=Fr.src,Fr.hasAttribute("data-manual")&&(kt.manual=!0));function Xr(){kt.manual||kt.highlightAll()}if(!kt.manual){var oa=document.readyState;oa==="loading"||oa==="interactive"&&Fr&&Fr.defer?document.addEventListener("DOMContentLoaded",Xr):window.requestAnimationFrame?window.requestAnimationFrame(Xr):window.setTimeout(Xr,16)}return kt}(bn);Ke.exports&&(Ke.exports=Ue),typeof sn!="undefined"&&(sn.Prism=Ue)})(X),Prism.languages.clike={comment:[{pattern:/(^|[^\\])\/\*[\s\S]*?(?:\*\/|$)/,lookbehind:!0,greedy:!0},{pattern:/(^|[^\\:])\/\/.*/,lookbehind:!0,greedy:!0}],string:{pattern:/(["'])(?:\\(?:\r\n|[\s\S])|(?!\1)[^\\\r\n])*\1/,greedy:!0},"class-name":{pattern:/(\b(?:class|extends|implements|instanceof|interface|new|trait)\s+|\bcatch\s+\()[\w.\\]+/i,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:break|catch|continue|do|else|finally|for|function|if|in|instanceof|new|null|return|throw|try|while)\b/,boolean:/\b(?:false|true)\b/,function:/\b\w+(?=\()/,number:/\b0x[\da-f]+\b|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?/i,operator:/[<>]=?|[!=]=?=?|--?|\+\+?|&&?|\|\|?|[?*/~^%]/,punctuation:/[{}[\];(),.:]/},function(Ke){function bn(Ue,We){return"___"+Ue.toUpperCase()+We+"___"}Object.defineProperties(Ke.languages["markup-templating"]={},{buildPlaceholders:{value:function(Ue,We,ft,zt){if(Ue.language===We){var vt=Ue.tokenStack=[];Ue.code=Ue.code.replace(ft,function(kt){if(typeof zt=="function"&&!zt(kt))return kt;for(var jn=vt.length,Ce;Ue.code.indexOf(Ce=bn(We,jn))!==-1;)++jn;return vt[jn]=kt,Ce}),Ue.grammar=Ke.languages.markup}}},tokenizePlaceholders:{value:function(Ue,We){if(Ue.language!==We||!Ue.tokenStack)return;Ue.grammar=Ke.languages[We];var ft=0,zt=Object.keys(Ue.tokenStack);function vt(kt){for(var jn=0;jn<kt.length&&!(ft>=zt.length);jn++){var Ce=kt[jn];if(typeof Ce=="string"||Ce.content&&typeof Ce.content=="string"){var pt=zt[ft],pn=Ue.tokenStack[pt],Nn=typeof Ce=="string"?Ce:Ce.content,Hn=bn(We,pt),tr=Nn.indexOf(Hn);if(tr>-1){++ft;var Fr=Nn.substring(0,tr),Xr=new Ke.Token(We,Ke.tokenize(pn,Ue.grammar),"language-"+We,pn),oa=Nn.substring(tr+Hn.length),Vt=[];Fr&&Vt.push.apply(Vt,vt([Fr])),Vt.push(Xr),oa&&Vt.push.apply(Vt,vt([oa])),typeof Ce=="string"?kt.splice.apply(kt,[jn,1].concat(Vt)):Ce.content=Vt}}else Ce.content&&vt(Ce.content)}return kt}vt(Ue.tokens)}}})}(Prism),Prism.languages.c=Prism.languages.extend("clike",{comment:{pattern:/\/\/(?:[^\r\n\\]|\\(?:\r\n?|\n|(?![\r\n])))*|\/\*[\s\S]*?(?:\*\/|$)/,greedy:!0},string:{pattern:/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"/,greedy:!0},"class-name":{pattern:/(\b(?:enum|struct)\s+(?:__attribute__\s*\(\([\s\S]*?\)\)\s*)?)\w+|\b[a-z]\w*_t\b/,lookbehind:!0},keyword:/\b(?:_Alignas|_Alignof|_Atomic|_Bool|_Complex|_Generic|_Imaginary|_Noreturn|_Static_assert|_Thread_local|__attribute__|asm|auto|break|case|char|const|continue|default|do|double|else|enum|extern|float|for|goto|if|inline|int|long|register|return|short|signed|sizeof|static|struct|switch|typedef|typeof|union|unsigned|void|volatile|while)\b/,function:/\b[a-z_]\w*(?=\s*\()/i,number:/(?:\b0x(?:[\da-f]+(?:\.[\da-f]*)?|\.[\da-f]+)(?:p[+-]?\d+)?|(?:\b\d+(?:\.\d*)?|\B\.\d+)(?:e[+-]?\d+)?)[ful]{0,4}/i,operator:/>>=?|<<=?|->|([-+&|:])\1|[?:~]|[-+*/%&|^!=<>]=?/}),Prism.languages.insertBefore("c","string",{char:{pattern:/'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n]){0,32}'/,greedy:!0}}),Prism.languages.insertBefore("c","string",{macro:{pattern:/(^[\t ]*)#\s*[a-z](?:[^\r\n\\/]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|\\(?:\r\n|[\s\S]))*/im,lookbehind:!0,greedy:!0,alias:"property",inside:{string:[{pattern:/^(#\s*include\s*)<[^>]+>/,lookbehind:!0},Prism.languages.c.string],char:Prism.languages.c.char,comment:Prism.languages.c.comment,"macro-name":[{pattern:/(^#\s*define\s+)\w+\b(?!\()/i,lookbehind:!0},{pattern:/(^#\s*define\s+)\w+\b(?=\()/i,lookbehind:!0,alias:"function"}],directive:{pattern:/^(#\s*)[a-z]+/,lookbehind:!0,alias:"keyword"},"directive-hash":/^#/,punctuation:/##|\\(?=[\r\n])/,expression:{pattern:/\S[\s\S]*/,inside:Prism.languages.c}}}}),Prism.languages.insertBefore("c","function",{constant:/\b(?:EOF|NULL|SEEK_CUR|SEEK_END|SEEK_SET|__DATE__|__FILE__|__LINE__|__TIMESTAMP__|__TIME__|__func__|stderr|stdin|stdout)\b/}),delete Prism.languages.c.boolean,function(Ke){var bn=/\b(?:alignas|alignof|asm|auto|bool|break|case|catch|char|char16_t|char32_t|char8_t|class|co_await|co_return|co_yield|compl|concept|const|const_cast|consteval|constexpr|constinit|continue|decltype|default|delete|do|double|dynamic_cast|else|enum|explicit|export|extern|final|float|for|friend|goto|if|import|inline|int|int16_t|int32_t|int64_t|int8_t|long|module|mutable|namespace|new|noexcept|nullptr|operator|override|private|protected|public|register|reinterpret_cast|requires|return|short|signed|sizeof|static|static_assert|static_cast|struct|switch|template|this|thread_local|throw|try|typedef|typeid|typename|uint16_t|uint32_t|uint64_t|uint8_t|union|unsigned|using|virtual|void|volatile|wchar_t|while)\b/,Ue=/\b(?!<keyword>)\w+(?:\s*\.\s*\w+)*\b/.source.replace(/<keyword>/g,function(){return bn.source});Ke.languages.cpp=Ke.languages.extend("c",{"class-name":[{pattern:RegExp(/(\b(?:class|concept|enum|struct|typename)\s+)(?!<keyword>)\w+/.source.replace(/<keyword>/g,function(){return bn.source})),lookbehind:!0},/\b[A-Z]\w*(?=\s*::\s*\w+\s*\()/,/\b[A-Z_]\w*(?=\s*::\s*~\w+\s*\()/i,/\b\w+(?=\s*<(?:[^<>]|<(?:[^<>]|<[^<>]*>)*>)*>\s*::\s*\w+\s*\()/],keyword:bn,number:{pattern:/(?:\b0b[01']+|\b0x(?:[\da-f']+(?:\.[\da-f']*)?|\.[\da-f']+)(?:p[+-]?[\d']+)?|(?:\b[\d']+(?:\.[\d']*)?|\B\.[\d']+)(?:e[+-]?[\d']+)?)[ful]{0,4}/i,greedy:!0},operator:/>>=?|<<=?|->|--|\+\+|&&|\|\||[?:~]|<=>|[-+*/%&|^!=<>]=?|\b(?:and|and_eq|bitand|bitor|not|not_eq|or|or_eq|xor|xor_eq)\b/,boolean:/\b(?:false|true)\b/}),Ke.languages.insertBefore("cpp","string",{module:{pattern:RegExp(/(\b(?:import|module)\s+)/.source+"(?:"+/"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|<[^<>\r\n]*>/.source+"|"+/<mod-name>(?:\s*:\s*<mod-name>)?|:\s*<mod-name>/.source.replace(/<mod-name>/g,function(){return Ue})+")"),lookbehind:!0,greedy:!0,inside:{string:/^[<"][\s\S]+/,operator:/:/,punctuation:/\./}},"raw-string":{pattern:/R"([^()\\ ]{0,16})\([\s\S]*?\)\1"/,alias:"string",greedy:!0}}),Ke.languages.insertBefore("cpp","keyword",{"generic-function":{pattern:/\b(?!operator\b)[a-z_]\w*\s*<(?:[^<>]|<[^<>]*>)*>(?=\s*\()/i,inside:{function:/^\w+/,generic:{pattern:/<[\s\S]+/,alias:"class-name",inside:Ke.languages.cpp}}}}),Ke.languages.insertBefore("cpp","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}}),Ke.languages.insertBefore("cpp","class-name",{"base-clause":{pattern:/(\b(?:class|struct)\s+\w+\s*:\s*)[^;{}"'\s]+(?:\s+[^;{}"'\s]+)*(?=\s*[;{])/,lookbehind:!0,greedy:!0,inside:Ke.languages.extend("cpp",{})}}),Ke.languages.insertBefore("inside","double-colon",{"class-name":/\b[a-z_]\w*\b(?!\s*::)/i},Ke.languages.cpp["base-clause"])}(Prism),function(Ke){function bn(Bn,pr){return Bn.replace(/<<(\d+)>>/g,function(xa,Ar){return"(?:"+pr[+Ar]+")"})}function Ue(Bn,pr,xa){return RegExp(bn(Bn,pr),"")}function We(Bn,pr){for(var xa=0;xa<pr;xa++)Bn=Bn.replace(/<<self>>/g,function(){return"(?:"+Bn+")"});return Bn.replace(/<<self>>/g,"[^\\s\\S]")}var ft={type:"bool byte char decimal double dynamic float int long object sbyte short string uint ulong ushort var void",typeDeclaration:"class enum interface record struct",contextual:"add alias and ascending async await by descending from(?=\\s*(?:\\w|$)) get global group into init(?=\\s*;) join let nameof not notnull on or orderby partial remove select set unmanaged value when where with(?=\\s*{)",other:"abstract as base break case catch checked const continue default delegate do else event explicit extern finally fixed for foreach goto if implicit in internal is lock namespace new null operator out override params private protected public readonly ref return sealed sizeof stackalloc static switch this throw try typeof unchecked unsafe using virtual volatile while yield"};function zt(Bn){return"\\b(?:"+Bn.trim().replace(/ /g,"|")+")\\b"}var vt=zt(ft.typeDeclaration),kt=RegExp(zt(ft.type+" "+ft.typeDeclaration+" "+ft.contextual+" "+ft.other)),jn=zt(ft.typeDeclaration+" "+ft.contextual+" "+ft.other),Ce=zt(ft.type+" "+ft.typeDeclaration+" "+ft.other),pt=We(/<(?:[^<>;=+\-*/%&|^]|<<self>>)*>/.source,2),pn=We(/\((?:[^()]|<<self>>)*\)/.source,2),Nn=/@?\b[A-Za-z_]\w*\b/.source,Hn=bn(/<<0>>(?:\s*<<1>>)?/.source,[Nn,pt]),tr=bn(/(?!<<0>>)<<1>>(?:\s*\.\s*<<1>>)*/.source,[jn,Hn]),Fr=/\[\s*(?:,\s*)*\]/.source,Xr=bn(/<<0>>(?:\s*(?:\?\s*)?<<1>>)*(?:\s*\?)?/.source,[tr,Fr]),oa=bn(/[^,()<>[\];=+\-*/%&|^]|<<0>>|<<1>>|<<2>>/.source,[pt,pn,Fr]),Vt=bn(/\(<<0>>+(?:,<<0>>+)+\)/.source,[oa]),Ut=bn(/(?:<<0>>|<<1>>)(?:\s*(?:\?\s*)?<<2>>)*(?:\s*\?)?/.source,[Vt,tr,Fr]),Bt={keyword:kt,punctuation:/[<>()?,.:[\]]/},Xe=/'(?:[^\r\n'\\]|\\.|\\[Uux][\da-fA-F]{1,8})'/.source,ot=/"(?:\\.|[^\\"\r\n])*"/.source,Xt=/@"(?:""|\\[\s\S]|[^\\"])*"(?!")/.source;Ke.languages.csharp=Ke.languages.extend("clike",{string:[{pattern:Ue(/(^|[^$\\])<<0>>/.source,[Xt]),lookbehind:!0,greedy:!0},{pattern:Ue(/(^|[^@$\\])<<0>>/.source,[ot]),lookbehind:!0,greedy:!0}],"class-name":[{pattern:Ue(/(\busing\s+static\s+)<<0>>(?=\s*;)/.source,[tr]),lookbehind:!0,inside:Bt},{pattern:Ue(/(\busing\s+<<0>>\s*=\s*)<<1>>(?=\s*;)/.source,[Nn,Ut]),lookbehind:!0,inside:Bt},{pattern:Ue(/(\busing\s+)<<0>>(?=\s*=)/.source,[Nn]),lookbehind:!0},{pattern:Ue(/(\b<<0>>\s+)<<1>>/.source,[vt,Hn]),lookbehind:!0,inside:Bt},{pattern:Ue(/(\bcatch\s*\(\s*)<<0>>/.source,[tr]),lookbehind:!0,inside:Bt},{pattern:Ue(/(\bwhere\s+)<<0>>/.source,[Nn]),lookbehind:!0},{pattern:Ue(/(\b(?:is(?:\s+not)?|as)\s+)<<0>>/.source,[Xr]),lookbehind:!0,inside:Bt},{pattern:Ue(/\b<<0>>(?=\s+(?!<<1>>|with\s*\{)<<2>>(?:\s*[=,;:{)\]]|\s+(?:in|when)\b))/.source,[Ut,Ce,Nn]),inside:Bt}],keyword:kt,number:/(?:\b0(?:x[\da-f_]*[\da-f]|b[01_]*[01])|(?:\B\.\d+(?:_+\d+)*|\b\d+(?:_+\d+)*(?:\.\d+(?:_+\d+)*)?)(?:e[-+]?\d+(?:_+\d+)*)?)(?:[dflmu]|lu|ul)?\b/i,operator:/>>=?|<<=?|[-=]>|([-+&|])\1|~|\?\?=?|[-+*/%&|^!=<>]=?/,punctuation:/\?\.?|::|[{}[\];(),.:]/}),Ke.languages.insertBefore("csharp","number",{range:{pattern:/\.\./,alias:"operator"}}),Ke.languages.insertBefore("csharp","punctuation",{"named-parameter":{pattern:Ue(/([(,]\s*)<<0>>(?=\s*:)/.source,[Nn]),lookbehind:!0,alias:"punctuation"}}),Ke.languages.insertBefore("csharp","class-name",{namespace:{pattern:Ue(/(\b(?:namespace|using)\s+)<<0>>(?:\s*\.\s*<<0>>)*(?=\s*[;{])/.source,[Nn]),lookbehind:!0,inside:{punctuation:/\./}},"type-expression":{pattern:Ue(/(\b(?:default|sizeof|typeof)\s*\(\s*(?!\s))(?:[^()\s]|\s(?!\s)|<<0>>)*(?=\s*\))/.source,[pn]),lookbehind:!0,alias:"class-name",inside:Bt},"return-type":{pattern:Ue(/<<0>>(?=\s+(?:<<1>>\s*(?:=>|[({]|\.\s*this\s*\[)|this\s*\[))/.source,[Ut,tr]),inside:Bt,alias:"class-name"},"constructor-invocation":{pattern:Ue(/(\bnew\s+)<<0>>(?=\s*[[({])/.source,[Ut]),lookbehind:!0,inside:Bt,alias:"class-name"},"generic-method":{pattern:Ue(/<<0>>\s*<<1>>(?=\s*\()/.source,[Nn,pt]),inside:{function:Ue(/^<<0>>/.source,[Nn]),generic:{pattern:RegExp(pt),alias:"class-name",inside:Bt}}},"type-list":{pattern:Ue(/\b((?:<<0>>\s+<<1>>|record\s+<<1>>\s*<<5>>|where\s+<<2>>)\s*:\s*)(?:<<3>>|<<4>>|<<1>>\s*<<5>>|<<6>>)(?:\s*,\s*(?:<<3>>|<<4>>|<<6>>))*(?=\s*(?:where|[{;]|=>|$))/.source,[vt,Hn,Nn,Ut,kt.source,pn,/\bnew\s*\(\s*\)/.source]),lookbehind:!0,inside:{"record-arguments":{pattern:Ue(/(^(?!new\s*\()<<0>>\s*)<<1>>/.source,[Hn,pn]),lookbehind:!0,greedy:!0,inside:Ke.languages.csharp},keyword:kt,"class-name":{pattern:RegExp(Ut),greedy:!0,inside:Bt},punctuation:/[,()]/}},preprocessor:{pattern:/(^[\t ]*)#.*/m,lookbehind:!0,alias:"property",inside:{directive:{pattern:/(#)\b(?:define|elif|else|endif|endregion|error|if|line|nullable|pragma|region|undef|warning)\b/,lookbehind:!0,alias:"keyword"}}}});var yn=ot+"|"+Xe,Jt=bn(/\/(?![*/])|\/\/[^\r\n]*[\r\n]|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>/.source,[yn]),ze=We(bn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Jt]),2),$t=/\b(?:assembly|event|field|method|module|param|property|return|type)\b/.source,fn=bn(/<<0>>(?:\s*\(<<1>>*\))?/.source,[tr,ze]);Ke.languages.insertBefore("csharp","class-name",{attribute:{pattern:Ue(/((?:^|[^\s\w>)?])\s*\[\s*)(?:<<0>>\s*:\s*)?<<1>>(?:\s*,\s*<<1>>)*(?=\s*\])/.source,[$t,fn]),lookbehind:!0,greedy:!0,inside:{target:{pattern:Ue(/^<<0>>(?=\s*:)/.source,[$t]),alias:"keyword"},"attribute-arguments":{pattern:Ue(/\(<<0>>*\)/.source,[ze]),inside:Ke.languages.csharp},"class-name":{pattern:RegExp(tr),inside:{punctuation:/\./}},punctuation:/[:,]/}}});var vn=/:[^}\r\n]+/.source,Ln=We(bn(/[^"'/()]|<<0>>|\(<<self>>*\)/.source,[Jt]),2),Ee=bn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Ln,vn]),Ct=We(bn(/[^"'/()]|\/(?!\*)|\/\*(?:[^*]|\*(?!\/))*\*\/|<<0>>|\(<<self>>*\)/.source,[yn]),2),dt=bn(/\{(?!\{)(?:(?![}:])<<0>>)*<<1>>?\}/.source,[Ct,vn]);function Wt(Bn,pr){return{interpolation:{pattern:Ue(/((?:^|[^{])(?:\{\{)*)<<0>>/.source,[Bn]),lookbehind:!0,inside:{"format-string":{pattern:Ue(/(^\{(?:(?![}:])<<0>>)*)<<1>>(?=\}$)/.source,[pr,vn]),lookbehind:!0,inside:{punctuation:/^:/}},punctuation:/^\{|\}$/,expression:{pattern:/[\s\S]+/,alias:"language-csharp",inside:Ke.languages.csharp}}},string:/[\s\S]+/}}Ke.languages.insertBefore("csharp","string",{"interpolation-string":[{pattern:Ue(/(^|[^\\])(?:\$@|@\$)"(?:""|\\[\s\S]|\{\{|<<0>>|[^\\{"])*"/.source,[Ee]),lookbehind:!0,greedy:!0,inside:Wt(Ee,Ln)},{pattern:Ue(/(^|[^@\\])\$"(?:\\.|\{\{|<<0>>|[^\\"{])*"/.source,[dt]),lookbehind:!0,greedy:!0,inside:Wt(dt,Ct)}],char:{pattern:RegExp(Xe),greedy:!0}}),Ke.languages.dotnet=Ke.languages.cs=Ke.languages.csharp}(Prism),function(Ke){var bn=/(?:"(?:\\(?:\r\n|[\s\S])|[^"\\\r\n])*"|'(?:\\(?:\r\n|[\s\S])|[^'\\\r\n])*')/;Ke.languages.css={comment:/\/\*[\s\S]*?\*\//,atrule:{pattern:RegExp("@[\\w-](?:"+/[^;{\s"']|\s+(?!\s)/.source+"|"+bn.source+")*?"+/(?:;|(?=\s*\{))/.source),inside:{rule:/^@[\w-]+/,"selector-function-argument":{pattern:/(\bselector\s*\(\s*(?![\s)]))(?:[^()\s]|\s+(?![\s)])|\((?:[^()]|\([^()]*\))*\))+(?=\s*\))/,lookbehind:!0,alias:"selector"},keyword:{pattern:/(^|[^\w-])(?:and|not|only|or)(?![\w-])/,lookbehind:!0}}},url:{pattern:RegExp("\\burl\\((?:"+bn.source+"|"+/(?:[^\\\r\n()"']|\\[\s\S])*/.source+")\\)","i"),greedy:!0,inside:{function:/^url/i,punctuation:/^\(|\)$/,string:{pattern:RegExp("^"+bn.source+"$"),alias:"url"}}},selector:{pattern:RegExp(`(^|[{}\\s])[^{}\\s](?:[^{};"'\\s]|\\s+(?![\\s{])|`+bn.source+")*(?=\\s*\\{)"),lookbehind:!0},string:{pattern:bn,greedy:!0},property:{pattern:/(^|[^-\w\xA0-\uFFFF])(?!\s)[-_a-z\xA0-\uFFFF](?:(?!\s)[-\w\xA0-\uFFFF])*(?=\s*:)/i,lookbehind:!0},important:/!important\b/i,function:{pattern:/(^|[^-a-z0-9])[-a-z0-9]+(?=\()/i,lookbehind:!0},punctuation:/[(){};:,]/},Ke.languages.css.atrule.inside.rest=Ke.languages.css;var Ue=Ke.languages.markup;Ue&&(Ue.tag.addInlined("style","css"),Ue.tag.addAttribute("style","css"))}(Prism),function(Ke){var bn=/\b(?:abstract|assert|boolean|break|byte|case|catch|char|class|const|continue|default|do|double|else|enum|exports|extends|final|finally|float|for|goto|if|implements|import|instanceof|int|interface|long|module|native|new|non-sealed|null|open|opens|package|permits|private|protected|provides|public|record(?!\s*[(){}[\]<>=%~.:,;?+\-*/&|^])|requires|return|sealed|short|static|strictfp|super|switch|synchronized|this|throw|throws|to|transient|transitive|try|uses|var|void|volatile|while|with|yield)\b/,Ue=/(?:[a-z]\w*\s*\.\s*)*(?:[A-Z]\w*\s*\.\s*)*/.source,We={pattern:RegExp(/(^|[^\w.])/.source+Ue+/[A-Z](?:[\d_A-Z]*[a-z]\w*)?\b/.source),lookbehind:!0,inside:{namespace:{pattern:/^[a-z]\w*(?:\s*\.\s*[a-z]\w*)*(?:\s*\.)?/,inside:{punctuation:/\./}},punctuation:/\./}};Ke.languages.java=Ke.languages.extend("clike",{string:{pattern:/(^|[^\\])"(?:\\.|[^"\\\r\n])*"/,lookbehind:!0,greedy:!0},"class-name":[We,{pattern:RegExp(/(^|[^\w.])/.source+Ue+/[A-Z]\w*(?=\s+\w+\s*[;,=()]|\s*(?:\[[\s,]*\]\s*)?::\s*new\b)/.source),lookbehind:!0,inside:We.inside},{pattern:RegExp(/(\b(?:class|enum|extends|implements|instanceof|interface|new|record|throws)\s+)/.source+Ue+/[A-Z]\w*\b/.source),lookbehind:!0,inside:We.inside}],keyword:bn,function:[Ke.languages.clike.function,{pattern:/(::\s*)[a-z_]\w*/,lookbehind:!0}],number:/\b0b[01][01_]*L?\b|\b0x(?:\.[\da-f_p+-]+|[\da-f_]+(?:\.[\da-f_p+-]+)?)\b|(?:\b\d[\d_]*(?:\.[\d_]*)?|\B\.\d[\d_]*)(?:e[+-]?\d[\d_]*)?[dfl]?/i,operator:{pattern:/(^|[^.])(?:<<=?|>>>?=?|->|--|\+\+|&&|\|\||::|[?:~]|[-+*/%&|^!=<>]=?)/m,lookbehind:!0},constant:/\b[A-Z][A-Z_\d]+\b/}),Ke.languages.insertBefore("java","string",{"triple-quoted-string":{pattern:/"""[ \t]*[\r\n](?:(?:"|"")?(?:\\.|[^"\\]))*"""/,greedy:!0,alias:"string"},char:{pattern:/'(?:\\.|[^'\\\r\n]){1,6}'/,greedy:!0}}),Ke.languages.insertBefore("java","class-name",{annotation:{pattern:/(^|[^.])@\w+(?:\s*\.\s*\w+)*/,lookbehind:!0,alias:"punctuation"},generics:{pattern:/<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&)|<(?:[\w\s,.?]|&(?!&))*>)*>)*>)*>/,inside:{"class-name":We,keyword:bn,punctuation:/[<>(),.:]/,operator:/[?&|]/}},import:[{pattern:RegExp(/(\bimport\s+)/.source+Ue+/(?:[A-Z]\w*|\*)(?=\s*;)/.source),lookbehind:!0,inside:{namespace:We.inside.namespace,punctuation:/\./,operator:/\*/,"class-name":/\w+/}},{pattern:RegExp(/(\bimport\s+static\s+)/.source+Ue+/(?:\w+|\*)(?=\s*;)/.source),lookbehind:!0,alias:"static",inside:{namespace:We.inside.namespace,static:/\b\w+$/,punctuation:/\./,operator:/\*/,"class-name":/\w+/}}],namespace:{pattern:RegExp(/(\b(?:exports|import(?:\s+static)?|module|open|opens|package|provides|requires|to|transitive|uses|with)\s+)(?!<keyword>)[a-z]\w*(?:\.[a-z]\w*)*\.?/.source.replace(/<keyword>/g,function(){return bn.source})),lookbehind:!0,inside:{punctuation:/\./}}})}(Prism),Prism.languages.javascript=Prism.languages.extend("clike",{"class-name":[Prism.languages.clike["class-name"],{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$A-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\.(?:constructor|prototype))/,lookbehind:!0}],keyword:[{pattern:/((?:^|\})\s*)catch\b/,lookbehind:!0},{pattern:/(^|[^.]|\.\.\.\s*)\b(?:as|assert(?=\s*\{)|async(?=\s*(?:function\b|\(|[$\w\xA0-\uFFFF]|$))|await|break|case|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally(?=\s*(?:\{|$))|for|from(?=\s*(?:['"]|$))|function|(?:get|set)(?=\s*(?:[#\[$\w\xA0-\uFFFF]|$))|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)\b/,lookbehind:!0}],function:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*(?:\.\s*(?:apply|bind|call)\s*)?\()/,number:{pattern:RegExp(/(^|[^\w$])/.source+"(?:"+(/NaN|Infinity/.source+"|"+/0[bB][01]+(?:_[01]+)*n?/.source+"|"+/0[oO][0-7]+(?:_[0-7]+)*n?/.source+"|"+/0[xX][\dA-Fa-f]+(?:_[\dA-Fa-f]+)*n?/.source+"|"+/\d+(?:_\d+)*n/.source+"|"+/(?:\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\.\d+(?:_\d+)*)(?:[Ee][+-]?\d+(?:_\d+)*)?/.source)+")"+/(?![\w$])/.source),lookbehind:!0},operator:/--|\+\+|\*\*=?|=>|&&=?|\|\|=?|[!=]==|<<=?|>>>?=?|[-+*/%&|^!=<>]=?|\.{3}|\?\?=?|\?\.?|[~:]/}),Prism.languages.javascript["class-name"][0].pattern=/(\b(?:class|extends|implements|instanceof|interface|new)\s+)[\w.\\]+/,Prism.languages.insertBefore("javascript","keyword",{regex:{pattern:RegExp(/((?:^|[^$\w\xA0-\uFFFF."'\])\s]|\b(?:return|yield))\s*)/.source+/\//.source+"(?:"+/(?:\[(?:[^\]\\\r\n]|\\.)*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}/.source+"|"+/(?:\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.|\[(?:[^[\]\\\r\n]|\\.)*\])*\])*\]|\\.|[^/\\\[\r\n])+\/[dgimyus]{0,7}v[dgimyus]{0,7}/.source+")"+/(?=(?:\s|\/\*(?:[^*]|\*(?!\/))*\*\/)*(?:$|[\r\n,.;:})\]]|\/\/))/.source),lookbehind:!0,greedy:!0,inside:{"regex-source":{pattern:/^(\/)[\s\S]+(?=\/[a-z]*$)/,lookbehind:!0,alias:"language-regex",inside:Prism.languages.regex},"regex-delimiter":/^\/|\/$/,"regex-flags":/^[a-z]+$/}},"function-variable":{pattern:/#?(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*[=:]\s*(?:async\s*)?(?:\bfunction\b|(?:\((?:[^()]|\([^()]*\))*\)|(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)\s*=>))/,alias:"function"},parameter:[{pattern:/(function(?:\s+(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*)?\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\))/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(^|[^$\w\xA0-\uFFFF])(?!\s)[_$a-z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*=>)/i,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/(\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*=>)/,lookbehind:!0,inside:Prism.languages.javascript},{pattern:/((?:\b|\s|^)(?!(?:as|async|await|break|case|catch|class|const|continue|debugger|default|delete|do|else|enum|export|extends|finally|for|from|function|get|if|implements|import|in|instanceof|interface|let|new|null|of|package|private|protected|public|return|set|static|super|switch|this|throw|try|typeof|undefined|var|void|while|with|yield)(?![$\w\xA0-\uFFFF]))(?:(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*\s*)\(\s*|\]\s*\(\s*)(?!\s)(?:[^()\s]|\s+(?![\s)])|\([^()]*\))+(?=\s*\)\s*\{)/,lookbehind:!0,inside:Prism.languages.javascript}],constant:/\b[A-Z](?:[A-Z_]|\dx?)*\b/}),Prism.languages.insertBefore("javascript","string",{hashbang:{pattern:/^#!.*/,greedy:!0,alias:"comment"},"template-string":{pattern:/`(?:\\[\s\S]|\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}|(?!\$\{)[^\\`])*`/,greedy:!0,inside:{"template-punctuation":{pattern:/^`|`$/,alias:"string"},interpolation:{pattern:/((?:^|[^\\])(?:\\{2})*)\$\{(?:[^{}]|\{(?:[^{}]|\{[^}]*\})*\})+\}/,lookbehind:!0,inside:{"interpolation-punctuation":{pattern:/^\$\{|\}$/,alias:"punctuation"},rest:Prism.languages.javascript}},string:/[\s\S]+/}},"string-property":{pattern:/((?:^|[,{])[ \t]*)(["'])(?:\\(?:\r\n|[\s\S])|(?!\2)[^\\\r\n])*\2(?=\s*:)/m,lookbehind:!0,greedy:!0,alias:"property"}}),Prism.languages.insertBefore("javascript","operator",{"literal-property":{pattern:/((?:^|[,{])[ \t]*)(?!\s)[_$a-zA-Z\xA0-\uFFFF](?:(?!\s)[$\w\xA0-\uFFFF])*(?=\s*:)/m,lookbehind:!0,alias:"property"}}),Prism.languages.markup&&(Prism.languages.markup.tag.addInlined("script","javascript"),Prism.languages.markup.tag.addAttribute(/on(?:abort|blur|change|click|composition(?:end|start|update)|dblclick|error|focus(?:in|out)?|key(?:down|up)|load|mouse(?:down|enter|leave|move|out|over|up)|reset|resize|scroll|select|slotchange|submit|unload|wheel)/.source,"javascript")),Prism.languages.js=Prism.languages.javascript,Prism.languages.markup={comment:{pattern:/<!--(?:(?!<!--)[\s\S])*?-->/,greedy:!0},prolog:{pattern:/<\?[\s\S]+?\?>/,greedy:!0},doctype:{pattern:/<!DOCTYPE(?:[^>"'[\]]|"[^"]*"|'[^']*')+(?:\[(?:[^<"'\]]|"[^"]*"|'[^']*'|<(?!!--)|<!--(?:[^-]|-(?!->))*-->)*\]\s*)?>/i,greedy:!0,inside:{"internal-subset":{pattern:/(^[^\[]*\[)[\s\S]+(?=\]>$)/,lookbehind:!0,greedy:!0,inside:null},string:{pattern:/"[^"]*"|'[^']*'/,greedy:!0},punctuation:/^<!|>$|[[\]]/,"doctype-tag":/^DOCTYPE/i,name:/[^\s<>'"]+/}},cdata:{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,greedy:!0},tag:{pattern:/<\/?(?!\d)[^\s>\/=$<%]+(?:\s(?:\s*[^\s>\/=]+(?:\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))|(?=[\s/>])))+)?\s*\/?>/,greedy:!0,inside:{tag:{pattern:/^<\/?[^\s>\/]+/,inside:{punctuation:/^<\/?/,namespace:/^[^\s>\/:]+:/}},"special-attr":[],"attr-value":{pattern:/=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+)/,inside:{punctuation:[{pattern:/^=/,alias:"attr-equals"},{pattern:/^(\s*)["']|["']$/,lookbehind:!0}]}},punctuation:/\/?>/,"attr-name":{pattern:/[^\s>\/]+/,inside:{namespace:/^[^\s>\/:]+:/}}}},entity:[{pattern:/&[\da-z]{1,8};/i,alias:"named-entity"},/&#x?[\da-f]{1,8};/i]},Prism.languages.markup.tag.inside["attr-value"].inside.entity=Prism.languages.markup.entity,Prism.languages.markup.doctype.inside["internal-subset"].inside=Prism.languages.markup,Prism.hooks.add("wrap",function(Ke){Ke.type==="entity"&&(Ke.attributes.title=Ke.content.replace(/&amp;/,"&"))}),Object.defineProperty(Prism.languages.markup.tag,"addInlined",{value:function(bn,Ue){var We={};We["language-"+Ue]={pattern:/(^<!\[CDATA\[)[\s\S]+?(?=\]\]>$)/i,lookbehind:!0,inside:Prism.languages[Ue]},We.cdata=/^<!\[CDATA\[|\]\]>$/i;var ft={"included-cdata":{pattern:/<!\[CDATA\[[\s\S]*?\]\]>/i,inside:We}};ft["language-"+Ue]={pattern:/[\s\S]+/,inside:Prism.languages[Ue]};var zt={};zt[bn]={pattern:RegExp(/(<__[^>]*>)(?:<!\[CDATA\[(?:[^\]]|\](?!\]>))*\]\]>|(?!<!\[CDATA\[)[\s\S])*?(?=<\/__>)/.source.replace(/__/g,function(){return bn}),"i"),lookbehind:!0,greedy:!0,inside:ft},Prism.languages.insertBefore("markup","cdata",zt)}}),Object.defineProperty(Prism.languages.markup.tag,"addAttribute",{value:function(Ke,bn){Prism.languages.markup.tag.inside["special-attr"].push({pattern:RegExp(/(^|["'\s])/.source+"(?:"+Ke+")"+/\s*=\s*(?:"[^"]*"|'[^']*'|[^\s'">=]+(?=[\s>]))/.source,"i"),lookbehind:!0,inside:{"attr-name":/^[^\s=]+/,"attr-value":{pattern:/=[\s\S]+/,inside:{value:{pattern:/(^=\s*(["']|(?!["'])))\S[\s\S]*(?=\2$)/,lookbehind:!0,alias:[bn,"language-"+bn],inside:Prism.languages[bn]},punctuation:[{pattern:/^=/,alias:"attr-equals"},/"|'/]}}}})}}),Prism.languages.html=Prism.languages.markup,Prism.languages.mathml=Prism.languages.markup,Prism.languages.svg=Prism.languages.markup,Prism.languages.xml=Prism.languages.extend("markup",{}),Prism.languages.ssml=Prism.languages.xml,Prism.languages.atom=Prism.languages.xml,Prism.languages.rss=Prism.languages.xml,function(Ke){var bn=/\/\*[\s\S]*?\*\/|\/\/.*|#(?!\[).*/,Ue=[{pattern:/\b(?:false|true)\b/i,alias:"boolean"},{pattern:/(::\s*)\b[a-z_]\w*\b(?!\s*\()/i,greedy:!0,lookbehind:!0},{pattern:/(\b(?:case|const)\s+)\b[a-z_]\w*(?=\s*[;=])/i,greedy:!0,lookbehind:!0},/\b(?:null)\b/i,/\b[A-Z_][A-Z0-9_]*\b(?!\s*\()/],We=/\b0b[01]+(?:_[01]+)*\b|\b0o[0-7]+(?:_[0-7]+)*\b|\b0x[\da-f]+(?:_[\da-f]+)*\b|(?:\b\d+(?:_\d+)*\.?(?:\d+(?:_\d+)*)?|\B\.\d+)(?:e[+-]?\d+)?/i,ft=/<?=>|\?\?=?|\.{3}|\??->|[!=]=?=?|::|\*\*=?|--|\+\+|&&|\|\||<<|>>|[?~]|[/^|%*&<>.+-]=?/,zt=/[{}\[\](),:;]/;Ke.languages.php={delimiter:{pattern:/\?>$|^<\?(?:php(?=\s)|=)?/i,alias:"important"},comment:bn,variable:/\$+(?:\w+\b|(?=\{))/,package:{pattern:/(namespace\s+|use\s+(?:function\s+)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,lookbehind:!0,inside:{punctuation:/\\/}},"class-name-definition":{pattern:/(\b(?:class|enum|interface|trait)\s+)\b[a-z_]\w*(?!\\)\b/i,lookbehind:!0,alias:"class-name"},"function-definition":{pattern:/(\bfunction\s+)[a-z_]\w*(?=\s*\()/i,lookbehind:!0,alias:"function"},keyword:[{pattern:/(\(\s*)\b(?:array|bool|boolean|float|int|integer|object|string)\b(?=\s*\))/i,alias:"type-casting",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|object|self|static|string)\b(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b(?:array(?!\s*\()|bool|callable|(?:false|null)(?=\s*\|)|float|int|iterable|mixed|never|object|self|static|string|void)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/\b(?:array(?!\s*\()|bool|float|int|iterable|mixed|object|string|void)\b/i,alias:"type-declaration",greedy:!0},{pattern:/(\|\s*)(?:false|null)\b|\b(?:false|null)(?=\s*\|)/i,alias:"type-declaration",greedy:!0,lookbehind:!0},{pattern:/\b(?:parent|self|static)(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(\byield\s+)from\b/i,lookbehind:!0},/\bclass\b/i,{pattern:/((?:^|[^\s>:]|(?:^|[^-])>|(?:^|[^:]):)\s*)\b(?:abstract|and|array|as|break|callable|case|catch|clone|const|continue|declare|default|die|do|echo|else|elseif|empty|enddeclare|endfor|endforeach|endif|endswitch|endwhile|enum|eval|exit|extends|final|finally|fn|for|foreach|function|global|goto|if|implements|include|include_once|instanceof|insteadof|interface|isset|list|match|namespace|never|new|or|parent|print|private|protected|public|readonly|require|require_once|return|self|static|switch|throw|trait|try|unset|use|var|while|xor|yield|__halt_compiler)\b/i,lookbehind:!0}],"argument-name":{pattern:/([(,]\s*)\b[a-z_]\w*(?=\s*:(?!:))/i,lookbehind:!0},"class-name":[{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self|\s+static))\s+|\bcatch\s*\()\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/(\|\s*)\b[a-z_]\w*(?!\\)\b/i,greedy:!0,lookbehind:!0},{pattern:/\b[a-z_]\w*(?!\\)\b(?=\s*\|)/i,greedy:!0},{pattern:/(\|\s*)(?:\\?\b[a-z_]\w*)+\b/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(?:\\?\b[a-z_]\w*)+\b(?=\s*\|)/i,alias:"class-name-fully-qualified",greedy:!0,inside:{punctuation:/\\/}},{pattern:/(\b(?:extends|implements|instanceof|new(?!\s+self\b|\s+static\b))\s+|\bcatch\s*\()(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:"class-name-fully-qualified",greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*\$)/i,alias:"type-declaration",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-declaration"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/\b[a-z_]\w*(?=\s*::)/i,alias:"static-context",greedy:!0},{pattern:/(?:\\?\b[a-z_]\w*)+(?=\s*::)/i,alias:["class-name-fully-qualified","static-context"],greedy:!0,inside:{punctuation:/\\/}},{pattern:/([(,?]\s*)[a-z_]\w*(?=\s*\$)/i,alias:"type-hint",greedy:!0,lookbehind:!0},{pattern:/([(,?]\s*)(?:\\?\b[a-z_]\w*)+(?=\s*\$)/i,alias:["class-name-fully-qualified","type-hint"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}},{pattern:/(\)\s*:\s*(?:\?\s*)?)\b[a-z_]\w*(?!\\)\b/i,alias:"return-type",greedy:!0,lookbehind:!0},{pattern:/(\)\s*:\s*(?:\?\s*)?)(?:\\?\b[a-z_]\w*)+\b(?!\\)/i,alias:["class-name-fully-qualified","return-type"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ue,function:{pattern:/(^|[^\\\w])\\?[a-z_](?:[\w\\]*\w)?(?=\s*\()/i,lookbehind:!0,inside:{punctuation:/\\/}},property:{pattern:/(->\s*)\w+/,lookbehind:!0},number:We,operator:ft,punctuation:zt};var vt={pattern:/\{\$(?:\{(?:\{[^{}]+\}|[^{}]+)\}|[^{}])+\}|(^|[^\\{])\$+(?:\w+(?:\[[^\r\n\[\]]+\]|->\w+)?)/,lookbehind:!0,inside:Ke.languages.php},kt=[{pattern:/<<<'([^']+)'[\r\n](?:.*[\r\n])*?\1;/,alias:"nowdoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<'[^']+'|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<'?|[';]$/}}}},{pattern:/<<<(?:"([^"]+)"[\r\n](?:.*[\r\n])*?\1;|([a-z_]\w*)[\r\n](?:.*[\r\n])*?\2;)/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<<(?:"[^"]+"|[a-z_]\w*)|[a-z_]\w*;$/i,alias:"symbol",inside:{punctuation:/^<<<"?|[";]$/}},interpolation:vt}},{pattern:/`(?:\\[\s\S]|[^\\`])*`/,alias:"backtick-quoted-string",greedy:!0},{pattern:/'(?:\\[\s\S]|[^\\'])*'/,alias:"single-quoted-string",greedy:!0},{pattern:/"(?:\\[\s\S]|[^\\"])*"/,alias:"double-quoted-string",greedy:!0,inside:{interpolation:vt}}];Ke.languages.insertBefore("php","variable",{string:kt,attribute:{pattern:/#\[(?:[^"'\/#]|\/(?![*/])|\/\/.*$|#(?!\[).*$|\/\*(?:[^*]|\*(?!\/))*\*\/|"(?:\\[\s\S]|[^\\"])*"|'(?:\\[\s\S]|[^\\'])*')+\](?=\s*[a-z$#])/im,greedy:!0,inside:{"attribute-content":{pattern:/^(#\[)[\s\S]+(?=\]$)/,lookbehind:!0,inside:{comment:bn,string:kt,"attribute-class-name":[{pattern:/([^:]|^)\b[a-z_]\w*(?!\\)\b/i,alias:"class-name",greedy:!0,lookbehind:!0},{pattern:/([^:]|^)(?:\\?\b[a-z_]\w*)+/i,alias:["class-name","class-name-fully-qualified"],greedy:!0,lookbehind:!0,inside:{punctuation:/\\/}}],constant:Ue,number:We,operator:ft,punctuation:zt}},delimiter:{pattern:/^#\[|\]$/,alias:"punctuation"}}}}),Ke.hooks.add("before-tokenize",function(jn){if(/<\?/.test(jn.code)){var Ce=/<\?(?:[^"'/#]|\/(?![*/])|("|')(?:\\[\s\S]|(?!\1)[^\\])*\1|(?:\/\/|#(?!\[))(?:[^?\n\r]|\?(?!>))*(?=$|\?>|[\r\n])|#\[|\/\*(?:[^*]|\*(?!\/))*(?:\*\/|$))*?(?:\?>|$)/g;Ke.languages["markup-templating"].buildPlaceholders(jn,"php",Ce)}}),Ke.hooks.add("after-tokenize",function(jn){Ke.languages["markup-templating"].tokenizePlaceholders(jn,"php")})}(Prism),Prism.languages.python={comment:{pattern:/(^|[^\\])#.*/,lookbehind:!0,greedy:!0},"string-interpolation":{pattern:/(?:f|fr|rf)(?:("""|''')[\s\S]*?\1|("|')(?:\\.|(?!\2)[^\\\r\n])*\2)/i,greedy:!0,inside:{interpolation:{pattern:/((?:^|[^{])(?:\{\{)*)\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}]|\{(?!\{)(?:[^{}])+\})+\})+\}/,lookbehind:!0,inside:{"format-spec":{pattern:/(:)[^:(){}]+(?=\}$)/,lookbehind:!0},"conversion-option":{pattern:/![sra](?=[:}]$)/,alias:"punctuation"},rest:null}},string:/[\s\S]+/}},"triple-quoted-string":{pattern:/(?:[rub]|br|rb)?("""|''')[\s\S]*?\1/i,greedy:!0,alias:"string"},string:{pattern:/(?:[rub]|br|rb)?("|')(?:\\.|(?!\1)[^\\\r\n])*\1/i,greedy:!0},function:{pattern:/((?:^|\s)def[ \t]+)[a-zA-Z_]\w*(?=\s*\()/g,lookbehind:!0},"class-name":{pattern:/(\bclass\s+)\w+/i,lookbehind:!0},decorator:{pattern:/(^[\t ]*)@\w+(?:\.\w+)*/m,lookbehind:!0,alias:["annotation","punctuation"],inside:{punctuation:/\./}},keyword:/\b(?:_(?=\s*:)|and|as|assert|async|await|break|case|class|continue|def|del|elif|else|except|exec|finally|for|from|global|if|import|in|is|lambda|match|nonlocal|not|or|pass|print|raise|return|try|while|with|yield)\b/,builtin:/\b(?:__import__|abs|all|any|apply|ascii|basestring|bin|bool|buffer|bytearray|bytes|callable|chr|classmethod|cmp|coerce|compile|complex|delattr|dict|dir|divmod|enumerate|eval|execfile|file|filter|float|format|frozenset|getattr|globals|hasattr|hash|help|hex|id|input|int|intern|isinstance|issubclass|iter|len|list|locals|long|map|max|memoryview|min|next|object|oct|open|ord|pow|property|range|raw_input|reduce|reload|repr|reversed|round|set|setattr|slice|sorted|staticmethod|str|sum|super|tuple|type|unichr|unicode|vars|xrange|zip)\b/,boolean:/\b(?:False|None|True)\b/,number:/\b0(?:b(?:_?[01])+|o(?:_?[0-7])+|x(?:_?[a-f0-9])+)\b|(?:\b\d+(?:_\d+)*(?:\.(?:\d+(?:_\d+)*)?)?|\B\.\d+(?:_\d+)*)(?:e[+-]?\d+(?:_\d+)*)?j?(?!\w)/i,operator:/[-+%=]=?|!=|:=|\*\*?=?|\/\/?=?|<[<=>]?|>[=>]?|[&|^~]/,punctuation:/[{}[\];(),.:]/},Prism.languages.python["string-interpolation"].inside.interpolation.inside.rest=Prism.languages.python,Prism.languages.py=Prism.languages.python,function(Ke){Ke.languages.ruby=Ke.languages.extend("clike",{comment:{pattern:/#.*|^=begin\s[\s\S]*?^=end/m,greedy:!0},"class-name":{pattern:/(\b(?:class|module)\s+|\bcatch\s+\()[\w.\\]+|\b[A-Z_]\w*(?=\s*\.\s*new\b)/,lookbehind:!0,inside:{punctuation:/[.\\]/}},keyword:/\b(?:BEGIN|END|alias|and|begin|break|case|class|def|define_method|defined|do|each|else|elsif|end|ensure|extend|for|if|in|include|module|new|next|nil|not|or|prepend|private|protected|public|raise|redo|require|rescue|retry|return|self|super|then|throw|undef|unless|until|when|while|yield)\b/,operator:/\.{2,3}|&\.|===|<?=>|[!=]?~|(?:&&|\|\||<<|>>|\*\*|[+\-*/%<>!^&|=])=?|[?:]/,punctuation:/[(){}[\].,;]/}),Ke.languages.insertBefore("ruby","operator",{"double-colon":{pattern:/::/,alias:"punctuation"}});var bn={pattern:/((?:^|[^\\])(?:\\{2})*)#\{(?:[^{}]|\{[^{}]*\})*\}/,lookbehind:!0,inside:{content:{pattern:/^(#\{)[\s\S]+(?=\}$)/,lookbehind:!0,inside:Ke.languages.ruby},delimiter:{pattern:/^#\{|\}$/,alias:"punctuation"}}};delete Ke.languages.ruby.function;var Ue="(?:"+[/([^a-zA-Z0-9\s{(\[<=])(?:(?!\1)[^\\]|\\[\s\S])*\1/.source,/\((?:[^()\\]|\\[\s\S]|\((?:[^()\\]|\\[\s\S])*\))*\)/.source,/\{(?:[^{}\\]|\\[\s\S]|\{(?:[^{}\\]|\\[\s\S])*\})*\}/.source,/\[(?:[^\[\]\\]|\\[\s\S]|\[(?:[^\[\]\\]|\\[\s\S])*\])*\]/.source,/<(?:[^<>\\]|\\[\s\S]|<(?:[^<>\\]|\\[\s\S])*>)*>/.source].join("|")+")",We=/(?:"(?:\\.|[^"\\\r\n])*"|(?:\b[a-zA-Z_]\w*|[^\s\0-\x7F]+)[?!]?|\$.)/.source;Ke.languages.insertBefore("ruby","keyword",{"regex-literal":[{pattern:RegExp(/%r/.source+Ue+/[egimnosux]{0,6}/.source),greedy:!0,inside:{interpolation:bn,regex:/[\s\S]+/}},{pattern:/(^|[^/])\/(?!\/)(?:\[[^\r\n\]]+\]|\\.|[^[/\\\r\n])+\/[egimnosux]{0,6}(?=\s*(?:$|[\r\n,.;})#]))/,lookbehind:!0,greedy:!0,inside:{interpolation:bn,regex:/[\s\S]+/}}],variable:/[@$]+[a-zA-Z_]\w*(?:[?!]|\b)/,symbol:[{pattern:RegExp(/(^|[^:]):/.source+We),lookbehind:!0,greedy:!0},{pattern:RegExp(/([\r\n{(,][ \t]*)/.source+We+/(?=:(?!:))/.source),lookbehind:!0,greedy:!0}],"method-definition":{pattern:/(\bdef\s+)\w+(?:\s*\.\s*\w+)?/,lookbehind:!0,inside:{function:/\b\w+$/,keyword:/^self\b/,"class-name":/^\w+/,punctuation:/\./}}}),Ke.languages.insertBefore("ruby","string",{"string-literal":[{pattern:RegExp(/%[qQiIwWs]?/.source+Ue),greedy:!0,inside:{interpolation:bn,string:/[\s\S]+/}},{pattern:/("|')(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|(?!\1)[^\\#\r\n])*\1/,greedy:!0,inside:{interpolation:bn,string:/[\s\S]+/}},{pattern:/<<[-~]?([a-z_]\w*)[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?[a-z_]\w*|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?/}},interpolation:bn,string:/[\s\S]+/}},{pattern:/<<[-~]?'([a-z_]\w*)'[\r\n](?:.*[\r\n])*?[\t ]*\1/i,alias:"heredoc-string",greedy:!0,inside:{delimiter:{pattern:/^<<[-~]?'[a-z_]\w*'|\b[a-z_]\w*$/i,inside:{symbol:/\b\w+/,punctuation:/^<<[-~]?'|'$/}},string:/[\s\S]+/}}],"command-literal":[{pattern:RegExp(/%x/.source+Ue),greedy:!0,inside:{interpolation:bn,command:{pattern:/[\s\S]+/,alias:"string"}}},{pattern:/`(?:#\{[^}]+\}|#(?!\{)|\\(?:\r\n|[\s\S])|[^\\`#\r\n])*`/,greedy:!0,inside:{interpolation:bn,command:{pattern:/[\s\S]+/,alias:"string"}}}]}),delete Ke.languages.ruby.string,Ke.languages.insertBefore("ruby","number",{builtin:/\b(?:Array|Bignum|Binding|Class|Continuation|Dir|Exception|FalseClass|File|Fixnum|Float|Hash|IO|Integer|MatchData|Method|Module|NilClass|Numeric|Object|Proc|Range|Regexp|Stat|String|Struct|Symbol|TMS|Thread|ThreadGroup|Time|TrueClass)\b/,constant:/\b[A-Z][A-Z0-9_]*(?:[?!]|\b)/}),Ke.languages.rb=Ke.languages.ruby}(Prism);var nr=X.exports,St={boltExport:nr};return St});var tn=window.Prism;return window.Prism=nn,tn})(void 0,Ve,L);var Te=L.exports.boltExport,Be=function(Ht){return Ht.getParam("codesample_languages")},gt=function(Ht){return Ht.getParam("codesample_global_prismjs",!1,"boolean")},Se=function(Ht){return Ye.Prism&&gt(Ht)?Ye.Prism:Te},je=function(Ht){var Kt=Ht.selection?Ht.selection.getNode():null;return he(ae(Kt),Kt)},Ze=function(Ht,Kt,Rn){Ht.undoManager.transact(function(){var et=je(Ht);return Rn=be.DOM.encode(Rn),et.fold(function(){Ht.insertContent('<pre id="__new" class="language-'+Kt+'">'+Rn+"</pre>"),Ht.selection.select(Ht.$("#__new").removeAttr("id")[0])},function(nn){Ht.dom.setAttrib(nn,"class","language-"+Kt),nn.innerHTML=Rn,Se(Ht).highlightElement(nn),Ht.selection.select(nn)})})},it=function(Ht){var Kt=je(Ht);return Kt.fold(C(""),function(Rn){return Rn.textContent})},G=function(Ht){var Kt=[{text:"HTML/XML",value:"markup"},{text:"JavaScript",value:"javascript"},{text:"CSS",value:"css"},{text:"PHP",value:"php"},{text:"Ruby",value:"ruby"},{text:"Python",value:"python"},{text:"Java",value:"java"},{text:"C",value:"c"},{text:"C#",value:"csharp"},{text:"C++",value:"cpp"}],Rn=Be(Ht);return Rn||Kt},xe=function(Ht,Kt){var Rn=je(Ht);return Rn.fold(function(){return Kt},function(et){var nn=et.className.match(/language-(\w+)/);return nn?nn[1]:Kt})},ct=function(Ht){var Kt=G(Ht),Rn=ve(Kt).fold(C(""),function(tn){return tn.value}),et=xe(Ht,Rn),nn=it(Ht);Ht.windowManager.open({title:"Insert/Edit Code Sample",size:"large",body:{type:"panel",items:[{type:"selectbox",name:"language",label:"Language",items:Kt},{type:"textarea",name:"code",label:"Code view"}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:{language:et,code:nn},onSubmit:function(tn){var sn=tn.getData();Ze(Ht,sn.language,sn.code),tn.close()}})},Tn=function(Ht){Ht.addCommand("codesample",function(){var Kt=Ht.selection.getNode();Ht.selection.isCollapsed()||ae(Kt)?ct(Ht):Ht.formatter.toggle("code")})},bt=function(Ht){var Kt=Ht.$;Ht.on("PreProcess",function(Rn){Kt("pre[contenteditable=false]",Rn.node).filter(Ae(ae)).each(function(et,nn){var tn=Kt(nn),sn=nn.textContent;tn.attr("class",Kt.trim(tn.attr("class"))),tn.removeAttr("contentEditable"),tn.empty().append(Kt("<code></code>").each(function(){this.textContent=sn}))})}),Ht.on("SetContent",function(){var Rn=Kt("pre").filter(Ae(ae)).filter(function(et,nn){return nn.contentEditable!=="false"});Rn.length&&Ht.undoManager.transact(function(){Rn.each(function(et,nn){Kt(nn).find("br").each(function(tn,sn){sn.parentNode.replaceChild(Ht.getDoc().createTextNode(`
`),sn)}),nn.contentEditable="false",nn.innerHTML=Ht.dom.encode(nn.textContent),Se(Ht).highlightElement(nn),nn.className=Kt.trim(nn.className)})})})},er=function(Ht){var Kt=Ht.selection.getStart();return Ht.dom.is(Kt,'pre[class*="language-"]')},Er=function(Ht){var Kt=function(){return Ht.execCommand("codesample")};Ht.ui.registry.addToggleButton("codesample",{icon:"code-sample",tooltip:"Insert/edit code sample",onAction:Kt,onSetup:function(Rn){var et=function(){Rn.setActive(er(Ht))};return Ht.on("NodeChange",et),function(){return Ht.off("NodeChange",et)}}}),Ht.ui.registry.addMenuItem("codesample",{text:"Code sample...",icon:"code-sample",onAction:Kt})};function A(){D.add("codesample",function(Ht){bt(Ht),Er(Ht),Tn(Ht),Ht.on("dblclick",function(Kt){ae(Kt.target)&&ct(Ht)})})}A()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(ze){var $t=typeof ze;return ze===null?"null":$t==="object"&&(Array.prototype.isPrototypeOf(ze)||ze.constructor&&ze.constructor.name==="Array")?"array":$t==="object"&&(String.prototype.isPrototypeOf(ze)||ze.constructor&&ze.constructor.name==="String")?"string":$t},C=function(ze){return function($t){return y($t)===ze}},S=function(ze){return function($t){return typeof $t===ze}},_=C("string"),M=S("boolean"),z=function(ze){return ze==null},K=function(ze){return!z(ze)},Y=S("function"),ye=S("number"),Q=function(){},W=function(ze,$t){return function(fn){return ze($t(fn))}},ve=function(ze){return function(){return ze}},he=function(ze){return ze},be=ve(!1),ae=ve(!0),Ae=function(){return Ye},Ye=function(){var ze=function(vn){return vn()},$t=he,fn={fold:function(vn,Ln){return vn()},isSome:be,isNone:ae,getOr:$t,getOrThunk:ze,getOrDie:function(vn){throw new Error(vn||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:$t,orThunk:ze,map:Ae,each:Q,bind:Ae,exists:be,forall:ae,filter:function(){return Ae()},toArray:function(){return[]},toString:ve("none()")};return fn}(),Ve=function(ze){var $t=ve(ze),fn=function(){return Ln},vn=function(Ee){return Ee(ze)},Ln={fold:function(Ee,Ct){return Ct(ze)},isSome:ae,isNone:be,getOr:$t,getOrThunk:$t,getOrDie:$t,getOrNull:$t,getOrUndefined:$t,or:fn,orThunk:fn,map:function(Ee){return Ve(Ee(ze))},each:function(Ee){Ee(ze)},bind:vn,exists:vn,forall:vn,filter:function(Ee){return Ee(ze)?Ln:Ye},toArray:function(){return[ze]},toString:function(){return"some("+ze+")"}};return Ln},L=function(ze){return ze==null?Ye:Ve(ze)},_e={some:Ve,none:Ae,from:L},Te=function(ze,$t){for(var fn=ze.length,vn=new Array(fn),Ln=0;Ln<fn;Ln++){var Ee=ze[Ln];vn[Ln]=$t(Ee,Ln)}return vn},Be=function(ze,$t){for(var fn=0,vn=ze.length;fn<vn;fn++){var Ln=ze[fn];$t(Ln,fn)}},gt=function(ze,$t){for(var fn=[],vn=0,Ln=ze.length;vn<Ln;vn++){var Ee=ze[vn];$t(Ee,vn)&&fn.push(Ee)}return fn},Se=9,je=11,Ze=1,it=3,G=function(ze,$t){var fn=$t||document,vn=fn.createElement("div");if(vn.innerHTML=ze,!vn.hasChildNodes()||vn.childNodes.length>1)throw new Error("HTML must have a single root node");return Tn(vn.childNodes[0])},xe=function(ze,$t){var fn=$t||document,vn=fn.createElement(ze);return Tn(vn)},ct=function(ze,$t){var fn=$t||document,vn=fn.createTextNode(ze);return Tn(vn)},Tn=function(ze){if(ze==null)throw new Error("Node cannot be null or undefined");return{dom:ze}},bt=function(ze,$t,fn){return _e.from(ze.dom.elementFromPoint($t,fn)).map(Tn)},er={fromHtml:G,fromTag:xe,fromText:ct,fromDom:Tn,fromPoint:bt},Er=function(ze,$t){var fn=ze.dom;if(fn.nodeType!==Ze)return!1;var vn=fn;if(vn.matches!==void 0)return vn.matches($t);if(vn.msMatchesSelector!==void 0)return vn.msMatchesSelector($t);if(vn.webkitMatchesSelector!==void 0)return vn.webkitMatchesSelector($t);if(vn.mozMatchesSelector!==void 0)return vn.mozMatchesSelector($t);throw new Error("Browser lacks native selectors")};typeof window!="undefined"||Function("return this;")();var A=function(ze){var $t=ze.dom.nodeName;return $t.toLowerCase()},Ht=function(ze){return ze.dom.nodeType},Kt=function(ze){return function($t){return Ht($t)===ze}},Rn=Kt(Ze),et=Kt(it),nn=Kt(Se),tn=Kt(je),sn=function(ze){return function($t){return Rn($t)&&A($t)===ze}},X=function(ze){return er.fromDom(ze.dom.ownerDocument)},nr=function(ze){return nn(ze)?ze:X(ze)},St=function(ze){return _e.from(ze.dom.parentNode).map(er.fromDom)},Ke=function(ze){return Te(ze.dom.childNodes,er.fromDom)},bn=function(ze,$t,fn){if(_(fn)||M(fn)||ye(fn))ze.setAttribute($t,fn+"");else throw new Error("Attribute value was not simple")},Ue=function(ze,$t,fn){bn(ze.dom,$t,fn)},We=function(ze,$t){ze.dom.removeAttribute($t)},ft=function(ze){return tn(ze)&&K(ze.dom.host)},zt=Y(Element.prototype.attachShadow)&&Y(Node.prototype.getRootNode),vt=zt?function(ze){return er.fromDom(ze.dom.getRootNode())}:nr,kt=function(ze){var $t=vt(ze);return ft($t)?_e.some($t):_e.none()},jn=function(ze){return er.fromDom(ze.dom.host)},Ce=function(ze){var $t=et(ze)?ze.dom.parentNode:ze.dom;if($t==null||$t.ownerDocument===null)return!1;var fn=$t.ownerDocument;return kt(er.fromDom($t)).fold(function(){return fn.body.contains($t)},W(Ce,jn))},pt=function(ze,$t,fn){for(var vn=ze.dom,Ln=Y(fn)?fn:be;vn.parentNode;){vn=vn.parentNode;var Ee=er.fromDom(vn);if($t(Ee))return _e.some(Ee);if(Ln(Ee))break}return _e.none()},pn=function(ze,$t,fn){return pt(ze,function(vn){return Er(vn,$t)},fn)},Nn=function(ze){return ze.style!==void 0&&Y(ze.style.getPropertyValue)},Hn=function(ze,$t){var fn=ze.dom,vn=window.getComputedStyle(fn),Ln=vn.getPropertyValue($t);return Ln===""&&!Ce(ze)?tr(fn,$t):Ln},tr=function(ze,$t){return Nn(ze)?ze.style.getPropertyValue($t):""},Fr=function(ze){return Hn(ze,"direction")==="rtl"?"rtl":"ltr"},Xr=function(ze,$t){return gt(Ke(ze),$t)},oa=function(ze,$t){return Xr(ze,function(fn){return Er(fn,$t)})},Vt=function(ze){return St(ze).filter(Rn)},Ut=function(ze,$t){var fn=$t?pn(ze,"ol,ul"):_e.some(ze);return fn.getOr(ze)},Bt=sn("li"),Xe=function(ze,$t){var fn=ze.selection.getSelectedBlocks();fn.length>0&&(Be(fn,function(vn){var Ln=er.fromDom(vn),Ee=Bt(Ln),Ct=Ut(Ln,Ee),dt=Vt(Ct);dt.each(function(Wt){var Bn=Fr(Wt);if(Bn!==$t?Ue(Ct,"dir",$t):Fr(Ct)!==$t&&We(Ct,"dir"),Ee){var pr=oa(Ct,"li[dir]");Be(pr,function(xa){return We(xa,"dir")})}})}),ze.nodeChanged())},ot=function(ze){ze.addCommand("mceDirectionLTR",function(){Xe(ze,"ltr")}),ze.addCommand("mceDirectionRTL",function(){Xe(ze,"rtl")})},Xt=function(ze,$t){return function(fn){var vn=function(Ln){var Ee=er.fromDom(Ln.element);fn.setActive(Fr(Ee)===$t)};return ze.on("NodeChange",vn),function(){return ze.off("NodeChange",vn)}}},yn=function(ze){ze.ui.registry.addToggleButton("ltr",{tooltip:"Left to right",icon:"ltr",onAction:function(){return ze.execCommand("mceDirectionLTR")},onSetup:Xt(ze,"ltr")}),ze.ui.registry.addToggleButton("rtl",{tooltip:"Right to left",icon:"rtl",onAction:function(){return ze.execCommand("mceDirectionRTL")},onSetup:Xt(ze,"rtl")})};function Jt(){D.add("directionality",function(ze){ot(ze),yn(ze)})}Jt()})();(function(){var D=function(w){var h=w,T=function(){return h},H=function(ue){h=ue};return{get:T,set:H}},y=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(w){return{isFullscreen:function(){return w.get()!==null}}},S=function(w){var h=typeof w;return w===null?"null":h==="object"&&(Array.prototype.isPrototypeOf(w)||w.constructor&&w.constructor.name==="Array")?"array":h==="object"&&(String.prototype.isPrototypeOf(w)||w.constructor&&w.constructor.name==="String")?"string":h},_=function(w){return function(h){return S(h)===w}},M=function(w){return function(h){return typeof h===w}},z=_("string"),K=_("array"),Y=M("boolean"),ye=function(w){return w==null},Q=function(w){return!ye(w)},W=M("function"),ve=M("number"),he=function(){},be=function(w,h){return function(){for(var T=[],H=0;H<arguments.length;H++)T[H]=arguments[H];return w(h.apply(null,T))}},ae=function(w,h){return function(T){return w(h(T))}},Ae=function(w){return function(){return w}},Ye=function(w){return w};function Ve(w){for(var h=[],T=1;T<arguments.length;T++)h[T-1]=arguments[T];return function(){for(var H=[],ue=0;ue<arguments.length;ue++)H[ue]=arguments[ue];var He=h.concat(H);return w.apply(null,He)}}var L=Ae(!1),_e=Ae(!0),Te=function(){return Be},Be=function(){var w=function(H){return H()},h=Ye,T={fold:function(H,ue){return H()},isSome:L,isNone:_e,getOr:h,getOrThunk:w,getOrDie:function(H){throw new Error(H||"error: getOrDie called on none.")},getOrNull:Ae(null),getOrUndefined:Ae(void 0),or:h,orThunk:w,map:Te,each:he,bind:Te,exists:L,forall:_e,filter:function(){return Te()},toArray:function(){return[]},toString:Ae("none()")};return T}(),gt=function(w){var h=Ae(w),T=function(){return ue},H=function(He){return He(w)},ue={fold:function(He,Nt){return Nt(w)},isSome:_e,isNone:L,getOr:h,getOrThunk:h,getOrDie:h,getOrNull:h,getOrUndefined:h,or:T,orThunk:T,map:function(He){return gt(He(w))},each:function(He){He(w)},bind:H,exists:H,forall:H,filter:function(He){return He(w)?ue:Be},toArray:function(){return[w]},toString:function(){return"some("+w+")"}};return ue},Se=function(w){return w==null?Be:gt(w)},je={some:gt,none:Te,from:Se},Ze=function(){return Ze=Object.assign||function(h){for(var T,H=1,ue=arguments.length;H<ue;H++){T=arguments[H];for(var He in T)Object.prototype.hasOwnProperty.call(T,He)&&(h[He]=T[He])}return h},Ze.apply(this,arguments)},it=function(w){var h=D(je.none()),T=function(){return h.get().each(w)},H=function(){T(),h.set(je.none())},ue=function(){return h.get().isSome()},He=function(){return h.get()},Nt=function(Kn){T(),h.set(je.some(Kn))};return{clear:H,isSet:ue,get:He,set:Nt}},G=function(){return it(function(w){return w.unbind()})},xe=function(){var w=it(he),h=function(T){return w.get().each(T)};return Ze(Ze({},w),{on:h})},ct=Array.prototype.push,Tn=function(w,h){for(var T=w.length,H=new Array(T),ue=0;ue<T;ue++){var He=w[ue];H[ue]=h(He,ue)}return H},bt=function(w,h){for(var T=0,H=w.length;T<H;T++){var ue=w[T];h(ue,T)}},er=function(w,h){for(var T=[],H=0,ue=w.length;H<ue;H++){var He=w[H];h(He,H)&&T.push(He)}return T},Er=function(w,h,T){for(var H=0,ue=w.length;H<ue;H++){var He=w[H];if(h(He,H))return je.some(He);if(T(He,H))break}return je.none()},A=function(w,h){return Er(w,h,L)},Ht=function(w){for(var h=[],T=0,H=w.length;T<H;++T){if(!K(w[T]))throw new Error("Arr.flatten item "+T+" was not an array, input: "+w);ct.apply(h,w[T])}return h},Kt=function(w,h){return Ht(Tn(w,h))},Rn=function(w,h){return h>=0&&h<w.length?je.some(w[h]):je.none()},et=function(w){return Rn(w,0)},nn=function(w,h){for(var T=0;T<w.length;T++){var H=h(w[T],T);if(H.isSome())return H}return je.none()},tn=Object.keys,sn=function(w,h){for(var T=tn(w),H=0,ue=T.length;H<ue;H++){var He=T[H],Nt=w[He];h(Nt,He)}},X=function(w,h){return w.indexOf(h)!==-1},nr=function(w){return w.style!==void 0&&W(w.style.getPropertyValue)},St=function(w,h){var T=h||document,H=T.createElement("div");if(H.innerHTML=w,!H.hasChildNodes()||H.childNodes.length>1)throw new Error("HTML must have a single root node");return Ue(H.childNodes[0])},Ke=function(w,h){var T=h||document,H=T.createElement(w);return Ue(H)},bn=function(w,h){var T=h||document,H=T.createTextNode(w);return Ue(H)},Ue=function(w){if(w==null)throw new Error("Node cannot be null or undefined");return{dom:w}},We=function(w,h,T){return je.from(w.dom.elementFromPoint(h,T)).map(Ue)},ft={fromHtml:St,fromTag:Ke,fromText:bn,fromDom:Ue,fromPoint:We};typeof window!="undefined"||Function("return this;")();var zt=9,vt=11,kt=1,jn=3,Ce=function(w){return w.dom.nodeType},pt=function(w){return function(h){return Ce(h)===w}},pn=pt(kt),Nn=pt(jn),Hn=pt(zt),tr=pt(vt),Fr=function(w){var h=!1,T;return function(){for(var H=[],ue=0;ue<arguments.length;ue++)H[ue]=arguments[ue];return h||(h=!0,T=w.apply(null,H)),T}},Xr=function(w,h,T,H){var ue=w.isiOS()&&/ipad/i.test(T)===!0,He=w.isiOS()&&!ue,Nt=w.isiOS()||w.isAndroid(),Kn=Nt||H("(pointer:coarse)"),vr=ue||!He&&Nt&&H("(min-device-width:768px)"),wn=He||Nt&&!vr,qn=h.isSafari()&&w.isiOS()&&/safari/i.test(T)===!1,Rr=!wn&&!vr&&!qn;return{isiPad:Ae(ue),isiPhone:Ae(He),isTablet:Ae(vr),isPhone:Ae(wn),isTouch:Ae(Kn),isAndroid:w.isAndroid,isiOS:w.isiOS,isWebView:Ae(qn),isDesktop:Ae(Rr)}},oa=function(w,h){for(var T=0;T<w.length;T++){var H=w[T];if(H.test(h))return H}},Vt=function(w,h){var T=oa(w,h);if(!T)return{major:0,minor:0};var H=function(ue){return Number(h.replace(T,"$"+ue))};return Xe(H(1),H(2))},Ut=function(w,h){var T=String(h).toLowerCase();return w.length===0?Bt():Vt(w,T)},Bt=function(){return Xe(0,0)},Xe=function(w,h){return{major:w,minor:h}},ot={nu:Xe,detect:Ut,unknown:Bt},Xt=function(w,h){return nn(h.brands,function(T){var H=T.brand.toLowerCase();return A(w,function(ue){var He;return H===((He=ue.brand)===null||He===void 0?void 0:He.toLowerCase())}).map(function(ue){return{current:ue.name,version:ot.nu(parseInt(T.version,10),0)}})})},yn=function(w,h){var T=String(h).toLowerCase();return A(w,function(H){return H.search(T)})},Jt=function(w,h){return yn(w,h).map(function(T){var H=ot.detect(T.versionRegexes,h);return{current:T.name,version:H}})},ze=function(w,h){return yn(w,h).map(function(T){var H=ot.detect(T.versionRegexes,h);return{current:T.name,version:H}})},$t=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,fn=function(w){return function(h){return X(h,w)}},vn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(w){return X(w,"edge/")&&X(w,"chrome")&&X(w,"safari")&&X(w,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,$t],search:function(w){return X(w,"chrome")&&!X(w,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(w){return X(w,"msie")||X(w,"trident")}},{name:"Opera",versionRegexes:[$t,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:fn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:fn("firefox")},{name:"Safari",versionRegexes:[$t,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(w){return(X(w,"safari")||X(w,"mobile/"))&&X(w,"applewebkit")}}],Ln=[{name:"Windows",search:fn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(w){return X(w,"iphone")||X(w,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:fn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:fn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:fn("linux"),versionRegexes:[]},{name:"Solaris",search:fn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:fn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:fn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Ee={browsers:Ae(vn),oses:Ae(Ln)},Ct="Edge",dt="Chrome",Wt="IE",Bn="Opera",pr="Firefox",xa="Safari",Ar=function(){return xr({current:void 0,version:ot.unknown()})},xr=function(w){var h=w.current,T=w.version,H=function(ue){return function(){return h===ue}};return{current:h,version:T,isEdge:H(Ct),isChrome:H(dt),isIE:H(Wt),isOpera:H(Bn),isFirefox:H(pr),isSafari:H(xa)}},ha={unknown:Ar,nu:xr,edge:Ae(Ct),chrome:Ae(dt),ie:Ae(Wt),opera:Ae(Bn),firefox:Ae(pr),safari:Ae(xa)},Ja="Windows",Va="iOS",Ta="Android",Ga="Linux",xo="OSX",Qa="Solaris",Pa="FreeBSD",po="ChromeOS",zr=function(){return bo({current:void 0,version:ot.unknown()})},bo=function(w){var h=w.current,T=w.version,H=function(ue){return function(){return h===ue}};return{current:h,version:T,isWindows:H(Ja),isiOS:H(Va),isAndroid:H(Ta),isOSX:H(xo),isLinux:H(Ga),isSolaris:H(Qa),isFreeBSD:H(Pa),isChromeOS:H(po)}},Gn={unknown:zr,nu:bo,windows:Ae(Ja),ios:Ae(Va),android:Ae(Ta),linux:Ae(Ga),osx:Ae(xo),solaris:Ae(Qa),freebsd:Ae(Pa),chromeos:Ae(po)},vi=function(w,h,T){var H=Ee.browsers(),ue=Ee.oses(),He=h.bind(function(vr){return Xt(H,vr)}).orThunk(function(){return Jt(H,w)}).fold(ha.unknown,ha.nu),Nt=ze(ue,w).fold(Gn.unknown,Gn.nu),Kn=Xr(Nt,He,w,T);return{browser:He,os:Nt,deviceType:Kn}},fo={detect:vi},So=function(w){return window.matchMedia(w).matches},oo=Fr(function(){return fo.detect(navigator.userAgent,je.from(navigator.userAgentData),So)}),No=function(){return oo()},di=function(w,h){var T=w.dom;if(T.nodeType!==kt)return!1;var H=T;if(H.matches!==void 0)return H.matches(h);if(H.msMatchesSelector!==void 0)return H.msMatchesSelector(h);if(H.webkitMatchesSelector!==void 0)return H.webkitMatchesSelector(h);if(H.mozMatchesSelector!==void 0)return H.mozMatchesSelector(h);throw new Error("Browser lacks native selectors")},_o=function(w){return w.nodeType!==kt&&w.nodeType!==zt&&w.nodeType!==vt||w.childElementCount===0},Ei=function(w,h){var T=document;return _o(T)?[]:Tn(T.querySelectorAll(w),ft.fromDom)},se=function(w,h){return w.dom===h.dom},Re=function(w){return ft.fromDom(w.dom.ownerDocument)},ce=function(w){return Hn(w)?w:Re(w)},at=function(w){return je.from(w.dom.parentNode).map(ft.fromDom)},dn=function(w,h){for(var T=W(h)?h:L,H=w.dom,ue=[];H.parentNode!==null&&H.parentNode!==void 0;){var He=H.parentNode,Nt=ft.fromDom(He);if(ue.push(Nt),T(Nt)===!0)break;H=He}return ue},Mn=function(w){var h=function(T){return er(T,function(H){return!se(w,H)})};return at(w).map(oe).map(h).getOr([])},oe=function(w){return Tn(w.dom.childNodes,ft.fromDom)},pe=function(w){return tr(w)&&Q(w.dom.host)},ut=W(Element.prototype.attachShadow)&&W(Node.prototype.getRootNode),At=Ae(ut),R=ut?function(w){return ft.fromDom(w.dom.getRootNode())}:ce,Z=function(w){var h=R(w);return pe(h)?je.some(h):je.none()},me=function(w){return ft.fromDom(w.dom.host)},Me=function(w){if(At()&&Q(w.target)){var h=ft.fromDom(w.target);if(pn(h)&&Qe(h)&&w.composed&&w.composedPath){var T=w.composedPath();if(T)return et(T)}}return je.from(w.target)},Qe=function(w){return Q(w.dom.shadowRoot)},rt=function(w){var h=Nn(w)?w.dom.parentNode:w.dom;if(h==null||h.ownerDocument===null)return!1;var T=h.ownerDocument;return Z(ft.fromDom(h)).fold(function(){return T.body.contains(h)},ae(rt,me))},ln=function(w){var h=w.dom.body;if(h==null)throw new Error("Body is not available yet");return ft.fromDom(h)},On=function(w,h,T){if(z(T)||Y(T)||ve(T))w.setAttribute(h,T+"");else throw new Error("Attribute value was not simple")},ir=function(w,h,T){On(w.dom,h,T)},fr=function(w,h){var T=w.dom.getAttribute(h);return T===null?void 0:T},mr=function(w,h){w.dom.removeAttribute(h)},Tr=function(w,h,T){if(!z(T))throw new Error("CSS value must be a string: "+T);nr(w)&&w.style.setProperty(h,T)},ia=function(w,h){var T=w.dom;sn(h,function(H,ue){Tr(T,ue,H)})},eo=function(w,h){var T=w.dom,H=window.getComputedStyle(T),ue=H.getPropertyValue(h);return ue===""&&!rt(w)?ko(T,h):ue},ko=function(w,h){return nr(w)?w.style.getPropertyValue(h):""},Ri=function(w,h,T,H,ue,He,Nt){return{target:w,x:h,y:T,stop:H,prevent:ue,kill:He,raw:Nt}},Ti=function(w){var h=ft.fromDom(Me(w).getOr(w.target)),T=function(){return w.stopPropagation()},H=function(){return w.preventDefault()},ue=be(H,T);return Ri(h,w.clientX,w.clientY,T,H,ue,w)},to=function(w,h){return function(T){w(T)&&h(Ti(T))}},hu=function(w,h,T,H,ue){var He=to(T,H);return w.dom.addEventListener(h,He,ue),{unbind:Ve(Qo,w,h,He,ue)}},iu=function(w,h,T,H){return hu(w,h,T,H,!1)},Qo=function(w,h,T,H){w.dom.removeEventListener(h,T,H)},Eo=_e,Fu=function(w,h,T){return iu(w,h,Eo,T)},J=function(w,h){var T=function(H,ue){return J(w+H,h+ue)};return{left:w,top:h,translate:T}},Oe=J,tt=function(w){var h=w!==void 0?w.dom:document,T=h.body.scrollLeft||h.documentElement.scrollLeft,H=h.body.scrollTop||h.documentElement.scrollTop;return Oe(T,H)},_t=function(w){var h=w===void 0?window:w;return No().browser.isFirefox()?je.none():je.from(h.visualViewport)},kn=function(w,h,T,H){return{x:w,y:h,width:T,height:H,right:w+T,bottom:h+H}},$n=function(w){var h=w===void 0?window:w,T=h.document,H=tt(ft.fromDom(T));return _t(h).fold(function(){var ue=h.document.documentElement,He=ue.clientWidth,Nt=ue.clientHeight;return kn(H.left,H.top,He,Nt)},function(ue){return kn(Math.max(ue.pageLeft,H.left),Math.max(ue.pageTop,H.top),ue.width,ue.height)})},rr=function(w,h,T){return _t(T).map(function(H){var ue=function(He){return h(Ti(He))};return H.addEventListener(w,ue),{unbind:function(){return H.removeEventListener(w,ue)}}}).getOrThunk(function(){return{unbind:he}})},Yr=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),U=tinymce.util.Tools.resolve("tinymce.Env"),ke=tinymce.util.Tools.resolve("tinymce.util.Delay"),Le=function(w,h){w.fire("FullscreenStateChanged",{state:h}),w.fire("ResizeEditor")},mt=function(w){return w.getParam("fullscreen_native",!1,"boolean")},Pt=function(w){var h=ft.fromDom(w.getElement());return Z(h).map(me).getOrThunk(function(){return ln(Re(h))})},Dn=function(w){return w.fullscreenElement!==void 0?w.fullscreenElement:w.msFullscreenElement!==void 0?w.msFullscreenElement:w.webkitFullscreenElement!==void 0?w.webkitFullscreenElement:null},Jn=function(){return document.fullscreenElement!==void 0?"fullscreenchange":document.msFullscreenElement!==void 0?"MSFullscreenChange":document.webkitFullscreenElement!==void 0?"webkitfullscreenchange":"fullscreenchange"},ea=function(w){var h=w.dom;h.requestFullscreen?h.requestFullscreen():h.msRequestFullscreen?h.msRequestFullscreen():h.webkitRequestFullScreen&&h.webkitRequestFullScreen()},Pr=function(w){var h=w.dom;h.exitFullscreen?h.exitFullscreen():h.msExitFullscreen?h.msExitFullscreen():h.webkitCancelFullScreen&&h.webkitCancelFullScreen()},va=function(w){return w.dom===Dn(Re(w).dom)},Ra=function(w,h,T){return er(dn(w,T),h)},Ui=function(w,h){return er(Mn(w),h)},Yu=function(w){return Ei(w)},cr=function(w,h,T){return Ra(w,function(H){return di(H,h)},T)},an=function(w,h){return Ui(w,function(T){return di(T,h)})},pa="data-ephox-mobile-fullscreen-style",yo="display:none!important;",qo="position:absolute!important;",gs="top:0!important;left:0!important;margin:0!important;padding:0!important;width:100%!important;height:100%!important;overflow:visible!important;",hs="background-color:rgb(255,255,255)!important;",Hs=U.os.isAndroid(),_a=function(w){var h=eo(w,"background-color");return h!==void 0&&h!==""?"background-color:"+h+"!important":hs},Iu=function(w,h,T){var H=function(wn){return an(wn,"*:not(.tox-silver-sink)")},ue=function(wn){return function(qn){var Rr=fr(qn,"style"),Wr=Rr===void 0?"no-styles":Rr.trim();Wr!==wn&&(ir(qn,pa,Wr),ia(qn,w.parseStyle(wn)))}},He=cr(h,"*"),Nt=Kt(He,H),Kn=_a(T);bt(Nt,ue(yo)),bt(He,ue(qo+gs+Kn));var vr=Hs===!0?"":qo;ue(vr+gs+Kn)(h)},Vs=function(w){var h=Yu("["+pa+"]");bt(h,function(T){var H=fr(T,pa);H!=="no-styles"?ia(T,w.parseStyle(H)):mr(T,"style"),mr(T,pa)})},Wi=Yr.DOM,ei=function(){return $n(window)},il=function(w){return window.scrollTo(w.x,w.y)},Tt=_t().fold(function(){return{bind:he,unbind:he}},function(w){var h=xe(),T=G(),H=G(),ue=function(){document.body.scrollTop=0,document.documentElement.scrollTop=0},He=function(){window.requestAnimationFrame(function(){h.on(function(wn){return ia(wn,{top:w.offsetTop+"px",left:w.offsetLeft+"px",height:w.height+"px",width:w.width+"px"})})})},Nt=ke.throttle(function(){ue(),He()},50),Kn=function(wn){h.set(wn),Nt(),T.set(rr("resize",Nt)),H.set(rr("scroll",Nt))},vr=function(){h.on(function(){T.clear(),H.clear()}),h.clear()};return{bind:Kn,unbind:vr}}),ps=function(w,h){var T=document.body,H=document.documentElement,ue=w.getContainer(),He=ft.fromDom(ue),Nt=Pt(w),Kn=h.get(),vr=ft.fromDom(w.getBody()),wn=U.deviceType.isTouch(),qn=ue.style,Rr=w.iframeElement,Wr=Rr.style,Sr=function(Sa){Sa(T,"tox-fullscreen"),Sa(H,"tox-fullscreen"),Sa(ue,"tox-fullscreen"),Z(He).map(function(ji){return me(ji).dom}).each(function(ji){Sa(ji,"tox-fullscreen"),Sa(ji,"tox-shadowhost")})},Ua=function(){wn&&Vs(w.dom),Sr(Wi.removeClass),Tt.unbind(),je.from(h.get()).each(function(Sa){return Sa.fullscreenChangeHandler.unbind()})};if(Kn)Kn.fullscreenChangeHandler.unbind(),mt(w)&&va(Nt)&&Pr(Re(Nt)),Wr.width=Kn.iframeWidth,Wr.height=Kn.iframeHeight,qn.width=Kn.containerWidth,qn.height=Kn.containerHeight,qn.top=Kn.containerTop,qn.left=Kn.containerLeft,Ua(),il(Kn.scrollPos),h.set(null),Le(w,!1),w.off("remove",Ua);else{var wr=Fu(Re(Nt),Jn(),function(Sa){mt(w)&&!va(Nt)&&h.get()!==null&&ps(w,h)}),Aa={scrollPos:ei(),containerWidth:qn.width,containerHeight:qn.height,containerTop:qn.top,containerLeft:qn.left,iframeWidth:Wr.width,iframeHeight:Wr.height,fullscreenChangeHandler:wr};wn&&Iu(w.dom,He,vr),Wr.width=Wr.height="100%",qn.width=qn.height="",Sr(Wi.addClass),Tt.bind(He),w.on("remove",Ua),h.set(Aa),mt(w)&&ea(Nt),Le(w,!0)}},Lo=function(w,h){w.addCommand("mceFullScreen",function(){ps(w,h)})},El=function(w,h){return function(T){T.setActive(h.get()!==null);var H=function(ue){return T.setActive(ue.state)};return w.on("FullscreenStateChanged",H),function(){return w.off("FullscreenStateChanged",H)}}},Zu=function(w,h){var T=function(){return w.execCommand("mceFullScreen")};w.ui.registry.addToggleMenuItem("fullscreen",{text:"Fullscreen",icon:"fullscreen",shortcut:"Meta+Shift+F",onAction:T,onSetup:El(w,h)}),w.ui.registry.addToggleButton("fullscreen",{tooltip:"Fullscreen",icon:"fullscreen",onAction:T,onSetup:El(w,h)})};function B(){y.add("fullscreen",function(w){var h=D(null);return w.inline||(Lo(w,h),Zu(w,h),w.addShortcut("Meta+Shift+F","","mceFullScreen")),C(h)})}B()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(_){_.addCommand("InsertHorizontalRule",function(){_.execCommand("mceInsertContent",!1,"<hr />")})},C=function(_){var M=function(){return _.execCommand("InsertHorizontalRule")};_.ui.registry.addButton("hr",{icon:"horizontal-rule",tooltip:"Horizontal line",onAction:M}),_.ui.registry.addMenuItem("hr",{icon:"horizontal-rule",text:"Horizontal line",onAction:M})};function S(){D.add("hr",function(_){y(_),C(_)})}S()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(L){return L.getParam("insertdatetime_dateformat",L.translate("%Y-%m-%d"))},C=function(L){return L.getParam("insertdatetime_timeformat",L.translate("%H:%M:%S"))},S=function(L){return L.getParam("insertdatetime_formats",["%H:%M:%S","%Y-%m-%d","%I:%M:%S %p","%D"])},_=function(L){var _e=S(L);return _e.length>0?_e[0]:C(L)},M=function(L){return L.getParam("insertdatetime_element",!1)},z="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),K="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),Y="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),ye="January February March April May June July August September October November December".split(" "),Q=function(L,_e){if(L=""+L,L.length<_e)for(var Te=0;Te<_e-L.length;Te++)L="0"+L;return L},W=function(L,_e,Te){return Te===void 0&&(Te=new Date),_e=_e.replace("%D","%m/%d/%Y"),_e=_e.replace("%r","%I:%M:%S %p"),_e=_e.replace("%Y",""+Te.getFullYear()),_e=_e.replace("%y",""+Te.getYear()),_e=_e.replace("%m",Q(Te.getMonth()+1,2)),_e=_e.replace("%d",Q(Te.getDate(),2)),_e=_e.replace("%H",""+Q(Te.getHours(),2)),_e=_e.replace("%M",""+Q(Te.getMinutes(),2)),_e=_e.replace("%S",""+Q(Te.getSeconds(),2)),_e=_e.replace("%I",""+((Te.getHours()+11)%12+1)),_e=_e.replace("%p",Te.getHours()<12?"AM":"PM"),_e=_e.replace("%B",""+L.translate(ye[Te.getMonth()])),_e=_e.replace("%b",""+L.translate(Y[Te.getMonth()])),_e=_e.replace("%A",""+L.translate(K[Te.getDay()])),_e=_e.replace("%a",""+L.translate(z[Te.getDay()])),_e=_e.replace("%%","%"),_e},ve=function(L,_e,Te,Be){var gt=L.dom.create("time",{datetime:Te},Be);_e.parentNode.insertBefore(gt,_e),L.dom.remove(_e),L.selection.select(gt,!0),L.selection.collapse(!1)},he=function(L,_e){if(M(L)){var Te=W(L,_e),Be=void 0;/%[HMSIp]/.test(_e)?Be=W(L,"%Y-%m-%dT%H:%M"):Be=W(L,"%Y-%m-%d");var gt=L.dom.getParent(L.selection.getStart(),"time");gt?ve(L,gt,Be,Te):L.insertContent('<time datetime="'+Be+'">'+Te+"</time>")}else L.insertContent(W(L,_e))},be=function(L){L.addCommand("mceInsertDate",function(_e,Te){he(L,Te!=null?Te:y(L))}),L.addCommand("mceInsertTime",function(_e,Te){he(L,Te!=null?Te:C(L))})},ae=function(L){var _e=L,Te=function(){return _e},Be=function(gt){_e=gt};return{get:Te,set:Be}},Ae=tinymce.util.Tools.resolve("tinymce.util.Tools"),Ye=function(L){var _e=S(L),Te=ae(_(L)),Be=function(Se){return L.execCommand("mceInsertDate",!1,Se)};L.ui.registry.addSplitButton("insertdatetime",{icon:"insert-time",tooltip:"Insert date/time",select:function(Se){return Se===Te.get()},fetch:function(Se){Se(Ae.map(_e,function(je){return{type:"choiceitem",text:W(L,je),value:je}}))},onAction:function(Se){Be(Te.get())},onItemAction:function(Se,je){Te.set(je),Be(je)}});var gt=function(Se){return function(){Te.set(Se),Be(Se)}};L.ui.registry.addNestedMenuItem("insertdatetime",{icon:"insert-time",text:"Date/time",getSubmenuItems:function(){return Ae.map(_e,function(Se){return{type:"menuitem",text:W(L,Se),onAction:gt(Se)}})}})};function Ve(){D.add("insertdatetime",function(L){be(L),Ye(L)})}Ve()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=tinymce.util.Tools.resolve("tinymce.util.VK"),C=function(U){var ke=typeof U;return U===null?"null":ke==="object"&&(Array.prototype.isPrototypeOf(U)||U.constructor&&U.constructor.name==="Array")?"array":ke==="object"&&(String.prototype.isPrototypeOf(U)||U.constructor&&U.constructor.name==="String")?"string":ke},S=function(U){return function(ke){return C(ke)===U}},_=function(U){return function(ke){return typeof ke===U}},M=function(U){return function(ke){return U===ke}},z=S("string"),K=S("array"),Y=M(null),ye=_("boolean"),Q=_("function"),W=function(){},ve=function(U){return function(){return U}},he=function(U){return U},be=function(U,ke){return U===ke},ae=ve(!1),Ae=ve(!0),Ye=function(){return Ve},Ve=function(){var U=function(mt){return mt()},ke=he,Le={fold:function(mt,Pt){return mt()},isSome:ae,isNone:Ae,getOr:ke,getOrThunk:U,getOrDie:function(mt){throw new Error(mt||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:ke,orThunk:U,map:Ye,each:W,bind:Ye,exists:ae,forall:Ae,filter:function(){return Ye()},toArray:function(){return[]},toString:ve("none()")};return Le}(),L=function(U){var ke=ve(U),Le=function(){return Pt},mt=function(Dn){return Dn(U)},Pt={fold:function(Dn,Jn){return Jn(U)},isSome:Ae,isNone:ae,getOr:ke,getOrThunk:ke,getOrDie:ke,getOrNull:ke,getOrUndefined:ke,or:Le,orThunk:Le,map:function(Dn){return L(Dn(U))},each:function(Dn){Dn(U)},bind:mt,exists:mt,forall:mt,filter:function(Dn){return Dn(U)?Pt:Ve},toArray:function(){return[U]},toString:function(){return"some("+U+")"}};return Pt},_e=function(U){return U==null?Ve:L(U)},Te={some:L,none:Ye,from:_e},Be=Array.prototype.indexOf,gt=Array.prototype.push,Se=function(U,ke){return Be.call(U,ke)},je=function(U,ke){return Se(U,ke)>-1},Ze=function(U,ke){for(var Le=U.length,mt=new Array(Le),Pt=0;Pt<Le;Pt++){var Dn=U[Pt];mt[Pt]=ke(Dn,Pt)}return mt},it=function(U,ke){for(var Le=0,mt=U.length;Le<mt;Le++){var Pt=U[Le];ke(Pt,Le)}},G=function(U,ke,Le){return it(U,function(mt,Pt){Le=ke(Le,mt,Pt)}),Le},xe=function(U){for(var ke=[],Le=0,mt=U.length;Le<mt;++Le){if(!K(U[Le]))throw new Error("Arr.flatten item "+Le+" was not an array, input: "+U);gt.apply(ke,U[Le])}return ke},ct=function(U,ke){return xe(Ze(U,ke))},Tn=function(U,ke){for(var Le=0;Le<U.length;Le++){var mt=ke(U[Le],Le);if(mt.isSome())return mt}return Te.none()},bt=function(U,ke,Le){return Le===void 0&&(Le=be),U.exists(function(mt){return Le(mt,ke)})},er=function(U){for(var ke=[],Le=function(Pt){ke.push(Pt)},mt=0;mt<U.length;mt++)U[mt].each(Le);return ke},Er=function(U,ke){return U?Te.some(ke):Te.none()},A=function(U){var ke=U.getParam("link_assume_external_targets",!1);return ye(ke)&&ke?1:z(ke)&&(ke==="http"||ke==="https")?ke:0},Ht=function(U){return U.getParam("link_context_toolbar",!1,"boolean")},Kt=function(U){return U.getParam("link_list")},Rn=function(U){return U.getParam("default_link_target")},et=function(U){return U.getParam("target_list",!0)},nn=function(U){return U.getParam("rel_list",[],"array")},tn=function(U){return U.getParam("link_class_list",[],"array")},sn=function(U){return U.getParam("link_title",!0,"boolean")},X=function(U){return U.getParam("allow_unsafe_link_target",!1,"boolean")},nr=function(U){return U.getParam("link_quicklink",!1,"boolean")},St=function(U){return U.getParam("link_default_protocol","http","string")},Ke=tinymce.util.Tools.resolve("tinymce.util.Tools"),bn=function(U){return z(U.value)?U.value:""},Ue=function(U){return z(U.text)?U.text:z(U.title)?U.title:""},We=function(U,ke){var Le=[];return Ke.each(U,function(mt){var Pt=Ue(mt);if(mt.menu!==void 0){var Dn=We(mt.menu,ke);Le.push({text:Pt,items:Dn})}else{var Jn=ke(mt);Le.push({text:Pt,value:Jn})}}),Le},ft=function(U){return U===void 0&&(U=bn),function(ke){return Te.from(ke).map(function(Le){return We(Le,U)})}},zt=function(U){return ft(bn)(U)},vt=function(U,ke){return function(Le){return{name:U,type:"listbox",label:ke,items:Le}}},kt={sanitize:zt,sanitizeWith:ft,createUi:vt,getValue:bn},jn=function(){return jn=Object.assign||function(ke){for(var Le,mt=1,Pt=arguments.length;mt<Pt;mt++){Le=arguments[mt];for(var Dn in Le)Object.prototype.hasOwnProperty.call(Le,Dn)&&(ke[Dn]=Le[Dn])}return ke},jn.apply(this,arguments)},Ce=Object.keys,pt=Object.hasOwnProperty,pn=function(U,ke){for(var Le=Ce(U),mt=0,Pt=Le.length;mt<Pt;mt++){var Dn=Le[mt],Jn=U[Dn];ke(Jn,Dn)}},Nn=function(U){return function(ke,Le){U[Le]=ke}},Hn=function(U,ke,Le,mt){var Pt={};return pn(U,function(Dn,Jn){(ke(Dn,Jn)?Le:mt)(Dn,Jn)}),Pt},tr=function(U,ke){var Le={};return Hn(U,ke,Nn(Le),W),Le},Fr=function(U,ke){return pt.call(U,ke)},Xr=function(U,ke){return Fr(U,ke)&&U[ke]!==void 0&&U[ke]!==null},oa=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),Vt=tinymce.util.Tools.resolve("tinymce.util.URI"),Ut=function(U){return U&&U.nodeName.toLowerCase()==="a"},Bt=function(U){return Ut(U)&&!!Xt(U)},Xe=function(U,ke){if(U.collapsed)return[];var Le=U.cloneContents(),mt=new oa(Le.firstChild,Le),Pt=[],Dn=Le.firstChild;do ke(Dn)&&Pt.push(Dn);while(Dn=mt.next());return Pt},ot=function(U){return/^\w+:/i.test(U)},Xt=function(U){var ke=U.getAttribute("data-mce-href");return ke||U.getAttribute("href")},yn=function(U,ke){var Le=["noopener"],mt=U?U.split(/\s+/):[],Pt=function(Pr){return Ke.trim(Pr.sort().join(" "))},Dn=function(Pr){return Pr=Jn(Pr),Pr.length>0?Pr.concat(Le):Le},Jn=function(Pr){return Pr.filter(function(va){return Ke.inArray(Le,va)===-1})},ea=ke?Dn(mt):Jn(mt);return ea.length>0?Pt(ea):""},Jt=function(U){return U.replace(/\uFEFF/g,"")},ze=function(U,ke){return ke=ke||U.selection.getNode(),Ee(ke)?U.dom.select("a[href]",ke)[0]:U.dom.getParent(ke,"a[href]")},$t=function(U,ke){var Le=ke?ke.innerText||ke.textContent:U.getContent({format:"text"});return Jt(Le)},fn=function(U){return Ke.grep(U,Bt).length>0},vn=function(U){return Xe(U,Bt).length>0},Ln=function(U){var ke=U.schema.getTextInlineElements(),Le=function(Pt){return Pt.nodeType===1&&!Ut(Pt)&&!Fr(ke,Pt.nodeName.toLowerCase())},mt=Xe(U.selection.getRng(),Le);return mt.length===0},Ee=function(U){return U&&U.nodeName==="FIGURE"&&/\bimage\b/i.test(U.className)},Ct=function(U){var ke=["title","rel","class","target"];return G(ke,function(Le,mt){return U[mt].each(function(Pt){Le[mt]=Pt.length>0?Pt:null}),Le},{href:U.href})},dt=function(U,ke){return(ke==="http"||ke==="https")&&!ot(U)?ke+"://"+U:U},Wt=function(U,ke){var Le=jn({},ke);if(!(nn(U).length>0)&&X(U)===!1){var mt=yn(Le.rel,Le.target==="_blank");Le.rel=mt||null}return Te.from(Le.target).isNone()&&et(U)===!1&&(Le.target=Rn(U)),Le.href=dt(Le.href,A(U)),Le},Bn=function(U,ke,Le,mt){Le.each(function(Pt){Fr(ke,"innerText")?ke.innerText=Pt:ke.textContent=Pt}),U.dom.setAttribs(ke,mt),U.selection.select(ke)},pr=function(U,ke,Le,mt){Ee(ke)?xo(U,ke,mt):Le.fold(function(){U.execCommand("mceInsertLink",!1,mt)},function(Pt){U.insertContent(U.dom.createHTML("a",mt,U.dom.encode(Pt)))})},xa=function(U,ke,Le){var mt=U.selection.getNode(),Pt=ze(U,mt),Dn=Wt(U,Ct(Le));U.undoManager.transact(function(){Le.href===ke.href&&ke.attach(),Pt?(U.focus(),Bn(U,Pt,Le.text,Dn)):pr(U,mt,Le.text,Dn)})},Ar=function(U){var ke=U.dom,Le=U.selection,mt=Le.getBookmark(),Pt=Le.getRng().cloneRange(),Dn=ke.getParent(Pt.startContainer,"a[href]",U.getBody()),Jn=ke.getParent(Pt.endContainer,"a[href]",U.getBody());Dn&&Pt.setStartBefore(Dn),Jn&&Pt.setEndAfter(Jn),Le.setRng(Pt),U.execCommand("unlink"),Le.moveToBookmark(mt)},xr=function(U){U.undoManager.transact(function(){var ke=U.selection.getNode();Ee(ke)?Ga(U,ke):Ar(U),U.focus()})},ha=function(U){var ke=U.class,Le=U.href,mt=U.rel,Pt=U.target,Dn=U.text,Jn=U.title;return tr({class:ke.getOrNull(),href:Le,rel:mt.getOrNull(),target:Pt.getOrNull(),text:Dn.getOrNull(),title:Jn.getOrNull()},function(ea,Pr){return Y(ea)===!1})},Ja=function(U,ke){var Le=ke.href;return jn(jn({},ke),{href:Vt.isDomSafe(Le,"a",U.settings)?Le:""})},Va=function(U,ke,Le){var mt=Ja(U,Le);U.hasPlugin("rtc",!0)?U.execCommand("createlink",!1,ha(mt)):xa(U,ke,mt)},Ta=function(U){U.hasPlugin("rtc",!0)?U.execCommand("unlink"):xr(U)},Ga=function(U,ke){var Le=U.dom.select("img",ke)[0];if(Le){var mt=U.dom.getParents(Le,"a[href]",ke)[0];mt&&(mt.parentNode.insertBefore(Le,mt),U.dom.remove(mt))}},xo=function(U,ke,Le){var mt=U.dom.select("img",ke)[0];if(mt){var Pt=U.dom.create("a",Le);mt.parentNode.insertBefore(Pt,mt),Pt.appendChild(mt)}},Qa=function(U){return Xr(U,"items")},Pa=function(U,ke){return Tn(ke,function(Le){return Qa(Le)?Pa(U,Le.items):Er(Le.value===U,Le)})},po=function(U,ke,Le,mt){var Pt=mt[ke],Dn=U.length>0;return Pt!==void 0?Pa(Pt,Le).map(function(Jn){return{url:{value:Jn.value,meta:{text:Dn?U:Jn.text,attach:W}},text:Dn?U:Jn.text}}):Te.none()},zr=function(U,ke){return ke==="link"?U.link:ke==="anchor"?U.anchor:Te.none()},bo=function(U,ke){var Le={text:U.text,title:U.title},mt=function(Pr){return Er(Le.title.length<=0,Te.from(Pr.meta.title).getOr(""))},Pt=function(Pr){return Er(Le.text.length<=0,Te.from(Pr.meta.text).getOr(Pr.value))},Dn=function(Pr){var va=Pt(Pr.url),Ra=mt(Pr.url);return va.isSome()||Ra.isSome()?Te.some(jn(jn({},va.map(function(Ui){return{text:Ui}}).getOr({})),Ra.map(function(Ui){return{title:Ui}}).getOr({}))):Te.none()},Jn=function(Pr,va){var Ra=zr(ke,va.name).getOr([]);return po(Le.text,va.name,Ra,Pr)},ea=function(Pr,va){var Ra=va.name;return Ra==="url"?Dn(Pr()):je(["anchor","link"],Ra)?Jn(Pr(),va):((Ra==="text"||Ra==="title")&&(Le[Ra]=Pr()[Ra]),Te.none())};return{onChange:ea}},Gn={init:bo,getDelta:po},vi=tinymce.util.Tools.resolve("tinymce.util.Delay"),fo=tinymce.util.Tools.resolve("tinymce.util.Promise"),So=function(U,ke,Le){var mt=U.selection.getRng();vi.setEditorTimeout(U,function(){U.windowManager.confirm(ke,function(Pt){U.selection.setRng(mt),Le(Pt)})})},oo=function(U){var ke=U.href,Le=ke.indexOf("@")>0&&ke.indexOf("/")===-1&&ke.indexOf("mailto:")===-1;return Le?Te.some({message:"The URL you entered seems to be an email address. Do you want to add the required mailto: prefix?",preprocess:function(mt){return jn(jn({},mt),{href:"mailto:"+ke})}}):Te.none()},No=function(U,ke){return function(Le){var mt=Le.href,Pt=U===1&&!ot(mt)||U===0&&/^\s*www(\.|\d\.)/i.test(mt);return Pt?Te.some({message:"The URL you entered seems to be an external link. Do you want to add the required "+ke+":// prefix?",preprocess:function(Dn){return jn(jn({},Dn),{href:ke+"://"+mt})}}):Te.none()}},di=function(U,ke){return Tn([oo,No(A(U),St(U))],function(Le){return Le(ke)}).fold(function(){return fo.resolve(ke)},function(Le){return new fo(function(mt){So(U,Le.message,function(Pt){mt(Pt?Le.preprocess(ke):ke)})})})},_o={preprocess:di},Ei=function(U){var ke=U.dom.select("a:not([href])"),Le=ct(ke,function(mt){var Pt=mt.name||mt.id;return Pt?[{text:Pt,value:"#"+Pt}]:[]});return Le.length>0?Te.some([{text:"None",value:""}].concat(Le)):Te.none()},se={getAnchors:Ei},Re=function(U){var ke=tn(U);return ke.length>0?kt.sanitize(ke):Te.none()},ce={getClasses:Re},at=tinymce.util.Tools.resolve("tinymce.util.XHR"),dn=function(U){try{return Te.some(JSON.parse(U))}catch(ke){return Te.none()}},Mn=function(U){var ke=function(mt){return U.convertURL(mt.value||mt.url,"href")},Le=Kt(U);return new fo(function(mt){z(Le)?at.send({url:Le,success:function(Pt){return mt(dn(Pt))},error:function(Pt){return mt(Te.none())}}):Q(Le)?Le(function(Pt){return mt(Te.some(Pt))}):mt(Te.from(Le))}).then(function(mt){return mt.bind(kt.sanitizeWith(ke)).map(function(Pt){if(Pt.length>0){var Dn=[{text:"None",value:""}];return Dn.concat(Pt)}else return Pt})})},oe={getLinks:Mn},pe=function(U,ke){var Le=nn(U);if(Le.length>0){var mt=bt(ke,"_blank"),Pt=X(U)===!1,Dn=function(ea){return yn(kt.getValue(ea),mt)},Jn=Pt?kt.sanitizeWith(Dn):kt.sanitize;return Jn(Le)}return Te.none()},ut={getRels:pe},At=[{text:"Current window",value:""},{text:"New window",value:"_blank"}],R=function(U){var ke=et(U);return K(ke)?kt.sanitize(ke).orThunk(function(){return Te.some(At)}):ke===!1?Te.none():Te.some(At)},Z={getTargets:R},me=function(U,ke,Le){var mt=U.getAttrib(ke,Le);return mt!==null&&mt.length>0?Te.some(mt):Te.none()},Me=function(U,ke){var Le=U.dom,mt=Ln(U),Pt=mt?Te.some($t(U.selection,ke)):Te.none(),Dn=ke?Te.some(Le.getAttrib(ke,"href")):Te.none(),Jn=ke?Te.from(Le.getAttrib(ke,"target")):Te.none(),ea=me(Le,ke,"rel"),Pr=me(Le,ke,"class"),va=me(Le,ke,"title");return{url:Dn,text:Pt,title:va,target:Jn,rel:ea,linkClass:Pr}},Qe=function(U,ke){return oe.getLinks(U).then(function(Le){var mt=Me(U,ke);return{anchor:mt,catalogs:{targets:Z.getTargets(U),rels:ut.getRels(U,mt.target),classes:ce.getClasses(U),anchor:se.getAnchors(U),link:Le},optNode:Te.from(ke),flags:{titleEnabled:sn(U)}}})},rt={collect:Qe},ln=function(U,ke){return function(Le){var mt=Le.getData();if(!mt.url.value){Ta(U),Le.close();return}var Pt=function(ea){return Te.from(mt[ea]).filter(function(Pr){return!bt(ke.anchor[ea],Pr)})},Dn={href:mt.url.value,text:Pt("text"),target:Pt("target"),rel:Pt("rel"),class:Pt("linkClass"),title:Pt("title")},Jn={href:mt.url.value,attach:mt.url.meta!==void 0&&mt.url.meta.attach?mt.url.meta.attach:W};_o.preprocess(U,Dn).then(function(ea){Va(U,Jn,ea)}),Le.close()}},On=function(U){var ke=ze(U);return rt.collect(U,ke)},ir=function(U,ke){var Le=U.anchor,mt=Le.url.getOr("");return{url:{value:mt,meta:{original:{value:mt}}},text:Le.text.getOr(""),title:Le.title.getOr(""),anchor:mt,link:mt,rel:Le.rel.getOr(""),target:Le.target.or(ke).getOr(""),linkClass:Le.linkClass.getOr("")}},fr=function(U,ke,Le){var mt=[{name:"url",type:"urlinput",filetype:"file",label:"URL"}],Pt=U.anchor.text.map(function(){return{name:"text",type:"input",label:"Text to display"}}).toArray(),Dn=U.flags.titleEnabled?[{name:"title",type:"input",label:"Title"}]:[],Jn=Te.from(Rn(Le)),ea=ir(U,Jn),Pr=U.catalogs,va=Gn.init(ea,Pr),Ra={type:"panel",items:xe([mt,Pt,Dn,er([Pr.anchor.map(kt.createUi("anchor","Anchors")),Pr.rels.map(kt.createUi("rel","Rel")),Pr.targets.map(kt.createUi("target","Open link in...")),Pr.link.map(kt.createUi("link","Link list")),Pr.classes.map(kt.createUi("linkClass","Class"))])])};return{title:"Insert/Edit Link",size:"normal",body:Ra,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:ea,onChange:function(Ui,Yu){var cr=Yu.name;va.onChange(Ui.getData,{name:cr}).each(function(an){Ui.setData(an)})},onSubmit:ke}},mr=function(U){var ke=On(U);ke.then(function(Le){var mt=ln(U,Le);return fr(Le,mt,U)}).then(function(Le){U.windowManager.open(Le)})},Tr=function(U,ke){document.body.appendChild(U),U.dispatchEvent(ke),document.body.removeChild(U)},ia=function(U){var ke=document.createElement("a");ke.target="_blank",ke.href=U,ke.rel="noreferrer noopener";var Le=document.createEvent("MouseEvents");Le.initMouseEvent("click",!0,!0,window,0,0,0,0,0,!1,!1,!1,!1,0,null),Tr(ke,Le)},eo=function(U,ke){return U.dom.getParent(ke,"a[href]")},ko=function(U){return eo(U,U.selection.getStart())},Ri=function(U){return U.altKey===!0&&U.shiftKey===!1&&U.ctrlKey===!1&&U.metaKey===!1},Ti=function(U,ke){if(ke){var Le=Xt(ke);if(/^#/.test(Le)){var mt=U.$(Le);mt.length&&U.selection.scrollIntoView(mt[0],!0)}else ia(ke.href)}},to=function(U){return function(){mr(U)}},hu=function(U){return function(){Ti(U,ko(U))}},iu=function(U){U.on("click",function(ke){var Le=eo(U,ke.target);Le&&y.metaKeyPressed(ke)&&(ke.preventDefault(),Ti(U,Le))}),U.on("keydown",function(ke){var Le=ko(U);Le&&ke.keyCode===13&&Ri(ke)&&(ke.preventDefault(),Ti(U,Le))})},Qo=function(U,ke){return U.on("NodeChange",ke),function(){return U.off("NodeChange",ke)}},Eo=function(U){return function(ke){var Le=function(){return ke.setActive(!U.mode.isReadOnly()&&ze(U,U.selection.getNode())!==null)};return Le(),Qo(U,Le)}},Fu=function(U){return function(ke){var Le=function(){return ke.setDisabled(ze(U,U.selection.getNode())===null)};return Le(),Qo(U,Le)}},J=function(U){return function(ke){var Le=function(Pt){return fn(Pt)||vn(U.selection.getRng())},mt=U.dom.getParents(U.selection.getStart());return ke.setDisabled(!Le(mt)),Qo(U,function(Pt){return ke.setDisabled(!Le(Pt.parents))})}},Oe=function(U){U.addCommand("mceLink",function(){nr(U)?U.fire("contexttoolbar-show",{toolbarKey:"quicklink"}):to(U)()})},tt=function(U){U.addShortcut("Meta+K","",function(){U.execCommand("mceLink")})},_t=function(U){U.ui.registry.addToggleButton("link",{icon:"link",tooltip:"Insert/edit link",onAction:to(U),onSetup:Eo(U)}),U.ui.registry.addButton("openlink",{icon:"new-tab",tooltip:"Open link",onAction:hu(U),onSetup:Fu(U)}),U.ui.registry.addButton("unlink",{icon:"unlink",tooltip:"Remove link",onAction:function(){return Ta(U)},onSetup:J(U)})},kn=function(U){U.ui.registry.addMenuItem("openlink",{text:"Open link",icon:"new-tab",onAction:hu(U),onSetup:Fu(U)}),U.ui.registry.addMenuItem("link",{icon:"link",text:"Link...",shortcut:"Meta+K",onAction:to(U)}),U.ui.registry.addMenuItem("unlink",{icon:"unlink",text:"Remove link",onAction:function(){return Ta(U)},onSetup:J(U)})},$n=function(U){var ke="link unlink openlink",Le="link";U.ui.registry.addContextMenu("link",{update:function(mt){return fn(U.dom.getParents(mt,"a"))?ke:Le}})},rr=function(U){var ke=function(Pt){Pt.selection.collapse(!1)},Le=function(Pt){var Dn=U.selection.getNode();return Pt.setDisabled(!ze(U,Dn)),W},mt=function(Pt){var Dn=ze(U),Jn=Ln(U);if(!Dn&&Jn){var ea=$t(U.selection,Dn);return Te.some(ea.length>0?ea:Pt)}else return Te.none()};U.ui.registry.addContextForm("quicklink",{launch:{type:"contextformtogglebutton",icon:"link",tooltip:"Link",onSetup:Eo(U)},label:"Link",predicate:function(Pt){return!!ze(U,Pt)&&Ht(U)},initValue:function(){var Pt=ze(U);return Pt?Xt(Pt):""},commands:[{type:"contextformtogglebutton",icon:"link",tooltip:"Link",primary:!0,onSetup:function(Pt){var Dn=U.selection.getNode();return Pt.setActive(!!ze(U,Dn)),Eo(U)(Pt)},onAction:function(Pt){var Dn=Pt.getValue(),Jn=mt(Dn),ea={href:Dn,attach:W};Va(U,ea,{href:Dn,text:Jn,title:Te.none(),rel:Te.none(),target:Te.none(),class:Te.none()}),ke(U),Pt.hide()}},{type:"contextformbutton",icon:"unlink",tooltip:"Remove link",onSetup:Le,onAction:function(Pt){Ta(U),Pt.hide()}},{type:"contextformbutton",icon:"new-tab",tooltip:"Open link",onSetup:Le,onAction:function(Pt){hu(U)(),Pt.hide()}}]})};function Yr(){D.add("link",function(U){_t(U),kn(U),$n(U),rr(U),iu(U),Oe(U),tt(U)})}Yr()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(k){var I=typeof k;return k===null?"null":I==="object"&&(Array.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="Array")?"array":I==="object"&&(String.prototype.isPrototypeOf(k)||k.constructor&&k.constructor.name==="String")?"string":I},C=function(k){return function(I){return y(I)===k}},S=function(k){return function(I){return typeof I===k}},_=C("string"),M=C("object"),z=C("array"),K=S("boolean"),Y=S("function"),ye=S("number"),Q=function(){},W=function(k){return function(){return k}},ve=function(k){return k},he=function(k,I){return k===I},be=function(k){return function(I){return!k(I)}},ae=W(!1),Ae=W(!0),Ye=function(){return Ve},Ve=function(){var k=function(fe){return fe()},I=ve,j={fold:function(fe,Ge){return fe()},isSome:ae,isNone:Ae,getOr:I,getOrThunk:k,getOrDie:function(fe){throw new Error(fe||"error: getOrDie called on none.")},getOrNull:W(null),getOrUndefined:W(void 0),or:I,orThunk:k,map:Ye,each:Q,bind:Ye,exists:ae,forall:Ae,filter:function(){return Ye()},toArray:function(){return[]},toString:W("none()")};return j}(),L=function(k){var I=W(k),j=function(){return Ge},fe=function(Ot){return Ot(k)},Ge={fold:function(Ot,ur){return ur(k)},isSome:Ae,isNone:ae,getOr:I,getOrThunk:I,getOrDie:I,getOrNull:I,getOrUndefined:I,or:j,orThunk:j,map:function(Ot){return L(Ot(k))},each:function(Ot){Ot(k)},bind:fe,exists:fe,forall:fe,filter:function(Ot){return Ot(k)?Ge:Ve},toArray:function(){return[k]},toString:function(){return"some("+k+")"}};return Ge},_e=function(k){return k==null?Ve:L(k)},Te={some:L,none:Ye,from:_e},Be=Array.prototype.slice,gt=Array.prototype.push,Se=function(k,I){for(var j=k.length,fe=new Array(j),Ge=0;Ge<j;Ge++){var Ot=k[Ge];fe[Ge]=I(Ot,Ge)}return fe},je=function(k,I){for(var j=0,fe=k.length;j<fe;j++){var Ge=k[j];I(Ge,j)}},Ze=function(k,I){for(var j=[],fe=0,Ge=k.length;fe<Ge;fe++){var Ot=k[fe];I(Ot,fe)&&j.push(Ot)}return j},it=function(k,I){if(k.length===0)return[];for(var j=I(k[0]),fe=[],Ge=[],Ot=0,ur=k.length;Ot<ur;Ot++){var Nr=k[Ot],la=I(Nr);la!==j&&(fe.push(Ge),Ge=[]),j=la,Ge.push(Nr)}return Ge.length!==0&&fe.push(Ge),fe},G=function(k,I,j){return je(k,function(fe,Ge){j=I(j,fe,Ge)}),j},xe=function(k,I,j){for(var fe=0,Ge=k.length;fe<Ge;fe++){var Ot=k[fe];if(I(Ot,fe))return Te.some(Ot);if(j(Ot,fe))break}return Te.none()},ct=function(k,I){return xe(k,I,ae)},Tn=function(k){for(var I=[],j=0,fe=k.length;j<fe;++j){if(!z(k[j]))throw new Error("Arr.flatten item "+j+" was not an array, input: "+k);gt.apply(I,k[j])}return I},bt=function(k,I){return Tn(Se(k,I))},er=function(k){var I=Be.call(k,0);return I.reverse(),I},Er=function(k,I){return I>=0&&I<k.length?Te.some(k[I]):Te.none()},A=function(k){return Er(k,0)},Ht=function(k){return Er(k,k.length-1)},Kt=function(k,I){for(var j=0;j<k.length;j++){var fe=I(k[j],j);if(fe.isSome())return fe}return Te.none()},Rn=function(){return Rn=Object.assign||function(I){for(var j,fe=1,Ge=arguments.length;fe<Ge;fe++){j=arguments[fe];for(var Ot in j)Object.prototype.hasOwnProperty.call(j,Ot)&&(I[Ot]=j[Ot])}return I},Rn.apply(this,arguments)};function et(k,I,j){for(var fe=0,Ge=I.length,Ot;fe<Ge;fe++)(Ot||!(fe in I))&&(Ot||(Ot=Array.prototype.slice.call(I,0,fe)),Ot[fe]=I[fe]);return k.concat(Ot||Array.prototype.slice.call(I))}var nn=function(k){var I=!1,j;return function(){for(var fe=[],Ge=0;Ge<arguments.length;Ge++)fe[Ge]=arguments[Ge];return I||(I=!0,j=k.apply(null,fe)),j}},tn=function(k,I,j,fe){var Ge=k.isiOS()&&/ipad/i.test(j)===!0,Ot=k.isiOS()&&!Ge,ur=k.isiOS()||k.isAndroid(),Nr=ur||fe("(pointer:coarse)"),la=Ge||!Ot&&ur&&fe("(min-device-width:768px)"),Qr=Ot||ur&&!la,io=I.isSafari()&&k.isiOS()&&/safari/i.test(j)===!1,lu=!Qr&&!la&&!io;return{isiPad:W(Ge),isiPhone:W(Ot),isTablet:W(la),isPhone:W(Qr),isTouch:W(Nr),isAndroid:k.isAndroid,isiOS:k.isiOS,isWebView:W(io),isDesktop:W(lu)}},sn=function(k,I){for(var j=0;j<k.length;j++){var fe=k[j];if(fe.test(I))return fe}},X=function(k,I){var j=sn(k,I);if(!j)return{major:0,minor:0};var fe=function(Ge){return Number(I.replace(j,"$"+Ge))};return Ke(fe(1),fe(2))},nr=function(k,I){var j=String(I).toLowerCase();return k.length===0?St():X(k,j)},St=function(){return Ke(0,0)},Ke=function(k,I){return{major:k,minor:I}},bn={nu:Ke,detect:nr,unknown:St},Ue=function(k,I){return Kt(I.brands,function(j){var fe=j.brand.toLowerCase();return ct(k,function(Ge){var Ot;return fe===((Ot=Ge.brand)===null||Ot===void 0?void 0:Ot.toLowerCase())}).map(function(Ge){return{current:Ge.name,version:bn.nu(parseInt(j.version,10),0)}})})},We=function(k,I){var j=String(I).toLowerCase();return ct(k,function(fe){return fe.search(j)})},ft=function(k,I){return We(k,I).map(function(j){var fe=bn.detect(j.versionRegexes,I);return{current:j.name,version:fe}})},zt=function(k,I){return We(k,I).map(function(j){var fe=bn.detect(j.versionRegexes,I);return{current:j.name,version:fe}})},vt=function(k,I){return k.indexOf(I)!==-1},kt=function(k){return function(I){return I.replace(k,"")}},jn=kt(/^\s+|\s+$/g),Ce=function(k){return k.length>0},pt=function(k){return!Ce(k)},pn=/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,Nn=function(k){return function(I){return vt(I,k)}},Hn=[{name:"Edge",versionRegexes:[/.*?edge\/ ?([0-9]+)\.([0-9]+)$/],search:function(k){return vt(k,"edge/")&&vt(k,"chrome")&&vt(k,"safari")&&vt(k,"applewebkit")}},{name:"Chrome",brand:"Chromium",versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/,pn],search:function(k){return vt(k,"chrome")&&!vt(k,"chromeframe")}},{name:"IE",versionRegexes:[/.*?msie\ ?([0-9]+)\.([0-9]+).*/,/.*?rv:([0-9]+)\.([0-9]+).*/],search:function(k){return vt(k,"msie")||vt(k,"trident")}},{name:"Opera",versionRegexes:[pn,/.*?opera\/([0-9]+)\.([0-9]+).*/],search:Nn("opera")},{name:"Firefox",versionRegexes:[/.*?firefox\/\ ?([0-9]+)\.([0-9]+).*/],search:Nn("firefox")},{name:"Safari",versionRegexes:[pn,/.*?cpu os ([0-9]+)_([0-9]+).*/],search:function(k){return(vt(k,"safari")||vt(k,"mobile/"))&&vt(k,"applewebkit")}}],tr=[{name:"Windows",search:Nn("win"),versionRegexes:[/.*?windows\ nt\ ?([0-9]+)\.([0-9]+).*/]},{name:"iOS",search:function(k){return vt(k,"iphone")||vt(k,"ipad")},versionRegexes:[/.*?version\/\ ?([0-9]+)\.([0-9]+).*/,/.*cpu os ([0-9]+)_([0-9]+).*/,/.*cpu iphone os ([0-9]+)_([0-9]+).*/]},{name:"Android",search:Nn("android"),versionRegexes:[/.*?android\ ?([0-9]+)\.([0-9]+).*/]},{name:"OSX",search:Nn("mac os x"),versionRegexes:[/.*?mac\ os\ x\ ?([0-9]+)_([0-9]+).*/]},{name:"Linux",search:Nn("linux"),versionRegexes:[]},{name:"Solaris",search:Nn("sunos"),versionRegexes:[]},{name:"FreeBSD",search:Nn("freebsd"),versionRegexes:[]},{name:"ChromeOS",search:Nn("cros"),versionRegexes:[/.*?chrome\/([0-9]+)\.([0-9]+).*/]}],Fr={browsers:W(Hn),oses:W(tr)},Xr="Edge",oa="Chrome",Vt="IE",Ut="Opera",Bt="Firefox",Xe="Safari",ot=function(){return Xt({current:void 0,version:bn.unknown()})},Xt=function(k){var I=k.current,j=k.version,fe=function(Ge){return function(){return I===Ge}};return{current:I,version:j,isEdge:fe(Xr),isChrome:fe(oa),isIE:fe(Vt),isOpera:fe(Ut),isFirefox:fe(Bt),isSafari:fe(Xe)}},yn={unknown:ot,nu:Xt,edge:W(Xr),chrome:W(oa),ie:W(Vt),opera:W(Ut),firefox:W(Bt),safari:W(Xe)},Jt="Windows",ze="iOS",$t="Android",fn="Linux",vn="OSX",Ln="Solaris",Ee="FreeBSD",Ct="ChromeOS",dt=function(){return Wt({current:void 0,version:bn.unknown()})},Wt=function(k){var I=k.current,j=k.version,fe=function(Ge){return function(){return I===Ge}};return{current:I,version:j,isWindows:fe(Jt),isiOS:fe(ze),isAndroid:fe($t),isOSX:fe(vn),isLinux:fe(fn),isSolaris:fe(Ln),isFreeBSD:fe(Ee),isChromeOS:fe(Ct)}},Bn={unknown:dt,nu:Wt,windows:W(Jt),ios:W(ze),android:W($t),linux:W(fn),osx:W(vn),solaris:W(Ln),freebsd:W(Ee),chromeos:W(Ct)},pr=function(k,I,j){var fe=Fr.browsers(),Ge=Fr.oses(),Ot=I.bind(function(la){return Ue(fe,la)}).orThunk(function(){return ft(fe,k)}).fold(yn.unknown,yn.nu),ur=zt(Ge,k).fold(Bn.unknown,Bn.nu),Nr=tn(ur,Ot,k,j);return{browser:Ot,os:ur,deviceType:Nr}},xa={detect:pr},Ar=function(k){return window.matchMedia(k).matches},xr=nn(function(){return xa.detect(navigator.userAgent,Te.from(navigator.userAgentData),Ar)}),ha=function(){return xr()},Ja=function(k,I,j){return(k.compareDocumentPosition(I)&j)!==0},Va=function(k,I){return Ja(k,I,Node.DOCUMENT_POSITION_CONTAINED_BY)},Ta=1,Ga=function(k,I){var j=I||document,fe=j.createElement("div");if(fe.innerHTML=k,!fe.hasChildNodes()||fe.childNodes.length>1)throw new Error("HTML must have a single root node");return Pa(fe.childNodes[0])},xo=function(k,I){var j=I||document,fe=j.createElement(k);return Pa(fe)},Qa=function(k,I){var j=I||document,fe=j.createTextNode(k);return Pa(fe)},Pa=function(k){if(k==null)throw new Error("Node cannot be null or undefined");return{dom:k}},po=function(k,I,j){return Te.from(k.dom.elementFromPoint(I,j)).map(Pa)},zr={fromHtml:Ga,fromTag:xo,fromText:Qa,fromDom:Pa,fromPoint:po},bo=function(k,I){var j=k.dom;if(j.nodeType!==Ta)return!1;var fe=j;if(fe.matches!==void 0)return fe.matches(I);if(fe.msMatchesSelector!==void 0)return fe.msMatchesSelector(I);if(fe.webkitMatchesSelector!==void 0)return fe.webkitMatchesSelector(I);if(fe.mozMatchesSelector!==void 0)return fe.mozMatchesSelector(I);throw new Error("Browser lacks native selectors")},Gn=function(k,I){return k.dom===I.dom},vi=function(k,I){var j=k.dom,fe=I.dom;return j===fe?!1:j.contains(fe)},fo=function(k,I){return Va(k.dom,I.dom)},So=function(k,I){return ha().browser.isIE()?fo(k,I):vi(k,I)},oo=bo,No=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),di=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),_o=tinymce.util.Tools.resolve("tinymce.util.VK"),Ei=Object.keys,se=function(k,I){for(var j=Ei(k),fe=0,Ge=j.length;fe<Ge;fe++){var Ot=j[fe],ur=k[Ot];I(ur,Ot)}},Re=function(k){return function(I,j){k[j]=I}},ce=function(k,I,j,fe){var Ge={};return se(k,function(Ot,ur){(I(Ot,ur)?j:fe)(Ot,ur)}),Ge},at=function(k,I){var j={};return ce(k,I,Re(j),Q),j};typeof window!="undefined"||Function("return this;")();var dn=function(k){var I=k.dom.nodeName;return I.toLowerCase()},Mn=function(k){return k.dom.nodeType},oe=function(k){return function(I){return Mn(I)===k}},pe=oe(Ta),ut=function(k){return function(I){return pe(I)&&dn(I)===k}},At=function(k,I,j){if(_(j)||K(j)||ye(j))k.setAttribute(I,j+"");else throw new Error("Attribute value was not simple")},R=function(k,I){var j=k.dom;se(I,function(fe,Ge){At(j,Ge,fe)})},Z=function(k){return G(k.dom.attributes,function(I,j){return I[j.name]=j.value,I},{})},me=function(k){return Te.from(k.dom.parentNode).map(zr.fromDom)},Me=function(k){return Se(k.dom.childNodes,zr.fromDom)},Qe=function(k,I){var j=k.dom.childNodes;return Te.from(j[I]).map(zr.fromDom)},rt=function(k){return Qe(k,0)},ln=function(k){return Qe(k,k.dom.childNodes.length-1)},On=function(k,I){var j=me(k);j.each(function(fe){fe.dom.insertBefore(I.dom,k.dom)})},ir=function(k,I){k.dom.appendChild(I.dom)},fr=function(k,I){je(I,function(j){On(k,j)})},mr=function(k,I){je(I,function(j){ir(k,j)})},Tr=function(k){var I=k.dom;I.parentNode!==null&&I.parentNode.removeChild(I)},ia=function(k,I){return zr.fromDom(k.dom.cloneNode(I))},eo=function(k){return ia(k,!0)},ko=function(k,I){var j=zr.fromTag(I),fe=Z(k);return R(j,fe),j},Ri=function(k,I){var j=ko(k,I);On(k,j);var fe=Me(k);return mr(j,fe),Tr(k),j},Ti=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),to=tinymce.util.Tools.resolve("tinymce.util.Tools"),hu=function(k){return function(I){return I&&I.nodeName.toLowerCase()===k}},iu=function(k){return function(I){return I&&k.test(I.nodeName)}},Qo=function(k){return k&&k.nodeType===3},Eo=iu(/^(OL|UL|DL)$/),Fu=iu(/^(OL|UL)$/),J=hu("ol"),Oe=iu(/^(LI|DT|DD)$/),tt=iu(/^(DT|DD)$/),_t=iu(/^(TH|TD)$/),kn=hu("br"),$n=function(k){return k.parentNode.firstChild===k},rr=function(k,I){return I&&!!k.schema.getTextBlockElements()[I.nodeName]},Yr=function(k,I){return k&&k.nodeName in I},U=function(k,I){return kn(I)?k.isBlock(I.nextSibling)&&!kn(I.previousSibling):!1},ke=function(k,I,j){var fe=k.isEmpty(I);return j&&k.select("span[data-mce-type=bookmark]",I).length>0?!1:fe},Le=function(k,I){return k.isChildOf(I,k.getRoot())},mt=function(k){return k.getParam("lists_indent_on_tab",!0)},Pt=function(k){var I=k.getParam("forced_root_block","p");return I===!1?"":I===!0?"p":I},Dn=function(k){return k.getParam("forced_root_block_attrs",{})},Jn=function(k,I){var j=k.dom,fe=k.schema.getBlockElements(),Ge=j.createFragment(),Ot=Pt(k),ur,Nr,la;if(Ot&&(Nr=j.create(Ot),Nr.tagName===Ot.toUpperCase()&&j.setAttribs(Nr,Dn(k)),Yr(I.firstChild,fe)||Ge.appendChild(Nr)),I)for(;ur=I.firstChild;){var Qr=ur.nodeName;!la&&(Qr!=="SPAN"||ur.getAttribute("data-mce-type")!=="bookmark")&&(la=!0),Yr(ur,fe)?(Ge.appendChild(ur),Nr=null):Ot?(Nr||(Nr=j.create(Ot),Ge.appendChild(Nr)),Nr.appendChild(ur)):Ge.appendChild(ur)}return Ot?la||Nr.appendChild(j.create("br",{"data-mce-bogus":"1"})):Ge.appendChild(j.create("br")),Ge},ea=Ti.DOM,Pr=function(k,I,j){var fe=function(Qr){to.each(Ge,function(io){Qr.parentNode.insertBefore(io,j.parentNode)}),ea.remove(Qr)},Ge=ea.select('span[data-mce-type="bookmark"]',I),Ot=Jn(k,j),ur=ea.createRng();ur.setStartAfter(j),ur.setEndAfter(I);for(var Nr=ur.extractContents(),la=Nr.firstChild;la;la=la.firstChild)if(la.nodeName==="LI"&&k.dom.isEmpty(la)){ea.remove(la);break}k.dom.isEmpty(Nr)||ea.insertAfter(Nr,I),ea.insertAfter(Ot,I),ke(k.dom,j.parentNode)&&fe(j.parentNode),ea.remove(j),ke(k.dom,I)&&ea.remove(I)},va=ut("dd"),Ra=ut("dt"),Ui=function(k,I){va(I)?Ri(I,"dt"):Ra(I)&&me(I).each(function(j){return Pr(k,j.dom,I.dom)})},Yu=function(k){Ra(k)&&Ri(k,"dd")},cr=function(k,I,j){I==="Indent"?je(j,Yu):je(j,function(fe){return Ui(k,fe)})},an=function(k,I){if(Qo(k))return{container:k,offset:I};var j=No.getNode(k,I);return Qo(j)?{container:j,offset:I>=k.childNodes.length?j.data.length:0}:j.previousSibling&&Qo(j.previousSibling)?{container:j.previousSibling,offset:j.previousSibling.data.length}:j.nextSibling&&Qo(j.nextSibling)?{container:j.nextSibling,offset:0}:{container:k,offset:I}},pa=function(k){var I=k.cloneRange(),j=an(k.startContainer,k.startOffset);I.setStart(j.container,j.offset);var fe=an(k.endContainer,k.endOffset);return I.setEnd(fe.container,fe.offset),I},yo=tinymce.util.Tools.resolve("tinymce.dom.DomQuery"),qo=function(k,I){var j=I||k.selection.getStart(!0);return k.dom.getParent(j,"OL,UL,DL",Wi(k,j))},gs=function(k,I){return k&&I.length===1&&I[0]===k},hs=function(k){return Ze(k.querySelectorAll("ol,ul,dl"),Eo)},Hs=function(k){var I=qo(k),j=k.selection.getSelectedBlocks();return gs(I,j)?hs(I):Ze(j,function(fe){return Eo(fe)&&I!==fe})},_a=function(k,I){var j=to.map(I,function(fe){var Ge=k.dom.getParent(fe,"li,dd,dt",Wi(k,fe));return Ge||fe});return yo.unique(j)},Iu=function(k){var I=k.selection.getSelectedBlocks();return Ze(_a(k,I),Oe)},Vs=function(k){return Ze(Iu(k),tt)},Wi=function(k,I){var j=k.dom.getParents(I,"TD,TH");return j.length>0?j[0]:k.getBody()},ei=function(k,I){var j=k.dom.getParents(I,"ol,ul",Wi(k,I));return Ht(j)},il=function(k){var I=ei(k,k.selection.getStart()),j=Ze(k.selection.getSelectedBlocks(),Fu);return I.toArray().concat(j)},Tt=function(k){var I=il(k);return ps(k,I)},ps=function(k,I){var j=Se(I,function(fe){return ei(k,fe).getOr(fe)});return yo.unique(j)},Lo=function(k,I,j){return j===void 0&&(j=he),k.exists(function(fe){return j(fe,I)})},El=function(k,I,j){return k.isSome()&&I.isSome()?Te.some(j(k.getOrDie(),I.getOrDie())):Te.none()},Zu=function(k,I){var j=document,fe=j.createDocumentFragment();return je(k,function(Ge){fe.appendChild(Ge.dom)}),zr.fromDom(fe)},B=function(k,I,j){return k.fire("ListMutation",{action:I,element:j})},w=function(k){return k.style!==void 0&&Y(k.style.getPropertyValue)},h=function(k,I,j){if(!_(j))throw new Error("CSS value must be a string: "+j);w(k)&&k.style.setProperty(I,j)},T=function(k,I,j){var fe=k.dom;h(fe,I,j)},H=function(k,I){ir(k.item,I.list)},ue=function(k){for(var I=1;I<k.length;I++)H(k[I-1],k[I])},He=function(k,I){El(Ht(k),A(I),H)},Nt=function(k,I){var j={list:zr.fromTag(I,k),item:zr.fromTag("li",k)};return ir(j.list,j.item),j},Kn=function(k,I,j){for(var fe=[],Ge=0;Ge<j;Ge++)fe.push(Nt(k,I.listType));return fe},vr=function(k,I){for(var j=0;j<k.length-1;j++)T(k[j].item,"list-style-type","none");Ht(k).each(function(fe){R(fe.list,I.listAttributes),R(fe.item,I.itemAttributes),mr(fe.item,I.content)})},wn=function(k,I){dn(k.list)!==I.listType&&(k.list=Ri(k.list,I.listType)),R(k.list,I.listAttributes)},qn=function(k,I,j){var fe=zr.fromTag("li",k);return R(fe,I),mr(fe,j),fe},Rr=function(k,I){ir(k.list,I),k.item=I},Wr=function(k,I,j){var fe=I.slice(0,j.depth);return Ht(fe).each(function(Ge){var Ot=qn(k,j.itemAttributes,j.content);Rr(Ge,Ot),wn(Ge,j)}),fe},Sr=function(k,I,j){var fe=Kn(k,j,j.depth-I.length);return ue(fe),vr(fe,j),He(I,fe),I.concat(fe)},Ua=function(k,I){var j=G(I,function(fe,Ge){return Ge.depth>fe.length?Sr(k,fe,Ge):Wr(k,fe,Ge)},[]);return A(j).map(function(fe){return fe.list})},wr=function(k){return oo(k,"OL,UL")},Aa=function(k){return rt(k).exists(wr)},Sa=function(k){return ln(k).exists(wr)},ji=function(k){return k.depth>0},qr=function(k){return k.isSelected},Pd=function(k){var I=Me(k),j=Sa(k)?I.slice(0,-1):I;return Se(j,eo)},vo=function(k,I,j){return me(k).filter(pe).map(function(fe){return{depth:I,dirty:!1,isSelected:j,content:Pd(k),itemAttributes:Z(k),listAttributes:Z(fe),listType:dn(fe)}})},Ho=function(k,I){switch(k){case"Indent":I.depth++;break;case"Outdent":I.depth--;break;case"Flatten":I.depth=0}I.dirty=!0},zp=function(k,I){k.listType=I.listType,k.listAttributes=Rn({},I.listAttributes)},Ai=function(k){k.listAttributes=at(k.listAttributes,function(I,j){return j!=="start"})},Ig=function(k,I){var j=k[I].depth,fe=function(Ot){return Ot.depth===j&&!Ot.dirty},Ge=function(Ot){return Ot.depth<j};return xe(er(k.slice(0,I)),fe,Ge).orThunk(function(){return xe(k.slice(I+1),fe,Ge)})},Rd=function(k){return je(k,function(I,j){Ig(k,j).fold(function(){I.dirty&&Ai(I)},function(fe){return zp(I,fe)})}),k},Mr=function(k){var I=k,j=function(){return I},fe=function(Ge){I=Ge};return{get:j,set:fe}},Tl=function(k,I,j,fe){return rt(fe).filter(wr).fold(function(){I.each(function(ur){Gn(ur.start,fe)&&j.set(!0)});var Ge=vo(fe,k,j.get());I.each(function(ur){Gn(ur.end,fe)&&j.set(!1)});var Ot=ln(fe).filter(wr).map(function(ur){return vc(k,I,j,ur)}).getOr([]);return Ge.toArray().concat(Ot)},function(Ge){return vc(k,I,j,Ge)})},vc=function(k,I,j,fe){return bt(Me(fe),function(Ge){var Ot=wr(Ge)?vc:Tl,ur=k+1;return Ot(ur,I,j,Ge)})},Fo=function(k,I){var j=Mr(!1),fe=0;return Se(k,function(Ge){return{sourceList:Ge,entries:vc(fe,I,j,Ge)}})},$p=function(k,I){var j=Rd(I);return Se(j,function(fe){var Ge=Zu(fe.content);return zr.fromDom(Jn(k,Ge.dom))})},Oi=function(k,I){var j=Rd(I);return Ua(k.contentDocument,j).toArray()},Lc=function(k,I){return bt(it(I,ji),function(j){var fe=A(j).exists(ji);return fe?Oi(k,j):$p(k,j)})},bf=function(k,I){je(Ze(k,qr),function(j){return Ho(I,j)})},Ia=function(k){var I=Se(Iu(k),zr.fromDom);return El(ct(I,be(Aa)),ct(er(I),be(Aa)),function(j,fe){return{start:j,end:fe}})},Hc=function(k,I,j){var fe=Fo(I,Ia(k));je(fe,function(Ge){bf(Ge.entries,j);var Ot=Lc(k,Ge.entries);je(Ot,function(ur){B(k,j==="Indent"?"IndentList":"OutdentList",ur.dom)}),fr(Ge.sourceList,Ot),Tr(Ge.sourceList)})},pu=function(k,I){var j=Se(Tt(k),zr.fromDom),fe=Se(Vs(k),zr.fromDom),Ge=!1;if(j.length||fe.length){var Ot=k.selection.getBookmark();Hc(k,j,I),cr(k,I,fe),k.selection.moveToBookmark(Ot),k.selection.setRng(pa(k.selection.getRng())),k.nodeChanged(),Ge=!0}return Ge},Vc=function(k){return pu(k,"Indent")},ti=function(k){return pu(k,"Outdent")},bs=function(k){return pu(k,"Flatten")},Lp=tinymce.util.Tools.resolve("tinymce.dom.BookmarkManager"),Uc=Ti.DOM,Ka=function(k){var I={},j=function(fe){var Ge=k[fe?"startContainer":"endContainer"],Ot=k[fe?"startOffset":"endOffset"];if(Ge.nodeType===1){var ur=Uc.create("span",{"data-mce-type":"bookmark"});Ge.hasChildNodes()?(Ot=Math.min(Ot,Ge.childNodes.length-1),fe?Ge.insertBefore(ur,Ge.childNodes[Ot]):Uc.insertAfter(ur,Ge.childNodes[Ot])):Ge.appendChild(ur),Ge=ur,Ot=0}I[fe?"startContainer":"endContainer"]=Ge,I[fe?"startOffset":"endOffset"]=Ot};return j(!0),k.collapsed||j(),I},yf=function(k){var I=function(fe){var Ge,Ot=function(la){for(var Qr=la.parentNode.firstChild,io=0;Qr;){if(Qr===la)return io;(Qr.nodeType!==1||Qr.getAttribute("data-mce-type")!=="bookmark")&&io++,Qr=Qr.nextSibling}return-1},ur=Ge=k[fe?"startContainer":"endContainer"],Nr=k[fe?"startOffset":"endOffset"];ur&&(ur.nodeType===1&&(Nr=Ot(ur),ur=ur.parentNode,Uc.remove(Ge),!ur.hasChildNodes()&&Uc.isBlock(ur)&&ur.appendChild(Uc.create("br"))),k[fe?"startContainer":"endContainer"]=ur,k[fe?"startOffset":"endOffset"]=Nr)};I(!0),I();var j=Uc.createRng();return j.setStart(k.startContainer,k.startOffset),k.endContainer&&j.setEnd(k.endContainer,k.endOffset),pa(j)},Wc=function(k){switch(k){case"UL":return"ToggleUlList";case"OL":return"ToggleOlList";case"DL":return"ToggleDLList"}},bu=function(k){return/\btox\-/.test(k.className)},jc=function(k,I,j){var fe=function(Ot){var ur=xe(Ot.parents,Eo,_t).filter(function(Nr){return Nr.nodeName===I&&!bu(Nr)}).isSome();j(ur)},Ge=k.dom.getParents(k.selection.getNode());return fe({parents:Ge}),k.on("NodeChange",fe),function(){return k.off("NodeChange",fe)}},Nd=function(k,I,j){var fe=j["list-style-type"]?j["list-style-type"]:null;k.setStyle(I,"list-style-type",fe)},Hp=function(k,I){to.each(I,function(j,fe){k.setAttribute(fe,j)})},uu=function(k,I,j){Hp(I,j["list-attributes"]),to.each(k.select("li",I),function(fe){Hp(fe,j["list-item-attributes"])})},dc=function(k,I,j){Nd(k,I,j),uu(k,I,j)},Us=function(k,I,j){to.each(j,function(fe){var Ge;return k.setStyle(I,(Ge={},Ge[fe]="",Ge))})},wf=function(k,I,j,fe){var Ge=I[j?"startContainer":"endContainer"],Ot=I[j?"startOffset":"endOffset"];for(Ge.nodeType===1&&(Ge=Ge.childNodes[Math.min(Ot,Ge.childNodes.length-1)]||Ge),!j&&kn(Ge.nextSibling)&&(Ge=Ge.nextSibling);Ge.parentNode!==fe;){if(rr(k,Ge)||/^(TD|TH)$/.test(Ge.parentNode.nodeName))return Ge;Ge=Ge.parentNode}return Ge},zg=function(k,I,j){for(var fe=[],Ge=k.dom,Ot=wf(k,I,!0,j),ur=wf(k,I,!1,j),Nr,la=[],Qr=Ot;Qr&&(la.push(Qr),Qr!==ur);Qr=Qr.nextSibling);return to.each(la,function(io){if(rr(k,io)){fe.push(io),Nr=null;return}if(Ge.isBlock(io)||kn(io)){kn(io)&&Ge.remove(io),Nr=null;return}var lu=io.nextSibling;if(Lp.isBookmarkNode(io)&&(Eo(lu)||rr(k,lu)||!lu&&io.parentNode===j)){Nr=null;return}Nr||(Nr=Ge.create("p"),io.parentNode.insertBefore(Nr,io),fe.push(Nr)),Nr.appendChild(io)}),fe},Ni=function(k,I,j){var fe=k.getStyle(I,"list-style-type"),Ge=j?j["list-style-type"]:"";return Ge=Ge===null?"":Ge,fe===Ge},Fd=function(k,I,j){var fe=k.selection.getRng(),Ge="LI",Ot=Wi(k,k.selection.getStart(!0)),ur=k.dom;if(ur.getContentEditable(k.selection.getNode())!=="false"){I=I.toUpperCase(),I==="DL"&&(Ge="DT");var Nr=Ka(fe),la=zg(k,fe,Ot);to.each(la,function(Qr){var io,lu=Qr.previousSibling,Up=Qr.parentNode;Oe(Up)||(lu&&Eo(lu)&&lu.nodeName===I&&Ni(ur,lu,j)?(io=lu,Qr=ur.rename(Qr,Ge),lu.appendChild(Qr)):(io=ur.create(I),Qr.parentNode.insertBefore(io,Qr),io.appendChild(Qr),Qr=ur.rename(Qr,Ge)),Us(ur,Qr,["margin","margin-right","margin-bottom","margin-left","margin-top","padding","padding-right","padding-bottom","padding-left","padding-top"]),dc(ur,io,j),zd(k.dom,io))}),k.selection.setRng(yf(Nr))}},Ay=function(k,I){return k&&I&&Eo(k)&&k.nodeName===I.nodeName},Id=function(k,I,j){var fe=k.getStyle(I,"list-style-type",!0),Ge=k.getStyle(j,"list-style-type",!0);return fe===Ge},$g=function(k,I){return k.className===I.className},Io=function(k,I,j){return Ay(I,j)&&Id(k,I,j)&&$g(I,j)},zd=function(k,I){var j,fe;if(j=I.nextSibling,Io(k,I,j)){for(;fe=j.firstChild;)I.appendChild(fe);k.remove(j)}if(j=I.previousSibling,Io(k,I,j)){for(;fe=j.lastChild;)I.insertBefore(fe,I.firstChild);k.remove(j)}},kv=function(k,I,j,fe){if(I.nodeName!==j){var Ge=k.dom.rename(I,j);dc(k.dom,Ge,fe),B(k,Wc(j),Ge)}else dc(k.dom,I,fe),B(k,Wc(j),I)},qi=function(k,I,j,fe,Ge){var Ot=Eo(I);if(Ot&&I.nodeName===fe&&!qc(Ge))bs(k);else{Fd(k,fe,Ge);var ur=Ka(k.selection.getRng()),Nr=Ot?et([I],j):j;to.each(Nr,function(la){kv(k,la,fe,Ge)}),k.selection.setRng(yf(ur))}},qc=function(k){return"list-style-type"in k},Oy=function(k,I,j,fe){if(I!==k.getBody())if(I)if(I.nodeName===j&&!qc(fe)&&!bu(I))bs(k);else{var Ge=Ka(k.selection.getRng());dc(k.dom,I,fe);var Ot=k.dom.rename(I,j);zd(k.dom,Ot),k.selection.setRng(yf(Ge)),Fd(k,j,fe),B(k,Wc(j),Ot)}else Fd(k,j,fe),B(k,Wc(j),I)},Gc=function(k,I,j){var fe=qo(k),Ge=Hs(k),Ot=M(j)?j:{};Ge.length>0?qi(k,fe,Ge,I,Ot):Oy(k,fe,I,Ot)},$d=Ti.DOM,ys=function(k,I){var j=I.parentNode;if(j.nodeName==="LI"&&j.firstChild===I){var fe=j.previousSibling;fe&&fe.nodeName==="LI"?(fe.appendChild(I),ke(k,j)&&$d.remove(j)):$d.setStyle(j,"listStyleType","none")}if(Eo(j)){var fe=j.previousSibling;fe&&fe.nodeName==="LI"&&fe.appendChild(I)}},Lg=function(k,I){var j=to.grep(k.select("ol,ul",I));to.each(j,function(fe){ys(k,fe)})},ws=function(k,I,j,fe){var Ge=I.startContainer,Ot=I.startOffset;if(Qo(Ge)&&(j?Ot<Ge.data.length:Ot>0))return Ge;var ur=k.schema.getNonEmptyElements();Ge.nodeType===1&&(Ge=No.getNode(Ge,Ot));var Nr=new di(Ge,fe);for(j&&U(k.dom,Ge)&&Nr.next();Ge=Nr[j?"next":"prev2"]();)if(Ge.nodeName==="LI"&&!Ge.hasChildNodes()||ur[Ge.nodeName]||Qo(Ge)&&Ge.data.length>0)return Ge},Ld=function(k,I){var j=I.childNodes;return j.length===1&&!Eo(j[0])&&k.isBlock(j[0])},Dy=function(k,I){Ld(k,I)&&k.remove(I.firstChild,!0)},Hg=function(k,I,j){var fe,Ge=Ld(k,j)?j.firstChild:j;if(Dy(k,I),!ke(k,I,!0))for(;fe=I.firstChild;)Ge.appendChild(fe)},Ev=function(k,I,j){var fe,Ge=I.parentNode;if(!(!Le(k,I)||!Le(k,j))){Eo(j.lastChild)&&(fe=j.lastChild),Ge===j.lastChild&&kn(Ge.previousSibling)&&k.remove(Ge.previousSibling);var Ot=j.lastChild;Ot&&kn(Ot)&&I.hasChildNodes()&&k.remove(Ot),ke(k,j,!0)&&k.$(j).empty(),Hg(k,I,j),fe&&j.appendChild(fe);var ur=So(zr.fromDom(j),zr.fromDom(I)),Nr=ur?k.getParents(I,Eo,j):[];k.remove(I),je(Nr,function(la){ke(k,la)&&la!==k.getRoot()&&k.remove(la)})}},Cf=function(k,I,j){k.dom.$(j).empty(),Ev(k.dom,I,j),k.selection.setCursorLocation(j,0)},Hd=function(k,I,j,fe){var Ge=k.dom;if(Ge.isEmpty(fe))Cf(k,j,fe);else{var Ot=Ka(I);Ev(Ge,j,fe),k.selection.setRng(yf(Ot))}},Br=function(k,I,j,fe){var Ge=Ka(I);Ev(k.dom,j,fe);var Ot=yf(Ge);k.selection.setRng(Ot)},Cs=function(k,I){var j=k.dom,fe=k.selection,Ge=fe.getStart(),Ot=Wi(k,Ge),ur=j.getParent(fe.getStart(),"LI",Ot);if(ur){var Nr=ur.parentNode;if(Nr===k.getBody()&&ke(j,Nr))return!0;var la=pa(fe.getRng()),Qr=j.getParent(ws(k,la,I,Ot),"LI",Ot);if(Qr&&Qr!==ur)return k.undoManager.transact(function(){I?Hd(k,la,Qr,ur):$n(ur)?ti(k):Br(k,la,ur,Qr)}),!0;if(!Qr&&!I&&la.startOffset===0&&la.endOffset===0)return k.undoManager.transact(function(){bs(k)}),!0}return!1},Vd=function(k,I,j){var fe=k.getParent(I.parentNode,k.isBlock,j);k.remove(I),fe&&k.isEmpty(fe)&&k.remove(fe)},Ud=function(k,I){var j=k.dom,fe=k.selection.getStart(),Ge=Wi(k,fe),Ot=j.getParent(fe,j.isBlock,Ge);if(Ot&&j.isEmpty(Ot)){var ur=pa(k.selection.getRng()),Nr=j.getParent(ws(k,ur,I,Ge),"LI",Ge);if(Nr)return k.undoManager.transact(function(){Vd(j,Ot,Ge),zd(j,Nr.parentNode),k.selection.select(Nr,!0),k.selection.collapse(I)}),!0}return!1},_y=function(k,I){return Cs(k,I)||Ud(k,I)},Kc=function(k){var I=k.selection.getStart(),j=Wi(k,I),fe=k.dom.getParent(I,"LI,DT,DD",j);return fe||Iu(k).length>0?(k.undoManager.transact(function(){k.execCommand("Delete"),Lg(k.dom,k.getBody())}),!0):!1},mi=function(k,I){return k.selection.isCollapsed()?_y(k,I):Kc(k)},gi=function(k){k.on("keydown",function(I){I.keyCode===_o.BACKSPACE?mi(k,!1)&&I.preventDefault():I.keyCode===_o.DELETE&&mi(k,!0)&&I.preventDefault()})},mc=function(k){return{backspaceDelete:function(I){mi(k,I)}}},xs=function(k,I){var j=qo(k);k.undoManager.transact(function(){M(I.styles)&&k.dom.setStyles(j,I.styles),M(I.attrs)&&se(I.attrs,function(fe,Ge){return k.dom.setAttrib(j,Ge,fe)})})},Wn=function(k){var I=er(jn(k).split("")),j=Se(I,function(fe,Ge){var Ot=fe.toUpperCase().charCodeAt(0)-65+1;return Math.pow(26,Ge)*Ot});return G(j,function(fe,Ge){return fe+Ge},0)},Xc=function(k){if(k--,k<0)return"";var I=k%26,j=Math.floor(k/26),fe=Xc(j),Ge=String.fromCharCode(65+I);return fe+Ge},Vg=function(k){return/^[A-Z]+$/.test(k)},jr=function(k){return/^[a-z]+$/.test(k)},za=function(k){return/^[0-9]+$/.test(k)},Ug=function(k){return za(k)?2:Vg(k)?0:jr(k)?1:pt(k)?3:4},ul=function(k){switch(Ug(k)){case 2:return Te.some({listStyleType:Te.none(),start:k});case 0:return Te.some({listStyleType:Te.some("upper-alpha"),start:Wn(k).toString()});case 1:return Te.some({listStyleType:Te.some("lower-alpha"),start:Wn(k).toString()});case 3:return Te.some({listStyleType:Te.none(),start:""});case 4:return Te.none()}},so=function(k){var I=parseInt(k.start,10);return Lo(k.listStyleType,"upper-alpha")?Xc(I):Lo(k.listStyleType,"lower-alpha")?Xc(I).toLowerCase():k.start},Wd=function(k){var I=qo(k);J(I)&&k.windowManager.open({title:"List Properties",body:{type:"panel",items:[{type:"input",name:"start",label:"Start list at number",inputMode:"numeric"}]},initialData:{start:so({start:k.dom.getAttrib(I,"start","1"),listStyleType:Te.some(k.dom.getStyle(I,"list-style-type"))})},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(j){var fe=j.getData();ul(fe.start).each(function(Ge){k.execCommand("mceListUpdate",!1,{attrs:{start:Ge.start==="1"?"":Ge.start},styles:{"list-style-type":Ge.listStyleType.getOr("")}})}),j.close()}})},zu=function(k,I){return function(){var j=qo(k);return j&&j.nodeName===I}},Tv=function(k){k.addCommand("mceListProps",function(){Wd(k)})},Vp=function(k){k.on("BeforeExecCommand",function(I){var j=I.command.toLowerCase();j==="indent"?Vc(k):j==="outdent"&&ti(k)}),k.addCommand("InsertUnorderedList",function(I,j){Gc(k,"UL",j)}),k.addCommand("InsertOrderedList",function(I,j){Gc(k,"OL",j)}),k.addCommand("InsertDefinitionList",function(I,j){Gc(k,"DL",j)}),k.addCommand("RemoveList",function(){bs(k)}),Tv(k),k.addCommand("mceListUpdate",function(I,j){M(j)&&xs(k,j)}),k.addQueryStateHandler("InsertUnorderedList",zu(k,"UL")),k.addQueryStateHandler("InsertOrderedList",zu(k,"OL")),k.addQueryStateHandler("InsertDefinitionList",zu(k,"DL"))},su=function(k){k.on("keydown",function(I){I.keyCode!==_o.TAB||_o.metaKeyPressed(I)||k.undoManager.transact(function(){(I.shiftKey?ti(k):Vc(k))&&I.preventDefault()})})},My=function(k){mt(k)&&su(k),gi(k)},By=function(k){var I=function(j){return function(){return k.execCommand(j)}};k.hasPlugin("advlist")||(k.ui.registry.addToggleButton("numlist",{icon:"ordered-list",active:!1,tooltip:"Numbered list",onAction:I("InsertOrderedList"),onSetup:function(j){return jc(k,"OL",j.setActive)}}),k.ui.registry.addToggleButton("bullist",{icon:"unordered-list",active:!1,tooltip:"Bullet list",onAction:I("InsertUnorderedList"),onSetup:function(j){return jc(k,"UL",j.setActive)}}))},mo=function(k){var I={text:"List properties...",icon:"ordered-list",onAction:function(){return k.execCommand("mceListProps")},onSetup:function(j){return jc(k,"OL",function(fe){return j.setDisabled(!fe)})}};k.ui.registry.addMenuItem("listprops",I),k.ui.registry.addContextMenu("lists",{update:function(j){var fe=qo(k,j);return J(fe)?["listprops"]:[]}})};function Wg(){D.add("lists",function(k){return k.hasPlugin("rtc",!0)===!1?(My(k),Vp(k)):Tv(k),By(k),mo(k),mc(k)})}Wg()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(){return y=Object.assign||function(Re){for(var ce,at=1,dn=arguments.length;at<dn;at++){ce=arguments[at];for(var Mn in ce)Object.prototype.hasOwnProperty.call(ce,Mn)&&(Re[Mn]=ce[Mn])}return Re},y.apply(this,arguments)},C=function(se){var Re=typeof se;return se===null?"null":Re==="object"&&(Array.prototype.isPrototypeOf(se)||se.constructor&&se.constructor.name==="Array")?"array":Re==="object"&&(String.prototype.isPrototypeOf(se)||se.constructor&&se.constructor.name==="String")?"string":Re},S=function(se){return function(Re){return C(Re)===se}},_=S("string"),M=S("object"),z=S("array"),K=function(se){return se==null},Y=function(se){return!K(se)},ye=function(){},Q=function(se){return function(){return se}},W=function(se){return se},ve=Q(!1),he=Q(!0),be=function(){return ae},ae=function(){var se=function(at){return at()},Re=W,ce={fold:function(at,dn){return at()},isSome:ve,isNone:he,getOr:Re,getOrThunk:se,getOrDie:function(at){throw new Error(at||"error: getOrDie called on none.")},getOrNull:Q(null),getOrUndefined:Q(void 0),or:Re,orThunk:se,map:be,each:ye,bind:be,exists:ve,forall:he,filter:function(){return be()},toArray:function(){return[]},toString:Q("none()")};return ce}(),Ae=function(se){var Re=Q(se),ce=function(){return dn},at=function(Mn){return Mn(se)},dn={fold:function(Mn,oe){return oe(se)},isSome:he,isNone:ve,getOr:Re,getOrThunk:Re,getOrDie:Re,getOrNull:Re,getOrUndefined:Re,or:ce,orThunk:ce,map:function(Mn){return Ae(Mn(se))},each:function(Mn){Mn(se)},bind:at,exists:at,forall:at,filter:function(Mn){return Mn(se)?dn:ae},toArray:function(){return[se]},toString:function(){return"some("+se+")"}};return dn},Ye=function(se){return se==null?ae:Ae(se)},Ve={some:Ae,none:be,from:Ye},L=Array.prototype.push,_e=function(se,Re){for(var ce=0,at=se.length;ce<at;ce++){var dn=se[ce];Re(dn,ce)}},Te=function(se){for(var Re=[],ce=0,at=se.length;ce<at;++ce){if(!z(se[ce]))throw new Error("Arr.flatten item "+ce+" was not an array, input: "+se);L.apply(Re,se[ce])}return Re},Be=function(se){var Re=se,ce=function(){return Re},at=function(dn){Re=dn};return{get:ce,set:at}},gt=Object.keys,Se=Object.hasOwnProperty,je=function(se,Re){for(var ce=gt(se),at=0,dn=ce.length;at<dn;at++){var Mn=ce[at],oe=se[Mn];Re(oe,Mn)}},Ze=function(se,Re){return it(se,Re)?Ve.from(se[Re]):Ve.none()},it=function(se,Re){return Se.call(se,Re)},G=function(se){return se.getParam("media_scripts")},xe=function(se){return se.getParam("audio_template_callback")},ct=function(se){return se.getParam("video_template_callback")},Tn=function(se){return se.getParam("media_live_embeds",!0)},bt=function(se){return se.getParam("media_filter_html",!0)},er=function(se){return se.getParam("media_url_resolver")},Er=function(se){return se.getParam("media_alt_source",!0)},A=function(se){return se.getParam("media_poster",!0)},Ht=function(se){return se.getParam("media_dimensions",!0)},Kt=tinymce.util.Tools.resolve("tinymce.util.Tools"),Rn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),et=tinymce.util.Tools.resolve("tinymce.html.SaxParser"),nn=function(se,Re){if(se){for(var ce=0;ce<se.length;ce++)if(Re.indexOf(se[ce].filter)!==-1)return se[ce]}},tn=Rn.DOM,sn=function(se){return se.replace(/px$/,"")},X=function(se){var Re=se.map.style,ce=Re?tn.parseStyle(Re):{};return{type:"ephox-embed-iri",source:se.map["data-ephox-embed-iri"],altsource:"",poster:"",width:Ze(ce,"max-width").map(sn).getOr(""),height:Ze(ce,"max-height").map(sn).getOr("")}},nr=function(se,Re){var ce=Be(!1),at={};return et({validate:!1,allow_conditional_comments:!0,start:function(dn,Mn){if(!ce.get())if(it(Mn.map,"data-ephox-embed-iri"))ce.set(!0),at=X(Mn);else{if(!at.source&&dn==="param"&&(at.source=Mn.map.movie),(dn==="iframe"||dn==="object"||dn==="embed"||dn==="video"||dn==="audio")&&(at.type||(at.type=dn),at=Kt.extend(Mn.map,at)),dn==="script"){var oe=nn(se,Mn.map.src);if(!oe)return;at={type:"script",source:Mn.map.src,width:String(oe.width),height:String(oe.height)}}dn==="source"&&(at.source?at.altsource||(at.altsource=Mn.map.src):at.source=Mn.map.src),dn==="img"&&!at.poster&&(at.poster=Mn.map.src)}}}).parse(Re),at.source=at.source||at.src||at.data,at.altsource=at.altsource||"",at.poster=at.poster||"",at},St=function(se){var Re={mp3:"audio/mpeg",m4a:"audio/x-m4a",wav:"audio/wav",mp4:"video/mp4",webm:"video/webm",ogg:"video/ogg",swf:"application/x-shockwave-flash"},ce=se.toLowerCase().split(".").pop(),at=Re[ce];return at||""},Ke=tinymce.util.Tools.resolve("tinymce.html.Schema"),bn=tinymce.util.Tools.resolve("tinymce.html.Writer"),Ue=Rn.DOM,We=function(se){return/^[0-9.]+$/.test(se)?se+"px":se},ft=function(se,Re){je(Re,function(ce,at){var dn=""+ce;if(se.map[at])for(var Mn=se.length;Mn--;){var oe=se[Mn];oe.name===at&&(dn?(se.map[at]=dn,oe.value=dn):(delete se.map[at],se.splice(Mn,1)))}else dn&&(se.push({name:at,value:dn}),se.map[at]=dn)})},zt=function(se,Re){var ce=Re.map.style,at=ce?Ue.parseStyle(ce):{};at["max-width"]=We(se.width),at["max-height"]=We(se.height),ft(Re,{style:Ue.serializeStyle(at)})},vt=["source","altsource"],kt=function(se,Re,ce){var at=bn(),dn=Be(!1),Mn=0,oe;return et({validate:!1,allow_conditional_comments:!0,comment:function(pe){at.comment(pe)},cdata:function(pe){at.cdata(pe)},text:function(pe,ut){at.text(pe,ut)},start:function(pe,ut,At){if(!dn.get())if(it(ut.map,"data-ephox-embed-iri"))dn.set(!0),zt(Re,ut);else{switch(pe){case"video":case"object":case"embed":case"img":case"iframe":Re.height!==void 0&&Re.width!==void 0&&ft(ut,{width:Re.width,height:Re.height});break}if(ce)switch(pe){case"video":ft(ut,{poster:Re.poster,src:""}),Re.altsource&&ft(ut,{src:""});break;case"iframe":ft(ut,{src:Re.source});break;case"source":if(Mn<2&&(ft(ut,{src:Re[vt[Mn]],type:Re[vt[Mn]+"mime"]}),!Re[vt[Mn]]))return;Mn++;break;case"img":if(!Re.poster)return;oe=!0;break}}at.start(pe,ut,At)},end:function(pe){if(!dn.get()){if(pe==="video"&&ce){for(var ut=0;ut<2;ut++)if(Re[vt[ut]]){var At=[];At.map={},Mn<=ut&&(ft(At,{src:Re[vt[ut]],type:Re[vt[ut]+"mime"]}),at.start("source",At,!0))}}if(Re.poster&&pe==="object"&&ce&&!oe){var R=[];R.map={},ft(R,{src:Re.poster,width:Re.width,height:Re.height}),at.start("img",R,!0)}}at.end(pe)}},Ke({})).parse(se),at.getContent()},jn=[{regex:/youtu\.be\/([\w\-_\?&=.]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/youtube\.com(.+)v=([^&]+)(&([a-z0-9&=\-_]+))?/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$2?$4",allowFullscreen:!0},{regex:/youtube.com\/embed\/([a-z0-9\?&=\-_]+)/i,type:"iframe",w:560,h:314,url:"www.youtube.com/embed/$1",allowFullscreen:!0},{regex:/vimeo\.com\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$1?title=0&byline=0&portrait=0&color=8dc7dc",allowFullscreen:!0},{regex:/vimeo\.com\/(.*)\/([0-9]+)/,type:"iframe",w:425,h:350,url:"player.vimeo.com/video/$2?title=0&amp;byline=0",allowFullscreen:!0},{regex:/maps\.google\.([a-z]{2,3})\/maps\/(.+)msid=(.+)/,type:"iframe",w:425,h:350,url:'maps.google.com/maps/ms?msid=$2&output=embed"',allowFullscreen:!1},{regex:/dailymotion\.com\/video\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0},{regex:/dai\.ly\/([^_]+)/,type:"iframe",w:480,h:270,url:"www.dailymotion.com/embed/video/$1",allowFullscreen:!0}],Ce=function(se){var Re=se.match(/^(https?:\/\/|www\.)(.+)$/i);return Re&&Re.length>1?Re[1]==="www."?"https://":Re[1]:"https://"},pt=function(se,Re){for(var ce=Ce(Re),at=se.regex.exec(Re),dn=ce+se.url,Mn=function(pe){dn=dn.replace("$"+pe,function(){return at[pe]?at[pe]:""})},oe=0;oe<at.length;oe++)Mn(oe);return dn.replace(/\?$/,"")},pn=function(se){var Re=jn.filter(function(ce){return ce.regex.test(se)});return Re.length>0?Kt.extend({},Re[0],{url:pt(Re[0],se)}):null},Nn=function(se){var Re=se.allowfullscreen?' allowFullscreen="1"':"";return'<iframe src="'+se.source+'" width="'+se.width+'" height="'+se.height+'"'+Re+"></iframe>"},Hn=function(se){var Re='<object data="'+se.source+'" width="'+se.width+'" height="'+se.height+'" type="application/x-shockwave-flash">';return se.poster&&(Re+='<img src="'+se.poster+'" width="'+se.width+'" height="'+se.height+'" />'),Re+="</object>",Re},tr=function(se,Re){return Re?Re(se):'<audio controls="controls" src="'+se.source+'">'+(se.altsource?`
<source src="`+se.altsource+'"'+(se.altsourcemime?' type="'+se.altsourcemime+'"':"")+` />
`:"")+"</audio>"},Fr=function(se,Re){return Re?Re(se):'<video width="'+se.width+'" height="'+se.height+'"'+(se.poster?' poster="'+se.poster+'"':"")+` controls="controls">
<source src="`+se.source+'"'+(se.sourcemime?' type="'+se.sourcemime+'"':"")+` />
`+(se.altsource?'<source src="'+se.altsource+'"'+(se.altsourcemime?' type="'+se.altsourcemime+'"':"")+` />
`:"")+"</video>"},Xr=function(se){return'<script src="'+se.source+'"><\/script>'},oa=function(se,Re){var ce=Kt.extend({},Re);if(!ce.source&&(Kt.extend(ce,nr(G(se),ce.embed)),!ce.source))return"";ce.altsource||(ce.altsource=""),ce.poster||(ce.poster=""),ce.source=se.convertURL(ce.source,"source"),ce.altsource=se.convertURL(ce.altsource,"source"),ce.sourcemime=St(ce.source),ce.altsourcemime=St(ce.altsource),ce.poster=se.convertURL(ce.poster,"poster");var at=pn(ce.source);if(at&&(ce.source=at.url,ce.type=at.type,ce.allowfullscreen=at.allowFullscreen,ce.width=ce.width||String(at.w),ce.height=ce.height||String(at.h)),ce.embed)return kt(ce.embed,ce,!0);var dn=nn(G(se),ce.source);dn&&(ce.type="script",ce.width=String(dn.width),ce.height=String(dn.height));var Mn=xe(se),oe=ct(se);return ce.width=ce.width||"300",ce.height=ce.height||"150",Kt.each(ce,function(pe,ut){ce[ut]=se.dom.encode(""+pe)}),ce.type==="iframe"?Nn(ce):ce.sourcemime==="application/x-shockwave-flash"?Hn(ce):ce.sourcemime.indexOf("audio")!==-1?tr(ce,Mn):ce.type==="script"?Xr(ce):Fr(ce,oe)},Vt=function(se){return se.hasAttribute("data-mce-object")||se.hasAttribute("data-ephox-embed-iri")},Ut=function(se){se.on("click keyup touchend",function(){var Re=se.selection.getNode();Re&&se.dom.hasClass(Re,"mce-preview-object")&&se.dom.getAttrib(Re,"data-mce-selected")&&Re.setAttribute("data-mce-selected","2")}),se.on("ObjectSelected",function(Re){var ce=Re.target.getAttribute("data-mce-object");ce==="script"&&Re.preventDefault()}),se.on("ObjectResized",function(Re){var ce=Re.target;if(ce.getAttribute("data-mce-object")){var at=ce.getAttribute("data-mce-html");at&&(at=unescape(at),ce.setAttribute("data-mce-html",escape(kt(at,{width:String(Re.width),height:String(Re.height)}))))}})},Bt=tinymce.util.Tools.resolve("tinymce.util.Promise"),Xe={},ot=function(se,Re,ce){return new Bt(function(at,dn){var Mn=function(oe){return oe.html&&(Xe[se.source]=oe),at({url:se.source,html:oe.html?oe.html:Re(se)})};Xe[se.source]?Mn(Xe[se.source]):ce({url:se.source},Mn,dn)})},Xt=function(se,Re){return Bt.resolve({html:Re(se),url:se.source})},yn=function(se){return function(Re){return oa(se,Re)}},Jt=function(se,Re){var ce=er(se);return ce?ot(Re,yn(se),ce):Xt(Re,yn(se))},ze=function(se){return it(Xe,se)},$t=function(se,Re){return Ze(Re,se).bind(function(ce){return Ze(ce,"meta")})},fn=function(se,Re,ce){return function(at){var dn,Mn=function(){return Ze(se,at)},oe=function(){return Ze(Re,at)},pe=function(R){return Ze(R,"value").bind(function(Z){return Z.length>0?Ve.some(Z):Ve.none()})},ut=function(){return Mn().bind(function(R){return M(R)?pe(R).orThunk(oe):oe().orThunk(function(){return Ve.from(R)})})},At=function(){return oe().orThunk(function(){return Mn().bind(function(R){return M(R)?pe(R):Ve.from(R)})})};return dn={},dn[at]=(at===ce?ut():At()).getOr(""),dn}},vn=function(se,Re){var ce={};return Ze(se,"dimensions").each(function(at){_e(["width","height"],function(dn){Ze(Re,dn).orThunk(function(){return Ze(at,dn)}).each(function(Mn){return ce[dn]=Mn})})}),ce},Ln=function(se,Re){var ce=Re?$t(Re,se).getOr({}):{},at=fn(se,ce,Re);return y(y(y(y(y({},at("source")),at("altsource")),at("poster")),at("embed")),vn(se,ce))},Ee=function(se){var Re=y(y({},se),{source:{value:Ze(se,"source").getOr("")},altsource:{value:Ze(se,"altsource").getOr("")},poster:{value:Ze(se,"poster").getOr("")}});return _e(["width","height"],function(ce){Ze(se,ce).each(function(at){var dn=Re.dimensions||{};dn[ce]=at,Re.dimensions=dn})}),Re},Ct=function(se){return function(Re){var ce=Re&&Re.msg?"Media embed handler error: "+Re.msg:"Media embed handler threw unknown error.";se.notificationManager.open({type:"error",text:ce})}},dt=function(se,Re){return nr(G(se),Re)},Wt=function(se){var Re=se.selection.getNode(),ce=Vt(Re)?se.serializer.serialize(Re,{selection:!0}):"";return y({embed:ce},nr(G(se),ce))},Bn=function(se,Re){return function(ce){if(_(ce.url)&&ce.url.trim().length>0){var at=ce.html,dn=dt(Re,at),Mn=y(y({},dn),{source:ce.url,embed:at});se.setData(Ee(Mn))}}},pr=function(se,Re){for(var ce=se.dom.select("*[data-mce-object]"),at=0;at<Re.length;at++)for(var dn=ce.length-1;dn>=0;dn--)Re[at]===ce[dn]&&ce.splice(dn,1);se.selection.select(ce[0])},xa=function(se,Re){var ce=se.dom.select("*[data-mce-object]");se.insertContent(Re),pr(se,ce),se.nodeChanged()},Ar=function(se,Re,ce){Re.embed=kt(Re.embed,Re),Re.embed&&(se.source===Re.source||ze(Re.source))?xa(ce,Re.embed):Jt(ce,Re).then(function(at){xa(ce,at.html)}).catch(Ct(ce))},xr=function(se){var Re=Wt(se),ce=Be(Re),at=Ee(Re),dn=function(On,ir){var fr=Ln(ir.getData(),"source");On.source!==fr.source&&(Bn(ln,se)({url:fr.source,html:""}),Jt(se,fr).then(Bn(ln,se)).catch(Ct(se)))},Mn=function(On){var ir=Ln(On.getData()),fr=dt(se,ir.embed);On.setData(Ee(fr))},oe=function(On,ir){var fr=Ln(On.getData(),ir),mr=oa(se,fr);On.setData(Ee(y(y({},fr),{embed:mr})))},pe=[{name:"source",type:"urlinput",filetype:"media",label:"Source"}],ut=Ht(se)?[{type:"sizeinput",name:"dimensions",label:"Constrain proportions",constrain:!0}]:[],At={title:"General",name:"general",items:Te([pe,ut])},R={type:"textarea",name:"embed",label:"Paste your embed code below:"},Z={title:"Embed",items:[R]},me=[];Er(se)&&me.push({name:"altsource",type:"urlinput",filetype:"media",label:"Alternative source URL"}),A(se)&&me.push({name:"poster",type:"urlinput",filetype:"image",label:"Media poster (Image URL)"});var Me={title:"Advanced",name:"advanced",items:me},Qe=[At,Z];me.length>0&&Qe.push(Me);var rt={type:"tabpanel",tabs:Qe},ln=se.windowManager.open({title:"Insert/Edit Media",size:"normal",body:rt,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:function(On){var ir=Ln(On.getData());Ar(ce.get(),ir,se),On.close()},onChange:function(On,ir){switch(ir.name){case"source":dn(ce.get(),On);break;case"embed":Mn(On);break;case"dimensions":case"altsource":case"poster":oe(On,ir.name);break}ce.set(Ln(On.getData()))},initialData:at})},ha=function(se){var Re=function(){xr(se)};return{showDialog:Re}},Ja=function(se){var Re=function(){xr(se)};se.addCommand("mceMedia",Re)},Va=tinymce.util.Tools.resolve("tinymce.html.Node"),Ta=tinymce.util.Tools.resolve("tinymce.Env"),Ga=tinymce.util.Tools.resolve("tinymce.html.DomParser"),xo=function(se,Re){if(bt(se)===!1)return Re;var ce=bn(),at;return et({validate:!1,allow_conditional_comments:!1,comment:function(dn){at||ce.comment(dn)},cdata:function(dn){at||ce.cdata(dn)},text:function(dn,Mn){at||ce.text(dn,Mn)},start:function(dn,Mn,oe){if(at=!0,!(dn==="script"||dn==="noscript"||dn==="svg")){for(var pe=Mn.length-1;pe>=0;pe--){var ut=Mn[pe].name;ut.indexOf("on")===0&&(delete Mn.map[ut],Mn.splice(pe,1)),ut==="style"&&(Mn[pe].value=se.dom.serializeStyle(se.dom.parseStyle(Mn[pe].value),dn))}ce.start(dn,Mn,oe),at=!1}},end:function(dn){at||ce.end(dn)}},Ke({})).parse(Re),ce.getContent()},Qa=function(se){var Re=se.name;return Re==="iframe"||Re==="video"||Re==="audio"},Pa=function(se,Re,ce,at){at===void 0&&(at=null);var dn=se.attr(ce);return Y(dn)?dn:it(Re,ce)?null:at},po=function(se,Re,ce){var at=Re.name==="img"||se.name==="video",dn=at?"300":null,Mn=se.name==="audio"?"30":"150",oe=at?Mn:null;Re.attr({width:Pa(se,ce,"width",dn),height:Pa(se,ce,"height",oe)})},zr=function(se,Re,ce,at){for(var dn=Ga({forced_root_block:!1,validate:!1},se.schema).parse(at,{context:Re});dn.firstChild;)ce.append(dn.firstChild)},bo=function(se,Re){var ce=Re.name,at=new Va("img",1);return at.shortEnded=!0,vi(se,Re,at),po(Re,at,{}),at.attr({style:Re.attr("style"),src:Ta.transparentSrc,"data-mce-object":ce,class:"mce-object mce-object-"+ce}),at},Gn=function(se,Re){var ce=Re.name,at=new Va("span",1);at.attr({contentEditable:"false",style:Re.attr("style"),"data-mce-object":ce,class:"mce-preview-object mce-object-"+ce}),vi(se,Re,at);var dn=se.dom.parseStyle(Re.attr("style")),Mn=new Va(ce,1);if(po(Re,Mn,dn),Mn.attr({src:Re.attr("src"),style:Re.attr("style"),class:Re.attr("class")}),ce==="iframe")Mn.attr({allowfullscreen:Re.attr("allowfullscreen"),frameborder:"0"});else{var oe=["controls","crossorigin","currentTime","loop","muted","poster","preload"];_e(oe,function(At){Mn.attr(At,Re.attr(At))});var pe=at.attr("data-mce-html");Y(pe)&&zr(se,ce,Mn,unescape(pe))}var ut=new Va("span",1);return ut.attr("class","mce-shim"),at.append(Mn),at.append(ut),at},vi=function(se,Re,ce){for(var at=Re.attributes,dn=at.length;dn--;){var Mn=at[dn].name,oe=at[dn].value;Mn!=="width"&&Mn!=="height"&&Mn!=="style"&&((Mn==="data"||Mn==="src")&&(oe=se.convertURL(oe,Mn)),ce.attr("data-mce-p-"+Mn,oe))}var pe=Re.firstChild&&Re.firstChild.value;pe&&(ce.attr("data-mce-html",escape(xo(se,pe))),ce.firstChild=null)},fo=function(se){var Re=se.attr("class");return Re&&/\btiny-pageembed\b/.test(Re)},So=function(se){for(;se=se.parent;)if(se.attr("data-ephox-embed-iri")||fo(se))return!0;return!1},oo=function(se){return function(Re){for(var ce=Re.length,at,dn;ce--;)at=Re[ce],at.parent&&(at.parent.attr("data-mce-object")||at.name==="script"&&(dn=nn(G(se),at.attr("src")),!dn)||(dn&&(dn.width&&at.attr("width",dn.width.toString()),dn.height&&at.attr("height",dn.height.toString())),Qa(at)&&Tn(se)&&Ta.ceFalse?So(at)||at.replace(Gn(se,at)):So(at)||at.replace(bo(se,at))))}},No=function(se){se.on("preInit",function(){var Re=se.schema.getSpecialElements();Kt.each("video audio iframe object".split(" "),function(at){Re[at]=new RegExp("</"+at+"[^>]*>","gi")});var ce=se.schema.getBoolAttrs();Kt.each("webkitallowfullscreen mozallowfullscreen allowfullscreen".split(" "),function(at){ce[at]={}}),se.parser.addNodeFilter("iframe,video,audio,object,embed,script",oo(se)),se.serializer.addAttributeFilter("data-mce-object",function(at,dn){for(var Mn=at.length,oe,pe,ut,At,R,Z,me,Me;Mn--;)if(oe=at[Mn],!!oe.parent){for(me=oe.attr(dn),pe=new Va(me,1),me!=="audio"&&me!=="script"&&(Me=oe.attr("class"),Me&&Me.indexOf("mce-preview-object")!==-1?pe.attr({width:oe.firstChild.attr("width"),height:oe.firstChild.attr("height")}):pe.attr({width:oe.attr("width"),height:oe.attr("height")})),pe.attr({style:oe.attr("style")}),At=oe.attributes,ut=At.length;ut--;){var Qe=At[ut].name;Qe.indexOf("data-mce-p-")===0&&pe.attr(Qe.substr(11),At[ut].value)}me==="script"&&pe.attr("type","text/javascript"),R=oe.attr("data-mce-html"),R&&(Z=new Va("#text",3),Z.raw=!0,Z.value=xo(se,unescape(R)),pe.append(Z)),oe.replace(pe)}})}),se.on("SetContent",function(){se.$("span.mce-preview-object").each(function(Re,ce){var at=se.$(ce);at.find("span.mce-shim").length===0&&at.append('<span class="mce-shim"></span>')})})},di=function(se){se.on("ResolveName",function(Re){var ce;Re.target.nodeType===1&&(ce=Re.target.getAttribute("data-mce-object"))&&(Re.name=ce)})},_o=function(se){var Re=function(){return se.execCommand("mceMedia")};se.ui.registry.addToggleButton("media",{tooltip:"Insert/edit media",icon:"embed",onAction:Re,onSetup:function(ce){var at=se.selection;return ce.setActive(Vt(at.getNode())),at.selectorChangedWithUnbind("img[data-mce-object],span[data-mce-object],div[data-ephox-embed-iri]",ce.setActive).unbind}}),se.ui.registry.addMenuItem("media",{icon:"embed",text:"Media...",onAction:Re})};function Ei(){D.add("media",function(se){return Ja(se),_o(se),di(se),No(se),Ut(se),ha(se)})}Ei()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(W){var ve=W.getParam("nonbreaking_force_tab",0);return typeof ve=="boolean"?ve===!0?3:0:ve},C=function(W){return W.getParam("nonbreaking_wrap",!0,"boolean")},S=function(W,ve){for(var he="",be=0;be<ve;be++)he+=W;return he},_=function(W){return W.plugins.visualchars?W.plugins.visualchars.isEnabled():!1},M=function(W,ve){var he=function(){return _(W)?"mce-nbsp-wrap mce-nbsp":"mce-nbsp-wrap"},be=function(){return'<span class="'+he()+'" contenteditable="false">'+S("&nbsp;",ve)+"</span>"},ae=C(W),Ae=ae||W.plugins.visualchars?be():S("&nbsp;",ve);W.undoManager.transact(function(){return W.insertContent(Ae)})},z=function(W){W.addCommand("mceNonBreaking",function(){M(W,1)})},K=tinymce.util.Tools.resolve("tinymce.util.VK"),Y=function(W){var ve=y(W);ve>0&&W.on("keydown",function(he){if(he.keyCode===K.TAB&&!he.isDefaultPrevented()){if(he.shiftKey)return;he.preventDefault(),he.stopImmediatePropagation(),M(W,ve)}})},ye=function(W){var ve=function(){return W.execCommand("mceNonBreaking")};W.ui.registry.addButton("nonbreaking",{icon:"non-breaking",tooltip:"Nonbreaking space",onAction:ve}),W.ui.registry.addMenuItem("nonbreaking",{icon:"non-breaking",text:"Nonbreaking space",onAction:ve})};function Q(){D.add("nonbreaking",function(W){z(W),ye(W),Y(W)})}Q()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=tinymce.util.Tools.resolve("tinymce.util.Tools"),C=function(Q){return Q.getParam("noneditable_noneditable_class","mceNonEditable")},S=function(Q){return Q.getParam("noneditable_editable_class","mceEditable")},_=function(Q){var W=Q.getParam("noneditable_regexp",[]);return W&&W.constructor===RegExp?[W]:W},M=function(Q){return function(W){return(" "+W.attr("class")+" ").indexOf(Q)!==-1}},z=function(Q,W,ve){return function(he){var be=arguments,ae=be[be.length-2],Ae=ae>0?W.charAt(ae-1):"";if(Ae==='"')return he;if(Ae===">"){var Ye=W.lastIndexOf("<",ae);if(Ye!==-1){var Ve=W.substring(Ye,ae);if(Ve.indexOf('contenteditable="false"')!==-1)return he}}return'<span class="'+ve+'" data-mce-content="'+Q.dom.encode(be[0])+'">'+Q.dom.encode(typeof be[1]=="string"?be[1]:be[0])+"</span>"}},K=function(Q,W,ve){var he=W.length,be=ve.content;if(ve.format!=="raw"){for(;he--;)be=be.replace(W[he],z(Q,be,C(Q)));ve.content=be}},Y=function(Q){var W="contenteditable",ve=" "+y.trim(S(Q))+" ",he=" "+y.trim(C(Q))+" ",be=M(ve),ae=M(he),Ae=_(Q);Q.on("PreInit",function(){Ae.length>0&&Q.on("BeforeSetContent",function(Ye){K(Q,Ae,Ye)}),Q.parser.addAttributeFilter("class",function(Ye){for(var Ve=Ye.length,L;Ve--;)L=Ye[Ve],be(L)?L.attr(W,"true"):ae(L)&&L.attr(W,"false")}),Q.serializer.addAttributeFilter(W,function(Ye){for(var Ve=Ye.length,L;Ve--;)L=Ye[Ve],!(!be(L)&&!ae(L))&&(Ae.length>0&&L.attr("data-mce-content")?(L.name="#text",L.type=3,L.raw=!0,L.value=L.attr("data-mce-content")):L.attr(W,null))})})};function ye(){D.add("noneditable",function(Q){Y(Q)})}ye()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=tinymce.util.Tools.resolve("tinymce.Env"),C=function(W){return W.getParam("pagebreak_separator","<!-- pagebreak -->")},S=function(W){return W.getParam("pagebreak_split_block",!1)},_="mce-pagebreak",M=function(W){var ve='<img src="'+y.transparentSrc+'" class="'+_+'" data-mce-resize="false" data-mce-placeholder />';return W?"<p>"+ve+"</p>":ve},z=function(W){var ve=C(W),he=function(){return S(W)},be=new RegExp(ve.replace(/[\?\.\*\[\]\(\)\{\}\+\^\$\:]/g,function(ae){return"\\"+ae}),"gi");W.on("BeforeSetContent",function(ae){ae.content=ae.content.replace(be,M(he()))}),W.on("PreInit",function(){W.serializer.addNodeFilter("img",function(ae){for(var Ae=ae.length,Ye,Ve;Ae--;)if(Ye=ae[Ae],Ve=Ye.attr("class"),Ve&&Ve.indexOf(_)!==-1){var L=Ye.parent;if(W.schema.getBlockElements()[L.name]&&he()){L.type=3,L.value=ve,L.raw=!0,Ye.remove();continue}Ye.type=3,Ye.value=ve,Ye.raw=!0}})})},K=function(W){W.addCommand("mcePageBreak",function(){W.insertContent(M(S(W)))})},Y=function(W){W.on("ResolveName",function(ve){ve.target.nodeName==="IMG"&&W.dom.hasClass(ve.target,_)&&(ve.name="pagebreak")})},ye=function(W){var ve=function(){return W.execCommand("mcePageBreak")};W.ui.registry.addButton("pagebreak",{icon:"page-break",tooltip:"Page break",onAction:ve}),W.ui.registry.addMenuItem("pagebreak",{text:"Page break",icon:"page-break",onAction:ve})};function Q(){D.add("pagebreak",function(W){K(W),ye(W),z(W),Y(W)})}Q()})();(function(){var D=function(h){var T=h,H=function(){return T},ue=function(He){T=He};return{get:H,set:ue}},y=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(h){return h.hasPlugin("powerpaste",!0)?(typeof window.console!="undefined"&&window.console.log&&window.console.log("PowerPaste is incompatible with Paste plugin! Remove 'paste' from the 'plugins' option."),!0):!1},S=function(h){return{clipboard:h}},_=function(h){var T=typeof h;return h===null?"null":T==="object"&&(Array.prototype.isPrototypeOf(h)||h.constructor&&h.constructor.name==="Array")?"array":T==="object"&&(String.prototype.isPrototypeOf(h)||h.constructor&&h.constructor.name==="String")?"string":T},M=function(h){return function(T){return _(T)===h}},z=function(h){return function(T){return typeof T===h}},K=M("array"),Y=function(h){return h==null},ye=function(h){return!Y(h)},Q=z("function"),W=function(){},ve=function(h){return function(){return h}},he=function(h){return h},be=ve(!1),ae=ve(!0),Ae=function(){return Ye},Ye=function(){var h=function(ue){return ue()},T=he,H={fold:function(ue,He){return ue()},isSome:be,isNone:ae,getOr:T,getOrThunk:h,getOrDie:function(ue){throw new Error(ue||"error: getOrDie called on none.")},getOrNull:ve(null),getOrUndefined:ve(void 0),or:T,orThunk:h,map:Ae,each:W,bind:Ae,exists:be,forall:ae,filter:function(){return Ae()},toArray:function(){return[]},toString:ve("none()")};return H}(),Ve=function(h){var T=ve(h),H=function(){return He},ue=function(Nt){return Nt(h)},He={fold:function(Nt,Kn){return Kn(h)},isSome:ae,isNone:be,getOr:T,getOrThunk:T,getOrDie:T,getOrNull:T,getOrUndefined:T,or:H,orThunk:H,map:function(Nt){return Ve(Nt(h))},each:function(Nt){Nt(h)},bind:ue,exists:ue,forall:ue,filter:function(Nt){return Nt(h)?He:Ye},toArray:function(){return[h]},toString:function(){return"some("+h+")"}};return He},L=function(h){return h==null?Ye:Ve(h)},_e={some:Ve,none:Ae,from:L},Te=Array.prototype.slice,Be=Array.prototype.push,gt=function(h,T){for(var H=0,ue=h.length;H<ue;H++){var He=h[H];if(T(He,H))return!0}return!1},Se=function(h,T){for(var H=h.length,ue=new Array(H),He=0;He<H;He++){var Nt=h[He];ue[He]=T(Nt,He)}return ue},je=function(h,T){for(var H=0,ue=h.length;H<ue;H++){var He=h[H];T(He,H)}},Ze=function(h,T){for(var H=[],ue=0,He=h.length;ue<He;ue++){var Nt=h[ue];T(Nt,ue)&&H.push(Nt)}return H},it=function(h,T,H){return je(h,function(ue,He){H=T(H,ue,He)}),H},G=function(h){for(var T=[],H=0,ue=h.length;H<ue;++H){if(!K(h[H]))throw new Error("Arr.flatten item "+H+" was not an array, input: "+h);Be.apply(T,h[H])}return T},xe=function(h,T){return G(Se(h,T))},ct=Q(Array.from)?Array.from:function(h){return Te.call(h)},Tn=function(){return Tn=Object.assign||function(T){for(var H,ue=1,He=arguments.length;ue<He;ue++){H=arguments[ue];for(var Nt in H)Object.prototype.hasOwnProperty.call(H,Nt)&&(T[Nt]=H[Nt])}return T},Tn.apply(this,arguments)},bt=function(h){var T=D(_e.none()),H=function(){return T.get().each(h)},ue=function(){H(),T.set(_e.none())},He=function(){return T.get().isSome()},Nt=function(){return T.get()},Kn=function(vr){H(),T.set(_e.some(vr))};return{clear:ue,isSet:He,get:Nt,set:Kn}},er=function(){var h=bt(W),T=function(H){return h.get().each(H)};return Tn(Tn({},h),{on:T})},Er=function(h,T,H){return T===""||h.length>=T.length&&h.substr(H,H+T.length)===T},A=function(h,T){return Er(h,T,0)},Ht=function(h,T){return Er(h,T,h.length-T.length)},Kt=function(h,T){return T<=0?"":new Array(T+1).join(h)},Rn=tinymce.util.Tools.resolve("tinymce.Env"),et=tinymce.util.Tools.resolve("tinymce.util.Delay"),nn=tinymce.util.Tools.resolve("tinymce.util.Promise"),tn=tinymce.util.Tools.resolve("tinymce.util.VK"),sn=function(h,T,H,ue){return h.fire("PastePreProcess",{content:T,internal:H,wordContent:ue})},X=function(h,T,H,ue){return h.fire("PastePostProcess",{node:T,internal:H,wordContent:ue})},nr=function(h,T){return h.fire("PastePlainTextToggle",{state:T})},St=function(h,T){return h.fire("paste",{ieFake:T})},Ke=tinymce.util.Tools.resolve("tinymce.util.Tools"),bn=function(h){return h.getParam("paste_block_drop",!1)},Ue=function(h){return h.getParam("paste_data_images",!1)},We=function(h){return h.getParam("paste_filter_drop",!0)},ft=function(h){return h.getParam("paste_preprocess")},zt=function(h){return h.getParam("paste_postprocess")},vt=function(h){return h.getParam("paste_webkit_styles")},kt=function(h){return h.getParam("paste_remove_styles_if_webkit",!0)},jn=function(h){return h.getParam("paste_merge_formats",!0)},Ce=function(h){return h.getParam("smart_paste",!0)},pt=function(h){return h.getParam("paste_as_text",!1)},pn=function(h){return h.getParam("paste_retain_style_properties")},Nn=function(h){var T="-strong/b,-em/i,-u,-span,-p,-ol,-ul,-li,-h1,-h2,-h3,-h4,-h5,-h6,-p/div,-a[href|name],sub,sup,strike,br,del,table[width],tr,td[colspan|rowspan|width],th[colspan|rowspan|width],thead,tfoot,tbody";return h.getParam("paste_word_valid_elements",T)},Hn=function(h){return h.getParam("paste_convert_word_fake_lists",!0)},tr=function(h){return h.getParam("paste_enable_default_filters",!0)},Fr=function(h){return h.getParam("validate")},Xr=function(h){return h.getParam("allow_html_data_urls",!1,"boolean")},oa=function(h){return h.getParam("paste_data_images",!1,"boolean")},Vt=function(h){return h.getParam("images_dataimg_filter")},Ut=function(h){return h.getParam("images_reuse_filename")},Bt=function(h){return h.getParam("forced_root_block")},Xe=function(h){return h.getParam("forced_root_block_attrs")},ot=function(h){return h.getParam("paste_tab_spaces",4,"number")},Xt=function(h){var T="jpeg,jpg,jpe,jfi,jif,jfif,png,gif,bmp,webp";return Ke.explode(h.getParam("images_file_types",T,"string"))},yn="x-tinymce/html",Jt="<!-- "+yn+" -->",ze=function(h){return Jt+h},$t=function(h){return h.replace(Jt,"")},fn=function(h){return h.indexOf(Jt)!==-1},vn=ve(yn),Ln=Object.hasOwnProperty,Ee=function(h,T){return Ln.call(h,T)},Ct=tinymce.util.Tools.resolve("tinymce.html.Entities"),dt=function(h){return!/<(?:\/?(?!(?:div|p|br|span)>)\w+|(?:(?!(?:span style="white-space:\s?pre;?">)|br\s?\/>))\w+\s[^>]+)>/i.test(h)},Wt=function(h){return h.replace(/\r?\n/g,"<br>")},Bn=function(h,T){var H=[],ue="<"+h;if(typeof T=="object"){for(var He in T)Ee(T,He)&&H.push(He+'="'+Ct.encodeAllRaw(T[He])+'"');H.length&&(ue+=" "+H.join(" "))}return ue+">"},pr=function(h,T,H){var ue=h.split(/\n\n/),He=Bn(T,H),Nt="</"+T+">",Kn=Ke.map(ue,function(wn){return wn.split(/\n/).join("<br />")}),vr=function(wn){return He+wn+Nt};return Kn.length===1?Kn[0]:Ke.map(Kn,vr).join("")},xa=function(h,T,H){return T?pr(h,T===!0?"p":T,H):Wt(h)},Ar=tinymce.util.Tools.resolve("tinymce.html.DomParser"),xr=tinymce.util.Tools.resolve("tinymce.html.Serializer"),ha=" ",Ja=tinymce.util.Tools.resolve("tinymce.html.Node"),Va=tinymce.util.Tools.resolve("tinymce.html.Schema"),Ta=function(h){return h.constructor===RegExp},Ga=function(h,T){return Ke.each(T,function(H){Ta(H)?h=h.replace(H,""):h=h.replace(H[0],H[1])}),h},xo=function(h){var T=Va(),H=Ar({},T),ue="",He=T.getShortEndedElements(),Nt=Ke.makeMap("script noscript style textarea video audio iframe object"," "),Kn=T.getBlockElements(),vr=function(wn){var qn=wn.name,Rr=wn;if(qn==="br"){ue+=`
`;return}if(qn!=="wbr"){if(He[qn]&&(ue+=" "),Nt[qn]){ue+=" ";return}if(wn.type===3&&(ue+=wn.value),!wn.shortEnded&&(wn=wn.firstChild))do vr(wn);while(wn=wn.next);Kn[qn]&&Rr.next&&(ue+=`
`,qn==="p"&&(ue+=`
`))}};return h=Ga(h,[/<!\[[^\]]+\]>/g]),vr(H.parse(h)),ue},Qa=function(h){var T=function(H,ue,He){return!ue&&!He?" ":ha};return h=Ga(h,[/^[\s\S]*<body[^>]*>\s*|\s*<\/body[^>]*>[\s\S]*$/ig,/<!--StartFragment-->|<!--EndFragment-->/g,[/( ?)<span class="Apple-converted-space">\u00a0<\/span>( ?)/g,T],/<br class="Apple-interchange-newline">/g,/<br>$/i]),h},Pa=function(h){var T=0;return function(){return h+T++}},po=function(h){var T=h.toLowerCase(),H={jpg:"jpeg",jpe:"jpeg",jfi:"jpeg",jif:"jpeg",jfif:"jpeg",pjpeg:"jpeg",pjp:"jpeg",svg:"svg+xml"};return Ke.hasOwn(H,T)?"image/"+H[T]:"image/"+T},zr=function(h){return/<font face="Times New Roman"|class="?Mso|style="[^"]*\bmso-|style='[^']*\bmso-|w:WordDocument/i.test(h)||/class="OutlineElement/.test(h)||/id="?docs\-internal\-guid\-/.test(h)},bo=function(h){var T=!1,H=[/^[IVXLMCD]+\.[ \u00a0]/,/^[ivxlmcd]+\.[ \u00a0]/,/^[a-z]{1,2}[\.\)][ \u00a0]/,/^[A-Z]{1,2}[\.\)][ \u00a0]/,/^[0-9]+\.[ \u00a0]/,/^[\u3007\u4e00\u4e8c\u4e09\u56db\u4e94\u516d\u4e03\u516b\u4e5d]+\.[ \u00a0]/,/^[\u58f1\u5f10\u53c2\u56db\u4f0d\u516d\u4e03\u516b\u4e5d\u62fe]+\.[ \u00a0]/];return h=h.replace(/^[\u00a0 ]+/,""),Ke.each(H,function(ue){if(ue.test(h))return T=!0,!1}),T},Gn=function(h){return/^[\s\u00a0]*[\u2022\u00b7\u00a7\u25CF]\s*/.test(h)},vi=function(h){for(var T,H,ue=1,He=function(wr){var Aa="";if(wr.type===3)return wr.value;if(wr=wr.firstChild)do Aa+=He(wr);while(wr=wr.next);return Aa},Nt=function(wr,Aa){if(wr.type===3&&Aa.test(wr.value))return wr.value=wr.value.replace(Aa,""),!1;if(wr=wr.firstChild)do if(!Nt(wr,Aa))return!1;while(wr=wr.next);return!0},Kn=function(wr){if(wr._listIgnore){wr.remove();return}if(wr=wr.firstChild)do Kn(wr);while(wr=wr.next)},vr=function(wr,Aa,Sa){var ji=wr._listLevel||ue;ji!==ue&&(ji<ue?T&&(T=T.parent.parent):(H=T,T=null)),!T||T.name!==Aa?(H=H||T,T=new Ja(Aa,1),Sa>1&&T.attr("start",""+Sa),wr.wrap(T)):T.append(wr),wr.name="li",ji>ue&&H&&H.lastChild.append(T),ue=ji,Kn(wr),Nt(wr,/^\u00a0+/),Nt(wr,/^\s*([\u2022\u00b7\u00a7\u25CF]|\w+\.)/),Nt(wr,/^\u00a0+/)},wn=[],qn=h.firstChild;typeof qn!="undefined"&&qn!==null;)if(wn.push(qn),qn=qn.walk(),qn!==null)for(;typeof qn!="undefined"&&qn.parent!==h;)qn=qn.walk();for(var Rr=0;Rr<wn.length;Rr++)if(h=wn[Rr],h.name==="p"&&h.firstChild){var Wr=He(h);if(Gn(Wr)){vr(h,"ul");continue}if(bo(Wr)){var Sr=/([0-9]+)\./.exec(Wr),Ua=1;Sr&&(Ua=parseInt(Sr[1],10)),vr(h,"ol",Ua);continue}if(h._listLevel){vr(h,"ul",1);continue}T=null}else H=T,T=null},fo=function(h,T,H,ue){var He={},Nt=h.dom.parseStyle(ue);Ke.each(Nt,function(vr,wn){switch(wn){case"mso-list":var qn=/\w+ \w+([0-9]+)/i.exec(ue);qn&&(H._listLevel=parseInt(qn[1],10)),/Ignore/i.test(vr)&&H.firstChild&&(H._listIgnore=!0,H.firstChild._listIgnore=!0);break;case"horiz-align":wn="text-align";break;case"vert-align":wn="vertical-align";break;case"font-color":case"mso-foreground":wn="color";break;case"mso-background":case"mso-highlight":wn="background";break;case"font-weight":case"font-style":vr!=="normal"&&(He[wn]=vr);return;case"mso-element":if(/^(comment|comment-list)$/i.test(vr)){H.remove();return}break}if(wn.indexOf("mso-comment")===0){H.remove();return}wn.indexOf("mso-")!==0&&(pn(h)==="all"||T&&T[wn])&&(He[wn]=vr)}),/(bold)/i.test(He["font-weight"])&&(delete He["font-weight"],H.wrap(new Ja("b",1))),/(italic)/i.test(He["font-style"])&&(delete He["font-style"],H.wrap(new Ja("i",1)));var Kn=h.dom.serializeStyle(He,H.name);return Kn||null},So=function(h,T){var H,ue=pn(h);ue&&(H=Ke.makeMap(ue.split(/[, ]/))),T=Ga(T,[/<br class="?Apple-interchange-newline"?>/gi,/<b[^>]+id="?docs-internal-[^>]*>/gi,/<!--[\s\S]+?-->/gi,/<(!|script[^>]*>.*?<\/script(?=[>\s])|\/?(\?xml(:\w+)?|img|meta|link|style|\w:\w+)(?=[\s\/>]))[^>]*>/gi,[/<(\/?)s>/gi,"<$1strike>"],[/&nbsp;/gi,ha],[/<span\s+style\s*=\s*"\s*mso-spacerun\s*:\s*yes\s*;?\s*"\s*>([\s\u00a0]*)<\/span>/gi,function(wn,qn){return qn.length>0?qn.replace(/./," ").slice(Math.floor(qn.length/2)).split("").join(ha):""}]]);var He=Nn(h),Nt=Va({valid_elements:He,valid_children:"-li[p]"});Ke.each(Nt.elements,function(wn){wn.attributes.class||(wn.attributes.class={},wn.attributesOrder.push("class")),wn.attributes.style||(wn.attributes.style={},wn.attributesOrder.push("style"))});var Kn=Ar({},Nt);Kn.addAttributeFilter("style",function(wn){for(var qn=wn.length,Rr;qn--;)Rr=wn[qn],Rr.attr("style",fo(h,H,Rr,Rr.attr("style"))),Rr.name==="span"&&Rr.parent&&!Rr.attributes.length&&Rr.unwrap()}),Kn.addAttributeFilter("class",function(wn){for(var qn=wn.length,Rr,Wr;qn--;)Rr=wn[qn],Wr=Rr.attr("class"),/^(MsoCommentReference|MsoCommentText|msoDel)$/i.test(Wr)&&Rr.remove(),Rr.attr("class",null)}),Kn.addNodeFilter("del",function(wn){for(var qn=wn.length;qn--;)wn[qn].remove()}),Kn.addNodeFilter("a",function(wn){for(var qn=wn.length,Rr,Wr,Sr;qn--;){if(Rr=wn[qn],Wr=Rr.attr("href"),Sr=Rr.attr("name"),Wr&&Wr.indexOf("#_msocom_")!==-1){Rr.remove();continue}if(Wr&&Wr.indexOf("file://")===0&&(Wr=Wr.split("#")[1],Wr&&(Wr="#"+Wr)),!Wr&&!Sr)Rr.unwrap();else{if(Sr&&!/^_?(?:toc|edn|ftn)/i.test(Sr)){Rr.unwrap();continue}Rr.attr({href:Wr,name:Sr})}}});var vr=Kn.parse(T);return Hn(h)&&vi(vr),T=xr({validate:Fr(h)},Nt).serialize(vr),T},oo=function(h,T){return tr(h)?So(h,T):T},No=function(h,T){var H=Ar({},h.schema);H.addNodeFilter("meta",function(He){Ke.each(He,function(Nt){Nt.remove()})});var ue=H.parse(T,{forced_root_block:!1,isRootContent:!0});return xr({validate:Fr(h)},h.schema).serialize(ue)},di=function(h,T){return{content:h,cancelled:T}},_o=function(h,T,H,ue){var He=h.dom.create("div",{style:"display:none"},T),Nt=X(h,He,H,ue);return di(Nt.node.innerHTML,Nt.isDefaultPrevented())},Ei=function(h,T,H,ue){var He=sn(h,T,H,ue),Nt=No(h,He.content);return h.hasEventListeners("PastePostProcess")&&!He.isDefaultPrevented()?_o(h,Nt,H,ue):di(Nt,He.isDefaultPrevented())},se=function(h,T,H){var ue=zr(T),He=ue?oo(h,T):T;return Ei(h,He,H,ue)},Re=function(h,T){return h.insertContent(T,{merge:jn(h),paste:!0}),!0},ce=function(h){return/^https?:\/\/[\w\-\/+=.,!;:&%@^~(){}?#]+$/i.test(h)},at=function(h,T){return ce(T)&&gt(Xt(h),function(H){return Ht(T.toLowerCase(),"."+H.toLowerCase())})},dn=function(h,T,H){return h.undoManager.extra(function(){H(h,T)},function(){h.insertContent('<img src="'+T+'">')}),!0},Mn=function(h,T,H){return h.undoManager.extra(function(){H(h,T)},function(){h.execCommand("mceInsertLink",!1,T)}),!0},oe=function(h,T,H){return h.selection.isCollapsed()===!1&&ce(T)?Mn(h,T,H):!1},pe=function(h,T,H){return at(h,T)?dn(h,T,H):!1},ut=function(h,T){Ke.each([oe,pe,Re],function(H){return H(h,T,Re)!==!0})},At=function(h,T,H){H||Ce(h)===!1?Re(h,T):ut(h,T)},R=function(h){return" \f	\v".indexOf(h)!==-1},Z=function(h){return h===`
`||h==="\r"},me=function(h,T){return T<h.length&&T>=0?Z(h[T]):!1},Me=function(h,T){var H=Kt(" ",ot(h)),ue=T.replace(/\t/g,H),He=it(ue,function(Nt,Kn){return R(Kn)||Kn===ha?Nt.pcIsSpace||Nt.str===""||Nt.str.length===ue.length-1||me(ue,Nt.str.length+1)?{pcIsSpace:!1,str:Nt.str+ha}:{pcIsSpace:!0,str:Nt.str+" "}:{pcIsSpace:Z(Kn),str:Nt.str+Kn}},{pcIsSpace:!1,str:""});return He.str},Qe=function(h,T,H,ue){var He=se(h,T,H);He.cancelled===!1&&At(h,He.content,ue)},rt=function(h,T,H){var ue=H||fn(T);Qe(h,$t(T),ue,!1)},ln=function(h,T){var H=h.dom.encode(T).replace(/\r\n/g,`
`),ue=Me(h,H),He=xa(ue,Bt(h),Xe(h));Qe(h,He,!1,!0)},On=function(h){var T={},H="data:text/mce-internal,";if(h){if(h.getData){var ue=h.getData("Text");ue&&ue.length>0&&ue.indexOf(H)===-1&&(T["text/plain"]=ue)}if(h.types)for(var He=0;He<h.types.length;He++){var Nt=h.types[He];try{T[Nt]=h.getData(Nt)}catch(Kn){T[Nt]=""}}}return T},ir=function(h,T){return On(T.clipboardData||h.getDoc().dataTransfer)},fr=function(h,T){return T in h&&h[T].length>0},mr=function(h){return fr(h,"text/html")||fr(h,"text/plain")},Tr=function(h){var T=/data:([^;]+);base64,([a-z0-9\+\/=]+)/i.exec(h);return T?{type:T[1],data:decodeURIComponent(T[2])}:{type:null,data:null}},ia=function(h,T){var H=Vt(h);return H?H(T):!0},eo=function(h,T){var H=T.match(/([\s\S]+?)(?:\.[a-z0-9.]+)$/i);return ye(H)?h.dom.encode(H[1]):null},ko=Pa("mceclip"),Ri=function(h,T){var H=Tr(T.uri),ue=H.data,He=H.type,Nt=ko(),Kn=T.blob,vr=new Image;if(vr.src=T.uri,ia(h,vr)){var wn=h.editorUpload.blobCache,qn=void 0,Rr=wn.getByData(ue,He);if(Rr)qn=Rr;else{var Wr=Ut(h)&&ye(Kn.name),Sr=Wr?eo(h,Kn.name):Nt,Ua=Wr?Kn.name:void 0;qn=wn.create(Nt,Kn,ue,Sr,Ua),wn.add(qn)}rt(h,'<img src="'+qn.blobUri()+'">',!1)}else rt(h,'<img src="'+T.uri+'">',!1)},Ti=function(h){return h.type==="paste"},to=function(h){return ye(h.getAsFile)},hu=function(h){return nn.all(Se(h,function(T){return new nn(function(H){var ue=to(T)?T.getAsFile():T,He=new window.FileReader;He.onload=function(){H({blob:ue,uri:He.result})},He.readAsDataURL(ue)})}))},iu=function(h){var T=Xt(h);return function(H){return A(H.type,"image/")&&gt(T,function(ue){return po(ue)===H.type})}},Qo=function(h,T){var H=T.items?xe(ct(T.items),function(He){return He.kind==="file"?[He.getAsFile()]:[]}):[],ue=T.files?ct(T.files):[];return Ze(H.length>0?H:ue,iu(h))},Eo=function(h,T,H){var ue=Ti(T)?T.clipboardData:T.dataTransfer;if(oa(h)&&ue){var He=Qo(h,ue);if(He.length>0)return T.preventDefault(),hu(He).then(function(Nt){H&&h.selection.setRng(H),je(Nt,function(Kn){Ri(h,Kn)})}),!0}return!1},Fu=function(h){var T=h.clipboardData;return navigator.userAgent.indexOf("Android")!==-1&&T&&T.items&&T.items.length===0},J=function(h){return tn.metaKeyPressed(h)&&h.keyCode===86||h.shiftKey&&h.keyCode===45},Oe=function(h,T,H){var ue=er(),He=er(),Nt;h.on("keyup",He.clear),h.on("keydown",function(wn){var qn=function(Rr){J(Rr)&&!Rr.isDefaultPrevented()&&T.remove()};if(J(wn)&&!wn.isDefaultPrevented()){if(Nt=wn.shiftKey&&wn.keyCode===86,Nt&&Rn.webkit&&navigator.userAgent.indexOf("Version/")!==-1)return;if(wn.stopImmediatePropagation(),ue.set(wn),He.set(!0),Rn.ie&&Nt){wn.preventDefault(),St(h,!0);return}T.remove(),T.create(),h.once("keyup",qn),h.once("paste",function(){h.off("keyup",qn)})}});var Kn=function(wn,qn,Rr,Wr,Sr){var Ua;fr(qn,"text/html")?Ua=qn["text/html"]:(Ua=T.getHtml(),Sr=Sr||fn(Ua),T.isDefaultContent(Ua)&&(Wr=!0)),Ua=Qa(Ua),T.remove();var wr=Sr===!1&&dt(Ua),Aa=ce(Ua);if((!Ua.length||wr&&!Aa)&&(Wr=!0),(Wr||Aa)&&(fr(qn,"text/plain")&&wr?Ua=qn["text/plain"]:Ua=xo(Ua)),T.isDefaultContent(Ua)){Rr||wn.windowManager.alert("Please use Ctrl+V/Cmd+V keyboard shortcuts to paste contents.");return}Wr?ln(wn,Ua):rt(wn,Ua,Sr)},vr=function(){return T.getLastRng()||h.selection.getRng()};h.on("paste",function(wn){var qn=ue.isSet()||He.isSet();qn&&ue.clear();var Rr=ir(h,wn),Wr=H.get()==="text"||Nt,Sr=fr(Rr,vn());if(Nt=!1,wn.isDefaultPrevented()||Fu(wn)){T.remove();return}if(!mr(Rr)&&Eo(h,wn,vr())){T.remove();return}qn||wn.preventDefault(),Rn.ie&&(!qn||wn.ieFake)&&!fr(Rr,"text/html")&&(T.create(),h.dom.bind(T.getEl(),"paste",function(Ua){Ua.stopPropagation()}),h.getDoc().execCommand("Paste",!1,null),Rr["text/html"]=T.getHtml()),fr(Rr,"text/html")?(wn.preventDefault(),Sr||(Sr=fn(Rr["text/html"])),Kn(h,Rr,qn,Wr,Sr)):et.setEditorTimeout(h,function(){Kn(h,Rr,qn,Wr,Sr)},0)})},tt=function(h,T,H){Oe(h,T,H);var ue;h.parser.addNodeFilter("img",function(He,Nt,Kn){var vr=function(Sr){return Sr.data&&Sr.data.paste===!0},wn=function(Sr){!Sr.attr("data-mce-object")&&ue!==Rn.transparentSrc&&Sr.remove()},qn=function(Sr){return Sr.indexOf("webkit-fake-url")===0},Rr=function(Sr){return Sr.indexOf("data:")===0};if(!oa(h)&&vr(Kn))for(var Wr=He.length;Wr--;)ue=He[Wr].attr("src"),ue&&(qn(ue)||!Xr(h)&&Rr(ue))&&wn(He[Wr])})},_t=function(h){return Rn.ie&&h.inline?document.body:h.getBody()},kn=function(h){return _t(h)!==h.getBody()},$n=function(h,T,H){kn(h)&&h.dom.bind(T,"paste keyup",function(ue){Pt(h,H)||h.fire("paste")})},rr=function(h,T,H){var ue=h.dom,He=h.getBody();T.set(h.selection.getRng());var Nt=h.dom.add(_t(h),"div",{id:"mcepastebin",class:"mce-pastebin",contentEditable:!0,"data-mce-bogus":"all",style:"position: fixed; top: 50%; width: 10px; height: 10px; overflow: hidden; opacity: 0"},H);(Rn.ie||Rn.gecko)&&ue.setStyle(Nt,"left",ue.getStyle(He,"direction",!0)==="rtl"?65535:-65535),ue.bind(Nt,"beforedeactivate focusin focusout",function(Kn){Kn.stopPropagation()}),$n(h,Nt,H),Nt.focus(),h.selection.select(Nt,!0)},Yr=function(h,T){if(U(h)){for(var H=void 0,ue=T.get();H=h.dom.get("mcepastebin");)h.dom.remove(H),h.dom.unbind(H);ue&&h.selection.setRng(ue)}T.set(null)},U=function(h){return h.dom.get("mcepastebin")},ke=function(h){var T=function(vr,wn){vr.appendChild(wn),h.dom.remove(wn,!0)},H=Ke.grep(_t(h).childNodes,function(vr){return vr.id==="mcepastebin"}),ue=H.shift();Ke.each(H,function(vr){T(ue,vr)});for(var He=h.dom.select("div[id=mcepastebin]",ue),Nt=He.length-1;Nt>=0;Nt--){var Kn=h.dom.create("div");ue.insertBefore(Kn,He[Nt]),T(Kn,He[Nt])}return ue?ue.innerHTML:""},Le=function(h,T){return T===h},mt=function(h){return h&&h.id==="mcepastebin"},Pt=function(h,T){var H=U(h);return mt(H)&&Le(T,H.innerHTML)},Dn=function(h){var T=D(null),H="%MCEPASTEBIN%";return{create:function(){return rr(h,T,H)},remove:function(){return Yr(h,T)},getEl:function(){return U(h)},getHtml:function(){return ke(h)},getLastRng:T.get,isDefault:function(){return Pt(h,H)},isDefaultContent:function(ue){return Le(H,ue)}}},Jn=function(h,T){var H=Dn(h);return h.on("PreInit",function(){return tt(h,H,T)}),{pasteFormat:T,pasteHtml:function(ue,He){return rt(h,ue,He)},pasteText:function(ue){return ln(h,ue)},pasteImageData:function(ue,He){return Eo(h,ue,He)},getDataTransferItems:On,hasHtmlOrText:mr,hasContentType:fr}},ea=function(h,T){T.pasteFormat.get()==="text"?(T.pasteFormat.set("html"),nr(h,!1)):(T.pasteFormat.set("text"),nr(h,!0)),h.focus()},Pr=function(h,T){h.addCommand("mceTogglePlainTextPaste",function(){ea(h,T)}),h.addCommand("mceInsertClipboardContent",function(H,ue){ue.content&&T.pasteHtml(ue.content,ue.internal),ue.text&&T.pasteText(ue.text)})},va=function(h){return Rn.iOS===!1&&typeof(h==null?void 0:h.setData)=="function"},Ra=function(h,T,H){if(va(h))try{return h.clearData(),h.setData("text/html",T),h.setData("text/plain",H),h.setData(vn(),T),!0}catch(ue){return!1}else return!1},Ui=function(h,T,H,ue){Ra(h.clipboardData,T.html,T.text)?(h.preventDefault(),ue()):H(T.html,ue)},Yu=function(h){return function(T,H){var ue=ze(T),He=h.dom.create("div",{contenteditable:"false","data-mce-bogus":"all"}),Nt=h.dom.create("div",{contenteditable:"true"},ue);h.dom.setStyles(He,{position:"fixed",top:"0",left:"-3000px",width:"1000px",overflow:"hidden"}),He.appendChild(Nt),h.dom.add(h.getBody(),He);var Kn=h.selection.getRng();Nt.focus();var vr=h.dom.createRng();vr.selectNodeContents(Nt),h.selection.setRng(vr),et.setTimeout(function(){h.selection.setRng(Kn),He.parentNode.removeChild(He),H()},0)}},cr=function(h){return{html:h.selection.getContent({contextual:!0}),text:h.selection.getContent({format:"text"})}},an=function(h){return!!h.dom.getParent(h.selection.getStart(),"td[data-mce-selected],th[data-mce-selected]",h.getBody())},pa=function(h){return!h.selection.isCollapsed()||an(h)},yo=function(h){return function(T){pa(h)&&Ui(T,cr(h),Yu(h),function(){if(Rn.browser.isChrome()||Rn.browser.isFirefox()){var H=h.selection.getRng();et.setEditorTimeout(h,function(){h.selection.setRng(H),h.execCommand("Delete")},0)}else h.execCommand("Delete")})}},qo=function(h){return function(T){pa(h)&&Ui(T,cr(h),Yu(h),W)}},gs=function(h){h.on("cut",yo(h)),h.on("copy",qo(h))},hs=tinymce.util.Tools.resolve("tinymce.dom.RangeUtils"),Hs=function(h,T){return hs.getCaretRangeFromPoint(T.clientX,T.clientY,h.getDoc())},_a=function(h){var T=h["text/plain"];return T?T.indexOf("file://")===0:!1},Iu=function(h,T){h.focus(),h.selection.setRng(T)},Vs=function(h,T,H){bn(h)&&h.on("dragend dragover draggesture dragdrop drop drag",function(ue){ue.preventDefault(),ue.stopPropagation()}),Ue(h)||h.on("drop",function(ue){var He=ue.dataTransfer;He&&He.files&&He.files.length>0&&ue.preventDefault()}),h.on("drop",function(ue){var He=Hs(h,ue);if(!(ue.isDefaultPrevented()||H.get())){var Nt=T.getDataTransferItems(ue.dataTransfer),Kn=T.hasContentType(Nt,vn());if(!((!T.hasHtmlOrText(Nt)||_a(Nt))&&T.pasteImageData(ue,He))&&He&&We(h)){var vr=Nt["mce-internal"]||Nt["text/html"]||Nt["text/plain"];vr&&(ue.preventDefault(),et.setEditorTimeout(h,function(){h.undoManager.transact(function(){Nt["mce-internal"]&&h.execCommand("Delete"),Iu(h,He),vr=Qa(vr),Nt["text/html"]?T.pasteHtml(vr,Kn):T.pasteText(vr)})}))}}}),h.on("dragstart",function(ue){H.set(!0)}),h.on("dragover dragend",function(ue){Ue(h)&&H.get()===!1&&(ue.preventDefault(),Iu(h,Hs(h,ue))),ue.type==="dragend"&&H.set(!1)})},Wi=function(h){var T=h.plugins.paste,H=ft(h);H&&h.on("PastePreProcess",function(He){H.call(T,T,He)});var ue=zt(h);ue&&h.on("PastePostProcess",function(He){ue.call(T,T,He)})},ei=function(h,T){h.on("PastePreProcess",function(H){H.content=T(h,H.content,H.internal,H.wordContent)})},il=function(h,T){h.on("PastePostProcess",function(H){T(h,H.node)})},Tt=function(h,T){if(!zr(T))return T;var H=[];Ke.each(h.schema.getBlockElements(),function(He,Nt){H.push(Nt)});var ue=new RegExp("(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*(<\\/?("+H.join("|")+")[^>]*>)(?:<br>&nbsp;[\\s\\r\\n]+|<br>)*","g");return T=Ga(T,[[ue,"$1"]]),T=Ga(T,[[/<br><br>/g,"<BR><BR>"],[/<br>/g," "],[/<BR><BR>/g,"<br>"]]),T},ps=function(h,T,H,ue){if(ue||H)return T;var He=vt(h),Nt;if(kt(h)===!1||He==="all")return T;if(He&&(Nt=He.split(/[, ]/)),Nt){var Kn=h.dom,vr=h.selection.getNode();T=T.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,function(wn,qn,Rr,Wr){var Sr=Kn.parseStyle(Kn.decode(Rr)),Ua={};if(Nt==="none")return qn+Wr;for(var wr=0;wr<Nt.length;wr++){var Aa=Sr[Nt[wr]],Sa=Kn.getStyle(vr,Nt[wr],!0);/color/.test(Nt[wr])&&(Aa=Kn.toHex(Aa),Sa=Kn.toHex(Sa)),Sa!==Aa&&(Ua[Nt[wr]]=Aa)}var ji=Kn.serializeStyle(Ua,"span");return ji?qn+' style="'+ji+'"'+Wr:qn+Wr})}else T=T.replace(/(<[^>]+) style="([^"]*)"([^>]*>)/gi,"$1$3");return T=T.replace(/(<[^>]+) data-mce-style="([^"]+)"([^>]*>)/gi,function(wn,qn,Rr,Wr){return qn+' style="'+Rr+'"'+Wr}),T},Lo=function(h,T){h.$("a",T).find("font,u").each(function(H,ue){h.dom.remove(ue,!0)})},El=function(h){Rn.webkit&&ei(h,ps),Rn.ie&&(ei(h,Tt),il(h,Lo))},Zu=function(h,T){return function(H){H.setActive(T.pasteFormat.get()==="text");var ue=function(He){return H.setActive(He.state)};return h.on("PastePlainTextToggle",ue),function(){return h.off("PastePlainTextToggle",ue)}}},B=function(h,T){var H=function(){return h.execCommand("mceTogglePlainTextPaste")};h.ui.registry.addToggleButton("pastetext",{active:!1,icon:"paste-text",tooltip:"Paste as text",onAction:H,onSetup:Zu(h,T)}),h.ui.registry.addToggleMenuItem("pastetext",{text:"Paste as text",icon:"paste-text",onAction:H,onSetup:Zu(h,T)})};function w(){y.add("paste",function(h){if(C(h)===!1){var T=D(!1),H=D(pt(h)?"text":"html"),ue=Jn(h,H);return El(h),B(h,ue),Pr(h,ue),Wi(h),gs(h),Vs(h,ue,T),S(ue)}})}w()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=tinymce.util.Tools.resolve("tinymce.Env"),C=tinymce.util.Tools.resolve("tinymce.util.Tools"),S=function(be){return be.getParam("content_style","","string")},_=function(be){return be.getParam("content_css_cors",!1,"boolean")},M=function(be){var ae=be.getParam("body_class","","hash");return ae[be.id]||""},z=function(be){var ae=be.getParam("body_class","","string");return ae.indexOf("=")===-1?ae:M(be)},K=function(be){var ae=be.getParam("body_id","","hash");return ae[be.id]||ae},Y=function(be){var ae=be.getParam("body_id","tinymce","string");return ae.indexOf("=")===-1?ae:K(be)},ye=function(be){var ae="",Ae=be.dom.encode,Ye=S(be);ae+='<base href="'+Ae(be.documentBaseURI.getURI())+'">';var Ve=_(be)?' crossorigin="anonymous"':"";C.each(be.contentCSS,function(Ze){ae+='<link type="text/css" rel="stylesheet" href="'+Ae(be.documentBaseURI.toAbsolute(Ze))+'"'+Ve+">"}),Ye&&(ae+='<style type="text/css">'+Ye+"</style>");var L=Y(be),_e=z(be),Te=y.mac?"e.metaKey":"e.ctrlKey && !e.altKey",Be='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+Te+")) {e.preventDefault();}}}, false);<\/script> ",gt=be.getBody().dir,Se=gt?' dir="'+Ae(gt)+'"':"",je="<!DOCTYPE html><html><head>"+ae+'</head><body id="'+Ae(L)+'" class="mce-content-body '+Ae(_e)+'"'+Se+">"+be.getContent()+Be+"</body></html>";return je},Q=function(be){var ae=ye(be),Ae=be.windowManager.open({title:"Preview",size:"large",body:{type:"panel",items:[{name:"preview",type:"iframe",sandboxed:!0}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}],initialData:{preview:ae}});Ae.focus("close")},W=function(be){be.addCommand("mcePreview",function(){Q(be)})},ve=function(be){var ae=function(){return be.execCommand("mcePreview")};be.ui.registry.addButton("preview",{icon:"preview",tooltip:"Preview",onAction:ae}),be.ui.registry.addMenuItem("preview",{icon:"preview",text:"Preview",onAction:ae})};function he(){D.add("preview",function(be){W(be),ve(be)})}he()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=tinymce.util.Tools.resolve("tinymce.Env"),C=function(M){M.addCommand("mcePrint",function(){y.browser.isIE()?M.getDoc().execCommand("print",!1,null):M.getWin().print()})},S=function(M){var z=function(){return M.execCommand("mcePrint")};M.ui.registry.addButton("print",{icon:"print",tooltip:"Print",onAction:z}),M.ui.registry.addMenuItem("print",{text:"Print...",icon:"print",onAction:z})};function _(){D.add("print",function(M){C(M),S(M),M.addShortcut("Meta+P","","mcePrint")})}_()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),C=tinymce.util.Tools.resolve("tinymce.util.Tools"),S=function(he){return he.getParam("save_enablewhendirty",!0)},_=function(he){return!!he.getParam("save_onsavecallback")},M=function(he){return!!he.getParam("save_oncancelcallback")},z=function(he,be){he.notificationManager.open({text:be,type:"error"})},K=function(he){var be=y.DOM.getParent(he.id,"form");if(!(S(he)&&!he.isDirty())){if(he.save(),_(he)){he.execCallback("save_onsavecallback",he),he.nodeChanged();return}be?(he.setDirty(!1),(!be.onsubmit||be.onsubmit())&&(typeof be.submit=="function"?be.submit():z(he,"Error: Form submit field collision.")),he.nodeChanged()):z(he,"Error: No form element found.")}},Y=function(he){var be=C.trim(he.startContent);if(M(he)){he.execCallback("save_oncancelcallback",he);return}he.resetContent(be)},ye=function(he){he.addCommand("mceSave",function(){K(he)}),he.addCommand("mceCancel",function(){Y(he)})},Q=function(he){return function(be){var ae=function(){be.setDisabled(S(he)&&!he.isDirty())};return ae(),he.on("NodeChange dirty",ae),function(){return he.off("NodeChange dirty",ae)}}},W=function(he){he.ui.registry.addButton("save",{icon:"save",tooltip:"Save",disabled:!0,onAction:function(){return he.execCommand("mceSave")},onSetup:Q(he)}),he.ui.registry.addButton("cancel",{icon:"cancel",tooltip:"Cancel",disabled:!0,onAction:function(){return he.execCommand("mceCancel")},onSetup:Q(he)}),he.addShortcut("Meta+S","","mceSave")};function ve(){D.add("save",function(he){W(he),ye(he)})}ve()})();(function(){var D=function(oe){var pe=oe,ut=function(){return pe},At=function(R){pe=R};return{get:ut,set:At}},y=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(){return C=Object.assign||function(pe){for(var ut,At=1,R=arguments.length;At<R;At++){ut=arguments[At];for(var Z in ut)Object.prototype.hasOwnProperty.call(ut,Z)&&(pe[Z]=ut[Z])}return pe},C.apply(this,arguments)},S=function(oe){var pe=typeof oe;return oe===null?"null":pe==="object"&&(Array.prototype.isPrototypeOf(oe)||oe.constructor&&oe.constructor.name==="Array")?"array":pe==="object"&&(String.prototype.isPrototypeOf(oe)||oe.constructor&&oe.constructor.name==="String")?"string":pe},_=function(oe){return function(pe){return S(pe)===oe}},M=function(oe){return function(pe){return typeof pe===oe}},z=_("string"),K=_("array"),Y=M("boolean"),ye=M("number"),Q=function(){},W=function(oe){return function(){return oe}},ve=function(oe){return oe},he=W(!1),be=W(!0),ae="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",Ae=W(ae),Ye=function(){return Ve},Ve=function(){var oe=function(At){return At()},pe=ve,ut={fold:function(At,R){return At()},isSome:he,isNone:be,getOr:pe,getOrThunk:oe,getOrDie:function(At){throw new Error(At||"error: getOrDie called on none.")},getOrNull:W(null),getOrUndefined:W(void 0),or:pe,orThunk:oe,map:Ye,each:Q,bind:Ye,exists:he,forall:be,filter:function(){return Ye()},toArray:function(){return[]},toString:W("none()")};return ut}(),L=function(oe){var pe=W(oe),ut=function(){return R},At=function(Z){return Z(oe)},R={fold:function(Z,me){return me(oe)},isSome:be,isNone:he,getOr:pe,getOrThunk:pe,getOrDie:pe,getOrNull:pe,getOrUndefined:pe,or:ut,orThunk:ut,map:function(Z){return L(Z(oe))},each:function(Z){Z(oe)},bind:At,exists:At,forall:At,filter:function(Z){return Z(oe)?R:Ve},toArray:function(){return[oe]},toString:function(){return"some("+oe+")"}};return R},_e=function(oe){return oe==null?Ve:L(oe)},Te={some:L,none:Ye,from:_e},Be=Ae,gt=tinymce.util.Tools.resolve("tinymce.Env"),Se=tinymce.util.Tools.resolve("tinymce.util.Tools"),je=Array.prototype.slice,Ze=Array.prototype.push,it=function(oe,pe){for(var ut=oe.length,At=new Array(ut),R=0;R<ut;R++){var Z=oe[R];At[R]=pe(Z,R)}return At},G=function(oe,pe){for(var ut=0,At=oe.length;ut<At;ut++){var R=oe[ut];pe(R,ut)}},xe=function(oe,pe){for(var ut=oe.length-1;ut>=0;ut--){var At=oe[ut];pe(At,ut)}},ct=function(oe,pe){if(oe.length===0)return[];for(var ut=pe(oe[0]),At=[],R=[],Z=0,me=oe.length;Z<me;Z++){var Me=oe[Z],Qe=pe(Me);Qe!==ut&&(At.push(R),R=[]),ut=Qe,R.push(Me)}return R.length!==0&&At.push(R),At},Tn=function(oe,pe,ut){return G(oe,function(At,R){ut=pe(ut,At,R)}),ut},bt=function(oe){for(var pe=[],ut=0,At=oe.length;ut<At;++ut){if(!K(oe[ut]))throw new Error("Arr.flatten item "+ut+" was not an array, input: "+oe);Ze.apply(pe,oe[ut])}return pe},er=function(oe,pe){return bt(it(oe,pe))},Er=function(oe,pe){var ut=je.call(oe,0);return ut.sort(pe),ut},A=Object.hasOwnProperty,Ht=function(oe,pe){return A.call(oe,pe)};typeof window!="undefined"||Function("return this;")();var Kt=9,Rn=11,et=1,nn=3,tn=function(oe){return oe.dom.nodeType},sn=function(oe){return function(pe){return tn(pe)===oe}},X=sn(nn),nr=function(oe,pe,ut){if(z(ut)||Y(ut)||ye(ut))oe.setAttribute(pe,ut+"");else throw new Error("Attribute value was not simple")},St=function(oe,pe,ut){nr(oe.dom,pe,ut)},Ke=function(oe,pe,ut){return(oe.compareDocumentPosition(pe)&ut)!==0},bn=function(oe,pe){return Ke(oe,pe,Node.DOCUMENT_POSITION_PRECEDING)},Ue=function(oe,pe){var ut=pe||document,At=ut.createElement("div");if(At.innerHTML=oe,!At.hasChildNodes()||At.childNodes.length>1)throw new Error("HTML must have a single root node");return zt(At.childNodes[0])},We=function(oe,pe){var ut=pe||document,At=ut.createElement(oe);return zt(At)},ft=function(oe,pe){var ut=pe||document,At=ut.createTextNode(oe);return zt(At)},zt=function(oe){if(oe==null)throw new Error("Node cannot be null or undefined");return{dom:oe}},vt=function(oe,pe,ut){return Te.from(oe.dom.elementFromPoint(pe,ut)).map(zt)},kt={fromHtml:Ue,fromTag:We,fromText:ft,fromDom:zt,fromPoint:vt},jn=function(oe){return oe.nodeType!==et&&oe.nodeType!==Kt&&oe.nodeType!==Rn||oe.childElementCount===0},Ce=function(oe,pe){var ut=pe===void 0?document:pe.dom;return jn(ut)?[]:it(ut.querySelectorAll(oe),kt.fromDom)},pt=function(oe){return Te.from(oe.dom.parentNode).map(kt.fromDom)},pn=function(oe){return it(oe.dom.childNodes,kt.fromDom)},Nn=function(oe,pe){return{element:oe,offset:pe}},Hn=function(oe,pe){var ut=pn(oe);return ut.length>0&&pe<ut.length?Nn(ut[pe],0):Nn(oe,pe)},tr=function(oe,pe){var ut=pt(oe);ut.each(function(At){At.dom.insertBefore(pe.dom,oe.dom)})},Fr=function(oe,pe){oe.dom.appendChild(pe.dom)},Xr=function(oe,pe){tr(oe,pe),Fr(pe,oe)},oa=function(oe,pe){var ut=function(Z){if(!oe(Z))throw new Error("Can only get "+pe+" value of a "+pe+" node");return At(Z).getOr("")},At=function(Z){return oe(Z)?Te.from(Z.dom.nodeValue):Te.none()},R=function(Z,me){if(!oe(Z))throw new Error("Can only set raw "+pe+" value of a "+pe+" node");Z.dom.nodeValue=me};return{get:ut,getOption:At,set:R}},Vt=oa(X,"text"),Ut=function(oe){return Vt.get(oe)},Bt=function(oe,pe){return Ce(pe,oe)},Xe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ot=function(oe,pe){return oe.isBlock(pe)||Ht(oe.schema.getShortEndedElements(),pe.nodeName)},Xt=function(oe,pe){return oe.getContentEditable(pe)==="false"},yn=function(oe,pe){return oe.getContentEditable(pe)==="true"&&oe.getContentEditableParent(pe.parentNode)==="false"},Jt=function(oe,pe){return!oe.isBlock(pe)&&Ht(oe.schema.getWhiteSpaceElements(),pe.nodeName)},ze=function(oe,pe){return ot(oe,pe)||Xt(oe,pe)||Jt(oe,pe)||yn(oe,pe)},$t=function(oe){return oe.nodeType===3},fn=function(){return{sOffset:0,fOffset:0,elements:[]}},vn=function(oe,pe){return Hn(kt.fromDom(oe),pe)},Ln=function(oe,pe,ut,At,R,Z){Z===void 0&&(Z=!0);for(var me=Z?pe(!1):ut;me;){var Me=Xt(oe,me);if(Me||Jt(oe,me)){var Qe=Me?At.cef(me):At.boundary(me);if(Qe)break;me=pe(!0);continue}else if(ot(oe,me)){if(At.boundary(me))break}else $t(me)&&At.text(me);if(me===R)break;me=pe(!1)}},Ee=function(oe,pe,ut,At,R){if(!ze(oe,ut)){var Z=oe.getParent(At,oe.isBlock),me=new Xe(ut,Z),Me=R?me.next.bind(me):me.prev.bind(me);Ln(oe,Me,ut,{boundary:be,cef:be,text:function(Qe){R?pe.fOffset+=Qe.length:pe.sOffset+=Qe.length,pe.elements.push(kt.fromDom(Qe))}})}},Ct=function(oe,pe,ut,At,R,Z){Z===void 0&&(Z=!0);var me=new Xe(ut,pe),Me=[],Qe=fn();Ee(oe,Qe,ut,pe,!1);var rt=function(){return Qe.elements.length>0&&(Me.push(Qe),Qe=fn()),!1};return Ln(oe,me.next.bind(me),ut,{boundary:rt,cef:function(ln){return rt(),R&&Me.push.apply(Me,R.cef(ln)),!1},text:function(ln){Qe.elements.push(kt.fromDom(ln)),R&&R.text(ln,Qe)}},At,Z),At&&Ee(oe,Qe,At,pe,!0),rt(),Me},dt=function(oe,pe){var ut=vn(pe.startContainer,pe.startOffset),At=ut.element.dom,R=vn(pe.endContainer,pe.endOffset),Z=R.element.dom;return Ct(oe,pe.commonAncestorContainer,At,Z,{text:function(me,Me){me===Z?Me.fOffset+=me.length-R.offset:me===At&&(Me.sOffset+=ut.offset)},cef:function(me){var Me=er(Bt(kt.fromDom(me),"*[contenteditable=true]"),function(Qe){var rt=Qe.dom;return Ct(oe,rt,rt)});return Er(Me,function(Qe,rt){return bn(Qe.elements[0].dom,rt.elements[0].dom)?1:-1})}},!1)},Wt=function(oe,pe){return pe.collapsed?[]:dt(oe,pe)},Bn=function(oe,pe){var ut=oe.createRng();return ut.selectNode(pe),Wt(oe,ut)},pr=function(oe,pe){return er(pe,function(ut){return Bn(oe,ut)})},xa=function(oe,pe,ut,At){ut===void 0&&(ut=0),At===void 0&&(At=oe.length);var R=pe.regex;R.lastIndex=ut;for(var Z=[],me;me=R.exec(oe);){var Me=me[pe.matchIndex],Qe=me.index+me[0].indexOf(Me),rt=Qe+Me.length;if(rt>At)break;Z.push({start:Qe,finish:rt}),R.lastIndex=rt}return Z},Ar=function(oe,pe){var ut=Tn(oe,function(At,R){var Z=Ut(R),me=At.last,Me=me+Z.length,Qe=er(pe,function(rt,ln){return rt.start<Me&&rt.finish>me?[{element:R,start:Math.max(me,rt.start)-me,finish:Math.min(Me,rt.finish)-me,matchId:ln}]:[]});return{results:At.results.concat(Qe),last:Me}},{results:[],last:0}).results;return ct(ut,function(At){return At.matchId})},xr=function(oe,pe){return er(pe,function(ut){var At=ut.elements,R=it(At,Ut).join(""),Z=xa(R,oe,ut.sOffset,R.length-ut.fOffset);return Ar(At,Z)})},ha=function(oe,pe){xe(oe,function(ut,At){xe(ut,function(R){var Z=kt.fromDom(pe.cloneNode(!1));St(Z,"data-mce-index",At);var me=R.element.dom;if(me.length===R.finish&&R.start===0)Xr(R.element,Z);else{me.length!==R.finish&&me.splitText(R.finish);var Me=me.splitText(R.start);Xr(kt.fromDom(Me),Z)}})})},Ja=function(oe,pe,ut,At){var R=Bn(oe,ut),Z=xr(pe,R);return ha(Z,At),Z.length},Va=function(oe,pe,ut,At){var R=ut.getBookmark(),Z=oe.select("td[data-mce-selected],th[data-mce-selected]"),me=Z.length>0?pr(oe,Z):Wt(oe,ut.getRng()),Me=xr(pe,me);return ha(Me,At),ut.moveToBookmark(R),Me.length},Ta=function(oe){var pe=oe.getAttribute("data-mce-index");return typeof pe=="number"?""+pe:pe},Ga=function(oe,pe,ut,At){var R=oe.dom.create("span",{"data-mce-bogus":1});R.className="mce-match-marker";var Z=oe.getBody();return oo(oe,pe,!1),At?Va(oe.dom,ut,oe.selection,R):Ja(oe.dom,ut,Z,R)},xo=function(oe){var pe=oe.parentNode;oe.firstChild&&pe.insertBefore(oe.firstChild,oe),oe.parentNode.removeChild(oe)},Qa=function(oe,pe){var ut=[],At=Se.toArray(oe.getBody().getElementsByTagName("span"));if(At.length)for(var R=0;R<At.length;R++){var Z=Ta(At[R]);Z===null||!Z.length||Z===pe.toString()&&ut.push(At[R])}return ut},Pa=function(oe,pe,ut){var At=pe.get(),R=At.index,Z=oe.dom;ut=ut!==!1,ut?R+1===At.count?R=0:R++:R-1===-1?R=At.count-1:R--,Z.removeClass(Qa(oe,At.index),"mce-match-marker-selected");var me=Qa(oe,R);return me.length?(Z.addClass(Qa(oe,R),"mce-match-marker-selected"),oe.selection.scrollIntoView(me[0]),R):-1},po=function(oe,pe){var ut=pe.parentNode;oe.remove(pe),oe.isEmpty(ut)&&oe.remove(ut)},zr=function(oe,pe){var ut=oe.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&").replace(/\s/g,"[^\\S\\r\\n\\uFEFF]"),At="("+ut+")";return pe?"(?:^|\\s|"+Be()+")"+At+("(?=$|\\s|"+Be()+")"):At},bo=function(oe,pe,ut,At,R,Z){var me=oe.selection,Me=zr(ut,R),Qe=me.isForward(),rt={regex:new RegExp(Me,At?"g":"gi"),matchIndex:1},ln=Ga(oe,pe,rt,Z);if(gt.browser.isSafari()&&me.setRng(me.getRng(),Qe),ln){var On=Pa(oe,pe,!0);pe.set({index:On,count:ln,text:ut,matchCase:At,wholeWord:R,inSelection:Z})}return ln},Gn=function(oe,pe){var ut=Pa(oe,pe,!0);pe.set(C(C({},pe.get()),{index:ut}))},vi=function(oe,pe){var ut=Pa(oe,pe,!1);pe.set(C(C({},pe.get()),{index:ut}))},fo=function(oe){var pe=Ta(oe);return pe!==null&&pe.length>0},So=function(oe,pe,ut,At,R){var Z=pe.get(),me=Z.index,Me,Qe=me;At=At!==!1;for(var rt=oe.getBody(),ln=Se.grep(Se.toArray(rt.getElementsByTagName("span")),fo),On=0;On<ln.length;On++){var ir=Ta(ln[On]),fr=Me=parseInt(ir,10);if(R||fr===Z.index){for(ut.length?(ln[On].firstChild.nodeValue=ut,xo(ln[On])):po(oe.dom,ln[On]);ln[++On];)if(fr=parseInt(Ta(ln[On]),10),fr===Me)po(oe.dom,ln[On]);else{On--;break}At&&Qe--}else Me>me&&ln[On].setAttribute("data-mce-index",String(Me-1))}return pe.set(C(C({},Z),{count:R?0:Z.count-1,index:Qe})),At?Gn(oe,pe):vi(oe,pe),!R&&pe.get().count>0},oo=function(oe,pe,ut){for(var At,R,Z=pe.get(),me=Se.toArray(oe.getBody().getElementsByTagName("span")),Me=0;Me<me.length;Me++){var Qe=Ta(me[Me]);Qe!==null&&Qe.length&&(Qe===Z.index.toString()&&(At||(At=me[Me].firstChild),R=me[Me].firstChild),xo(me[Me]))}if(pe.set(C(C({},Z),{index:-1,count:0,text:""})),At&&R){var rt=oe.dom.createRng();return rt.setStart(At,0),rt.setEnd(R,R.data.length),ut!==!1&&oe.selection.setRng(rt),rt}},No=function(oe,pe){return pe.get().count>1},di=function(oe,pe){return pe.get().count>1},_o=function(oe,pe){var ut=function(Me){return oo(oe,pe,Me)},At=function(Me,Qe,rt,ln){return ln===void 0&&(ln=!1),bo(oe,pe,Me,Qe,rt,ln)},R=function(){return Gn(oe,pe)},Z=function(){return vi(oe,pe)},me=function(Me,Qe,rt){return So(oe,pe,Me,Qe,rt)};return{done:ut,find:At,next:R,prev:Z,replace:me}},Ei=function(oe){var pe=D(Te.none()),ut=function(){return pe.get().each(oe)},At=function(){ut(),pe.set(Te.none())},R=function(){return pe.get().isSome()},Z=function(){return pe.get()},me=function(Me){ut(),pe.set(Te.some(Me))};return{clear:At,isSet:R,get:Z,set:me}},se=function(){var oe=Ei(Q),pe=function(ut){return oe.get().each(ut)};return C(C({},oe),{on:pe})},Re=function(oe,pe){var ut=se();oe.undoManager.add();var At=Se.trim(oe.selection.getContent({format:"text"})),R=function(mr){var Tr=No(oe,pe)?mr.enable:mr.disable;Tr("next");var ia=di(oe,pe)?mr.enable:mr.disable;ia("prev")},Z=function(mr){var Tr=mr.getData(),ia=pe.get();pe.set(C(C({},ia),{matchCase:Tr.matchcase,wholeWord:Tr.wholewords,inSelection:Tr.inselection}))},me=function(mr,Tr){var ia=["replace","replaceall","prev","next"],eo=Tr?mr.disable:mr.enable;G(ia,eo)},Me=function(mr){oe.windowManager.alert("Could not find the specified string.",function(){mr.focus("findtext")})},Qe=function(mr,Tr){gt.browser.isSafari()&&gt.deviceType.isTouch()&&(Tr==="find"||Tr==="replace"||Tr==="replaceall")&&mr.focus(Tr)},rt=function(mr){oo(oe,pe,!1),me(mr,!0),R(mr)},ln=function(mr){var Tr=mr.getData(),ia=pe.get();if(!Tr.findtext.length){rt(mr);return}if(ia.text===Tr.findtext&&ia.matchCase===Tr.matchcase&&ia.wholeWord===Tr.wholewords)Gn(oe,pe);else{var eo=bo(oe,pe,Tr.findtext,Tr.matchcase,Tr.wholewords,Tr.inselection);eo<=0&&Me(mr),me(mr,eo===0)}R(mr)},On=pe.get(),ir={findtext:At,replacetext:"",wholewords:On.wholeWord,matchcase:On.matchCase,inselection:On.inSelection},fr={title:"Find and Replace",size:"normal",body:{type:"panel",items:[{type:"bar",items:[{type:"input",name:"findtext",placeholder:"Find",maximized:!0,inputMode:"search"},{type:"button",name:"prev",text:"Previous",icon:"action-prev",disabled:!0,borderless:!0},{type:"button",name:"next",text:"Next",icon:"action-next",disabled:!0,borderless:!0}]},{type:"input",name:"replacetext",placeholder:"Replace with",inputMode:"search"}]},buttons:[{type:"menu",name:"options",icon:"preferences",tooltip:"Preferences",align:"start",items:[{type:"togglemenuitem",name:"matchcase",text:"Match case"},{type:"togglemenuitem",name:"wholewords",text:"Find whole words only"},{type:"togglemenuitem",name:"inselection",text:"Find in selection"}]},{type:"custom",name:"find",text:"Find",primary:!0},{type:"custom",name:"replace",text:"Replace",disabled:!0},{type:"custom",name:"replaceall",text:"Replace all",disabled:!0}],initialData:ir,onChange:function(mr,Tr){Tr.name==="findtext"&&pe.get().count>0&&rt(mr)},onAction:function(mr,Tr){var ia=mr.getData();switch(Tr.name){case"find":ln(mr);break;case"replace":So(oe,pe,ia.replacetext)?R(mr):rt(mr);break;case"replaceall":So(oe,pe,ia.replacetext,!0,!0),rt(mr);break;case"prev":vi(oe,pe),R(mr);break;case"next":Gn(oe,pe),R(mr);break;case"matchcase":case"wholewords":case"inselection":Z(mr),rt(mr);break}Qe(mr,Tr.name)},onSubmit:function(mr){ln(mr),Qe(mr,"find")},onClose:function(){oe.focus(),oo(oe,pe),oe.undoManager.add()}};ut.set(oe.windowManager.open(fr,{inline:"toolbar"}))},ce=function(oe,pe){oe.addCommand("SearchReplace",function(){Re(oe,pe)})},at=function(oe,pe){return function(){Re(oe,pe)}},dn=function(oe,pe){oe.ui.registry.addMenuItem("searchreplace",{text:"Find and replace...",shortcut:"Meta+F",onAction:at(oe,pe),icon:"search"}),oe.ui.registry.addButton("searchreplace",{tooltip:"Find and replace",onAction:at(oe,pe),icon:"search"}),oe.shortcuts.add("Meta+F","",at(oe,pe))};function Mn(){y.add("searchreplace",function(oe){var pe=D({index:-1,count:0,text:"",matchCase:!1,wholeWord:!1,inSelection:!1});return ce(oe,pe),dn(oe,pe),_o(oe,pe)})}Mn()})();(function(){var D=function(et){var nn=et,tn=function(){return nn},sn=function(X){nn=X};return{get:tn,set:sn}},y=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(et){return et.hasPlugin("tinymcespellchecker",!0)?(typeof window.console!="undefined"&&window.console.log&&window.console.log("Spell Checker Pro is incompatible with Spell Checker plugin! Remove 'spellchecker' from the 'plugins' option."),!0):!1},S=Object.hasOwnProperty,_=function(et){for(var nn in et)if(S.call(et,nn))return!1;return!0},M=tinymce.util.Tools.resolve("tinymce.util.Tools"),z=tinymce.util.Tools.resolve("tinymce.util.URI"),K=tinymce.util.Tools.resolve("tinymce.util.XHR"),Y=function(et){return et.fire("SpellcheckStart")},ye=function(et){return et.fire("SpellcheckEnd")},Q=function(et){var nn="English=en,Danish=da,Dutch=nl,Finnish=fi,French=fr_FR,German=de,Italian=it,Polish=pl,Portuguese=pt_BR,Spanish=es,Swedish=sv";return et.getParam("spellchecker_languages",nn)},W=function(et){var nn=et.getParam("language","en");return et.getParam("spellchecker_language",nn)},ve=function(et){return et.getParam("spellchecker_rpc_url")},he=function(et){return et.getParam("spellchecker_callback")},be=function(et){var nn=new RegExp('[^\\s!"#$%&()*+,-./:;<=>?@[\\]^_{|}`§©«®±¶·¸»¼½¾¿×÷¤”“„    ]+',"g");return et.getParam("spellchecker_wordchar_pattern",nn)},ae=function(et){return et&&et.nodeType===1&&et.contentEditable==="false"},Ae=function(et,nn){var tn,sn=[],X=nn.dom,nr=nn.schema.getBlockElements(),St=nn.schema.getWhiteSpaceElements(),Ke=nn.schema.getShortEndedElements(),bn=function(Xe,ot){if(!Xe[0])throw new Error("findAndReplaceDOMText cannot handle zero-length matches");return{start:Xe.index,end:Xe.index+Xe[0].length,text:Xe[0],data:ot}},Ue=function(Xe){if(Xe.nodeType===3)return Xe.data;if(St[Xe.nodeName]&&!nr[Xe.nodeName])return"";if(ae(Xe))return`
`;var ot="";if((nr[Xe.nodeName]||Ke[Xe.nodeName])&&(ot+=`
`),Xe=Xe.firstChild)do ot+=Ue(Xe);while(Xe=Xe.nextSibling);return ot},We=function(Xe,ot,Xt){var yn,Jt,ze,$t,fn=[],vn=0,Ln=Xe,Ee,Ct=0;ot=ot.slice(0),ot.sort(function(dt,Wt){return dt.start-Wt.start}),Ee=ot.shift();e:for(;;){if((nr[Ln.nodeName]||Ke[Ln.nodeName]||ae(Ln))&&vn++,Ln.nodeType===3&&(!Jt&&Ln.length+vn>=Ee.end?(Jt=Ln,$t=Ee.end-vn):yn&&fn.push(Ln),!yn&&Ln.length+vn>Ee.start&&(yn=Ln,ze=Ee.start-vn),vn+=Ln.length),yn&&Jt){if(Ln=Xt({startNode:yn,startNodeIndex:ze,endNode:Jt,endNodeIndex:$t,innerNodes:fn,match:Ee.text,matchIndex:Ct}),vn-=Jt.length-$t,yn=null,Jt=null,fn=[],Ee=ot.shift(),Ct++,!Ee)break}else if((!St[Ln.nodeName]||nr[Ln.nodeName])&&Ln.firstChild){if(!ae(Ln)){Ln=Ln.firstChild;continue}}else if(Ln.nextSibling){Ln=Ln.nextSibling;continue}for(;;)if(Ln.nextSibling){Ln=Ln.nextSibling;break}else if(Ln.parentNode!==Xe)Ln=Ln.parentNode;else break e}},ft=function(Xe){var ot=function(Xt,yn){var Jt=sn[yn];Jt.stencil||(Jt.stencil=Xe(Jt));var ze=Jt.stencil.cloneNode(!1);return ze.setAttribute("data-mce-index",""+yn),Xt&&ze.appendChild(X.doc.createTextNode(Xt)),ze};return function(Xt){var yn,Jt,ze,$t=Xt.startNode,fn=Xt.endNode,vn=Xt.matchIndex,Ln=X.doc;if($t===fn){var Ee=$t;ze=Ee.parentNode,Xt.startNodeIndex>0&&(yn=Ln.createTextNode(Ee.data.substring(0,Xt.startNodeIndex)),ze.insertBefore(yn,Ee));var Ct=ot(Xt.match,vn);return ze.insertBefore(Ct,Ee),Xt.endNodeIndex<Ee.length&&(Jt=Ln.createTextNode(Ee.data.substring(Xt.endNodeIndex)),ze.insertBefore(Jt,Ee)),Ee.parentNode.removeChild(Ee),Ct}yn=Ln.createTextNode($t.data.substring(0,Xt.startNodeIndex)),Jt=Ln.createTextNode(fn.data.substring(Xt.endNodeIndex));for(var dt=ot($t.data.substring(Xt.startNodeIndex),vn),Wt=0,Bn=Xt.innerNodes.length;Wt<Bn;++Wt){var pr=Xt.innerNodes[Wt],xa=ot(pr.data,vn);pr.parentNode.replaceChild(xa,pr)}var Ar=ot(fn.data.substring(0,Xt.endNodeIndex),vn);return ze=$t.parentNode,ze.insertBefore(yn,$t),ze.insertBefore(dt,$t),ze.removeChild($t),ze=fn.parentNode,ze.insertBefore(Ar,fn),ze.insertBefore(Jt,fn),ze.removeChild(fn),Ar}},zt=function(Xe){for(var ot=Xe.parentNode;Xe.childNodes.length>0;)ot.insertBefore(Xe.childNodes[0],Xe);ot.removeChild(Xe)},vt=function(Xe){return Xe.className.indexOf("mce-spellchecker-word")!==-1},kt=function(Xe){var ot=et.getElementsByTagName("*"),Xt=[];Xe=typeof Xe=="number"?""+Xe:null;for(var yn=0;yn<ot.length;yn++){var Jt=ot[yn],ze=Jt.getAttribute("data-mce-index");ze!==null&&ze.length&&vt(Jt)&&(ze===Xe||Xe===null)&&Xt.push(Jt)}return Xt},jn=function(Xe){for(var ot=sn.length;ot--;)if(sn[ot]===Xe)return ot;return-1};function Ce(Xe){var ot=[];return pt(function(Xt,yn){Xe(Xt,yn)&&ot.push(Xt)}),sn=ot,this}function pt(Xe){for(var ot=0,Xt=sn.length;ot<Xt&&Xe(sn[ot],ot)!==!1;ot++);return this}function pn(Xe){return sn.length&&We(et,sn,ft(Xe)),this}function Nn(Xe,ot){if(Bt&&Xe.global)for(;tn=Xe.exec(Bt);)sn.push(bn(tn,ot));return this}function Hn(Xe){var ot,Xt=kt(Xe?jn(Xe):null);for(ot=Xt.length;ot--;)zt(Xt[ot]);return this}var tr=function(Xe){return sn[Xe.getAttribute("data-mce-index")]},Fr=function(Xe){return kt(jn(Xe))[0]};function Xr(Xe,ot,Xt){return sn.push({start:Xe,end:Xe+ot,text:Bt.substr(Xe,ot),data:Xt}),this}var oa=function(Xe){var ot=kt(jn(Xe)),Xt=nn.dom.createRng();return Xt.setStartBefore(ot[0]),Xt.setEndAfter(ot[ot.length-1]),Xt},Vt=function(Xe,ot){var Xt=oa(Xe);return Xt.deleteContents(),ot.length>0&&Xt.insertNode(nn.dom.doc.createTextNode(ot)),Xt};function Ut(){return sn.splice(0,sn.length),Hn(),this}var Bt=Ue(et);return{text:Bt,matches:sn,each:pt,filter:Ce,reset:Ut,matchFromElement:tr,elementFromMatch:Fr,find:Nn,add:Xr,wrap:pn,unwrap:Hn,replace:Vt,rangeFromMatch:oa,indexOf:jn}},Ye=function(et,nn){if(!nn.get()){var tn=Ae(et.getBody(),et);nn.set(tn)}return nn.get()},Ve=function(et,nn,tn){return function(sn,X,nr,St){var Ke={method:sn,lang:tn.get()},bn="";Ke[sn==="addToDictionary"?"word":"text"]=X,M.each(Ke,function(Ue,We){bn&&(bn+="&"),bn+=We+"="+encodeURIComponent(Ue)}),K.send({url:new z(nn).toAbsolute(ve(et)),type:"post",content_type:"application/x-www-form-urlencoded",data:bn,success:function(Ue){var We=JSON.parse(Ue);if(We)We.error?St(We.error):nr(We);else{var ft=et.translate("Server response wasn't proper JSON.");St(ft)}},error:function(){var Ue=et.translate("The spelling service was not found: (")+ve(et)+et.translate(")");St(Ue)}})}},L=function(et,nn,tn,sn,X,nr,St){var Ke=he(et),bn=Ke||Ve(et,nn,tn);bn.call(et.plugins.spellchecker,sn,X,nr,St)},_e=function(et,nn,tn,sn,X,nr){if(!Se(et,tn,sn)){var St=function(bn){et.notificationManager.open({text:bn,type:"error"}),et.setProgressState(!1),Se(et,tn,sn)},Ke=function(bn){it(et,tn,sn,X,bn)};et.setProgressState(!0),L(et,nn,nr,"spellcheck",Ye(et,sn).text,Ke,St),et.focus()}},Te=function(et,nn,tn){et.dom.select("span.mce-spellchecker-word").length||Se(et,nn,tn)},Be=function(et,nn,tn,sn,X,nr,St){et.setProgressState(!0),L(et,nn,X,"addToDictionary",nr,function(){et.setProgressState(!1),et.dom.remove(St,!0),Te(et,tn,sn)},function(Ke){et.notificationManager.open({text:Ke,type:"error"}),et.setProgressState(!1)})},gt=function(et,nn,tn,sn,X,nr){et.selection.collapse(),nr?M.each(et.dom.select("span.mce-spellchecker-word"),function(St){St.getAttribute("data-mce-word")===sn&&et.dom.remove(St,!0)}):et.dom.remove(X,!0),Te(et,nn,tn)},Se=function(et,nn,tn){var sn=et.selection.getBookmark();if(Ye(et,tn).reset(),et.selection.moveToBookmark(sn),tn.set(null),nn.get())return nn.set(!1),ye(et),!0},je=function(et){var nn=et.getAttribute("data-mce-index");return typeof nn=="number"?""+nn:nn},Ze=function(et,nn){var tn=[],sn=M.toArray(et.getBody().getElementsByTagName("span"));if(sn.length)for(var X=0;X<sn.length;X++){var nr=je(sn[X]);nr===null||!nr.length||nr===nn.toString()&&tn.push(sn[X])}return tn},it=function(et,nn,tn,sn,X){var nr=!!X.dictionary,St=X.words;if(et.setProgressState(!1),_(St)){var Ke=et.translate("No misspellings found.");et.notificationManager.open({text:Ke,type:"info"}),nn.set(!1);return}sn.set({suggestions:St,hasDictionarySupport:nr});var bn=et.selection.getBookmark();Ye(et,tn).find(be(et)).filter(function(Ue){return!!St[Ue.text]}).wrap(function(Ue){return et.dom.create("span",{class:"mce-spellchecker-word","aria-invalid":"spelling","data-mce-bogus":1,"data-mce-word":Ue.text})}),et.selection.moveToBookmark(bn),nn.set(!0),Y(et)},G=function(et,nn,tn,sn,X){var nr=function(){return be(et)},St=function(Ke){it(et,nn,sn,tn,Ke)};return{getTextMatcher:sn.get,getWordCharPattern:nr,markErrors:St,getLanguage:X.get}},xe=function(et,nn,tn,sn,X,nr){et.addCommand("mceSpellCheck",function(){_e(et,nn,tn,sn,X,nr)})},ct=function(){return ct=Object.assign||function(nn){for(var tn,sn=1,X=arguments.length;sn<X;sn++){tn=arguments[sn];for(var nr in tn)Object.prototype.hasOwnProperty.call(tn,nr)&&(nn[nr]=tn[nr])}return nn},ct.apply(this,arguments)},Tn="SpellcheckStart SpellcheckEnd",bt=function(et,nn){var tn=[];return M.each(nn,function(sn){tn.push({selectable:!0,text:sn.name,data:sn.value})}),tn},er=function(et){return M.map(Q(et).split(","),function(nn){var tn=nn.split("=");return{name:tn[0],value:tn[1]}})},Er=function(et,nn,tn,sn,X,nr){var St=bt("Language",er(et)),Ke=function(){_e(et,nn,tn,sn,nr,X)},bn={tooltip:"Spellcheck",onAction:Ke,icon:"spell-check",onSetup:function(We){var ft=function(){We.setActive(tn.get())};return et.on(Tn,ft),function(){et.off(Tn,ft)}}},Ue=ct(ct({},bn),{type:"splitbutton",select:function(We){return We===X.get()},fetch:function(We){var ft=M.map(St,function(zt){return{type:"choiceitem",value:zt.data,text:zt.text}});We(ft)},onItemAction:function(We,ft){X.set(ft)}});St.length>1?et.ui.registry.addSplitButton("spellchecker",Ue):et.ui.registry.addToggleButton("spellchecker",bn),et.ui.registry.addToggleMenuItem("spellchecker",{text:"Spellcheck",icon:"spell-check",onSetup:function(We){We.setActive(tn.get());var ft=function(){We.setActive(tn.get())};return et.on(Tn,ft),function(){et.off(Tn,ft)}},onAction:Ke})},A=!0,Ht=function(et,nn,tn,sn,X,nr,St,Ke){var bn=[],Ue=tn.get().suggestions[St];M.each(Ue,function(ft){bn.push({text:ft,onAction:function(){et.insertContent(et.dom.encode(ft)),et.dom.remove(Ke),Te(et,sn,X)}})});var We=tn.get().hasDictionarySupport;return We&&(bn.push({type:"separator"}),bn.push({text:"Add to dictionary",onAction:function(){Be(et,nn,sn,X,nr,St,Ke)}})),bn.push.apply(bn,[{type:"separator"},{text:"Ignore",onAction:function(){gt(et,sn,X,St,Ke)}},{text:"Ignore all",onAction:function(){gt(et,sn,X,St,Ke,A)}}]),bn},Kt=function(et,nn,tn,sn,X,nr){var St=function(Ke){var bn=Ke;if(bn.className==="mce-spellchecker-word"){var Ue=Ze(et,je(bn));if(Ue.length>0){var We=et.dom.createRng();return We.setStartBefore(Ue[0]),We.setEndAfter(Ue[Ue.length-1]),et.selection.setRng(We),Ht(et,nn,tn,sn,X,nr,bn.getAttribute("data-mce-word"),Ue)}}else return[]};et.ui.registry.addContextMenu("spellchecker",{update:St})};function Rn(){y.add("spellchecker",function(et,nn){if(C(et)===!1){var tn=D(!1),sn=D(W(et)),X=D(null),nr=D(null);return Er(et,nn,tn,X,sn,nr),Kt(et,nn,nr,tn,X,sn),xe(et,nn,tn,X,nr,sn),G(et,tn,nr,X,sn)}})}Rn()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),C=tinymce.util.Tools.resolve("tinymce.EditorManager"),S=tinymce.util.Tools.resolve("tinymce.Env"),_=tinymce.util.Tools.resolve("tinymce.util.Delay"),M=tinymce.util.Tools.resolve("tinymce.util.Tools"),z=tinymce.util.Tools.resolve("tinymce.util.VK"),K=function(he){return he.getParam("tabfocus_elements",":prev,:next")},Y=function(he){return he.getParam("tab_focus",K(he))},ye=y.DOM,Q=function(he){he.keyCode===z.TAB&&!he.ctrlKey&&!he.altKey&&!he.metaKey&&he.preventDefault()},W=function(he){var be=function(ae){var Ae;if(!(ae.keyCode!==z.TAB||ae.ctrlKey||ae.altKey||ae.metaKey||ae.isDefaultPrevented())){var Ye=function(Te){var Be=ye.select(":input:enabled,*[tabindex]:not(iframe)"),gt=function(Ze){var it=Ze;return Ze.nodeName==="BODY"||it.type!=="hidden"&&it.style.display!=="none"&&it.style.visibility!=="hidden"&&gt(Ze.parentNode)},Se=function(Ze){return/INPUT|TEXTAREA|BUTTON/.test(Ze.tagName)&&C.get(ae.id)&&Ze.tabIndex!==-1&&gt(Ze)};if(M.each(Be,function(Ze,it){if(Ze.id===he.id)return Ae=it,!1}),Te>0){for(var je=Ae+1;je<Be.length;je++)if(Se(Be[je]))return Be[je]}else for(var je=Ae-1;je>=0;je--)if(Se(Be[je]))return Be[je];return null},Ve=M.explode(Y(he));Ve.length===1&&(Ve[1]=Ve[0],Ve[0]=":prev");var L;if(ae.shiftKey?Ve[0]===":prev"?L=Ye(-1):L=ye.get(Ve[0]):Ve[1]===":next"?L=Ye(1):L=ye.get(Ve[1]),L){var _e=C.get(L.id||L.name);L.id&&_e?_e.focus():_.setTimeout(function(){S.webkit||window.focus(),L.focus()},10),ae.preventDefault()}}};he.on("init",function(){he.inline&&ye.setAttrib(he.getBody(),"tabIndex",null),he.on("keyup",Q),S.gecko?he.on("keypress keydown",be):he.on("keydown",be)})};function ve(){D.add("tabfocus",function(he){W(he)})}ve()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(Ce){var pt=typeof Ce;return Ce===null?"null":pt==="object"&&(Array.prototype.isPrototypeOf(Ce)||Ce.constructor&&Ce.constructor.name==="Array")?"array":pt==="object"&&(String.prototype.isPrototypeOf(Ce)||Ce.constructor&&Ce.constructor.name==="String")?"string":pt},C=function(Ce){return function(pt){return y(pt)===Ce}},S=function(Ce){return function(pt){return typeof pt===Ce}},_=C("string"),M=S("function"),z=function(){},K=function(Ce){return function(){return Ce}},Y=function(Ce){return Ce};function ye(Ce){for(var pt=[],pn=1;pn<arguments.length;pn++)pt[pn-1]=arguments[pn];return function(){for(var Nn=[],Hn=0;Hn<arguments.length;Hn++)Nn[Hn]=arguments[Hn];var tr=pt.concat(Nn);return Ce.apply(null,tr)}}var Q=K(!1),W=K(!0),ve=tinymce.util.Tools.resolve("tinymce.util.Tools"),he=tinymce.util.Tools.resolve("tinymce.util.XHR"),be=function(Ce){return Ce.getParam("template_cdate_classes","cdate")},ae=function(Ce){return Ce.getParam("template_mdate_classes","mdate")},Ae=function(Ce){return Ce.getParam("template_selected_content_classes","selcontent")},Ye=function(Ce){return Ce.getParam("template_preview_replace_values")},Ve=function(Ce){return Ce.getParam("content_style","","string")},L=function(Ce){return Ce.getParam("content_css_cors",!1,"boolean")},_e=function(Ce){return Ce.getParam("template_replace_values")},Te=function(Ce){return Ce.getParam("templates")},Be=function(Ce){return Ce.getParam("template_cdate_format",Ce.translate("%Y-%m-%d"))},gt=function(Ce){return Ce.getParam("template_mdate_format",Ce.translate("%Y-%m-%d"))},Se=function(Ce){var pt=Ce.getParam("body_class","","hash");return pt[Ce.id]||""},je=function(Ce){var pt=Ce.getParam("body_class","","string");return pt.indexOf("=")===-1?pt:Se(Ce)},Ze=function(Ce,pt){if(Ce=""+Ce,Ce.length<pt)for(var pn=0;pn<pt-Ce.length;pn++)Ce="0"+Ce;return Ce},it=function(Ce,pt,pn){pn===void 0&&(pn=new Date);var Nn="Sun Mon Tue Wed Thu Fri Sat Sun".split(" "),Hn="Sunday Monday Tuesday Wednesday Thursday Friday Saturday Sunday".split(" "),tr="Jan Feb Mar Apr May Jun Jul Aug Sep Oct Nov Dec".split(" "),Fr="January February March April May June July August September October November December".split(" ");return pt=pt.replace("%D","%m/%d/%Y"),pt=pt.replace("%r","%I:%M:%S %p"),pt=pt.replace("%Y",""+pn.getFullYear()),pt=pt.replace("%y",""+pn.getYear()),pt=pt.replace("%m",Ze(pn.getMonth()+1,2)),pt=pt.replace("%d",Ze(pn.getDate(),2)),pt=pt.replace("%H",""+Ze(pn.getHours(),2)),pt=pt.replace("%M",""+Ze(pn.getMinutes(),2)),pt=pt.replace("%S",""+Ze(pn.getSeconds(),2)),pt=pt.replace("%I",""+((pn.getHours()+11)%12+1)),pt=pt.replace("%p",pn.getHours()<12?"AM":"PM"),pt=pt.replace("%B",""+Ce.translate(Fr[pn.getMonth()])),pt=pt.replace("%b",""+Ce.translate(tr[pn.getMonth()])),pt=pt.replace("%A",""+Ce.translate(Hn[pn.getDay()])),pt=pt.replace("%a",""+Ce.translate(Nn[pn.getDay()])),pt=pt.replace("%%","%"),pt},G=function(Ce,pt){return function(){var pn=Te(Ce);M(pn)?pn(pt):_(pn)?he.send({url:pn,success:function(Nn){pt(JSON.parse(Nn))}}):pt(pn)}},xe=function(Ce,pt){return ve.each(pt,function(pn,Nn){M(pn)&&(pn=pn(Nn)),Ce=Ce.replace(new RegExp("\\{\\$"+Nn+"\\}","g"),pn)}),Ce},ct=function(Ce,pt){var pn=Ce.dom,Nn=_e(Ce);ve.each(pn.select("*",pt),function(Hn){ve.each(Nn,function(tr,Fr){pn.hasClass(Hn,Fr)&&M(tr)&&tr(Hn)})})},Tn=function(Ce,pt){return new RegExp("\\b"+pt+"\\b","g").test(Ce.className)},bt=function(Ce,pt,pn){var Nn=Ce.dom,Hn=Ce.selection.getContent();pn=xe(pn,_e(Ce));var tr=Nn.create("div",null,pn),Fr=Nn.select(".mceTmpl",tr);Fr&&Fr.length>0&&(tr=Nn.create("div",null),tr.appendChild(Fr[0].cloneNode(!0))),ve.each(Nn.select("*",tr),function(Xr){Tn(Xr,be(Ce).replace(/\s+/g,"|"))&&(Xr.innerHTML=it(Ce,Be(Ce))),Tn(Xr,ae(Ce).replace(/\s+/g,"|"))&&(Xr.innerHTML=it(Ce,gt(Ce))),Tn(Xr,Ae(Ce).replace(/\s+/g,"|"))&&(Xr.innerHTML=Hn)}),ct(Ce,tr),Ce.execCommand("mceInsertContent",!1,tr.innerHTML),Ce.addVisual()},er=function(){return Er},Er=function(){var Ce=function(Nn){return Nn()},pt=Y,pn={fold:function(Nn,Hn){return Nn()},isSome:Q,isNone:W,getOr:pt,getOrThunk:Ce,getOrDie:function(Nn){throw new Error(Nn||"error: getOrDie called on none.")},getOrNull:K(null),getOrUndefined:K(void 0),or:pt,orThunk:Ce,map:er,each:z,bind:er,exists:Q,forall:W,filter:function(){return er()},toArray:function(){return[]},toString:K("none()")};return pn}(),A=function(Ce){var pt=K(Ce),pn=function(){return Hn},Nn=function(tr){return tr(Ce)},Hn={fold:function(tr,Fr){return Fr(Ce)},isSome:W,isNone:Q,getOr:pt,getOrThunk:pt,getOrDie:pt,getOrNull:pt,getOrUndefined:pt,or:pn,orThunk:pn,map:function(tr){return A(tr(Ce))},each:function(tr){tr(Ce)},bind:Nn,exists:Nn,forall:Nn,filter:function(tr){return tr(Ce)?Hn:Er},toArray:function(){return[Ce]},toString:function(){return"some("+Ce+")"}};return Hn},Ht=function(Ce){return Ce==null?Er:A(Ce)},Kt={some:A,none:er,from:Ht},Rn=function(Ce,pt){for(var pn=Ce.length,Nn=new Array(pn),Hn=0;Hn<pn;Hn++){var tr=Ce[Hn];Nn[Hn]=pt(tr,Hn)}return Nn},et=function(Ce,pt,pn){for(var Nn=0,Hn=Ce.length;Nn<Hn;Nn++){var tr=Ce[Nn];if(pt(tr,Nn))return Kt.some(tr);if(pn(tr,Nn))break}return Kt.none()},nn=function(Ce,pt){return et(Ce,pt,Q)},tn=tinymce.util.Tools.resolve("tinymce.Env"),sn=tinymce.util.Tools.resolve("tinymce.util.Promise"),X=Object.hasOwnProperty,nr=function(Ce,pt){return St(Ce,pt)?Kt.from(Ce[pt]):Kt.none()},St=function(Ce,pt){return X.call(Ce,pt)},Ke={'"':"&quot;","<":"&lt;",">":"&gt;","&":"&amp;","'":"&#039;"},bn=function(Ce){return Ce.replace(/["'<>&]/g,function(pt){return nr(Ke,pt).getOr(pt)})},Ue=function(Ce,pt){if(pt.indexOf("<html>")===-1){var pn="",Nn=Ve(Ce),Hn=L(Ce)?' crossorigin="anonymous"':"";ve.each(Ce.contentCSS,function(Bt){pn+='<link type="text/css" rel="stylesheet" href="'+Ce.documentBaseURI.toAbsolute(Bt)+'"'+Hn+">"}),Nn&&(pn+='<style type="text/css">'+Nn+"</style>");var tr=je(Ce),Fr=Ce.dom.encode,Xr=tn.mac?"e.metaKey":"e.ctrlKey && !e.altKey",oa='<script>document.addEventListener && document.addEventListener("click", function(e) {for (var elm = e.target; elm; elm = elm.parentNode) {if (elm.nodeName === "A" && !('+Xr+")) {e.preventDefault();}}}, false);<\/script> ",Vt=Ce.getBody().dir,Ut=Vt?' dir="'+Fr(Vt)+'"':"";pt='<!DOCTYPE html><html><head><base href="'+Fr(Ce.documentBaseURI.getURI())+'">'+pn+oa+'</head><body class="'+Fr(tr)+'"'+Ut+">"+pt+"</body></html>"}return xe(pt,Ye(Ce))},We=function(Ce,pt){var pn=function(){if(!pt||pt.length===0){var Bt=Ce.translate("No templates defined.");return Ce.notificationManager.open({text:Bt,type:"info"}),Kt.none()}return Kt.from(ve.map(pt,function(Xe,ot){var Xt=function(yn){return yn.url!==void 0};return{selected:ot===0,text:Xe.title,value:{url:Xt(Xe)?Kt.from(Xe.url):Kt.none(),content:Xt(Xe)?Kt.none():Kt.from(Xe.content),description:Xe.description}}}))},Nn=function(Bt){return Rn(Bt,function(Xe){return{text:Xe.text,value:Xe.text}})},Hn=function(Bt,Xe){return nn(Bt,function(ot){return ot.text===Xe})},tr=function(Bt){Ce.windowManager.alert("Could not load the specified template.",function(){return Bt.focus("template")})},Fr=function(Bt){return new sn(function(Xe,ot){Bt.value.url.fold(function(){return Xe(Bt.value.content.getOr(""))},function(Xt){return he.send({url:Xt,success:function(yn){Xe(yn)},error:function(yn){ot(yn)}})})})},Xr=function(Bt,Xe){return function(ot,Xt){if(Xt.name==="template"){var yn=ot.getData().template;Hn(Bt,yn).each(function(Jt){ot.block("Loading..."),Fr(Jt).then(function(ze){Xe(ot,Jt,ze)}).catch(function(){Xe(ot,Jt,""),ot.disable("save"),tr(ot)})})}}},oa=function(Bt){return function(Xe){var ot=Xe.getData();Hn(Bt,ot.template).each(function(Xt){Fr(Xt).then(function(yn){Ce.execCommand("mceInsertTemplate",!1,yn),Xe.close()}).catch(function(){Xe.disable("save"),tr(Xe)})})}},Vt=function(Bt){var Xe=Nn(Bt),ot=function(Jt,ze){return{title:"Insert Template",size:"large",body:{type:"panel",items:Jt},initialData:ze,buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],onSubmit:oa(Bt),onChange:Xr(Bt,Xt)}},Xt=function(Jt,ze,$t){var fn=Ue(Ce,$t),vn=[{type:"selectbox",name:"template",label:"Templates",items:Xe},{type:"htmlpanel",html:'<p aria-live="polite">'+bn(ze.value.description)+"</p>"},{label:"Preview",type:"iframe",name:"preview",sandboxed:!1}],Ln={template:ze.text,preview:fn};Jt.unblock(),Jt.redial(ot(vn,Ln)),Jt.focus("template")},yn=Ce.windowManager.open(ot([],{template:"",preview:""}));yn.block("Loading..."),Fr(Bt[0]).then(function(Jt){Xt(yn,Bt[0],Jt)}).catch(function(){Xt(yn,Bt[0],""),yn.disable("save"),tr(yn)})},Ut=pn();Ut.each(Vt)},ft=function(Ce){return function(pt){We(Ce,pt)}},zt=function(Ce){Ce.addCommand("mceInsertTemplate",ye(bt,Ce)),Ce.addCommand("mceTemplate",G(Ce,ft(Ce)))},vt=function(Ce){Ce.on("PreProcess",function(pt){var pn=Ce.dom,Nn=gt(Ce);ve.each(pn.select("div",pt.node),function(Hn){pn.hasClass(Hn,"mceTmpl")&&(ve.each(pn.select("*",Hn),function(tr){pn.hasClass(tr,ae(Ce).replace(/\s+/g,"|"))&&(tr.innerHTML=it(Ce,Nn))}),ct(Ce,Hn))})})},kt=function(Ce){var pt=function(){return Ce.execCommand("mceTemplate")};Ce.ui.registry.addButton("template",{icon:"template",tooltip:"Insert template",onAction:pt}),Ce.ui.registry.addMenuItem("template",{icon:"template",text:"Insert template...",onAction:pt})};function jn(){D.add("template",function(Ce){kt(Ce),zt(Ce),vt(Ce)})}jn()})();(function(){var D=function(R){var Z=R,me=function(){return Z},Me=function(Qe){Z=Qe};return{get:me,set:Me}},y=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(){return C=Object.assign||function(Z){for(var me,Me=1,Qe=arguments.length;Me<Qe;Me++){me=arguments[Me];for(var rt in me)Object.prototype.hasOwnProperty.call(me,rt)&&(Z[rt]=me[rt])}return Z},C.apply(this,arguments)};function S(R,Z,me){for(var Me=0,Qe=Z.length,rt;Me<Qe;Me++)(rt||!(Me in Z))&&(rt||(rt=Array.prototype.slice.call(Z,0,Me)),rt[Me]=Z[Me]);return R.concat(rt||Array.prototype.slice.call(Z))}var _=function(R){var Z=typeof R;return R===null?"null":Z==="object"&&(Array.prototype.isPrototypeOf(R)||R.constructor&&R.constructor.name==="Array")?"array":Z==="object"&&(String.prototype.isPrototypeOf(R)||R.constructor&&R.constructor.name==="String")?"string":Z},M=function(R){return function(Z){return _(Z)===R}},z=M("string"),K=M("object"),Y=M("array"),ye=function(){},Q=function(R){return function(){return R}},W=function(R){return R},ve=function(R){return function(){throw new Error(R)}},he=Q(!1),be=Q(!0),ae=function(){return Ae},Ae=function(){var R=function(Me){return Me()},Z=W,me={fold:function(Me,Qe){return Me()},isSome:he,isNone:be,getOr:Z,getOrThunk:R,getOrDie:function(Me){throw new Error(Me||"error: getOrDie called on none.")},getOrNull:Q(null),getOrUndefined:Q(void 0),or:Z,orThunk:R,map:ae,each:ye,bind:ae,exists:he,forall:be,filter:function(){return ae()},toArray:function(){return[]},toString:Q("none()")};return me}(),Ye=function(R){var Z=Q(R),me=function(){return Qe},Me=function(rt){return rt(R)},Qe={fold:function(rt,ln){return ln(R)},isSome:be,isNone:he,getOr:Z,getOrThunk:Z,getOrDie:Z,getOrNull:Z,getOrUndefined:Z,or:me,orThunk:me,map:function(rt){return Ye(rt(R))},each:function(rt){rt(R)},bind:Me,exists:Me,forall:Me,filter:function(rt){return rt(R)?Qe:Ae},toArray:function(){return[R]},toString:function(){return"some("+R+")"}};return Qe},Ve=function(R){return R==null?Ae:Ye(R)},L={some:Ye,none:ae,from:Ve},_e=Array.prototype.slice,Te=Array.prototype.indexOf,Be=function(R,Z){return Te.call(R,Z)},gt=function(R,Z){return Be(R,Z)>-1},Se=function(R,Z){for(var me=R.length,Me=new Array(me),Qe=0;Qe<me;Qe++){var rt=R[Qe];Me[Qe]=Z(rt,Qe)}return Me},je=function(R,Z){for(var me=0,Me=R.length;me<Me;me++){var Qe=R[me];Z(Qe,me)}},Ze=function(R,Z){for(var me=R.length-1;me>=0;me--){var Me=R[me];Z(Me,me)}},it=function(R,Z){for(var me=[],Me=0,Qe=R.length;Me<Qe;Me++){var rt=R[Me];Z(rt,Me)&&me.push(rt)}return me},G=function(R,Z,me){return Ze(R,function(Me,Qe){me=Z(me,Me,Qe)}),me},xe=function(R,Z,me){return je(R,function(Me,Qe){me=Z(me,Me,Qe)}),me},ct=function(R,Z,me){for(var Me=0,Qe=R.length;Me<Qe;Me++){var rt=R[Me];if(Z(rt,Me))return L.some(rt);if(me(rt,Me))break}return L.none()},Tn=function(R,Z){return ct(R,Z,he)},bt=function(R,Z){for(var me=0,Me=R.length;me<Me;++me){var Qe=R[me];if(Z(Qe,me)!==!0)return!1}return!0},er=function(R,Z){var me=_e.call(R,0);return me.sort(Z),me},Er=function(R,Z){return Z>=0&&Z<R.length?L.some(R[Z]):L.none()},A=function(R){return Er(R,0)},Ht=Object.keys,Kt=Object.hasOwnProperty,Rn=function(R,Z){return Kt.call(R,Z)},et=function(R){if(!Y(R))throw new Error("cases must be an array");if(R.length===0)throw new Error("there must be at least one case");var Z=[],me={};return je(R,function(Me,Qe){var rt=Ht(Me);if(rt.length!==1)throw new Error("one and only one name per case");var ln=rt[0],On=Me[ln];if(me[ln]!==void 0)throw new Error("duplicate key detected:"+ln);if(ln==="cata")throw new Error("cannot have a case named cata (sorry)");if(!Y(On))throw new Error("case arguments must be an array");Z.push(ln),me[ln]=function(){for(var ir=[],fr=0;fr<arguments.length;fr++)ir[fr]=arguments[fr];var mr=ir.length;if(mr!==On.length)throw new Error("Wrong number of arguments to case "+ln+". Expected "+On.length+" ("+On+"), got "+mr);var Tr=function(ia){var eo=Ht(ia);if(Z.length!==eo.length)throw new Error("Wrong number of arguments to match. Expected: "+Z.join(",")+`
Actual: `+eo.join(","));var ko=bt(Z,function(Ri){return gt(eo,Ri)});if(!ko)throw new Error("Not all branches were specified when using match. Specified: "+eo.join(", ")+`
Required: `+Z.join(", "));return ia[ln].apply(null,ir)};return{fold:function(){for(var ia=[],eo=0;eo<arguments.length;eo++)ia[eo]=arguments[eo];if(ia.length!==R.length)throw new Error("Wrong number of arguments to fold. Expected "+R.length+", got "+ia.length);var ko=ia[Qe];return ko.apply(null,ir)},match:Tr,log:function(ia){}}}}),me},nn={generate:et};nn.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var tn=function(R){var Z=[],me=[];return je(R,function(Me){Me.fold(function(Qe){Z.push(Qe)},function(Qe){me.push(Qe)})}),{errors:Z,values:me}},sn=function(R){var Z=function(Tr){return sn(R)},me=function(Tr){return sn(R)},Me=function(Tr){return sn(Tr(R))},Qe=function(Tr){return sn(R)},rt=function(Tr){Tr(R)},ln=function(Tr){return Tr(R)},On=function(Tr,ia){return ia(R)},ir=function(Tr){return Tr(R)},fr=function(Tr){return Tr(R)},mr=function(){return L.some(R)};return{isValue:be,isError:he,getOr:Q(R),getOrThunk:Q(R),getOrDie:Q(R),or:Z,orThunk:me,fold:On,map:Me,mapError:Qe,each:rt,bind:ln,exists:ir,forall:fr,toOptional:mr}},X=function(R){var Z=function(fr){return fr()},me=function(){return ve(String(R))()},Me=W,Qe=function(fr){return fr()},rt=function(fr){return X(R)},ln=function(fr){return X(fr(R))},On=function(fr){return X(R)},ir=function(fr,mr){return fr(R)};return{isValue:he,isError:be,getOr:W,getOrThunk:Z,getOrDie:me,or:Me,orThunk:Qe,fold:ir,map:rt,mapError:ln,each:ye,bind:On,exists:he,forall:be,toOptional:L.none}},nr=function(R,Z){return R.fold(function(){return X(Z)},sn)},St={value:sn,error:X,fromOption:nr},Ke=function(R){return R.type==="inline-command"||R.type==="inline-format"},bn=function(R){return R.type==="block-command"||R.type==="block-format"},Ue=function(R){return er(R,function(Z,me){return Z.start.length===me.start.length?0:Z.start.length>me.start.length?-1:1})},We=function(R){var Z=function(rt){return St.error({message:rt,pattern:R})},me=function(rt,ln,On){if(R.format!==void 0){var ir=void 0;if(Y(R.format)){if(!bt(R.format,z))return Z(rt+" pattern has non-string items in the `format` array");ir=R.format}else if(z(R.format))ir=[R.format];else return Z(rt+" pattern has non-string `format` parameter");return St.value(ln(ir))}else return R.cmd!==void 0?z(R.cmd)?St.value(On(R.cmd,R.value)):Z(rt+" pattern has non-string `cmd` parameter"):Z(rt+" pattern is missing both `format` and `cmd` parameters")};if(!K(R))return Z("Raw pattern is not an object");if(!z(R.start))return Z("Raw pattern is missing `start` parameter");if(R.end!==void 0){if(!z(R.end))return Z("Inline pattern has non-string `end` parameter");if(R.start.length===0&&R.end.length===0)return Z("Inline pattern has empty `start` and `end` parameters");var Me=R.start,Qe=R.end;return Qe.length===0&&(Qe=Me,Me=""),me("Inline",function(rt){return{type:"inline-format",start:Me,end:Qe,format:rt}},function(rt,ln){return{type:"inline-command",start:Me,end:Qe,cmd:rt,value:ln}})}else return R.replacement!==void 0?z(R.replacement)?R.start.length===0?Z("Replacement pattern has empty `start` parameter"):St.value({type:"inline-command",start:"",end:R.start,cmd:"mceInsertContent",value:R.replacement}):Z("Replacement pattern has non-string `replacement` parameter"):R.start.length===0?Z("Block pattern has empty `start` parameter"):me("Block",function(rt){return{type:"block-format",start:R.start,format:rt[0]}},function(rt,ln){return{type:"block-command",start:R.start,cmd:rt,value:ln}})},ft=function(R){if(R.type==="block-command")return{start:R.start,cmd:R.cmd,value:R.value};if(R.type==="block-format")return{start:R.start,format:R.format};if(R.type==="inline-command")return R.cmd==="mceInsertContent"&&R.start===""?{start:R.end,replacement:R.value}:{start:R.start,end:R.end,cmd:R.cmd,value:R.value};if(R.type==="inline-format")return{start:R.start,end:R.end,format:R.format.length===1?R.format[0]:R.format}},zt=function(R){return{inlinePatterns:it(R,Ke),blockPatterns:Ue(it(R,bn))}},vt=function(R){var Z=function(Me){var Qe=tn(Se(Me,We));if(Qe.errors.length>0){var rt=Qe.errors[0];throw new Error(rt.message+`:
`+JSON.stringify(rt.pattern,null,2))}R.set(zt(Qe.values))},me=function(){return S(S([],Se(R.get().inlinePatterns,ft),!0),Se(R.get().blockPatterns,ft))};return{setPatterns:Z,getPatterns:me}},kt=typeof window!="undefined"?window:Function("return this;")(),jn=function(){for(var R=[],Z=0;Z<arguments.length;Z++)R[Z]=arguments[Z];var me=kt.console;me&&(me.error?me.error.apply(me,R):me.log.apply(me,R))},Ce=[{start:"*",end:"*",format:"italic"},{start:"**",end:"**",format:"bold"},{start:"#",format:"h1"},{start:"##",format:"h2"},{start:"###",format:"h3"},{start:"####",format:"h4"},{start:"#####",format:"h5"},{start:"######",format:"h6"},{start:"1. ",cmd:"InsertOrderedList"},{start:"* ",cmd:"InsertUnorderedList"},{start:"- ",cmd:"InsertUnorderedList"}],pt=function(R){var Z=R.getParam("textpattern_patterns",Ce,"array");if(!Y(Z))return jn("The setting textpattern_patterns should be an array"),{inlinePatterns:[],blockPatterns:[]};var me=tn(Se(Z,We));return je(me.errors,function(Me){return jn(Me.message,Me.pattern)}),zt(me.values)},pn=function(R){var Z=R.getParam("forced_root_block","p");return Z===!1?"":Z===!0?"p":Z},Nn=tinymce.util.Tools.resolve("tinymce.util.Delay"),Hn=tinymce.util.Tools.resolve("tinymce.util.VK"),tr="\uFEFF",Fr=" ",Xr=tinymce.util.Tools.resolve("tinymce.util.Tools"),oa=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Vt=tinymce.util.Tools.resolve("tinymce.dom.TextSeeker"),Ut=function(R,Z){return{container:R,offset:Z}},Bt=function(R){return R.nodeType===Node.TEXT_NODE},Xe=function(R,Z,me){if(Z&&R.isEmpty(Z)&&!me(Z)){var Me=Z.parentNode;R.remove(Z),Xe(R,Me,me)}},ot=function(R,Z,me,Me){Me===void 0&&(Me=!0);var Qe=Z.startContainer.parentNode,rt=Z.endContainer.parentNode;Z.deleteContents(),Me&&!me(Z.startContainer)&&(Bt(Z.startContainer)&&Z.startContainer.data.length===0&&R.remove(Z.startContainer),Bt(Z.endContainer)&&Z.endContainer.data.length===0&&R.remove(Z.endContainer),Xe(R,Qe,me),Qe!==rt&&Xe(R,rt,me))},Xt=function(R,Z){var me=Z.get(R);return Y(me)&&A(me).exists(function(Me){return Rn(Me,"block")})},yn=function(R){return R.start.length===0},Jt=function(R,Z){var me=L.from(R.dom.getParent(Z.startContainer,R.dom.isBlock));return pn(R)===""?me.orThunk(function(){return L.some(R.getBody())}):me},ze=oa.DOM,$t=function(R){return function(Z){return R===Z?-1:0}},fn=function(R){return function(Z){return R.isBlock(Z)||gt(["BR","IMG","HR","INPUT"],Z.nodeName)||R.getContentEditable(Z)==="false"}},vn=function(R,Z,me){if(Bt(R)&&Z>=0)return L.some(Ut(R,Z));var Me=Vt(ze);return L.from(Me.backwards(R,Z,$t(R),me)).map(function(Qe){return Ut(Qe.container,Qe.container.data.length)})},Ln=function(R,Z,me){if(Bt(R)&&Z>=R.length)return L.some(Ut(R,Z));var Me=Vt(ze);return L.from(Me.forwards(R,Z,$t(R),me)).map(function(Qe){return Ut(Qe.container,0)})},Ee=function(R,Z,me){if(!Bt(R))return L.none();var Me=R.textContent;if(Z>=0&&Z<=Me.length)return L.some(Ut(R,Z));var Qe=Vt(ze);return L.from(Qe.backwards(R,Z,$t(R),me)).bind(function(rt){var ln=rt.container.data;return Ee(rt.container,Z+ln.length,me)})},Ct=function(R,Z,me){if(!Bt(R))return L.none();var Me=R.textContent;if(Z<=Me.length)return L.some(Ut(R,Z));var Qe=Vt(ze);return L.from(Qe.forwards(R,Z,$t(R),me)).bind(function(rt){return Ct(rt.container,Z-Me.length,me)})},dt=function(R,Z,me,Me,Qe){var rt=Vt(R,fn(R));return L.from(rt.backwards(Z,me,Me,Qe))},Wt=function(R,Z,me){if(Bt(Z)&&(me<0||me>Z.data.length))return[];for(var Me=[me],Qe=Z;Qe!==R&&Qe.parentNode;){for(var rt=Qe.parentNode,ln=0;ln<rt.childNodes.length;ln++)if(rt.childNodes[ln]===Qe){Me.push(ln);break}Qe=rt}return Qe===R?Me.reverse():[]},Bn=function(R,Z,me,Me,Qe){var rt=Wt(R,Z,me),ln=Wt(R,Me,Qe);return{start:rt,end:ln}},pr=function(R,Z){var me=Z.slice(),Me=me.pop(),Qe=xe(me,function(rt,ln){return rt.bind(function(On){return L.from(On.childNodes[ln])})},L.some(R));return Qe.bind(function(rt){return Bt(rt)&&(Me<0||Me>rt.data.length)?L.none():L.some({node:rt,offset:Me})})},xa=function(R,Z){return pr(R,Z.start).bind(function(me){var Me=me.node,Qe=me.offset;return pr(R,Z.end).map(function(rt){var ln=rt.node,On=rt.offset,ir=document.createRange();return ir.setStart(Me,Qe),ir.setEnd(ln,On),ir})})},Ar=function(R,Z){return Bn(R,Z.startContainer,Z.startOffset,Z.endContainer,Z.endOffset)},xr=function(R,Z,me){var Me=Ln(Z,0,Z);Me.each(function(Qe){var rt=Qe.container;Ct(rt,me.start.length,Z).each(function(ln){var On=R.createRng();On.setStart(rt,0),On.setEnd(ln.container,ln.offset),ot(R,On,function(ir){return ir===Z})})})},ha=function(R,Z){var me=R.dom,Me=Z.pattern,Qe=xa(me.getRoot(),Z.range).getOrDie("Unable to resolve path range");return Jt(R,Qe).each(function(rt){Me.type==="block-format"?Xt(Me.format,R.formatter)&&R.undoManager.transact(function(){xr(R.dom,rt,Me),R.formatter.apply(Me.format)}):Me.type==="block-command"&&R.undoManager.transact(function(){xr(R.dom,rt,Me),R.execCommand(Me.cmd,!1,Me.value)})}),!0},Ja=function(R,Z){var me=Z.replace(Fr," ");return Tn(R,function(Me){return Z.indexOf(Me.start)===0||me.indexOf(Me.start)===0})},Va=function(R,Z){var me=R.dom,Me=R.selection.getRng();return Jt(R,Me).filter(function(Qe){var rt=pn(R),ln=rt===""&&me.is(Qe,"body")||me.is(Qe,rt);return Qe!==null&&ln}).bind(function(Qe){var rt=Qe.textContent,ln=Ja(Z,rt);return ln.map(function(On){return Xr.trim(rt).length===On.start.length?[]:[{pattern:On,range:Bn(me.getRoot(),Qe,0,Qe,0)}]})}).getOr([])},Ta=function(R,Z){if(Z.length!==0){var me=R.selection.getBookmark();je(Z,function(Me){return ha(R,Me)}),R.selection.moveToBookmark(me)}},Ga=0,xo=function(R){var Z=new Date,me=Z.getTime(),Me=Math.floor(Math.random()*1e9);return Ga++,R+"_"+Me+Ga+String(me)},Qa=function(R,Z,me){return Z===""||R.length>=Z.length&&R.substr(me,me+Z.length)===Z},Pa=function(R,Z){return Qa(R,Z,R.length-Z.length)},po=function(R,Z){return R.create("span",{"data-mce-type":"bookmark",id:Z})},zr=function(R,Z){var me=R.createRng();return me.setStartAfter(Z.start),me.setEndBefore(Z.end),me},bo=function(R,Z,me){var Me=xa(R.getRoot(),me).getOrDie("Unable to resolve path range"),Qe=Me.startContainer,rt=Me.endContainer,ln=Me.endOffset===0?rt:rt.splitText(Me.endOffset),On=Me.startOffset===0?Qe:Qe.splitText(Me.startOffset);return{prefix:Z,end:ln.parentNode.insertBefore(po(R,Z+"-end"),ln),start:On.parentNode.insertBefore(po(R,Z+"-start"),On)}},Gn=function(R,Z,me){Xe(R,R.get(Z.prefix+"-end"),me),Xe(R,R.get(Z.prefix+"-start"),me)},vi=function(R,Z,me){return function(Me,Qe){var rt=Me.data,ln=rt.substring(0,Qe),On=ln.lastIndexOf(me.charAt(me.length-1)),ir=ln.lastIndexOf(me);return ir!==-1?ir+me.length:On!==-1?On+1:-1}},fo=function(R,Z,me,Me){var Qe=Z.start,rt=dt(R,Me.container,Me.offset,vi(R,me,Qe),me);return rt.bind(function(ln){if(ln.offset>=Qe.length){var On=R.createRng();return On.setStart(ln.container,ln.offset-Qe.length),On.setEnd(ln.container,ln.offset),L.some(On)}else{var ir=ln.offset-Qe.length;return Ee(ln.container,ir,me).map(function(fr){var mr=R.createRng();return mr.setStart(fr.container,fr.offset),mr.setEnd(ln.container,ln.offset),mr}).filter(function(fr){return fr.toString()===Qe}).orThunk(function(){return fo(R,Z,me,Ut(ln.container,0))})}})},So=function(R,Z,me,Me,Qe,rt){if(rt===void 0&&(rt=!1),Z.start.length===0&&!rt){var ln=R.createRng();return ln.setStart(me,Me),ln.setEnd(me,Me),L.some(ln)}return vn(me,Me,Qe).bind(function(On){var ir=fo(R,Z,Qe,On);return ir.bind(function(fr){if(rt){if(fr.endContainer===On.container&&fr.endOffset===On.offset)return L.none();if(On.offset===0&&fr.endContainer.textContent.length===fr.endOffset)return L.none()}return L.some(fr)})})},oo=function(R,Z,me){var Me=R.dom,Qe=Me.getRoot(),rt=me.pattern,ln=me.position.container,On=me.position.offset;return Ee(ln,On-me.pattern.end.length,Z).bind(function(ir){var fr=Bn(Qe,ir.container,ir.offset,ln,On);if(yn(rt))return L.some({matches:[{pattern:rt,startRng:fr,endRng:fr}],position:ir});var mr=No(R,me.remainingPatterns,ir.container,ir.offset,Z),Tr=mr.getOr({matches:[],position:ir}),ia=Tr.position,eo=So(Me,rt,ia.container,ia.offset,Z,mr.isNone());return eo.map(function(ko){var Ri=Ar(Qe,ko);return{matches:Tr.matches.concat([{pattern:rt,startRng:Ri,endRng:fr}]),position:Ut(ko.startContainer,ko.startOffset)}})})},No=function(R,Z,me,Me,Qe){var rt=R.dom;return vn(me,Me,rt.getRoot()).bind(function(ln){var On=rt.createRng();On.setStart(Qe,0),On.setEnd(me,Me);for(var ir=On.toString(),fr=0;fr<Z.length;fr++){var mr=Z[fr];if(Pa(ir,mr.end)){var Tr=Z.slice();Tr.splice(fr,1);var ia=oo(R,Qe,{pattern:mr,remainingPatterns:Tr,position:ln});if(ia.isSome())return ia}}return L.none()})},di=function(R,Z,me){R.selection.setRng(me),Z.type==="inline-format"?je(Z.format,function(Me){R.formatter.apply(Me)}):R.execCommand(Z.cmd,!1,Z.value)},_o=function(R,Z,me,Me){var Qe=zr(R.dom,me);ot(R.dom,Qe,Me),di(R,Z,Qe)},Ei=function(R,Z,me,Me,Qe){var rt=R.dom,ln=zr(rt,Me),On=zr(rt,me);ot(rt,On,Qe),ot(rt,ln,Qe);var ir={prefix:me.prefix,start:me.end,end:Me.start},fr=zr(rt,ir);di(R,Z,fr)},se=function(R,Z){var me=xo("mce_textpattern"),Me=G(Z,function(Qe,rt){var ln=bo(R,me+("_end"+Qe.length),rt.endRng);return Qe.concat([C(C({},rt),{endMarker:ln})])},[]);return G(Me,function(Qe,rt){var ln=Me.length-Qe.length-1,On=yn(rt.pattern)?rt.endMarker:bo(R,me+("_start"+ln),rt.startRng);return Qe.concat([C(C({},rt),{startMarker:On})])},[])},Re=function(R,Z,me){var Me=R.selection.getRng();return Me.collapsed===!1?[]:Jt(R,Me).bind(function(Qe){var rt=Me.startOffset-(me?1:0);return No(R,Z,Me.startContainer,rt,Qe)}).fold(function(){return[]},function(Qe){return Qe.matches})},ce=function(R,Z){if(Z.length!==0){var me=R.dom,Me=R.selection.getBookmark(),Qe=se(me,Z);je(Qe,function(rt){var ln=me.getParent(rt.startMarker.start,me.isBlock),On=function(ir){return ir===ln};yn(rt.pattern)?_o(R,rt.pattern,rt.endMarker,On):Ei(R,rt.pattern,rt.startMarker,rt.endMarker,On),Gn(me,rt.endMarker,On),Gn(me,rt.startMarker,On)}),R.selection.moveToBookmark(Me)}},at=function(R,Z){if(!R.selection.isCollapsed())return!1;var me=Re(R,Z.inlinePatterns,!1),Me=Va(R,Z.blockPatterns);return Me.length>0||me.length>0?(R.undoManager.add(),R.undoManager.extra(function(){R.execCommand("mceInsertNewLine")},function(){R.insertContent(tr,{preserve_zwsp:!0}),ce(R,me),Ta(R,Me);var Qe=R.selection.getRng(),rt=vn(Qe.startContainer,Qe.startOffset,R.dom.getRoot());R.execCommand("mceInsertNewLine"),rt.each(function(ln){var On=ln.container;On.data.charAt(ln.offset-1)===tr&&(On.deleteData(ln.offset-1,1),Xe(R.dom,On.parentNode,function(ir){return ir===R.dom.getRoot()}))})}),!0):!1},dn=function(R,Z){var me=Re(R,Z.inlinePatterns,!0);me.length>0&&R.undoManager.transact(function(){ce(R,me)})},Mn=function(R,Z,me){for(var Me=0;Me<R.length;Me++)if(me(R[Me],Z))return!0;return!1},oe=function(R,Z){return Mn(R,Z,function(me,Me){return me===Me.keyCode&&Hn.modifierPressed(Me)===!1})},pe=function(R,Z){return Mn(R,Z,function(me,Me){return me.charCodeAt(0)===Me.charCode})},ut=function(R,Z){var me=[",",".",";",":","!","?"],Me=[32];R.on("keydown",function(Qe){Qe.keyCode===13&&!Hn.modifierPressed(Qe)&&at(R,Z.get())&&Qe.preventDefault()},!0),R.on("keyup",function(Qe){oe(Me,Qe)&&dn(R,Z.get())}),R.on("keypress",function(Qe){pe(me,Qe)&&Nn.setEditorTimeout(R,function(){dn(R,Z.get())})})};function At(){y.add("textpattern",function(R){var Z=D(pt(R));return ut(R,Z),vt(Z)})}At()})();(function(){var D=function(Q){var W=Q,ve=function(){return W},he=function(be){W=be};return{get:ve,set:he}},y=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(Q,W){Q.fire("VisualBlocks",{state:W})},S=function(Q,W,ve){var he=Q.dom;he.toggleClass(Q.getBody(),"mce-visualblocks"),ve.set(!ve.get()),C(Q,ve.get())},_=function(Q,W,ve){Q.addCommand("mceVisualBlocks",function(){S(Q,W,ve)})},M=function(Q){return Q.getParam("visualblocks_default_state",!1,"boolean")},z=function(Q,W,ve){Q.on("PreviewFormats AfterPreviewFormats",function(he){ve.get()&&Q.dom.toggleClass(Q.getBody(),"mce-visualblocks",he.type==="afterpreviewformats")}),Q.on("init",function(){M(Q)&&S(Q,W,ve)})},K=function(Q,W){return function(ve){ve.setActive(W.get());var he=function(be){return ve.setActive(be.state)};return Q.on("VisualBlocks",he),function(){return Q.off("VisualBlocks",he)}}},Y=function(Q,W){var ve=function(){return Q.execCommand("mceVisualBlocks")};Q.ui.registry.addToggleButton("visualblocks",{icon:"visualblocks",tooltip:"Show blocks",onAction:ve,onSetup:K(Q,W)}),Q.ui.registry.addToggleMenuItem("visualblocks",{text:"Show blocks",icon:"visualblocks",onAction:ve,onSetup:K(Q,W)})};function ye(){y.add("visualblocks",function(Q,W){var ve=D(!1);_(Q,W,ve),Y(Q,ve),z(Q,W,ve)})}ye()})();(function(){var D=function(Ee){var Ct=Ee,dt=function(){return Ct},Wt=function(Bn){Ct=Bn};return{get:dt,set:Wt}},y=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=function(Ee){var Ct=function(){return Ee.get()};return{isEnabled:Ct}},S=function(Ee,Ct){return Ee.fire("VisualChars",{state:Ct})},_=function(Ee){var Ct=typeof Ee;return Ee===null?"null":Ct==="object"&&(Array.prototype.isPrototypeOf(Ee)||Ee.constructor&&Ee.constructor.name==="Array")?"array":Ct==="object"&&(String.prototype.isPrototypeOf(Ee)||Ee.constructor&&Ee.constructor.name==="String")?"string":Ct},M=function(Ee){return function(Ct){return _(Ct)===Ee}},z=function(Ee){return function(Ct){return typeof Ct===Ee}},K=M("string"),Y=z("boolean"),ye=z("number"),Q=function(){},W=function(Ee){return function(){return Ee}},ve=function(Ee){return Ee},he=W(!1),be=W(!0),ae=function(){return Ae},Ae=function(){var Ee=function(Wt){return Wt()},Ct=ve,dt={fold:function(Wt,Bn){return Wt()},isSome:he,isNone:be,getOr:Ct,getOrThunk:Ee,getOrDie:function(Wt){throw new Error(Wt||"error: getOrDie called on none.")},getOrNull:W(null),getOrUndefined:W(void 0),or:Ct,orThunk:Ee,map:ae,each:Q,bind:ae,exists:he,forall:be,filter:function(){return ae()},toArray:function(){return[]},toString:W("none()")};return dt}(),Ye=function(Ee){var Ct=W(Ee),dt=function(){return Bn},Wt=function(pr){return pr(Ee)},Bn={fold:function(pr,xa){return xa(Ee)},isSome:be,isNone:he,getOr:Ct,getOrThunk:Ct,getOrDie:Ct,getOrNull:Ct,getOrUndefined:Ct,or:dt,orThunk:dt,map:function(pr){return Ye(pr(Ee))},each:function(pr){pr(Ee)},bind:Wt,exists:Wt,forall:Wt,filter:function(pr){return pr(Ee)?Bn:Ae},toArray:function(){return[Ee]},toString:function(){return"some("+Ee+")"}};return Bn},Ve=function(Ee){return Ee==null?Ae:Ye(Ee)},L={some:Ye,none:ae,from:Ve},_e=function(Ee,Ct){for(var dt=Ee.length,Wt=new Array(dt),Bn=0;Bn<dt;Bn++){var pr=Ee[Bn];Wt[Bn]=Ct(pr,Bn)}return Wt},Te=function(Ee,Ct){for(var dt=0,Wt=Ee.length;dt<Wt;dt++){var Bn=Ee[dt];Ct(Bn,dt)}},Be=function(Ee,Ct){for(var dt=[],Wt=0,Bn=Ee.length;Wt<Bn;Wt++){var pr=Ee[Wt];Ct(pr,Wt)&&dt.push(pr)}return dt},gt=Object.keys,Se=function(Ee,Ct){for(var dt=gt(Ee),Wt=0,Bn=dt.length;Wt<Bn;Wt++){var pr=dt[Wt],xa=Ee[pr];Ct(xa,pr)}};typeof window!="undefined"||Function("return this;")();var je=3,Ze=function(Ee){return Ee.dom.nodeType},it=function(Ee){return Ee.dom.nodeValue},G=function(Ee){return function(Ct){return Ze(Ct)===Ee}},xe=G(je),ct=function(Ee,Ct,dt){if(K(dt)||Y(dt)||ye(dt))Ee.setAttribute(Ct,dt+"");else throw new Error("Attribute value was not simple")},Tn=function(Ee,Ct,dt){ct(Ee.dom,Ct,dt)},bt=function(Ee,Ct){var dt=Ee.dom.getAttribute(Ct);return dt===null?void 0:dt},er=function(Ee,Ct){Ee.dom.removeAttribute(Ct)},Er=function(Ee,Ct){var dt=bt(Ee,Ct);return dt===void 0||dt===""?[]:dt.split(" ")},A=function(Ee,Ct,dt){var Wt=Er(Ee,Ct),Bn=Wt.concat([dt]);return Tn(Ee,Ct,Bn.join(" ")),!0},Ht=function(Ee,Ct,dt){var Wt=Be(Er(Ee,Ct),function(Bn){return Bn!==dt});return Wt.length>0?Tn(Ee,Ct,Wt.join(" ")):er(Ee,Ct),!1},Kt=function(Ee){return Ee.dom.classList!==void 0},Rn=function(Ee){return Er(Ee,"class")},et=function(Ee,Ct){return A(Ee,"class",Ct)},nn=function(Ee,Ct){return Ht(Ee,"class",Ct)},tn=function(Ee,Ct){Kt(Ee)?Ee.dom.classList.add(Ct):et(Ee,Ct)},sn=function(Ee){var Ct=Kt(Ee)?Ee.dom.classList:Rn(Ee);Ct.length===0&&er(Ee,"class")},X=function(Ee,Ct){if(Kt(Ee)){var dt=Ee.dom.classList;dt.remove(Ct)}else nn(Ee,Ct);sn(Ee)},nr=function(Ee,Ct){var dt=Ct||document,Wt=dt.createElement("div");if(Wt.innerHTML=Ee,!Wt.hasChildNodes()||Wt.childNodes.length>1)throw new Error("HTML must have a single root node");return bn(Wt.childNodes[0])},St=function(Ee,Ct){var dt=Ct||document,Wt=dt.createElement(Ee);return bn(Wt)},Ke=function(Ee,Ct){var dt=Ct||document,Wt=dt.createTextNode(Ee);return bn(Wt)},bn=function(Ee){if(Ee==null)throw new Error("Node cannot be null or undefined");return{dom:Ee}},Ue=function(Ee,Ct,dt){return L.from(Ee.dom.elementFromPoint(Ct,dt)).map(bn)},We={fromHtml:nr,fromTag:St,fromText:Ke,fromDom:bn,fromPoint:Ue},ft={" ":"nbsp","­":"shy"},zt=function(Ee,Ct){var dt="";return Se(Ee,function(Wt,Bn){dt+=Bn}),new RegExp("["+dt+"]",Ct?"g":"")},vt=function(Ee){var Ct="";return Se(Ee,function(dt){Ct&&(Ct+=","),Ct+="span.mce-"+dt}),Ct},kt=zt(ft),jn=zt(ft,!0),Ce=vt(ft),pt="mce-nbsp",pn=function(Ee){return'<span data-mce-bogus="1" class="mce-'+ft[Ee]+'">'+Ee+"</span>"},Nn=function(Ee){var Ct=it(Ee);return xe(Ee)&&Ct!==void 0&&kt.test(Ct)},Hn=function(Ee,Ct){var dt=[],Wt=Ee.dom,Bn=_e(Wt.childNodes,We.fromDom);return Te(Bn,function(pr){Ct(pr)&&(dt=dt.concat([pr])),dt=dt.concat(Hn(pr,Ct))}),dt},tr=function(Ee,Ct){for(;Ee.parentNode;){if(Ee.parentNode===Ct)return Ee;Ee=Ee.parentNode}},Fr=function(Ee){return Ee.replace(jn,pn)},Xr=function(Ee){return Ee.nodeName.toLowerCase()==="span"&&Ee.classList.contains("mce-nbsp-wrap")},oa=function(Ee,Ct){var dt=Hn(We.fromDom(Ct),Nn);Te(dt,function(Wt){var Bn=Wt.dom.parentNode;if(Xr(Bn))tn(We.fromDom(Bn),pt);else{for(var pr=Fr(Ee.dom.encode(it(Wt))),xa=Ee.dom.create("div",null,pr),Ar=void 0;Ar=xa.lastChild;)Ee.dom.insertAfter(Ar,Wt.dom);Ee.dom.remove(Wt.dom)}})},Vt=function(Ee,Ct){var dt=Ee.dom.select(Ce,Ct);Te(dt,function(Wt){Xr(Wt)?X(We.fromDom(Wt),pt):Ee.dom.remove(Wt,!0)})},Ut=function(Ee){var Ct=Ee.getBody(),dt=Ee.selection.getBookmark(),Wt=tr(Ee.selection.getNode(),Ct);Wt=Wt!==void 0?Wt:Ct,Vt(Ee,Wt),oa(Ee,Wt),Ee.selection.moveToBookmark(dt)},Bt=function(Ee,Ct){S(Ee,Ct.get());var dt=Ee.getBody();Ct.get()===!0?oa(Ee,dt):Vt(Ee,dt)},Xe=function(Ee,Ct){Ct.set(!Ct.get());var dt=Ee.selection.getBookmark();Bt(Ee,Ct),Ee.selection.moveToBookmark(dt)},ot=function(Ee,Ct){Ee.addCommand("mceVisualChars",function(){Xe(Ee,Ct)})},Xt=function(Ee){return Ee.getParam("visualchars_default_state",!1)},yn=function(Ee){return Ee.getParam("forced_root_block")!==!1},Jt=function(Ee,Ct){Ee.on("init",function(){Bt(Ee,Ct)})},ze=tinymce.util.Tools.resolve("tinymce.util.Delay"),$t=function(Ee,Ct){var dt=ze.debounce(function(){Ut(Ee)},300);yn(Ee)&&Ee.on("keydown",function(Wt){Ct.get()===!0&&(Wt.keyCode===13?Ut(Ee):dt())}),Ee.on("remove",dt.stop)},fn=function(Ee,Ct){return function(dt){dt.setActive(Ct.get());var Wt=function(Bn){return dt.setActive(Bn.state)};return Ee.on("VisualChars",Wt),function(){return Ee.off("VisualChars",Wt)}}},vn=function(Ee,Ct){var dt=function(){return Ee.execCommand("mceVisualChars")};Ee.ui.registry.addToggleButton("visualchars",{tooltip:"Show invisible characters",icon:"visualchars",onAction:dt,onSetup:fn(Ee,Ct)}),Ee.ui.registry.addToggleMenuItem("visualchars",{text:"Show invisible characters",icon:"visualchars",onAction:dt,onSetup:fn(Ee,Ct)})};function Ln(){y.add("visualchars",function(Ee){var Ct=D(Xt(Ee));return ot(Ee,Ct),vn(Ee,Ct),$t(Ee,Ct),Jt(Ee,Ct),C(Ct)})}Ln()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(Ue){return Ue},C=function(){return C=Object.assign||function(We){for(var ft,zt=1,vt=arguments.length;zt<vt;zt++){ft=arguments[zt];for(var kt in ft)Object.prototype.hasOwnProperty.call(ft,kt)&&(We[kt]=ft[kt])}return We},C.apply(this,arguments)},S="\uFEFF",_=function(Ue){return Ue.replace(/\uFEFF/g,"")},M=function(Ue,We){for(var ft=Ue.length,zt=new Array(ft),vt=0;vt<ft;vt++){var kt=Ue[vt];zt[vt]=We(kt,vt)}return zt},z="[!-#%-*,-\\/:;?@\\[-\\]_{}¡«·»¿;·՚-՟։֊־׀׃׆׳״؉؊،؍؛؞؟٪-٭۔܀-܍߷-߹࠰-࠾࡞।॥॰෴๏๚๛༄-༒༺-༽྅࿐-࿔࿙࿚၊-၏჻፡-፨᐀᙭᙮᚛᚜᛫-᛭᜵᜶។-៖៘-៚᠀-᠊᥄᥅᨞᨟᪠-᪦᪨-᪭᭚-᭠᯼-᯿᰻-᰿᱾᱿᳓‐-‧‰-⁃⁅-⁑⁓-⁞⁽⁾₍₎〈〉❨-❵⟅⟆⟦-⟯⦃-⦘⧘-⧛⧼⧽⳹-⳼⳾⳿⵰⸀-⸮⸰⸱、-〃〈-】〔-〟〰〽゠・꓾꓿꘍-꘏꙳꙾꛲-꛷꡴-꡷꣎꣏꣸-꣺꤮꤯꥟꧁-꧍꧞꧟꩜-꩟꫞꫟꯫﴾﴿︐-︙︰-﹒﹔-﹡﹣﹨﹪﹫！-＃％-＊，-／：；？＠［-］＿｛｝｟-･]",K={aletter:"[A-Za-zªµºÀ-ÖØ-öø-ˁˆ-ˑˠ-ˤˬˮͰ-ʹͶͷͺ-ͽΆΈ-ΊΌΎ-ΡΣ-ϵϷ-ҁҊ-ԧԱ-Ֆՙա-ևא-תװ-׳ؠ-يٮٯٱ-ۓەۥۦۮۯۺ-ۼۿܐܒ-ܯݍ-ޥޱߊ-ߪߴߵߺࠀ-ࠕࠚࠤࠨࡀ-ࡘऄ-हऽॐक़-ॡॱ-ॷॹ-ॿঅ-ঌএঐও-নপ-রলশ-হঽৎড়ঢ়য়-ৡৰৱਅ-ਊਏਐਓ-ਨਪ-ਰਲਲ਼ਵਸ਼ਸਹਖ਼-ੜਫ਼ੲ-ੴઅ-ઍએ-ઑઓ-નપ-રલળવ-હઽૐૠૡଅ-ଌଏଐଓ-ନପ-ରଲଳଵ-ହଽଡ଼ଢ଼ୟ-ୡୱஃஅ-ஊஎ-ஐஒ-கஙசஜஞடணதந-பம-ஹௐఅ-ఌఎ-ఐఒ-నప-ళవ-హఽౘౙౠౡಅ-ಌಎ-ಐಒ-ನಪ-ಳವ-ಹಽೞೠೡೱೲഅ-ഌഎ-ഐഒ-ഺഽൎൠൡൺ-ൿඅ-ඖක-නඳ-රලව-ෆༀཀ-ཇཉ-ཬྈ-ྌႠ-Ⴥა-ჺჼᄀ-ቈቊ-ቍቐ-ቖቘቚ-ቝበ-ኈኊ-ኍነ-ኰኲ-ኵኸ-ኾዀዂ-ዅወ-ዖዘ-ጐጒ-ጕጘ-ፚᎀ-ᎏᎠ-Ᏼᐁ-ᙬᙯ-ᙿᚁ-ᚚᚠ-ᛪᛮ-ᛰᜀ-ᜌᜎ-ᜑᜠ-ᜱᝀ-ᝑᝠ-ᝬᝮ-ᝰᠠ-ᡷᢀ-ᢨᢪᢰ-ᣵᤀ-ᤜᨀ-ᨖᬅ-ᬳᭅ-ᭋᮃ-ᮠᮮᮯᯀ-ᯥᰀ-ᰣᱍ-ᱏᱚ-ᱽᳩ-ᳬᳮ-ᳱᴀ-ᶿḀ-ἕἘ-Ἕἠ-ὅὈ-Ὅὐ-ὗὙὛὝὟ-ώᾀ-ᾴᾶ-ᾼιῂ-ῄῆ-ῌῐ-ΐῖ-Ίῠ-Ῥῲ-ῴῶ-ῼⁱⁿₐ-ₜℂℇℊ-ℓℕℙ-ℝℤΩℨK-ℭℯ-ℹℼ-ℿⅅ-ⅉⅎⅠ-ↈⒶ-ⓩⰀ-Ⱞⰰ-ⱞⱠ-ⳤⳫ-ⳮⴀ-ⴥⴰ-ⵥⵯⶀ-ⶖⶠ-ⶦⶨ-ⶮⶰ-ⶶⶸ-ⶾⷀ-ⷆⷈ-ⷎⷐ-ⷖⷘ-ⷞⸯ々〻〼ㄅ-ㄭㄱ-ㆎㆠ-ㆺꀀ-ꒌꓐ-ꓽꔀ-ꘌꘐ-ꘟꘪꘫꙀ-ꙮꙿ-ꚗꚠ-ꛯꜗ-ꜟꜢ-ꞈꞋ-ꞎꞐꞑꞠ-ꞩꟺ-ꠁꠃ-ꠅꠇ-ꠊꠌ-ꠢꡀ-ꡳꢂ-ꢳꣲ-ꣷꣻꤊ-ꤥꤰ-ꥆꥠ-ꥼꦄ-ꦲꧏꨀ-ꨨꩀ-ꩂꩄ-ꩋꬁ-ꬆꬉ-ꬎꬑ-ꬖꬠ-ꬦꬨ-ꬮꯀ-ꯢ가-힣ힰ-ퟆퟋ-ퟻﬀ-ﬆﬓ-ﬗיִײַ-ﬨשׁ-זּטּ-לּמּנּסּףּפּצּ-ﮱﯓ-ﴽﵐ-ﶏﶒ-ﷇﷰ-ﷻﹰ-ﹴﹶ-ﻼＡ-Ｚａ-ｚﾠ-ﾾￂ-ￇￊ-ￏￒ-ￗￚ-ￜ]",midnumlet:"[-'\\.‘’․﹒＇．]",midletter:"[:··״‧︓﹕：]",midnum:"[±+*/,;;։،؍٬߸⁄︐︔﹐﹔，；]",numeric:"[0-9٠-٩٫۰-۹߀-߉०-९০-৯੦-੯૦-૯୦-୯௦-௯౦-౯೦-೯൦-൯๐-๙໐-໙༠-༩၀-၉႐-႙០-៩᠐-᠙᥆-᥏᧐-᧙᪀-᪉᪐-᪙᭐-᭙᮰-᮹᱀-᱉᱐-᱙꘠-꘩꣐-꣙꤀-꤉꧐-꧙꩐-꩙꯰-꯹]",cr:"\\r",lf:"\\n",newline:"[\v\f\u2028\u2029]",extend:"[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛ऀ-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఁ-ఃా-ౄె-ైొ-్ౕౖౢౣಂಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣംഃാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳា-៓៝᠋-᠍ᢩᤠ-ᤫᤰ-᤻ᦰ-ᧀᧈᧉᨗ-ᨛᩕ-ᩞ᩠-᩿᩼ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-᯦᮪-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ᷀-ᷦ᷼-᷿‌‍⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲꙼꙽꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-꣄꣠-꣱ꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꨩ-ꨶꩃꩌꩍꩻꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︦ﾞﾟ]",format:"[­؀-؃۝܏឴឵‎‏‪-‮⁠-⁤⁪-⁯\uFEFF￹-￻]",katakana:"[〱-〵゛゜゠-ヺー-ヿㇰ-ㇿ㋐-㋾㌀-㍗ｦ-ﾝ]",extendnumlet:"[=_‿⁀⁔︳︴﹍-﹏＿∀-⋿<>]",punctuation:z},Y={ALETTER:0,MIDNUMLET:1,MIDLETTER:2,MIDNUM:3,NUMERIC:4,CR:5,LF:6,NEWLINE:7,EXTEND:8,FORMAT:9,KATAKANA:10,EXTENDNUMLET:11,AT:12,OTHER:13},ye=[new RegExp(K.aletter),new RegExp(K.midnumlet),new RegExp(K.midletter),new RegExp(K.midnum),new RegExp(K.numeric),new RegExp(K.cr),new RegExp(K.lf),new RegExp(K.newline),new RegExp(K.extend),new RegExp(K.format),new RegExp(K.katakana),new RegExp(K.extendnumlet),new RegExp("@")],Q="",W=new RegExp("^"+K.punctuation+"$"),ve=/^\s+$/,he=ye,be=Y.OTHER,ae=function(Ue){for(var We=be,ft=he.length,zt=0;zt<ft;++zt){var vt=he[zt];if(vt&&vt.test(Ue)){We=zt;break}}return We},Ae=function(Ue){var We={};return function(ft){if(We[ft])return We[ft];var zt=Ue(ft);return We[ft]=zt,zt}},Ye=function(Ue){var We=Ae(ae);return M(Ue,We)},Ve=function(Ue,We){var ft=Ue[We],zt=Ue[We+1];if(We<0||We>Ue.length-1&&We!==0||ft===Y.ALETTER&&zt===Y.ALETTER)return!1;var vt=Ue[We+2];if(ft===Y.ALETTER&&(zt===Y.MIDLETTER||zt===Y.MIDNUMLET||zt===Y.AT)&&vt===Y.ALETTER)return!1;var kt=Ue[We-1];return(ft===Y.MIDLETTER||ft===Y.MIDNUMLET||zt===Y.AT)&&zt===Y.ALETTER&&kt===Y.ALETTER||(ft===Y.NUMERIC||ft===Y.ALETTER)&&(zt===Y.NUMERIC||zt===Y.ALETTER)||(ft===Y.MIDNUM||ft===Y.MIDNUMLET)&&zt===Y.NUMERIC&&kt===Y.NUMERIC||ft===Y.NUMERIC&&(zt===Y.MIDNUM||zt===Y.MIDNUMLET)&&vt===Y.NUMERIC||ft===Y.EXTEND||ft===Y.FORMAT||kt===Y.EXTEND||kt===Y.FORMAT||zt===Y.EXTEND||zt===Y.FORMAT||ft===Y.CR&&zt===Y.LF?!1:ft===Y.NEWLINE||ft===Y.CR||ft===Y.LF||zt===Y.NEWLINE||zt===Y.CR||zt===Y.LF?!0:!(ft===Y.KATAKANA&&zt===Y.KATAKANA||zt===Y.EXTENDNUMLET&&(ft===Y.ALETTER||ft===Y.NUMERIC||ft===Y.KATAKANA||ft===Y.EXTENDNUMLET)||ft===Y.EXTENDNUMLET&&(zt===Y.ALETTER||zt===Y.NUMERIC||zt===Y.KATAKANA)||ft===Y.AT)},L=Q,_e=ve,Te=W,Be=function(Ue){return Ue==="http"||Ue==="https"},gt=function(Ue,We){var ft;for(ft=We;ft<Ue.length&&!_e.test(Ue[ft]);ft++);return ft},Se=function(Ue,We){var ft=gt(Ue,We+1),zt=Ue.slice(We+1,ft).join(L);return zt.substr(0,3)==="://"?ft:We},je=function(Ue,We,ft,zt){for(var vt=[],kt=[],jn=0;jn<ft.length;++jn)if(kt.push(Ue[jn]),Ve(ft,jn)){var Ce=We[jn];if((zt.includeWhitespace||!_e.test(Ce))&&(zt.includePunctuation||!Te.test(Ce))){var pt=jn-kt.length+1,pn=jn+1,Nn=We.slice(pt,pn).join(L);if(Be(Nn)){var Hn=Se(We,jn),tr=Ue.slice(pn,Hn);Array.prototype.push.apply(kt,tr),jn=Hn}vt.push(kt)}kt=[]}return vt},Ze=function(){return{includeWhitespace:!1,includePunctuation:!1}},it=function(Ue,We,ft){ft=C(C({},Ze()),ft);for(var zt=[],vt=[],kt=0;kt<Ue.length;kt++){var jn=We(Ue[kt]);jn!==S&&(zt.push(Ue[kt]),vt.push(jn))}var Ce=Ye(vt);return je(zt,vt,Ce,ft)},G=it,xe=tinymce.util.Tools.resolve("tinymce.dom.TreeWalker"),ct=function(Ue,We){for(var ft=We.getBlockElements(),zt=We.getShortEndedElements(),vt=function(pt){return ft[pt.nodeName]||zt[pt.nodeName]},kt=[],jn="",Ce=new xe(Ue,Ue);Ue=Ce.next();)Ue.nodeType===3?jn+=_(Ue.data):vt(Ue)&&jn.length&&(kt.push(jn),jn="");return jn.length&&kt.push(jn),kt},Tn=function(Ue){return Ue.replace(/\u200B/g,"")},bt=function(Ue){return Ue.replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,"_").length},er=function(Ue,We){var ft=Tn(ct(Ue,We).join(`
`));return G(ft.split(""),y).length},Er=function(Ue,We){var ft=ct(Ue,We).join("");return bt(ft)},A=function(Ue,We){var ft=ct(Ue,We).join("").replace(/\s/g,"");return bt(ft)},Ht=function(Ue,We){return function(){return We(Ue.getBody(),Ue.schema)}},Kt=function(Ue,We){return function(){return We(Ue.selection.getRng().cloneContents(),Ue.schema)}},Rn=function(Ue){return Ht(Ue,er)},et=function(Ue){return{body:{getWordCount:Rn(Ue),getCharacterCount:Ht(Ue,Er),getCharacterCountWithoutSpaces:Ht(Ue,A)},selection:{getWordCount:Kt(Ue,er),getCharacterCount:Kt(Ue,Er),getCharacterCountWithoutSpaces:Kt(Ue,A)},getCount:Rn(Ue)}},nn=function(Ue,We){Ue.windowManager.open({title:"Word Count",body:{type:"panel",items:[{type:"table",header:["Count","Document","Selection"],cells:[["Words",String(We.body.getWordCount()),String(We.selection.getWordCount())],["Characters (no spaces)",String(We.body.getCharacterCountWithoutSpaces()),String(We.selection.getCharacterCountWithoutSpaces())],["Characters",String(We.body.getCharacterCount()),String(We.selection.getCharacterCount())]]}]},buttons:[{type:"cancel",name:"close",text:"Close",primary:!0}]})},tn=function(Ue,We){Ue.addCommand("mceWordCount",function(){return nn(Ue,We)})},sn=tinymce.util.Tools.resolve("tinymce.util.Delay"),X=function(Ue,We){Ue.fire("wordCountUpdate",{wordCount:{words:We.body.getWordCount(),characters:We.body.getCharacterCount(),charactersWithoutSpaces:We.body.getCharacterCountWithoutSpaces()}})},nr=function(Ue,We){X(Ue,We)},St=function(Ue,We,ft){var zt=sn.debounce(function(){return nr(Ue,We)},ft);Ue.on("init",function(){nr(Ue,We),sn.setEditorTimeout(Ue,function(){Ue.on("SetContent BeforeAddUndo Undo Redo ViewUpdate keyup",zt)},0)})},Ke=function(Ue){var We=function(){return Ue.execCommand("mceWordCount")};Ue.ui.registry.addButton("wordcount",{tooltip:"Word count",icon:"character-count",onAction:We}),Ue.ui.registry.addMenuItem("wordcount",{text:"Word count",icon:"character-count",onAction:We})};function bn(Ue){Ue===void 0&&(Ue=300),D.add("wordcount",function(We){var ft=et(We);return tn(We,ft),Ke(We),St(We,ft,Ue),ft})}bn()})();(function(){var D=tinymce.util.Tools.resolve("tinymce.PluginManager"),y=function(){return y=Object.assign||function(w){for(var h,T=1,H=arguments.length;T<H;T++){h=arguments[T];for(var ue in h)Object.prototype.hasOwnProperty.call(h,ue)&&(w[ue]=h[ue])}return w},y.apply(this,arguments)},C=function(B){var w=typeof B;return B===null?"null":w==="object"&&(Array.prototype.isPrototypeOf(B)||B.constructor&&B.constructor.name==="Array")?"array":w==="object"&&(String.prototype.isPrototypeOf(B)||B.constructor&&B.constructor.name==="String")?"string":w},S=function(B){return function(w){return C(w)===B}},_=function(B){return function(w){return typeof w===B}},M=function(B){return function(w){return B===w}},z=S("string"),K=S("object"),Y=S("array"),ye=M(null),Q=_("boolean"),W=function(B){return B==null},ve=function(B){return!W(B)},he=_("function"),be=_("number"),ae=function(){},Ae=function(B){return function(){return B}},Ye=function(B){return B},Ve=Ae(!1),L=Ae(!0),_e=function(){return Te},Te=function(){var B=function(T){return T()},w=Ye,h={fold:function(T,H){return T()},isSome:Ve,isNone:L,getOr:w,getOrThunk:B,getOrDie:function(T){throw new Error(T||"error: getOrDie called on none.")},getOrNull:Ae(null),getOrUndefined:Ae(void 0),or:w,orThunk:B,map:_e,each:ae,bind:_e,exists:Ve,forall:L,filter:function(){return _e()},toArray:function(){return[]},toString:Ae("none()")};return h}(),Be=function(B){var w=Ae(B),h=function(){return H},T=function(ue){return ue(B)},H={fold:function(ue,He){return He(B)},isSome:L,isNone:Ve,getOr:w,getOrThunk:w,getOrDie:w,getOrNull:w,getOrUndefined:w,or:h,orThunk:h,map:function(ue){return Be(ue(B))},each:function(ue){ue(B)},bind:T,exists:T,forall:T,filter:function(ue){return ue(B)?H:Te},toArray:function(){return[B]},toString:function(){return"some("+B+")"}};return H},gt=function(B){return B==null?Te:Be(B)},Se={some:Be,none:_e,from:gt},je=Object.keys,Ze=Object.hasOwnProperty,it=function(B,w){for(var h=je(B),T=0,H=h.length;T<H;T++){var ue=h[T],He=B[ue];w(He,ue)}},G=function(B){return function(w,h){B[h]=w}},xe=function(B,w,h,T){var H={};return it(B,function(ue,He){(w(ue,He)?h:T)(ue,He)}),H},ct=function(B,w){var h={};return xe(B,w,G(h),ae),h},Tn=function(B,w){return Ze.call(B,w)},bt=function(B,w){return Tn(B,w)&&B[w]!==void 0&&B[w]!==null},er=Array.prototype.push,Er=function(B){for(var w=[],h=0,T=B.length;h<T;++h){if(!Y(B[h]))throw new Error("Arr.flatten item "+h+" was not an array, input: "+B);er.apply(w,B[h])}return w},A=function(B,w){return w>=0&&w<B.length?Se.some(B[w]):Se.none()},Ht=function(B){return A(B,0)},Kt=function(B,w){for(var h=0;h<B.length;h++){var T=w(B[h],h);if(T.isSome())return T}return Se.none()};typeof window!="undefined"||Function("return this;")();var Rn=function(B,w,h){if(z(h)||Q(h)||be(h))B.setAttribute(w,h+"");else throw new Error("Attribute value was not simple")},et=function(B,w,h){Rn(B.dom,w,h)},nn=function(B,w){B.dom.removeAttribute(w)},tn=function(B,w){var h=w||document,T=h.createElement("div");if(T.innerHTML=B,!T.hasChildNodes()||T.childNodes.length>1)throw new Error("HTML must have a single root node");return nr(T.childNodes[0])},sn=function(B,w){var h=w||document,T=h.createElement(B);return nr(T)},X=function(B,w){var h=w||document,T=h.createTextNode(B);return nr(T)},nr=function(B){if(B==null)throw new Error("Node cannot be null or undefined");return{dom:B}},St=function(B,w,h){return Se.from(B.dom.elementFromPoint(w,h)).map(nr)},Ke={fromHtml:tn,fromTag:sn,fromText:X,fromDom:nr,fromPoint:St},bn=tinymce.util.Tools.resolve("tinymce.dom.DOMUtils"),Ue=tinymce.util.Tools.resolve("tinymce.util.Promise"),We=tinymce.util.Tools.resolve("tinymce.util.URI"),ft=tinymce.util.Tools.resolve("tinymce.util.XHR"),zt=function(B){return B.getParam("image_dimensions",!0,"boolean")},vt=function(B){return B.getParam("image_advtab",!1,"boolean")},kt=function(B){return B.getParam("image_uploadtab",!0,"boolean")},jn=function(B){return B.getParam("image_prepend_url","","string")},Ce=function(B){return B.getParam("image_class_list")},pt=function(B){return B.getParam("image_description",!0,"boolean")},pn=function(B){return B.getParam("image_title",!1,"boolean")},Nn=function(B){return B.getParam("image_caption",!1,"boolean")},Hn=function(B){return B.getParam("image_list",!1)},tr=function(B){return ve(B.getParam("images_upload_url"))},Fr=function(B){return ve(B.getParam("images_upload_handler"))},Xr=function(B){return B.getParam("a11y_advanced_options",!1,"boolean")},oa=function(B){return B.getParam("automatic_uploads",!0,"boolean")},Vt=function(B,w){return Math.max(parseInt(B,10),parseInt(w,10))},Ut=function(B){return new Ue(function(w){var h=document.createElement("img"),T=function(ue){h.onload=h.onerror=null,h.parentNode&&h.parentNode.removeChild(h),w(ue)};h.onload=function(){var ue=Vt(h.width,h.clientWidth),He=Vt(h.height,h.clientHeight),Nt={width:ue,height:He};T(Ue.resolve(Nt))},h.onerror=function(){T(Ue.reject("Failed to get image dimensions for: "+B))};var H=h.style;H.visibility="hidden",H.position="fixed",H.bottom=H.left="0px",H.width=H.height="auto",document.body.appendChild(h),h.src=B})},Bt=function(B){return B&&(B=B.replace(/px$/,"")),B},Xe=function(B){return B.length>0&&/^[0-9]+$/.test(B)&&(B+="px"),B},ot=function(B){if(B.margin){var w=String(B.margin).split(" ");switch(w.length){case 1:B["margin-top"]=B["margin-top"]||w[0],B["margin-right"]=B["margin-right"]||w[0],B["margin-bottom"]=B["margin-bottom"]||w[0],B["margin-left"]=B["margin-left"]||w[0];break;case 2:B["margin-top"]=B["margin-top"]||w[0],B["margin-right"]=B["margin-right"]||w[1],B["margin-bottom"]=B["margin-bottom"]||w[0],B["margin-left"]=B["margin-left"]||w[1];break;case 3:B["margin-top"]=B["margin-top"]||w[0],B["margin-right"]=B["margin-right"]||w[1],B["margin-bottom"]=B["margin-bottom"]||w[2],B["margin-left"]=B["margin-left"]||w[1];break;case 4:B["margin-top"]=B["margin-top"]||w[0],B["margin-right"]=B["margin-right"]||w[1],B["margin-bottom"]=B["margin-bottom"]||w[2],B["margin-left"]=B["margin-left"]||w[3]}delete B.margin}return B},Xt=function(B,w){var h=Hn(B);z(h)?ft.send({url:h,success:function(T){w(JSON.parse(T))}}):he(h)?h(w):w(h)},yn=function(B,w,h){var T=function(){h.onload=h.onerror=null,B.selection&&(B.selection.select(h),B.nodeChanged())};h.onload=function(){!w.width&&!w.height&&zt(B)&&B.dom.setAttribs(h,{width:String(h.clientWidth),height:String(h.clientHeight)}),T()},h.onerror=T},Jt=function(B){return new Ue(function(w,h){var T=new FileReader;T.onload=function(){w(T.result)},T.onerror=function(){h(T.error.message)},T.readAsDataURL(B)})},ze=function(B){return B.nodeName==="IMG"&&(B.hasAttribute("data-mce-object")||B.hasAttribute("data-mce-placeholder"))},$t=function(B,w){return We.isDomSafe(w,"img",B.settings)},fn=bn.DOM,vn=function(B){return B.style.marginLeft&&B.style.marginRight&&B.style.marginLeft===B.style.marginRight?Bt(B.style.marginLeft):""},Ln=function(B){return B.style.marginTop&&B.style.marginBottom&&B.style.marginTop===B.style.marginBottom?Bt(B.style.marginTop):""},Ee=function(B){return B.style.borderWidth?Bt(B.style.borderWidth):""},Ct=function(B,w){return B.hasAttribute(w)?B.getAttribute(w):""},dt=function(B,w){return B.style[w]?B.style[w]:""},Wt=function(B){return B.parentNode!==null&&B.parentNode.nodeName==="FIGURE"},Bn=function(B,w,h){h===""?B.removeAttribute(w):B.setAttribute(w,h)},pr=function(B){var w=fn.create("figure",{class:"image"});fn.insertAfter(w,B),w.appendChild(B),w.appendChild(fn.create("figcaption",{contentEditable:"true"},"Caption")),w.contentEditable="false"},xa=function(B){var w=B.parentNode;fn.insertAfter(B,w),fn.remove(w)},Ar=function(B){Wt(B)?xa(B):pr(B)},xr=function(B,w){var h=B.getAttribute("style"),T=w(h!==null?h:"");T.length>0?(B.setAttribute("style",T),B.setAttribute("data-mce-style",T)):B.removeAttribute("style")},ha=function(B,w){return function(h,T,H){h.style[T]?(h.style[T]=Xe(H),xr(h,w)):Bn(h,T,H)}},Ja=function(B,w){return B.style[w]?Bt(B.style[w]):Ct(B,w)},Va=function(B,w){var h=Xe(w);B.style.marginLeft=h,B.style.marginRight=h},Ta=function(B,w){var h=Xe(w);B.style.marginTop=h,B.style.marginBottom=h},Ga=function(B,w){var h=Xe(w);B.style.borderWidth=h},xo=function(B,w){B.style.borderStyle=w},Qa=function(B){return dt(B,"borderStyle")},Pa=function(B){return B.nodeName==="FIGURE"},po=function(B){return B.nodeName==="IMG"},zr=function(B){return fn.getAttrib(B,"alt").length===0&&fn.getAttrib(B,"role")==="presentation"},bo=function(B){return zr(B)?"":Ct(B,"alt")},Gn=function(){return{src:"",alt:"",title:"",width:"",height:"",class:"",style:"",caption:!1,hspace:"",vspace:"",border:"",borderStyle:"",isDecorative:!1}},vi=function(B,w){var h=document.createElement("img");return Bn(h,"style",w.style),(vn(h)||w.hspace!=="")&&Va(h,w.hspace),(Ln(h)||w.vspace!=="")&&Ta(h,w.vspace),(Ee(h)||w.border!=="")&&Ga(h,w.border),(Qa(h)||w.borderStyle!=="")&&xo(h,w.borderStyle),B(h.getAttribute("style"))},fo=function(B,w){var h=document.createElement("img");if(Ei(B,y(y({},w),{caption:!1}),h),No(h,w.alt,w.isDecorative),w.caption){var T=fn.create("figure",{class:"image"});return T.appendChild(h),T.appendChild(fn.create("figcaption",{contentEditable:"true"},"Caption")),T.contentEditable="false",T}else return h},So=function(B,w){return{src:Ct(w,"src"),alt:bo(w),title:Ct(w,"title"),width:Ja(w,"width"),height:Ja(w,"height"),class:Ct(w,"class"),style:B(Ct(w,"style")),caption:Wt(w),hspace:vn(w),vspace:Ln(w),border:Ee(w),borderStyle:dt(w,"borderStyle"),isDecorative:zr(w)}},oo=function(B,w,h,T,H){h[T]!==w[T]&&H(B,T,h[T])},No=function(B,w,h){if(h){fn.setAttrib(B,"role","presentation");var T=Ke.fromDom(B);et(T,"alt","")}else{if(ye(w)){var T=Ke.fromDom(B);nn(T,"alt")}else{var T=Ke.fromDom(B);et(T,"alt",w)}fn.getAttrib(B,"role")==="presentation"&&fn.setAttrib(B,"role","")}},di=function(B,w,h){(h.alt!==w.alt||h.isDecorative!==w.isDecorative)&&No(B,h.alt,h.isDecorative)},_o=function(B,w){return function(h,T,H){B(h,H),xr(h,w)}},Ei=function(B,w,h){var T=So(B,h);oo(h,T,w,"caption",function(H,ue,He){return Ar(H)}),oo(h,T,w,"src",Bn),oo(h,T,w,"title",Bn),oo(h,T,w,"width",ha("width",B)),oo(h,T,w,"height",ha("height",B)),oo(h,T,w,"class",Bn),oo(h,T,w,"style",_o(function(H,ue){return Bn(H,"style",ue)},B)),oo(h,T,w,"hspace",_o(Va,B)),oo(h,T,w,"vspace",_o(Ta,B)),oo(h,T,w,"border",_o(Ga,B)),oo(h,T,w,"borderStyle",_o(xo,B)),di(h,T,w)},se=function(B,w){var h=B.dom.styles.parse(w),T=ot(h),H=B.dom.styles.parse(B.dom.styles.serialize(T));return B.dom.styles.serialize(H)},Re=function(B){var w=B.selection.getNode(),h=B.dom.getParent(w,"figure.image");return h?B.dom.select("img",h)[0]:w&&(w.nodeName!=="IMG"||ze(w))?null:w},ce=function(B,w){var h=B.dom,T=ct(B.schema.getTextBlockElements(),function(ue,He){return!B.schema.isValidChild(He,"figure")}),H=h.getParent(w.parentNode,function(ue){return bt(T,ue.nodeName)},B.getBody());return H?h.split(H,w):w},at=function(B){var w=Re(B);return w?So(function(h){return se(B,h)},w):Gn()},dn=function(B,w){var h=fo(function(ue){return se(B,ue)},w);B.dom.setAttrib(h,"data-mce-id","__mcenew"),B.focus(),B.selection.setContent(h.outerHTML);var T=B.dom.select('*[data-mce-id="__mcenew"]')[0];if(B.dom.setAttrib(T,"data-mce-id",null),Pa(T)){var H=ce(B,T);B.selection.select(H)}else B.selection.select(T)},Mn=function(B,w){B.dom.setAttrib(w,"src",w.getAttribute("src"))},oe=function(B,w){if(w){var h=B.dom.is(w.parentNode,"figure.image")?w.parentNode:w;B.dom.remove(h),B.focus(),B.nodeChanged(),B.dom.isEmpty(B.getBody())&&(B.setContent(""),B.selection.setCursorLocation())}},pe=function(B,w){var h=Re(B);if(Ei(function(H){return se(B,H)},w,h),Mn(B,h),Pa(h.parentNode)){var T=h.parentNode;ce(B,T),B.selection.select(h.parentNode)}else B.selection.select(h),yn(B,w,h)},ut=function(B,w){var h=w.src;return y(y({},w),{src:$t(B,h)?h:""})},At=function(B,w){var h=Re(B);if(h){var T=So(function(He){return se(B,He)},h),H=y(y({},T),w),ue=ut(B,H);H.src?pe(B,ue):oe(B,h)}else w.src&&dn(B,y(y({},Gn()),w))},R=function(B,w){var h=K(B)&&K(w);return h?me(B,w):w},Z=function(B){return function(){for(var w=[],h=0;h<arguments.length;h++)w[h]=arguments[h];if(w.length===0)throw new Error("Can't merge zero objects");for(var T={},H=0;H<w.length;H++){var ue=w[H];for(var He in ue)Tn(ue,He)&&(T[He]=B(T[He],ue[He]))}return T}},me=Z(R),Me=function(B){return B.length>0},Qe=tinymce.util.Tools.resolve("tinymce.util.ImageUploader"),rt=tinymce.util.Tools.resolve("tinymce.util.Tools"),ln=function(B){return z(B.value)?B.value:""},On=function(B){return z(B.text)?B.text:z(B.title)?B.title:""},ir=function(B,w){var h=[];return rt.each(B,function(T){var H=On(T);if(T.menu!==void 0){var ue=ir(T.menu,w);h.push({text:H,items:ue})}else{var He=w(T);h.push({text:H,value:He})}}),h},fr=function(B){return B===void 0&&(B=ln),function(w){return w?Se.from(w).map(function(h){return ir(h,B)}):Se.none()}},mr=function(B){return fr(ln)(B)},Tr=function(B){return Tn(B,"items")},ia=function(B,w){return Kt(B,function(h){return Tr(h)?ia(h.items,w):h.value===w?Se.some(h):Se.none()})},eo=function(B,w){return B.bind(function(h){return ia(h,w)})},ko={sanitizer:fr,sanitize:mr,findEntry:eo},Ri=function(B){return{title:"Advanced",name:"advanced",items:[{type:"input",label:"Style",name:"style"},{type:"grid",columns:2,items:[{type:"input",label:"Vertical space",name:"vspace",inputMode:"numeric"},{type:"input",label:"Horizontal space",name:"hspace",inputMode:"numeric"},{type:"input",label:"Border width",name:"border",inputMode:"numeric"},{type:"listbox",name:"borderstyle",label:"Border style",items:[{text:"Select...",value:""},{text:"Solid",value:"solid"},{text:"Dotted",value:"dotted"},{text:"Dashed",value:"dashed"},{text:"Double",value:"double"},{text:"Groove",value:"groove"},{text:"Ridge",value:"ridge"},{text:"Inset",value:"inset"},{text:"Outset",value:"outset"},{text:"None",value:"none"},{text:"Hidden",value:"hidden"}]}]}]}},Ti={makeTab:Ri},to=function(B){var w=ko.sanitizer(function(wr){return B.convertURL(wr.value||wr.url,"src")}),h=new Ue(function(wr){Xt(B,function(Aa){wr(w(Aa).map(function(Sa){return Er([[{text:"None",value:""}],Sa])}))})}),T=ko.sanitize(Ce(B)),H=vt(B),ue=kt(B),He=tr(B),Nt=Fr(B),Kn=at(B),vr=pt(B),wn=pn(B),qn=zt(B),Rr=Nn(B),Wr=Xr(B),Sr=oa(B),Ua=Se.some(jn(B)).filter(function(wr){return z(wr)&&wr.length>0});return h.then(function(wr){return{image:Kn,imageList:wr,classList:T,hasAdvTab:H,hasUploadTab:ue,hasUploadUrl:He,hasUploadHandler:Nt,hasDescription:vr,hasImageTitle:wn,hasDimensions:qn,hasImageCaption:Rr,prependURL:Ua,hasAccessibilityOptions:Wr,automaticUploads:Sr}})},hu=function(B){var w={name:"src",type:"urlinput",filetype:"image",label:"Source"},h=B.imageList.map(function(wn){return{name:"images",type:"listbox",label:"Image list",items:wn}}),T={name:"alt",type:"input",label:"Alternative description",disabled:B.hasAccessibilityOptions&&B.image.isDecorative},H={name:"title",type:"input",label:"Image title"},ue={name:"dimensions",type:"sizeinput"},He={type:"label",label:"Accessibility",items:[{name:"isDecorative",type:"checkbox",label:"Image is decorative"}]},Nt=B.classList.map(function(wn){return{name:"classes",type:"listbox",label:"Class",items:wn}}),Kn={type:"label",label:"Caption",items:[{type:"checkbox",name:"caption",label:"Show caption"}]},vr=function(wn){return wn?{type:"grid",columns:2}:{type:"panel"}};return Er([[w],h.toArray(),B.hasAccessibilityOptions&&B.hasDescription?[He]:[],B.hasDescription?[T]:[],B.hasImageTitle?[H]:[],B.hasDimensions?[ue]:[],[y(y({},vr(B.classList.isSome()&&B.hasImageCaption)),{items:Er([Nt.toArray(),B.hasImageCaption?[Kn]:[]])})]])},iu=function(B){return{title:"General",name:"general",items:hu(B)}},Qo={makeTab:iu,makeItems:hu},Eo=function(B){var w=[{type:"dropzone",name:"fileinput"}];return{title:"Upload",name:"upload",items:w}},Fu={makeTab:Eo},J=function(B){return{prevImage:ko.findEntry(B.imageList,B.image.src),prevAlt:B.image.alt,open:!0}},Oe=function(B){return{src:{value:B.src,meta:{}},images:B.src,alt:B.alt,title:B.title,dimensions:{width:B.width,height:B.height},classes:B.class,caption:B.caption,style:B.style,vspace:B.vspace,border:B.border,hspace:B.hspace,borderstyle:B.borderStyle,fileinput:[],isDecorative:B.isDecorative}},tt=function(B,w){return{src:B.src.value,alt:B.alt.length===0&&w?null:B.alt,title:B.title,width:B.dimensions.width,height:B.dimensions.height,class:B.classes,style:B.style,caption:B.caption,hspace:B.hspace,vspace:B.vspace,border:B.border,borderStyle:B.borderstyle,isDecorative:B.isDecorative}},_t=function(B,w){return/^(?:[a-zA-Z]+:)?\/\//.test(w)?Se.none():B.prependURL.bind(function(h){return w.substring(0,h.length)!==h?Se.some(h+w):Se.none()})},kn=function(B,w){var h=w.getData();_t(B,h.src.value).each(function(T){w.setData({src:{value:T,meta:h.src.meta}})})},$n=function(B,w,h){B.hasDescription&&z(h.alt)&&(w.alt=h.alt),B.hasAccessibilityOptions&&(w.isDecorative=h.isDecorative||w.isDecorative||!1),B.hasImageTitle&&z(h.title)&&(w.title=h.title),B.hasDimensions&&(z(h.width)&&(w.dimensions.width=h.width),z(h.height)&&(w.dimensions.height=h.height)),z(h.class)&&ko.findEntry(B.classList,h.class).each(function(T){w.classes=T.value}),B.hasImageCaption&&Q(h.caption)&&(w.caption=h.caption),B.hasAdvTab&&(z(h.style)&&(w.style=h.style),z(h.vspace)&&(w.vspace=h.vspace),z(h.border)&&(w.border=h.border),z(h.hspace)&&(w.hspace=h.hspace),z(h.borderstyle)&&(w.borderstyle=h.borderstyle))},rr=function(B,w){var h=w.getData(),T=h.src.meta;if(T!==void 0){var H=me({},h);$n(B,H,T),w.setData(H)}},Yr=function(B,w,h,T){var H=T.getData(),ue=H.src.value,He=H.src.meta||{};!He.width&&!He.height&&w.hasDimensions&&(Me(ue)?B.imageSize(ue).then(function(Nt){h.open&&T.setData({dimensions:Nt})}).catch(function(Nt){}):T.setData({dimensions:{width:"",height:""}}))},U=function(B,w,h){var T=h.getData(),H=ko.findEntry(B.imageList,T.src.value);w.prevImage=H,h.setData({images:H.map(function(ue){return ue.value}).getOr("")})},ke=function(B,w,h,T){kn(w,T),rr(w,T),Yr(B,w,h,T),U(w,h,T)},Le=function(B,w,h,T){var H=T.getData(),ue=ko.findEntry(w.imageList,H.images);ue.each(function(He){var Nt=H.alt===""||h.prevImage.map(function(Kn){return Kn.text===H.alt}).getOr(!1);Nt?He.value===""?T.setData({src:He,alt:h.prevAlt}):T.setData({src:He,alt:He.text}):T.setData({src:He})}),h.prevImage=ue,ke(B,w,h,T)},mt=function(B){var w=B["margin-top"]&&B["margin-bottom"]&&B["margin-top"]===B["margin-bottom"];return w?Bt(String(B["margin-top"])):""},Pt=function(B){var w=B["margin-right"]&&B["margin-left"]&&B["margin-right"]===B["margin-left"];return w?Bt(String(B["margin-right"])):""},Dn=function(B){return B["border-width"]?Bt(String(B["border-width"])):""},Jn=function(B){return B["border-style"]?String(B["border-style"]):""},ea=function(B,w,h){return w(B(w(h)))},Pr=function(B,w,h){var T=ot(B(h.style)),H=me({},h);return H.vspace=mt(T),H.hspace=Pt(T),H.border=Dn(T),H.borderstyle=Jn(T),H.style=ea(B,w,T),H},va=function(B,w){var h=w.getData(),T=Pr(B.parseStyle,B.serializeStyle,h);w.setData(T)},Ra=function(B,w,h){var T=me(Oe(w.image),h.getData()),H=vi(B.normalizeCss,tt(T,!1));h.setData({style:H})},Ui=function(B,w,h,T){var H=T.getData();T.block("Uploading image"),Ht(H.fileinput).fold(function(){T.unblock()},function(ue){var He=URL.createObjectURL(ue),Nt=function(){T.unblock(),URL.revokeObjectURL(He)},Kn=function(vr){T.setData({src:{value:vr,meta:{}}}),T.showTab("general"),ke(B,w,h,T)};Jt(ue).then(function(vr){var wn=B.createBlobCache(ue,He,vr);w.automaticUploads?B.uploadImage(wn).then(function(qn){Kn(qn.url),Nt()}).catch(function(qn){Nt(),B.alertErr(qn)}):(B.addToBlobCache(wn),Kn(wn.blobUri()),T.unblock())})})},Yu=function(B,w,h){return function(T,H){H.name==="src"?ke(B,w,h,T):H.name==="images"?Le(B,w,h,T):H.name==="alt"?h.prevAlt=T.getData().alt:H.name==="style"?va(B,T):H.name==="vspace"||H.name==="hspace"||H.name==="border"||H.name==="borderstyle"?Ra(B,w,T):H.name==="fileinput"?Ui(B,w,h,T):H.name==="isDecorative"&&(T.getData().isDecorative?T.disable("alt"):T.enable("alt"))}},cr=function(B){return function(){B.open=!1}},an=function(B){if(B.hasAdvTab||B.hasUploadUrl||B.hasUploadHandler){var w={type:"tabpanel",tabs:Er([[Qo.makeTab(B)],B.hasAdvTab?[Ti.makeTab(B)]:[],B.hasUploadTab&&(B.hasUploadUrl||B.hasUploadHandler)?[Fu.makeTab(B)]:[]])};return w}else{var h={type:"panel",items:Qo.makeItems(B)};return h}},pa=function(B){return function(w){var h=J(w);return{title:"Insert/Edit Image",size:"normal",body:an(w),buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0}],initialData:Oe(w.image),onSubmit:B.onSubmit(w),onChange:Yu(B,w,h),onClose:cr(h)}}},yo=function(B){return function(w){return function(h){var T=me(Oe(w.image),h.getData());B.execCommand("mceUpdateImage",!1,tt(T,w.hasAccessibilityOptions)),B.editorUpload.uploadImagesAuto(),h.close()}}},qo=function(B){return function(w){return $t(B,w)?Ut(B.documentBaseURI.toAbsolute(w)).then(function(h){return{width:String(h.width),height:String(h.height)}}):Ue.resolve({width:"",height:""})}},gs=function(B){return function(w,h,T){return B.editorUpload.blobCache.create({blob:w,blobUri:h,name:w.name?w.name.replace(/\.[^\.]+$/,""):null,filename:w.name,base64:T.split(",")[1]})}},hs=function(B){return function(w){B.editorUpload.blobCache.add(w)}},Hs=function(B){return function(w){B.windowManager.alert(w)}},_a=function(B){return function(w){return se(B,w)}},Iu=function(B){return function(w){return B.dom.parseStyle(w)}},Vs=function(B){return function(w,h){return B.dom.serializeStyle(w,h)}},Wi=function(B){return function(w){return Qe(B).upload([w],!1).then(function(h){return h.length===0?Ue.reject("Failed to upload image"):h[0].status===!1?Ue.reject(h[0].error.message):h[0]})}},ei=function(B){var w={onSubmit:yo(B),imageSize:qo(B),addToBlobCache:hs(B),createBlobCache:gs(B),alertErr:Hs(B),normalizeCss:_a(B),parseStyle:Iu(B),serializeStyle:Vs(B),uploadImage:Wi(B)},h=function(){to(B).then(pa(w)).then(B.windowManager.open)};return{open:h}},il=function(B){B.addCommand("mceImage",ei(B).open),B.addCommand("mceUpdateImage",function(w,h){B.undoManager.transact(function(){return At(B,h)})})},Tt=function(B){var w=B.attr("class");return w&&/\bimage\b/.test(w)},ps=function(B){return function(w){for(var h=w.length,T=function(ue){ue.attr("contenteditable",B?"true":null)};h--;){var H=w[h];Tt(H)&&(H.attr("contenteditable",B?"false":null),rt.each(H.getAll("figcaption"),T))}}},Lo=function(B){B.on("PreInit",function(){B.parser.addNodeFilter("figure",ps(!0)),B.serializer.addNodeFilter("figure",ps(!1))})},El=function(B){B.ui.registry.addToggleButton("image",{icon:"image",tooltip:"Insert/edit image",onAction:ei(B).open,onSetup:function(w){return w.setActive(ve(Re(B))),B.selection.selectorChangedWithUnbind("img:not([data-mce-object],[data-mce-placeholder]),figure.image",w.setActive).unbind}}),B.ui.registry.addMenuItem("image",{icon:"image",text:"Image...",onAction:ei(B).open}),B.ui.registry.addContextMenu("image",{update:function(w){return Pa(w)||po(w)&&!ze(w)?["image"]:[]}})};function Zu(){D.add("image",function(B){Lo(B),El(B),il(B)})}Zu()})();(function(){var D=function(J){var Oe=J,tt=function(){return Oe},_t=function(kn){Oe=kn};return{get:tt,set:_t}},y=tinymce.util.Tools.resolve("tinymce.PluginManager"),C=tinymce.util.Tools.resolve("tinymce.util.Tools"),S=function(J){var Oe=typeof J;return J===null?"null":Oe==="object"&&(Array.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="Array")?"array":Oe==="object"&&(String.prototype.isPrototypeOf(J)||J.constructor&&J.constructor.name==="String")?"string":Oe},_=function(J){return function(Oe){return S(Oe)===J}},M=function(J){return function(Oe){return typeof Oe===J}},z=_("array"),K=function(J){return J==null},Y=function(J){return!K(J)},ye=M("function"),Q=function(){},W=function(J){return function(){return J}},ve=function(J){return J},he=W(!1),be=W(!0),ae=function(){return Ae},Ae=function(){var J=function(_t){return _t()},Oe=ve,tt={fold:function(_t,kn){return _t()},isSome:he,isNone:be,getOr:Oe,getOrThunk:J,getOrDie:function(_t){throw new Error(_t||"error: getOrDie called on none.")},getOrNull:W(null),getOrUndefined:W(void 0),or:Oe,orThunk:J,map:ae,each:Q,bind:ae,exists:he,forall:be,filter:function(){return ae()},toArray:function(){return[]},toString:W("none()")};return tt}(),Ye=function(J){var Oe=W(J),tt=function(){return kn},_t=function($n){return $n(J)},kn={fold:function($n,rr){return rr(J)},isSome:be,isNone:he,getOr:Oe,getOrThunk:Oe,getOrDie:Oe,getOrNull:Oe,getOrUndefined:Oe,or:tt,orThunk:tt,map:function($n){return Ye($n(J))},each:function($n){$n(J)},bind:_t,exists:_t,forall:_t,filter:function($n){return $n(J)?kn:Ae},toArray:function(){return[J]},toString:function(){return"some("+J+")"}};return kn},Ve=function(J){return J==null?Ae:Ye(J)},L={some:Ye,none:ae,from:Ve},_e={},Te={exports:_e};(function(J,Oe,tt,_t){(function(kn,$n){typeof Oe=="object"&&typeof tt!="undefined"?tt.exports=$n():(kn=typeof globalThis!="undefined"?globalThis:kn||self,kn.EphoxContactWrapper=$n())})(this,function(){var kn=typeof globalThis!="undefined"?globalThis:typeof window!="undefined"?window:typeof xy!="undefined"?xy:typeof self!="undefined"?self:{},$n={exports:{}};(function(ke){(function(Le){var mt=setTimeout;function Pt(){}function Dn(cr,an){return function(){cr.apply(an,arguments)}}function Jn(cr){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");if(typeof cr!="function")throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],Yu(cr,this)}function ea(cr,an){for(;cr._state===3;)cr=cr._value;if(cr._state===0){cr._deferreds.push(an);return}cr._handled=!0,Jn._immediateFn(function(){var pa=cr._state===1?an.onFulfilled:an.onRejected;if(pa===null){(cr._state===1?Pr:va)(an.promise,cr._value);return}var yo;try{yo=pa(cr._value)}catch(qo){va(an.promise,qo);return}Pr(an.promise,yo)})}function Pr(cr,an){try{if(an===cr)throw new TypeError("A promise cannot be resolved with itself.");if(an&&(typeof an=="object"||typeof an=="function")){var pa=an.then;if(an instanceof Jn){cr._state=3,cr._value=an,Ra(cr);return}else if(typeof pa=="function"){Yu(Dn(pa,an),cr);return}}cr._state=1,cr._value=an,Ra(cr)}catch(yo){va(cr,yo)}}function va(cr,an){cr._state=2,cr._value=an,Ra(cr)}function Ra(cr){cr._state===2&&cr._deferreds.length===0&&Jn._immediateFn(function(){cr._handled||Jn._unhandledRejectionFn(cr._value)});for(var an=0,pa=cr._deferreds.length;an<pa;an++)ea(cr,cr._deferreds[an]);cr._deferreds=null}function Ui(cr,an,pa){this.onFulfilled=typeof cr=="function"?cr:null,this.onRejected=typeof an=="function"?an:null,this.promise=pa}function Yu(cr,an){var pa=!1;try{cr(function(yo){pa||(pa=!0,Pr(an,yo))},function(yo){pa||(pa=!0,va(an,yo))})}catch(yo){if(pa)return;pa=!0,va(an,yo)}}Jn.prototype.catch=function(cr){return this.then(null,cr)},Jn.prototype.then=function(cr,an){var pa=new this.constructor(Pt);return ea(this,new Ui(cr,an,pa)),pa},Jn.all=function(cr){var an=Array.prototype.slice.call(cr);return new Jn(function(pa,yo){if(an.length===0)return pa([]);var qo=an.length;function gs(Hs,_a){try{if(_a&&(typeof _a=="object"||typeof _a=="function")){var Iu=_a.then;if(typeof Iu=="function"){Iu.call(_a,function(Vs){gs(Hs,Vs)},yo);return}}an[Hs]=_a,--qo===0&&pa(an)}catch(Vs){yo(Vs)}}for(var hs=0;hs<an.length;hs++)gs(hs,an[hs])})},Jn.resolve=function(cr){return cr&&typeof cr=="object"&&cr.constructor===Jn?cr:new Jn(function(an){an(cr)})},Jn.reject=function(cr){return new Jn(function(an,pa){pa(cr)})},Jn.race=function(cr){return new Jn(function(an,pa){for(var yo=0,qo=cr.length;yo<qo;yo++)cr[yo].then(an,pa)})},Jn._immediateFn=typeof setImmediate=="function"?function(cr){setImmediate(cr)}:function(cr){mt(cr,0)},Jn._unhandledRejectionFn=function(an){},Jn._setImmediateFn=function(an){Jn._immediateFn=an},Jn._setUnhandledRejectionFn=function(an){Jn._unhandledRejectionFn=an},ke.exports?ke.exports=Jn:Le.Promise||(Le.Promise=Jn)})(kn)})($n);var rr=$n.exports,Yr=function(){return typeof window!="undefined"?window:Function("return this;")()}(),U={boltExport:Yr.Promise||rr};return U})})(void 0,_e,Te);var Be=Te.exports.boltExport,gt=function(J,Oe){return Ze(document.createElement("canvas"),J,Oe)},Se=function(J){var Oe=gt(J.width,J.height),tt=je(Oe);return tt.drawImage(J,0,0),Oe},je=function(J){return J.getContext("2d")},Ze=function(J,Oe,tt){return J.width=Oe,J.height=tt,J},it=function(J){return J.naturalWidth||J.width},G=function(J){return J.naturalHeight||J.height},xe=function(J){var Oe=J.src;return Oe.indexOf("data:")===0?er(Oe):Tn(Oe)},ct=function(J){return new Be(function(Oe,tt){var _t=URL.createObjectURL(J),kn=new Image,$n=function(){kn.removeEventListener("load",rr),kn.removeEventListener("error",Yr)},rr=function(){$n(),Oe(kn)},Yr=function(){$n(),tt("Unable to load data of type "+J.type+": "+_t)};kn.addEventListener("load",rr),kn.addEventListener("error",Yr),kn.src=_t,kn.complete&&setTimeout(rr,0)})},Tn=function(J){return new Be(function(Oe,tt){var _t=new XMLHttpRequest;_t.open("GET",J,!0),_t.responseType="blob",_t.onload=function(){this.status===200&&Oe(this.response)},_t.onerror=function(){var kn=this,$n=function(){var Yr=new Error("No access to download image");return Yr.code=18,Yr.name="SecurityError",Yr},rr=function(){return new Error("Error "+kn.status+" downloading image")};tt(this.status===0?$n():rr())},_t.send()})},bt=function(J){var Oe=J.split(","),tt=/data:([^;]+)/.exec(Oe[0]);if(!tt)return L.none();for(var _t=tt[1],kn=Oe[1],$n=1024,rr=atob(kn),Yr=rr.length,U=Math.ceil(Yr/$n),ke=new Array(U),Le=0;Le<U;++Le){for(var mt=Le*$n,Pt=Math.min(mt+$n,Yr),Dn=new Array(Pt-mt),Jn=mt,ea=0;Jn<Pt;++ea,++Jn)Dn[ea]=rr[Jn].charCodeAt(0);ke[Le]=new Uint8Array(Dn)}return L.some(new Blob(ke,{type:_t}))},er=function(J){return new Be(function(Oe,tt){bt(J).fold(function(){tt("uri is not base64: "+J)},Oe)})},Er=function(J,Oe,tt){return Oe=Oe||"image/png",ye(HTMLCanvasElement.prototype.toBlob)?new Be(function(_t,kn){J.toBlob(function($n){$n?_t($n):kn()},Oe,tt)}):er(J.toDataURL(Oe,tt))},A=function(J,Oe,tt){return Oe=Oe||"image/png",J.toDataURL(Oe,tt)},Ht=function(J){return ct(J).then(function(Oe){Rn(Oe);var tt=gt(it(Oe),G(Oe)),_t=je(tt);return _t.drawImage(Oe,0,0),tt})},Kt=function(J){return new Be(function(Oe){var tt=new FileReader;tt.onloadend=function(){Oe(tt.result)},tt.readAsDataURL(J)})},Rn=function(J){URL.revokeObjectURL(J.src)},et=function(J){return ct(J)},nn=function(J){return xe(J)},tn=Array.prototype.indexOf,sn=function(J,Oe){return tn.call(J,Oe)},X=function(J,Oe){return sn(J,Oe)>-1},nr=function(J,Oe){for(var tt=0,_t=J.length;tt<_t;tt++){var kn=J[tt];Oe(kn,tt)}},St=function(J,Oe){for(var tt=[],_t=0,kn=J.length;_t<kn;_t++){var $n=J[_t];Oe($n,_t)&&tt.push($n)}return tt},Ke=function(J,Oe,tt){return nr(J,function(_t,kn){tt=Oe(tt,_t,kn)}),tt},bn=function(J,Oe,tt){for(var _t=0,kn=J.length;_t<kn;_t++){var $n=J[_t];if(Oe($n,_t))return L.some($n);if(tt($n,_t))break}return L.none()},Ue=function(J,Oe){return bn(J,Oe,he)},We=function(J,Oe){for(var tt=0,_t=J.length;tt<_t;++tt){var kn=J[tt];if(Oe(kn,tt)!==!0)return!1}return!0},ft=Object.keys,zt=function(J,Oe){for(var tt=ft(J),_t=0,kn=tt.length;_t<kn;_t++){var $n=tt[_t],rr=J[$n];Oe(rr,$n)}},vt=function(J){if(!z(J))throw new Error("cases must be an array");if(J.length===0)throw new Error("there must be at least one case");var Oe=[],tt={};return nr(J,function(_t,kn){var $n=ft(_t);if($n.length!==1)throw new Error("one and only one name per case");var rr=$n[0],Yr=_t[rr];if(tt[rr]!==void 0)throw new Error("duplicate key detected:"+rr);if(rr==="cata")throw new Error("cannot have a case named cata (sorry)");if(!z(Yr))throw new Error("case arguments must be an array");Oe.push(rr),tt[rr]=function(){for(var U=[],ke=0;ke<arguments.length;ke++)U[ke]=arguments[ke];var Le=U.length;if(Le!==Yr.length)throw new Error("Wrong number of arguments to case "+rr+". Expected "+Yr.length+" ("+Yr+"), got "+Le);var mt=function(Pt){var Dn=ft(Pt);if(Oe.length!==Dn.length)throw new Error("Wrong number of arguments to match. Expected: "+Oe.join(",")+`
Actual: `+Dn.join(","));var Jn=We(Oe,function(ea){return X(Dn,ea)});if(!Jn)throw new Error("Not all branches were specified when using match. Specified: "+Dn.join(", ")+`
Required: `+Oe.join(", "));return Pt[rr].apply(null,U)};return{fold:function(){for(var Pt=[],Dn=0;Dn<arguments.length;Dn++)Pt[Dn]=arguments[Dn];if(Pt.length!==J.length)throw new Error("Wrong number of arguments to fold. Expected "+J.length+", got "+Pt.length);var Jn=Pt[kn];return Jn.apply(null,U)},match:mt,log:function(Pt){}}}}),tt},kt={generate:vt};kt.generate([{bothErrors:["error1","error2"]},{firstError:["error1","value2"]},{secondError:["value1","error2"]},{bothValues:["value1","value2"]}]);var jn=function(J,Oe,tt){var _t=Oe.type,kn=W(_t),$n=function(){return Be.resolve(Oe)},rr=W(tt),Yr=function(){return tt.split(",")[1]},U=function(Pt,Dn){return J.then(function(Jn){return Er(Jn,Pt,Dn)})},ke=function(Pt,Dn){return J.then(function(Jn){return A(Jn,Pt,Dn)})},Le=function(Pt,Dn){return ke(Pt,Dn).then(function(Jn){return Jn.split(",")[1]})},mt=function(){return J.then(Se)};return{getType:kn,toBlob:$n,toDataURL:rr,toBase64:Yr,toAdjustedBlob:U,toAdjustedDataURL:ke,toAdjustedBase64:Le,toCanvas:mt}},Ce=function(J){return Kt(J).then(function(Oe){return jn(Ht(J),J,Oe)})},pt=function(J,Oe){return Er(J,Oe).then(function(tt){return jn(Be.resolve(J),tt,J.toDataURL())})},pn=function(J,Oe){Oe===void 0&&(Oe=2);var tt=Math.pow(10,Oe),_t=Math.round(J*tt);return Math.ceil(_t/tt)},Nn=function(J,Oe){return J.toCanvas().then(function(tt){return Hn(tt,J.getType(),Oe)})},Hn=function(J,Oe,tt){var _t=tt<0?360+tt:tt,kn=_t*Math.PI/180,$n=J.width,rr=J.height,Yr=Math.sin(kn),U=Math.cos(kn),ke=pn(Math.abs($n*U)+Math.abs(rr*Yr)),Le=pn(Math.abs($n*Yr)+Math.abs(rr*U)),mt=gt(ke,Le),Pt=je(mt);return Pt.translate(ke/2,Le/2),Pt.rotate(kn),Pt.drawImage(J,-$n/2,-rr/2),pt(mt,Oe)},tr=function(J,Oe){return J.toCanvas().then(function(tt){return Fr(tt,J.getType(),Oe)})},Fr=function(J,Oe,tt){var _t=gt(J.width,J.height),kn=je(_t);return tt==="v"?(kn.scale(1,-1),kn.drawImage(J,0,-_t.height)):(kn.scale(-1,1),kn.drawImage(J,-_t.width,0)),pt(_t,Oe)},Xr=function(J,Oe){return tr(J,Oe)},oa=function(J,Oe){return Nn(J,Oe)},Vt=function(J,Oe,tt){return tt===void 0&&(tt=!1),new Be(function(_t){var kn=new XMLHttpRequest;kn.onreadystatechange=function(){kn.readyState===4&&_t({status:kn.status,blob:kn.response})},kn.open("GET",J,!0),kn.withCredentials=tt,zt(Oe,function($n,rr){kn.setRequestHeader(rr,$n)}),kn.responseType="blob",kn.send()})},Ut=function(J){return new Be(function(Oe,tt){var _t=new FileReader;_t.onload=function(){Oe(_t.result)},_t.onerror=function(kn){tt(kn)},_t.readAsText(J)})},Bt=function(J){try{return L.some(JSON.parse(J))}catch(Oe){return L.none()}},Xe=[{code:404,message:"Could not find Image Proxy"},{code:403,message:"Rejected request"},{code:0,message:"Incorrect Image Proxy URL"}],ot=[{type:"not_found",message:"Failed to load image."},{type:"key_missing",message:"The request did not include an api key."},{type:"key_not_found",message:"The provided api key could not be found."},{type:"domain_not_trusted",message:"The api key is not valid for the request origins."}],Xt=function(J,Oe){var tt=Ke(Oe,function(_t,kn){return Y(_t)?_t[kn]:void 0},J);return L.from(tt)},yn=function(J,Oe){return(Oe==null?void 0:Oe.type)==="application/json"&&(J===400||J===403||J===404||J===500)},Jt=function(J){var Oe=Ue(Xe,function(tt){return J===tt.code}).fold(W("Unknown ImageProxy error"),function(tt){return tt.message});return"ImageProxy HTTP error: "+Oe},ze=function(J){var Oe=Jt(J);return Be.reject(Oe)},$t=function(J){return Ue(ot,function(Oe){return Oe.type===J}).fold(W("Unknown service error"),function(Oe){return Oe.message})},fn=function(J){var Oe=Bt(J),tt=Oe.bind(function(_t){return Xt(_t,["error","type"]).map($t)}).getOr("Invalid JSON in service error message");return"ImageProxy Service error: "+tt},vn=function(J){return Ut(J).then(function(Oe){var tt=fn(Oe);return Be.reject(tt)})},Ln=function(J,Oe){return yn(J,Oe)?vn(Oe):ze(J)},Ee=function(J,Oe){var tt=J.indexOf("?")===-1?"?":"&";return/[?&]apiKey=/.test(J)?J:J+tt+"apiKey="+encodeURIComponent(Oe)},Ct=function(J){return J<200||J>=300},dt=function(J,Oe){var tt={"Content-Type":"application/json;charset=UTF-8","tiny-api-key":Oe};return Vt(Ee(J,Oe),tt).then(function(_t){return Ct(_t.status)?Ln(_t.status,_t.blob):Be.resolve(_t.blob)})},Wt=function(J,Oe){return Vt(J,{},Oe).then(function(tt){return Ct(tt.status)?ze(tt.status):Be.resolve(tt.blob)})},Bn=function(J,Oe,tt){return tt===void 0&&(tt=!1),Oe?dt(J,Oe):Wt(J,tt)},pr=function(J){return Ce(J)},xa=1,Ar=function(J,Oe){var tt=Oe||document,_t=tt.createElement("div");if(_t.innerHTML=J,!_t.hasChildNodes()||_t.childNodes.length>1)throw new Error("HTML must have a single root node");return Ja(_t.childNodes[0])},xr=function(J,Oe){var tt=Oe||document,_t=tt.createElement(J);return Ja(_t)},ha=function(J,Oe){var tt=Oe||document,_t=tt.createTextNode(J);return Ja(_t)},Ja=function(J){if(J==null)throw new Error("Node cannot be null or undefined");return{dom:J}},Va=function(J,Oe,tt){return L.from(J.dom.elementFromPoint(Oe,tt)).map(Ja)},Ta={fromHtml:Ar,fromTag:xr,fromText:ha,fromDom:Ja,fromPoint:Va},Ga=function(J,Oe){var tt=J.dom;if(tt.nodeType!==xa)return!1;var _t=tt;if(_t.matches!==void 0)return _t.matches(Oe);if(_t.msMatchesSelector!==void 0)return _t.msMatchesSelector(Oe);if(_t.webkitMatchesSelector!==void 0)return _t.webkitMatchesSelector(Oe);if(_t.mozMatchesSelector!==void 0)return _t.mozMatchesSelector(Oe);throw new Error("Browser lacks native selectors")};typeof window!="undefined"||Function("return this;")();var xo=function(J,Oe){var tt=function(kn){return Oe(Ta.fromDom(kn))},_t=Ue(J.dom.childNodes,tt);return _t.map(Ta.fromDom)},Qa=function(J,Oe){return xo(J,function(tt){return Ga(tt,Oe)})},Pa=tinymce.util.Tools.resolve("tinymce.util.Delay"),po=tinymce.util.Tools.resolve("tinymce.util.Promise"),zr=tinymce.util.Tools.resolve("tinymce.util.URI"),bo=function(J){return J.getParam("imagetools_toolbar","rotateleft rotateright flipv fliph editimage imageoptions")},Gn=function(J){return J.getParam("imagetools_proxy")},vi=function(J){return J.getParam("imagetools_cors_hosts",[],"string[]")},fo=function(J){return J.getParam("imagetools_credentials_hosts",[],"string[]")},So=function(J){return L.from(J.getParam("imagetools_fetch_image",null,"function"))},oo=function(J){return J.getParam("api_key",J.getParam("imagetools_api_key","","string"),"string")},No=function(J){return J.getParam("images_upload_timeout",3e4,"number")},di=function(J){return J.getParam("images_reuse_filename",!1,"boolean")},_o=function(J){var Oe,tt,_t=function(kn){return/^[0-9\.]+px$/.test(kn)};return Oe=J.style.width,tt=J.style.height,Oe||tt?_t(Oe)&&_t(tt)?{w:parseInt(Oe,10),h:parseInt(tt,10)}:null:(Oe=J.width,tt=J.height,Oe&&tt?{w:parseInt(Oe,10),h:parseInt(tt,10)}:null)},Ei=function(J,Oe){var tt,_t;Oe&&(tt=J.style.width,_t=J.style.height,(tt||_t)&&(J.style.width=Oe.w+"px",J.style.height=Oe.h+"px",J.removeAttribute("data-mce-style")),tt=J.width,_t=J.height,(tt||_t)&&(J.setAttribute("width",String(Oe.w)),J.setAttribute("height",String(Oe.h))))},se=function(J){return{w:J.naturalWidth,h:J.naturalHeight}},Re=0,ce=function(J){return Qa(Ta.fromDom(J),"img")},at=function(J,Oe){return J.dom.is(Oe,"figure")},dn=function(J,Oe){return J.dom.is(Oe,"img:not([data-mce-object],[data-mce-placeholder])")},Mn=function(J,Oe){var tt=function(_t){return dn(J,_t)&&(R(J,_t)||Z(J,_t)||Y(Gn(J)))};return at(J,Oe)?ce(Oe).bind(function(_t){return tt(_t.dom)?L.some(_t.dom):L.none()}):tt(Oe)?L.some(Oe):L.none()},oe=function(J,Oe){J.notificationManager.open({text:Oe,type:"error"})},pe=function(J){var Oe=J.selection.getNode(),tt=J.dom.getParent(Oe,"figure.image");return tt!==null&&at(J,tt)?ce(tt):dn(J,Oe)?L.some(Ta.fromDom(Oe)):L.none()},ut=function(J,Oe,tt){var _t=Oe.match(/(?:\/|^)(([^\/\?]+)\.(?:[a-z0-9.]+))(?:\?|$)/i);return Y(_t)?J.dom.encode(_t[tt]):null},At=function(){return"imagetools"+Re++},R=function(J,Oe){var tt=Oe.src;return tt.indexOf("data:")===0||tt.indexOf("blob:")===0||new zr(tt).host===J.documentBaseURI.host},Z=function(J,Oe){return C.inArray(vi(J),new zr(Oe.src).host)!==-1},me=function(J,Oe){return C.inArray(fo(J),new zr(Oe.src).host)!==-1},Me=function(J,Oe){if(Z(J,Oe))return Bn(Oe.src,null,me(J,Oe));if(!R(J,Oe)){var tt=Gn(J),_t=tt+(tt.indexOf("?")===-1?"?":"&")+"url="+encodeURIComponent(Oe.src),kn=oo(J);return Bn(_t,kn,!1)}return nn(Oe)},Qe=function(J,Oe){return So(J).fold(function(){return Me(J,Oe)},function(tt){return tt(Oe)})},rt=function(J,Oe){var tt=J.editorUpload.blobCache.getByUri(Oe.src);return tt?po.resolve(tt.blob()):Qe(J,Oe)},ln=function(J,Oe){var tt=Pa.setEditorTimeout(J,function(){J.editorUpload.uploadImagesAuto()},No(J));Oe.set(tt)},On=function(J){Pa.clearTimeout(J.get())},ir=function(J,Oe,tt,_t,kn,$n,rr){return tt.toBlob().then(function(Yr){var U,ke,Le,mt,Pt=J.editorUpload.blobCache;U=$n.src;var Dn=Oe.type===Yr.type;return di(J)&&(mt=Pt.getByUri(U),Y(mt)?(U=mt.uri(),ke=mt.name(),Le=mt.filename()):(ke=ut(J,U,2),Le=ut(J,U,1))),mt=Pt.create({id:At(),blob:Yr,base64:tt.toBase64(),uri:U,name:ke,filename:Dn?Le:void 0}),Pt.add(mt),J.undoManager.transact(function(){var Jn=function(){J.$($n).off("load",Jn),J.nodeChanged(),_t?J.editorUpload.uploadImagesAuto():(On(kn),ln(J,kn))};J.$($n).on("load",Jn),rr&&J.$($n).attr({width:rr.w,height:rr.h}),J.$($n).attr({src:mt.blobUri()}).removeAttr("data-mce-src")}),mt})},fr=function(J,Oe,tt,_t){return function(){var kn=pe(J);return kn.fold(function(){oe(J,"Could not find selected image")},function($n){return J._scanForImages().then(function(){return rt(J,$n.dom)}).then(function(rr){return pr(rr).then(tt).then(function(Yr){return ir(J,rr,Yr,!1,Oe,$n.dom,_t)})}).catch(function(rr){oe(J,rr)})})}},mr=function(J,Oe,tt){return function(){var _t=pe(J),kn=_t.map(function($n){var rr=_o($n.dom);return rr?{w:rr.h,h:rr.w}:null}).getOrNull();return fr(J,Oe,function($n){return oa($n,tt)},kn)()}},Tr=function(J,Oe,tt){return function(){return fr(J,Oe,function(_t){return Xr(_t,tt)})()}},ia=function(J,Oe,tt,_t,kn){return et(kn).then(function($n){var rr=se($n);return(_t.w!==rr.w||_t.h!==rr.h)&&_o(tt)&&Ei(tt,rr),URL.revokeObjectURL($n.src),kn}).then(pr).then(function($n){return ir(J,kn,$n,!0,Oe,tt)})},eo="save-state",ko="disable",Ri="enable",Ti=function(J){return{blob:J,url:URL.createObjectURL(J)}},to=function(J,Oe){return function(){var tt=function($n){return{title:"Edit Image",size:"large",body:{type:"panel",items:[{type:"imagetools",name:"imagetools",label:"Edit Image",currentState:$n}]},buttons:[{type:"cancel",name:"cancel",text:"Cancel"},{type:"submit",name:"save",text:"Save",primary:!0,disabled:!0}],onSubmit:function(rr){var Yr=rr.getData().imagetools.blob;_t.each(function(U){kn.each(function(ke){ia(J,Oe,U.dom,ke,Yr)})}),rr.close()},onCancel:Q,onAction:function(rr,Yr){switch(Yr.name){case eo:Yr.value?rr.enable("save"):rr.disable("save");break;case ko:rr.disable("save"),rr.disable("cancel");break;case Ri:rr.enable("cancel");break}}}},_t=pe(J),kn=_t.map(function($n){return se($n.dom)});_t.each(function($n){Mn(J,$n.dom).each(function(rr){rt(J,$n.dom).then(function(Yr){var U=Ti(Yr);J.windowManager.open(tt(U))})})})}},hu=function(J,Oe){C.each({mceImageRotateLeft:mr(J,Oe,-90),mceImageRotateRight:mr(J,Oe,90),mceImageFlipVertical:Tr(J,Oe,"v"),mceImageFlipHorizontal:Tr(J,Oe,"h"),mceEditImage:to(J,Oe)},function(tt,_t){J.addCommand(_t,tt)})},iu=function(J,Oe,tt){J.on("NodeChange",function(_t){var kn=tt.get(),$n=Mn(J,_t.element);kn&&!$n.exists(function(rr){return kn.src===rr.src})&&(On(Oe),J.editorUpload.uploadImagesAuto(),tt.set(null)),$n.each(tt.set)})},Qo=function(J){var Oe=[],tt=function($n){return function(){return J.execCommand($n)}},_t=function(){return pe(J).exists(function($n){return Mn(J,$n.dom).isSome()})},kn=function($n){var rr=function(Yr){return $n.setDisabled(!Yr)};return rr(_t()),Oe=Oe.concat([rr]),function(){Oe=St(Oe,function(Yr){return Yr!==rr})}};J.on("NodeChange",function(){var $n=_t();nr(Oe,function(rr){return rr($n)})}),J.ui.registry.addButton("rotateleft",{tooltip:"Rotate counterclockwise",icon:"rotate-left",onAction:tt("mceImageRotateLeft"),onSetup:kn}),J.ui.registry.addButton("rotateright",{tooltip:"Rotate clockwise",icon:"rotate-right",onAction:tt("mceImageRotateRight"),onSetup:kn}),J.ui.registry.addButton("flipv",{tooltip:"Flip vertically",icon:"flip-vertically",onAction:tt("mceImageFlipVertical"),onSetup:kn}),J.ui.registry.addButton("fliph",{tooltip:"Flip horizontally",icon:"flip-horizontally",onAction:tt("mceImageFlipHorizontal"),onSetup:kn}),J.ui.registry.addButton("editimage",{tooltip:"Edit image",icon:"edit-image",onAction:tt("mceEditImage"),onSetup:kn}),J.ui.registry.addButton("imageoptions",{tooltip:"Image options",icon:"image",onAction:tt("mceImage")}),J.ui.registry.addContextMenu("imagetools",{update:function($n){return Mn(J,$n).map(function(rr){return{text:"Edit image",icon:"edit-image",onAction:tt("mceEditImage")}}).toArray()}})},Eo=function(J){J.ui.registry.addContextToolbar("imagetools",{items:bo(J),predicate:function(Oe){return Mn(J,Oe).isSome()},position:"node",scope:"node"})};function Fu(){y.add("imagetools",function(J){var Oe=D(0),tt=D(null);hu(J,Oe),Qo(J),Eo(J),iu(J,Oe,tt)})}Fu()})();const ZZ=Ls({name:"TinymceImageUpload",__name:"ImgUpload",props:{fullscreen:{type:Boolean},disabled:{type:Boolean,default:!1}},emits:["uploading","done","error"],setup(D,{emit:y}){const C=D,S=y;let _=!1;const{apiUrl:M,clientId:z}=IK(),K=`${M}/resource/oss/upload`,Y={Authorization:"Bearer "+zK(),clientId:z},{t:ye}=Rp(),{prefixCls:Q}=Fg("tinymce-img-upload"),W=ki(()=>{const{disabled:be}=C;return{disabled:be}}),{createMessage:ve}=i9();function he(be){const ae=be.file,Ae=ae==null?void 0:ae.status,Ye=ae==null?void 0:ae.name;if(Ae==="uploading")_||(S("uploading",Ye),_=!0);else if(Ae==="done"){const{response:Ve}=ae,{code:L,msg:_e="服务器错误",data:Te}=Ve;if(L===200){const{url:Be}=Te;S("done",Ye,Be)}else ve.error(_e);_=!1}else Ae==="error"&&(S("error"),_=!1)}return(be,ae)=>{const Ae=Mp("a-button");return Ha(),ms("div",{class:Xu([mn(Q),{fullscreen:D.fullscreen}])},[Fa(mn(v9),{name:"file",multiple:"",onChange:he,action:K,headers:Y,showUploadList:!1,accept:".jpg,.jpeg,.gif,.png,.webp"},{default:qa(()=>[Fa(Ae,pf({type:"primary"},Ci({},W.value)),{default:qa(()=>[Ng(Bp(mn(ye)("component.upload.imgUpload")),1)]),_:1},16)]),_:1})],2)}}}),JZ=sM(ZZ,[["__scopeId","data-v-b57afb1d"]]),QZ=["advlist anchor autolink autosave code codesample  directionality  fullscreen hr insertdatetime link lists media nonbreaking noneditable pagebreak paste preview print save searchreplace spellchecker tabfocus  template  textpattern visualblocks visualchars wordcount image imagetools"],eJ=["fontsizeselect lineheight searchreplace bold italic underline strikethrough alignleft aligncenter alignright outdent indent  blockquote undo redo removeformat subscript superscript code codesample image imagetools","hr bullist numlist link  preview anchor pagebreak insertdatetime media  forecolor backcolor fullscreen"],tJ=["onActivate","onAddUndo","onBeforeAddUndo","onBeforeExecCommand","onBeforeGetContent","onBeforeRenderUI","onBeforeSetContent","onBeforePaste","onBlur","onChange","onClearUndos","onClick","onContextMenu","onCopy","onCut","onDblclick","onDeactivate","onDirty","onDrag","onDragDrop","onDragEnd","onDragGesture","onDragOver","onDrop","onExecCommand","onFocus","onFocusIn","onFocusOut","onGetContent","onHide","onInit","onKeyDown","onKeyPress","onKeyUp","onLoadContent","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp","onNodeChange","onObjectResizeStart","onObjectResized","onObjectSelected","onPaste","onPostProcess","onPostRender","onPreProcess","onProgressState","onRedo","onRemove","onReset","onSaveContent","onSelectionChange","onSetAttrib","onSetContent","onShow","onSubmit","onUndo","onVisualAid"],nJ=D=>tJ.indexOf(D)!==-1,rJ=(D,y,C)=>{Object.keys(y).filter(nJ).forEach(S=>{const _=y[S];typeof _=="function"&&(S==="onInit"?_(D,C):C.on(S.substring(2),M=>_(M,C)))})},aJ=["id"],oJ=Ls({name:"Tinymce",inheritAttrs:!1,__name:"Editor",props:{options:{type:Object,default:()=>({})},value:{type:String},toolbar:{type:Array,default:eJ},plugins:{type:Array,default:QZ},modelValue:{type:String},height:{type:[Number,String],required:!1,default:400},width:{type:[Number,String],required:!1,default:"auto"},showImageUpload:{type:Boolean,default:!0}},emits:["change","update:modelValue","inited","init-error"],setup(D,{emit:y}){const C=D,S=y,_=cL(),M=Ea(null),z=Ea(!1),K=Ea(BH("tiny-vue")),Y=Ea(null),{prefixCls:ye}=Fg("tinymce-container"),Q=$K(),W=ki(()=>{const Se=C.width;return XK(Se)?`${Se}px`:Se}),ve=ki(()=>Q.getDarkMode==="light"?"oxide":"oxide-dark"),he=ki(()=>{const Se=LK().getLocale.value;return["zh_CN","en"].includes(Se)?Se:"zh_CN"}),be=ki(()=>{const{height:Se,options:je,toolbar:Ze,plugins:it}=C,G="/admin/";return Ic(Ci({selector:`#${mn(K)}`,height:Se,toolbar:Ze,menubar:"file edit insert view format table",plugins:it,paste_data_images:!0,language_url:G+"resource/tinymce/langs/"+he.value+".js",language:he.value,branding:!1,default_link_target:"_blank",link_title:!1,object_resizing:!1,auto_focus:!0,skin:ve.value,skin_url:G+"resource/tinymce/skins/ui/"+ve.value,content_css:G+"resource/tinymce/skins/ui/"+ve.value+"/content.min.css"},je),{setup:xe=>{M.value=xe,xe.on("init",ct=>Ve(ct))}})}),ae=ki(()=>{const{options:Se}=C,je=Se&&Reflect.get(Se,"readonly"),Ze=mn(M);return Ze&&Ze.setMode(je?"readonly":"design"),je!=null?je:!1});Nu(()=>_.disabled,()=>{const Se=mn(M);Se&&Se.setMode(_.disabled?"readonly":"design")}),dX(()=>{be.value.inline||(K.value=BH("tiny-vue")),iX(()=>{setTimeout(()=>{Ye()},30)})}),aX(()=>{Ae()}),oX(()=>{Ae()});function Ae(){var Se;_p!==null&&((Se=_p==null?void 0:_p.remove)==null||Se.call(_p,mn(be).selector))}function Ye(){const Se=mn(Y);Se&&(Se.style.visibility=""),_p.init(mn(be)).then(je=>{S("inited",je)}).catch(je=>{S("init-error",je)})}function Ve(Se){const je=mn(M);if(!je)return;const Ze=C.modelValue||"";je.setContent(Ze),_e(je),rJ(Se,_,mn(M))}function L(Se,je,Ze){Se&&typeof je=="string"&&je!==Ze&&je!==Se.getContent({format:_.outputFormat})&&Se.setContent(je)}function _e(Se){const je=_.modelEvents?_.modelEvents:null,Ze=Array.isArray(je)?je.join(" "):je;Nu(()=>C.modelValue,(it,G)=>{L(Se,it,G)}),Nu(()=>C.value,(it,G)=>{L(Se,it,G)},{immediate:!0}),Se.on(Ze||"change keyup undo redo",()=>{const it=Se.getContent({format:_.outputFormat});S("update:modelValue",it),S("change",it)}),Se.on("FullscreenStateChanged",it=>{z.value=it.state})}function Te(Se){var it;const je=mn(M);if(!je)return;je.execCommand("mceInsertContent",!1,gt(Se));const Ze=(it=je==null?void 0:je.getContent())!=null?it:"";L(je,Ze)}function Be(Se,je){var xe,ct;const Ze=mn(M);if(!Ze)return;const it=(xe=Ze==null?void 0:Ze.getContent())!=null?xe:"",G=(ct=it==null?void 0:it.replace(gt(Se),`<img src="${je}"/>`))!=null?ct:"";L(Ze,G)}function gt(Se){return`[uploading:${Se}]`}return(Se,je)=>(Ha(),ms("div",{class:Xu(mn(ye)),style:Bg({width:W.value})},[D.showImageUpload?g9((Ha(),ou(JZ,{key:0,fullscreen:z.value,onUploading:Te,onDone:Be,disabled:ae.value},null,8,["fullscreen","disabled"])),[[h9,M.value]]):Md("",!0),be.value.inline?Ty(Se.$slots,"default",{key:2}):(Ha(),ms("textarea",{key:1,id:K.value,ref_key:"elRef",ref:Y,style:{visibility:"hidden"}},null,8,aJ))],6))}}),iJ=Np(oJ),uJ=Ls({components:{ColorPicker:mX,Input:Bd,Tag:YK},props:{value:{type:String,default:""},showTag:{type:Boolean,default:!0}},emits:["update:value","change"],setup(D,{emit:y}){const C=Ea("linear-gradient(0deg, rgba(0, 0, 0, 1) 0%, rgba(0, 0, 0, 1) 100%)");function S(K){y("update:value",K),y("change",K)}function _(K){const Y=K.target.value;y("update:value",Y),y("change",Y)}const M=Ea([]),[z]=ky(D,"value","change",M);return Nu(()=>z.value,K=>{y("update:value",K)}),{state:z,gradientColor:C,handleColorChange:S,handleValueChange:_}}});function sJ(D,y,C,S,_,M){const z=Mp("Tag"),K=Mp("ColorPicker"),Y=Mp("Input");return Ha(),ou(Y,pf(D.$attrs,{value:D.state,maxlength:7,onChange:D.handleValueChange}),{addonBefore:qa(()=>[D.showTag?(Ha(),ou(z,{key:0,color:D.state},{default:qa(()=>[Ng("标签")]),_:1},8,["color"])):Md("",!0)]),addonAfter:qa(()=>[Fa(K,{pureColor:D.state,gradientColor:D.gradientColor,"onUpdate:gradientColor":y[0]||(y[0]=ye=>D.gradientColor=ye),format:"hex",onPureColorChange:D.handleColorChange},null,8,["pureColor","gradientColor","onPureColorChange"])]),_:1},16,["value","onChange"])}const lJ=sM(uJ,[["render",sJ]]),cJ=Np(lJ),Ma=new Map;Ma.set("Input",Bd);Ma.set("InputGroup",Bd.Group);Ma.set("InputPassword",Bd.Password);Ma.set("InputSearch",Bd.Search);Ma.set("InputTextArea",Bd.TextArea);Ma.set("InputNumber",ZK);Ma.set("AutoComplete",JK);Ma.set("ImageUpload",uX);Ma.set("Select",s9);Ma.set("ApiSelect",AX);Ma.set("ApiTree",OX);Ma.set("TreeSelect",l9);Ma.set("ApiTreeSelect",DX);Ma.set("ApiRadioGroup",TX);Ma.set("Switch",QK);Ma.set("RadioButtonGroup",PK);Ma.set("RadioGroup",oM.Group);Ma.set("Checkbox",d9);Ma.set("CheckboxGroup",d9.Group);Ma.set("ApiCascader",_X);Ma.set("Cascader",c9);Ma.set("Slider",eX);Ma.set("Rate",tX);Ma.set("Transfer",f9);Ma.set("ApiTransfer",MX);Ma.set("DatePicker",cM);Ma.set("MonthPicker",cM.MonthPicker);Ma.set("RangePicker",cM.RangePicker);Ma.set("WeekPicker",cM.WeekPicker);Ma.set("TimePicker",m9);Ma.set("TimeRangePicker",m9.TimeRangePicker);Ma.set("StrengthMeter",YY);Ma.set("IconPicker",EX);Ma.set("InputCountDown",QY);Ma.set("Upload",sX);Ma.set("Divider",nX);Ma.set("CropperAvatar",XZ);Ma.set("BasicTitle",HK);Ma.set("RichTextarea",iJ);Ma.set("ColorPicker",cJ);function xJ(D,y){Ma.set(D,y)}export{XZ as C,YY as S,AX as _,QY as a,DX as b,TX as c,Ma as d,cJ as e,EX as f,xJ as g};
