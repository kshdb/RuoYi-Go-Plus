var Y=Object.defineProperty,ee=Object.defineProperties;var te=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var oe=Object.prototype.hasOwnProperty,ne=Object.prototype.propertyIsEnumerable;var K=(s,t,a)=>t in s?Y(s,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):s[t]=a,B=(s,t)=>{for(var a in t||(t={}))oe.call(t,a)&&K(s,a,t[a]);if(M)for(var a of M(t))ne.call(t,a)&&K(s,a,t[a]);return s},Q=(s,t)=>ee(s,te(t));var Z=(s,t,a)=>new Promise((r,g)=>{var w=u=>{try{h(a.next(u))}catch(m){g(m)}},k=u=>{try{h(a.throw(u))}catch(m){g(m)}},h=u=>u.done?r(u.value):Promise.resolve(u.value).then(w,k);h((a=a.apply(s,t)).next())});import{q as O,t as ae,l as se,a$ as re,x as f,b0 as ie,b1 as ce,w as U}from"./entry/index-BbJQUQ84-1718268303552.js";import{d as X,Z as T,_ as A,$ as V,ae as S,a1 as z,u as c,ag as j,f as E,y as N,w as D,H as le,K as ue,ah as fe,p as ge,c as p,a8 as q,ad as he,aa as de,a9 as W,ak as pe,al as me,F as He,G as ye,a0 as be,ac as Fe,ab as G}from"./vue-Cw15aJ-2.js";import{a as ve}from"./useContentViewHeight-BDi3O9lC.js";import{l as Se,Q as ke,aP as $e,o as L,aQ as Ce}from"./antd-DMGzOvrA.js";import{o as Pe}from"./onMountedOrActivated-CSHfHTyc.js";import{u as Re}from"./useWindowSizeFn-BKs0NEK5.js";const we=X({name:"PageFooter",inheritAttrs:!1,__name:"PageFooter",setup(s){const{prefixCls:t}=O("page-footer"),{getCalcContentWidth:a}=ae();return(r,g)=>(T(),A("div",{class:z(c(t)),style:j({width:c(a)})},[V("div",{class:z(`${c(t)}__left`)},[S(r.$slots,"left",{},void 0,!0)],2),S(r.$slots,"default",{},void 0,!0),V("div",{class:z(`${c(t)}__right`)},[S(r.$slots,"right",{},void 0,!0)],2)],6))}}),J=se(we,[["__scopeId","data-v-dafa78ce"]]);function _e(s,t,a,r,g=0,w=E(0)){const k=E(null),{footerHeightRef:h}=ve();let u={useLayoutFooter:!0};const m=i=>{u=i};function I(){N(()=>{_()})}function $(i,x="all"){var b,F,v,P;function y(o){return Number(o.replace(/[^\d]/g,""))}let l=0;const d="0px";if(i){const o=getComputedStyle(i),e=y((b=o==null?void 0:o.marginTop)!=null?b:d),n=y((F=o==null?void 0:o.marginBottom)!=null?F:d),H=y((v=o==null?void 0:o.paddingTop)!=null?v:d),R=y((P=o==null?void 0:o.paddingBottom)!=null?P:d);x==="all"?(l+=e,l+=n,l+=H,l+=R):x==="top"?(l+=e,l+=H):(l+=n,l+=R)}return l}function C(i){return i==null?null:i instanceof HTMLDivElement?i:i.$el}function _(){return Z(this,null,function*(){var P;if(!s.value)return;yield N();const i=C(c(t));if(!i)return;const{bottomIncludeBody:x}=re(i);let y=0;a.forEach(o=>{var e,n;y+=(n=(e=C(c(o)))==null?void 0:e.offsetHeight)!=null?n:0});let l=(P=$(i))!=null?P:0;r.forEach(o=>{l+=$(C(c(o)))});let d=0;function b(o,e){if(o&&e){const n=o.parentElement;n&&(Se(e)?n.classList.contains(e)?d+=$(n,"bottom"):(d+=$(n,"bottom"),b(n,e)):ke(e)&&e>0&&(d+=$(n,"bottom"),b(n,--e)))}}le(g)?b(i,c(g)):b(i,g);let F=x-c(h)-c(w)-y-l-d;const v=()=>{var o;(o=u.elements)==null||o.forEach(e=>{var n,H;F+=(H=(n=C(c(e)))==null?void 0:n.offsetHeight)!=null?H:0})};u.useLayoutFooter&&c(h)>0,v(),k.value=F})}return Pe(()=>{N(()=>{_()})}),Re(()=>{_()},{wait:50,immediate:!0}),D(()=>[h.value],()=>{_()},{flush:"post",immediate:!0}),{redoHeight:I,setCompensation:m,contentHeight:k}}const xe=X({name:"PageWrapper",inheritAttrs:!1,__name:"PageWrapper",props:{title:f.string,dense:f.bool,ghost:f.bool,headerSticky:f.bool,headerStyle:Object,content:f.string,contentStyle:{type:Object},contentBackground:f.bool,contentFullHeight:f.bool.def(!1),contentClass:f.string,fixedHeight:f.bool,upwardSpace:f.oneOfType([f.number,f.string]).def(0)},setup(s){const t=s,a=ue(),r=fe(),g=E(null),w=E(null),k=E(null),h=E(null),{height:u}=ie(g),{prefixCls:m}=O("page-wrapper");ge(ce,p(()=>t.fixedHeight));const I=p(()=>t.contentFullHeight),$=p(()=>t.upwardSpace),{redoHeight:C,setCompensation:_,contentHeight:i}=_e(I,g,[w,h],[k],$),x=$e(C,50);_({useLayoutFooter:!0,elements:[h]});const y=p(()=>{var e;return[m,{[`${m}--dense`]:t.dense},(e=a.class)!=null?e:{}]}),l=p(()=>{const{contentFullHeight:e,fixedHeight:n}=t;return B({},e&&n?{height:"100%"}:{})}),d=p(()=>{const{headerSticky:e}=t;return e?B({position:"sticky",top:0,zIndex:99},t.headerStyle):{}}),b=p(()=>t.content||(r==null?void 0:r.headerContent)||t.title||v.value.length),F=p(()=>(r==null?void 0:r.leftFooter)||(r==null?void 0:r.rightFooter)),v=p(()=>Object.keys(L(r,"default","leftFooter","rightFooter","headerContent"))),P=p(()=>{const{contentFullHeight:e,contentStyle:n,fixedHeight:H}=t;if(!e)return B({},n);const R=`${c(i)}px`;return B(Q(B({},n),{minHeight:R}),H?{height:R}:{})}),o=p(()=>{const{contentBackground:e,contentClass:n}=t;return[`${m}-content`,n,{[`${m}-content-bg`]:e}]});return D(()=>[F.value],()=>{C()},{flush:"post",immediate:!0}),D(u,()=>{const{contentFullHeight:e,fixedHeight:n}=t;e&&n&&x()}),(e,n)=>(T(),A("div",{class:z(y.value),style:j(l.value),ref_key:"wrapperRef",ref:g},[b.value?(T(),q(c(Ce),Fe({key:0,ghost:s.ghost,title:s.title},c(L)(e.$attrs,"class"),{style:d.value,ref_key:"headerRef",ref:w}),he({default:W(()=>[s.content?(T(),A(He,{key:0},[ye(be(s.content),1)],64)):S(e.$slots,"headerContent",{key:1})]),_:2},[de(v.value,H=>({name:H,fn:W(R=>[S(e.$slots,H,pe(me(R||{})))])}))]),1040,["ghost","title","style"])):G("",!0),V("div",{class:z(["overflow-hidden",o.value]),style:j(P.value),ref_key:"contentRef",ref:k},[S(e.$slots,"default")],6),F.value?(T(),q(J,{key:1,ref_key:"footerRef",ref:h},{left:W(()=>[S(e.$slots,"leftFooter")]),right:W(()=>[S(e.$slots,"rightFooter")]),_:3},512)):G("",!0)],6))}});U(J);const Ae=U(xe);export{Ae as P};
