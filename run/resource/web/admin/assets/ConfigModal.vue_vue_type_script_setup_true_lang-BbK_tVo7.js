var p=(s,d,o)=>new Promise((i,c)=>{var m=e=>{try{l(o.next(e))}catch(r){c(r)}},a=e=>{try{l(o.throw(e))}catch(r){c(r)}},l=e=>e.done?i(e.value):Promise.resolve(e.value).then(m,a);l((o=o.apply(s,d)).next())});import{a as y,B as x}from"./index-CMSTH4sS.js";import{u as R,_ as k}from"./useForm-uR1ZVBCA.js";import"./BasicForm.vue_vue_type_style_index_0_lang-BxZ9HtKh.js";import"./componentMap-DPcekmXH.js";import{c as C,a as N,b as S}from"./index-fDNDlwjn.js";import{u as B}from"./useRender-C6p2srTi.js";import{g as _}from"./dict-C9gNHjAh.js";import{D as u}from"./dictEnum-DeC8h6ZR.js";import{d as M,f as T,c as V,_ as D,a8 as E,a9 as O,k as P,u as n,ad as Y}from"./vue-Bw3NQgLF.js";const{renderDict:v}=B(),H=[{title:"参数名称",dataIndex:"configName"},{title:"参数KEY",dataIndex:"configKey"},{title:"参数Value",dataIndex:"configValue"},{title:"系统内置",dataIndex:"configType",width:120,customRender({value:s}){return v(s,u.YES_NO)}},{title:"备注",dataIndex:"remark",ellipsis:!0},{title:"创建时间",dataIndex:"createTime"}],J=[{label:"参数名称",field:"configName",component:"Input"},{label:"参数键名",field:"configKey",component:"Input"},{label:"系统内置",field:"configType",component:"Select",componentProps:{options:_(u.YES_NO)}},{label:"创建时间",field:"createTime",component:"RangePicker"}],F=[{field:"configId",label:"主键ID",component:"Input",show:!1},{field:"configName",label:"参数名称",required:!0,component:"Input"},{field:"configKey",label:"参数键名",component:"Input",required:!0},{field:"configValue",label:"参数键值",component:"Input",required:!0},{field:"configType",label:"系统内置",component:"RadioButtonGroup",defaultValue:"Y",componentProps:{options:_(u.YES_NO)}},{field:"remark",label:"备注",component:"InputTextArea"}],Q=M({name:"ConfigModal",__name:"ConfigModal",emits:["register","reload"],setup(s,{emit:d}){const o=d,i=T(!1),c=V(()=>i.value?"编辑参数":"新增参数"),[m,{modalLoading:a,closeModal:l}]=y(t=>p(this,null,function*(){a(!0);const{record:f,update:I}=t;if(i.value=I,I&&f){const w=yield C(f.configId);yield r(w)}a(!1)})),[e,{setFieldsValue:r,resetForm:g,validate:b}]=R({baseColProps:{span:24},labelWidth:80,name:"config_modal",showActionButtonGroup:!1,schemas:F});function h(){return p(this,null,function*(){try{a(!0);const t=yield b();n(i)?yield N(t):yield S(t),o("reload"),l(),yield g()}catch(t){console.log(t)}finally{a(!1)}})}return(t,f)=>(D(),E(n(x),Y(t.$attrs,{title:c.value,onRegister:n(m),onOk:h,onCancel:n(g)}),{default:O(()=>[P(n(k),{onRegister:n(e)},null,8,["onRegister"])]),_:1},16,["title","onRegister","onCancel"]))}});export{Q as _,H as c,J as f};
