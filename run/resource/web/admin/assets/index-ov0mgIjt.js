var de=Object.defineProperty,ge=Object.defineProperties;var me=Object.getOwnPropertyDescriptors;var J=Object.getOwnPropertySymbols;var we=Object.prototype.hasOwnProperty,he=Object.prototype.propertyIsEnumerable;var U=(r,l,s)=>l in r?de(r,l,{enumerable:!0,configurable:!0,writable:!0,value:s}):r[l]=s,D=(r,l)=>{for(var s in l||(l={}))we.call(l,s)&&U(r,s,l[s]);if(J)for(var s of J(l))he.call(l,s)&&U(r,s,l[s]);return r},_=(r,l)=>ge(r,me(l));var K=(r,l,s)=>new Promise((c,i)=>{var u=n=>{try{a(s.next(n))}catch(f){i(f)}},e=n=>{try{a(s.throw(n))}catch(f){i(f)}},a=n=>n.done?c(n.value):Promise.resolve(n.value).then(u,e);a((s=s.apply(r,l)).next())});import{k as ee,o as q,t as I,aL as ye,aD as De,d as W,S as ke,aF as te,aQ as Be,aR as oe,w as ve}from"./entry/index-CMepwc5X-1716790511191.js";import{d as z,c as w,aa as $e,_ as d,$ as P,F as Ce,af as g,a8 as O,a9 as h,G as j,a1 as F,ad as L,ac as b,a2 as k,u as o,ah as se,a0 as X,k as E,f as y,g as R,w as Y,ae as Z,y as ae,n as Pe,m as be,ab as Oe,al as Te,am as Se,r as ne,J as S,h as Fe}from"./vue-Bw3NQgLF.js";import{a$ as Le,Q as Re,aq as He,e as re,a as Ne}from"./antd-BRjMhd0C.js";const{t:x}=ee(),le={confirmLoading:{type:Boolean},showCancelBtn:{type:Boolean,default:!0},cancelButtonProps:Object,cancelText:{type:String,default:x("common.cancelText")},showOkBtn:{type:Boolean,default:!0},okButtonProps:Object,okText:{type:String,default:x("common.okText")},okType:{type:String,default:"primary"},showFooter:{type:Boolean},footerHeight:{type:[String,Number],default:60}},_e=D({isDetail:{type:Boolean},title:{type:String,default:""},loadingText:{type:String},showDetailBack:{type:Boolean,default:!0},open:{type:Boolean},loading:{type:Boolean},maskClosable:{type:Boolean,default:!0},getContainer:{type:[Object,String]},closeFunc:{type:[Function,Object],default:null},destroyOnClose:{type:Boolean}},le),Ie=z({name:"BasicDrawerFooter",__name:"DrawerFooter",props:_(D({},le),{height:{type:String,default:"60px"}}),emits:["ok","close"],setup(r,{emit:l}){const s=r,c=l,{prefixCls:i}=q("basic-drawer-footer"),u=w(()=>{const n=`${s.height}`;return{height:n,lineHeight:`calc(${n} - 1px)`}});function e(){c("ok")}function a(){c("close")}return(n,f)=>{const m=$e("a-button");return n.showFooter||n.$slots.footer?(d(),P("div",{key:0,class:k(o(i)),style:se(u.value)},[n.$slots.footer?g(n.$slots,"footer",{key:1}):(d(),P(Ce,{key:0},[g(n.$slots,"insertFooter"),n.showCancelBtn?(d(),O(m,L({key:0},n.cancelButtonProps,{onClick:a,class:"mr-2"}),{default:h(()=>[j(F(n.cancelText),1)]),_:1},16)):b("",!0),g(n.$slots,"centerFooter"),n.showOkBtn?(d(),O(m,L({key:1,type:n.okType,onClick:e},n.okButtonProps,{class:"mr-2",loading:n.confirmLoading}),{default:h(()=>[j(F(n.okText),1)]),_:1},16,["type","loading"])):b("",!0),g(n.$slots,"appendFooter")],64))],6)):b("",!0)}}}),je={key:1},Ee=z({name:"BasicDrawerHeader",__name:"DrawerHeader",props:{isDetail:I.bool,showDetailBack:I.bool,title:I.string},emits:["close"],setup(r,{emit:l}){const s=l,{prefixCls:c}=q("basic-drawer-header");function i(){s("close")}return(u,e)=>r.isDetail?(d(),P("div",{key:1,class:k([o(c),`${o(c)}--detail`])},[X("span",{class:k(`${o(c)}__twrap`)},[r.showDetailBack?(d(),P("span",{key:0,onClick:i},[E(o(Le),{class:k(`${o(c)}__back`)},null,8,["class"])])):b("",!0),r.title?(d(),P("span",je,F(r.title),1)):b("",!0)],2),X("span",{class:k(`${o(c)}__toolbar`)},[g(u.$slots,"titleToolbar")],2)],2)):(d(),O(o(ye),{key:0,class:k(o(c))},{default:h(()=>[g(u.$slots,"title"),j(" "+F(u.$slots.title?"":r.title),1)]),_:3},8,["class"]))}}),Ve=z({inheritAttrs:!1,__name:"BasicDrawer",props:_e,emits:["open-change","ok","close","register"],setup(r,{emit:l}){const s=r,c=l,i=y(!1),u=De(),e=y({}),{t:a}=ee(),{prefixVar:n,prefixCls:f}=q("basic-drawer"),m={setDrawerProps:pe,emitOpen:void 0},T=R();T&&c("register",m,T.uid);const A=w(()=>W(s,o(e))),v=w(()=>{const t=_(D(D({placement:"right"},o(u)),o(A)),{open:o(i)});t.title=void 0;const{isDetail:p,width:$,wrapClassName:C,getContainer:N}=t;if(p){$||(t.width="100%");const G=`${f}__detail`;t.rootClassName=C?`${C} ${G}`:G,N||(t.getContainer=`.${n}-layout-content`)}return t}),ie=w(()=>D(D({},u),o(v))),M=w(()=>{const{footerHeight:t,showFooter:p}=o(v);return p&&t?Re(t)?`${t}px`:`${t.replace("px","")}px`:"0px"}),ce=w(()=>({position:"relative",height:`calc(100% - ${o(M)})`})),ue=w(()=>{var t;return!!((t=o(v))!=null&&t.loading)});Y(()=>s.open,(t,p)=>{t!==p&&(i.value=t)},{deep:!0});const Q=y();Y(()=>i.value,t=>{ae(()=>{var p;c("open-change",t),T&&m.emitOpen&&m.emitOpen(t,T.uid),t&&((p=Q.value)==null||p.scrollTo(0))})});function H(t){return K(this,null,function*(){const{closeFunc:p}=o(v);if(c("close",t),p&&re(p)){const $=yield p();i.value=!$;return}i.value=!1})}function pe(t){e.value=W(o(e),t),Reflect.has(t,"open")&&(i.value=!!t.open)}function fe(){c("ok")}return(t,p)=>{const $=Pe("loading");return d(),O(o(He),L(ie.value,{class:o(f),onClose:H}),Z({default:h(()=>[be((d(),O(o(ke),{ref_key:"scrollRef",ref:Q,style:se(ce.value),"loading-tip":t.loadingText||o(a)("common.loadingText")},{default:h(()=>[g(t.$slots,"default")]),_:3},8,["style","loading-tip"])),[[$,ue.value]]),E(Ie,L(v.value,{onClose:H,onOk:fe,height:M.value}),Z({_:2},[Oe(Object.keys(t.$slots),C=>({name:C,fn:h(N=>[g(t.$slots,C,Te(Se(N||{})))])}))]),1040,["height"])]),_:2},[t.$slots.title?{name:"title",fn:h(()=>[g(t.$slots,"title")]),key:"1"}:{name:"title",fn:h(()=>[E(Ee,{title:A.value.title,isDetail:t.isDetail,showDetailBack:t.showDetailBack,onClose:H},{titleToolbar:h(()=>[g(t.$slots,"titleToolbar")]),_:3},8,["title","isDetail","showDetailBack"])]),key:"0"}]),1040,["class"])}}}),B=ne({}),V=ne({});function Qe(){if(!R())throw new Error("useDrawer() can only be used inside setup() or functional components!");const r=y(null),l=y(!1),s=y(0);function c(e,a){te(()=>{r.value=null,l.value=null,B[o(s)]=null}),!(o(l)&&Be()&&e===o(r))&&(s.value=a,r.value=e,l.value=!0,e.emitOpen=(n,f)=>{V[f]=n})}const i=()=>{const e=o(r);return e||oe("useDrawer instance is undefined!"),e},u={setDrawerProps:e=>{var a;(a=i())==null||a.setDrawerProps(e)},getOpen:w(()=>V[~~o(s)]),openDrawer:(e=!0,a,n=!0)=>{var m;if((m=i())==null||m.setDrawerProps({open:e}),!a)return;if(n){B[o(s)]=null,B[o(s)]=S(a);return}Ne(S(B[o(s)]),S(a))||(B[o(s)]=S(a))},closeDrawer:()=>{var e;(e=i())==null||e.setDrawerProps({open:!1})}};return[c,u]}const Ge=r=>{const l=y(null),s=R(),c=y(0);if(!R())throw new Error("useDrawerInner() can only be used inside setup() or functional components!");const i=()=>{const e=o(l);if(!e){oe("useDrawerInner instance is undefined!");return}return e},u=(e,a)=>{te(()=>{l.value=null}),c.value=a,l.value=e,s==null||s.emit("register",e,a)};return Fe(()=>{const e=B[o(c)];e&&(!r||!re(r)||ae(()=>{r(e)}))}),[u,{changeLoading:(e=!0)=>{var a;(a=i())==null||a.setDrawerProps({loading:e})},changeOkLoading:(e=!0)=>{var a;(a=i())==null||a.setDrawerProps({confirmLoading:e})},drawerLoading:(e=!0)=>{var a;(a=i())==null||a.setDrawerProps({loading:e,confirmLoading:e})},getOpen:w(()=>V[~~o(c)]),closeDrawer:()=>{var e;(e=i())==null||e.setDrawerProps({open:!1})},setDrawerProps:e=>{var a;(a=i())==null||a.setDrawerProps(e)}}]},Je=ve(Ve);export{Je as B,Ge as a,Qe as u};
