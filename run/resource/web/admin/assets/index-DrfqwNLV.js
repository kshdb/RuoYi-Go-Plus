var ee=Object.defineProperty,te=Object.defineProperties;var oe=Object.getOwnPropertyDescriptors;var V=Object.getOwnPropertySymbols;var ne=Object.prototype.hasOwnProperty,ae=Object.prototype.propertyIsEnumerable;var D=(s,e,o)=>e in s?ee(s,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):s[e]=o,E=(s,e)=>{for(var o in e||(e={}))ne.call(e,o)&&D(s,o,e[o]);if(V)for(var o of V(e))ae.call(e,o)&&D(s,o,e[o]);return s},M=(s,e)=>te(s,oe(e));var K=(s,e,o)=>new Promise((i,p)=>{var S=l=>{try{h(o.next(l))}catch(v){p(v)}},F=l=>{try{h(o.throw(l))}catch(v){p(v)}},h=l=>l.done?i(l.value):Promise.resolve(l.value).then(S,F);h((o=o.apply(s,e)).next())});import{o as O,r as se,j as re,a$ as ie,t as d,b0 as ce,w as U}from"./entry/index-CMepwc5X-1716790511191.js";import{d as X,_ as T,$ as z,a0 as A,af as b,a2 as x,u,ah as Z,f as _,y as j,w as q,H as le,K as ue,ai as fe,p as ge,c as H,a8 as Q,ae as de,ab as he,a9 as W,al as pe,am as me,F as He,G as ye,a1 as be,ad as Fe,ac as G}from"./vue-Bw3NQgLF.js";import{a as J}from"./useContentViewHeight-xBSq9xFC.js";import{l as ve,Q as $e,o as L,aQ as ke}from"./antd-BRjMhd0C.js";import{o as Ce}from"./onMountedOrActivated-B2y-oH2N.js";import{u as Se}from"./useWindowSizeFn-Ba6K9eqp.js";const Re=X({name:"PageFooter",inheritAttrs:!1,__name:"PageFooter",setup(s){const{prefixCls:e}=O("page-footer"),{getCalcContentWidth:o}=se();return(i,p)=>(T(),z("div",{class:x(u(e)),style:Z({width:u(o)})},[A("div",{class:x(`${u(e)}__left`)},[b(i.$slots,"left",{},void 0,!0)],2),b(i.$slots,"default",{},void 0,!0),A("div",{class:x(`${u(e)}__right`)},[b(i.$slots,"right",{},void 0,!0)],2)],6))}}),Y=re(Re,[["__scopeId","data-v-dafa78ce"]]);function we(s,e,o,i,p=0,S=_(0)){const F=_(null),{footerHeightRef:h}=J();let l={useLayoutFooter:!0};const v=c=>{l=c};function N(){j(()=>{w()})}function $(c,P="all"){var m,k,C,n;function y(t){return Number(t.replace(/[^\d]/g,""))}let f=0;const g="0px";if(c){const t=getComputedStyle(c),r=y((m=t==null?void 0:t.marginTop)!=null?m:g),a=y((k=t==null?void 0:t.marginBottom)!=null?k:g),B=y((C=t==null?void 0:t.paddingTop)!=null?C:g),I=y((n=t==null?void 0:t.paddingBottom)!=null?n:g);P==="all"?(f+=r,f+=a,f+=B,f+=I):P==="top"?(f+=r,f+=B):(f+=a,f+=I)}return f}function R(c){return c==null?null:c instanceof HTMLDivElement?c:c.$el}function w(){return K(this,null,function*(){var n;if(!s.value)return;yield j();const c=R(u(e));if(!c)return;const{bottomIncludeBody:P}=ie(c);let y=0;o.forEach(t=>{var r,a;y+=(a=(r=R(u(t)))==null?void 0:r.offsetHeight)!=null?a:0});let f=(n=$(c))!=null?n:0;i.forEach(t=>{f+=$(R(u(t)))});let g=0;function m(t,r){if(t&&r){const a=t.parentElement;a&&(ve(r)?a.classList.contains(r)?g+=$(a,"bottom"):(g+=$(a,"bottom"),m(a,r)):$e(r)&&r>0&&(g+=$(a,"bottom"),m(a,--r)))}}le(p)?m(c,u(p)):m(c,p);let k=P-u(h)-u(S)-y-f-g;const C=()=>{var t;(t=l.elements)==null||t.forEach(r=>{var a,B;k+=(B=(a=R(u(r)))==null?void 0:a.offsetHeight)!=null?B:0})};l.useLayoutFooter&&u(h)>0,C(),F.value=k})}return Ce(()=>{j(()=>{w()})}),Se(()=>{w()},{wait:50,immediate:!0}),q(()=>[h.value],()=>{w()},{flush:"post",immediate:!0}),{redoHeight:N,setCompensation:v,contentHeight:F}}const Pe=X({name:"PageWrapper",inheritAttrs:!1,__name:"PageWrapper",props:{title:d.string,dense:d.bool,ghost:d.bool,headerSticky:d.bool,headerStyle:Object,content:d.string,contentStyle:{type:Object},contentBackground:d.bool,contentFullHeight:d.bool.def(!1),contentClass:d.string,fixedHeight:d.bool,upwardSpace:d.oneOfType([d.number,d.string]).def(0)},setup(s){const e=s,o=ue(),i=fe(),p=_(null),S=_(null),F=_(null),h=_(null),{prefixCls:l}=O("page-wrapper");ge(ce,H(()=>e.fixedHeight));const v=H(()=>e.contentFullHeight),N=H(()=>e.upwardSpace),{redoHeight:$,setCompensation:R,contentHeight:w}=we(v,p,[S,h],[F],N);R({useLayoutFooter:!0,elements:[h]});const c=H(()=>{var n;return[l,{[`${l}--dense`]:e.dense},(n=o.class)!=null?n:{}]}),{headerHeightRef:P}=J(),y=H(()=>{const{headerSticky:n}=e;return n?E({position:"sticky",top:`${u(P)}px`},e.headerStyle):{}}),f=H(()=>e.content||(i==null?void 0:i.headerContent)||e.title||m.value.length),g=H(()=>(i==null?void 0:i.leftFooter)||(i==null?void 0:i.rightFooter)),m=H(()=>Object.keys(L(i,"default","leftFooter","rightFooter","headerContent"))),k=H(()=>{const{contentFullHeight:n,contentStyle:t,fixedHeight:r}=e;if(!n)return E({},t);const a=`${u(w)}px`;return E(M(E({},t),{minHeight:a}),r?{height:a}:{})}),C=H(()=>{const{contentBackground:n,contentClass:t}=e;return[`${l}-content`,t,{[`${l}-content-bg`]:n}]});return q(()=>[g.value],()=>{$()},{flush:"post",immediate:!0}),(n,t)=>(T(),z("div",{class:x(c.value),ref_key:"wrapperRef",ref:p},[f.value?(T(),Q(u(ke),Fe({key:0,ghost:s.ghost,title:s.title},u(L)(n.$attrs,"class"),{style:y.value,ref_key:"headerRef",ref:S}),de({default:W(()=>[s.content?(T(),z(He,{key:0},[ye(be(s.content),1)],64)):b(n.$slots,"headerContent",{key:1})]),_:2},[he(m.value,r=>({name:r,fn:W(a=>[b(n.$slots,r,pe(me(a||{})))])}))]),1040,["ghost","title","style"])):G("",!0),A("div",{class:x(["overflow-hidden",C.value]),style:Z(k.value),ref_key:"contentRef",ref:F},[b(n.$slots,"default")],6),g.value?(T(),Q(Y,{key:1,ref_key:"footerRef",ref:h},{left:W(()=>[b(n.$slots,"leftFooter")]),right:W(()=>[b(n.$slots,"rightFooter")]),_:3},512)):G("",!0)],2))}});U(Y);const je=U(Pe);export{je as P};
